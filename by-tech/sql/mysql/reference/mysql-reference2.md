t be displayed using
          *note 'BINLOG': binlog.

        * 'DECODE-ROWS' specifies to *note 'mysqlbinlog': mysqlbinlog.
          that you intend for row events to be decoded and displayed as
          commented SQL statements by also specifying the '--verbose'
          option.  Like 'NEVER', 'DECODE-ROWS' suppresses display of
          *note 'BINLOG': binlog. statements, but unlike 'NEVER', it
          does not exit with an error if a row event is found.

     For examples that show the effect of '--base64-output' and
     '--verbose' on row event output, see *note
     mysqlbinlog-row-events::.

   * 
     '--bind-address=IP_ADDRESS'

     On a computer having multiple network interfaces, use this option
     to select which interface to use for connecting to the MySQL
     server.

   * 
     '--character-sets-dir=DIR_NAME'

     The directory where character sets are installed.  See *note
     charset-configuration::.

   * 
     '--database=DB_NAME', '-d DB_NAME'

     This option causes *note 'mysqlbinlog': mysqlbinlog. to output
     entries from the binary log (local log only) that occur while
     DB_NAME is been selected as the default database by *note 'USE':
     use.

     The '--database' option for *note 'mysqlbinlog': mysqlbinlog. is
     similar to the '--binlog-do-db' option for *note 'mysqld': mysqld,
     but can be used to specify only one database.  If '--database' is
     given multiple times, only the last instance is used.

     The effects of this option depend on whether the statement-based or
     row-based logging format is in use, in the same way that the
     effects of '--binlog-do-db' depend on whether statement-based or
     row-based logging is in use.

     Statement-based logging

     The '--database' option works as follows:

        * While DB_NAME is the default database, statements are output
          whether they modify tables in DB_NAME or a different database.

        * Unless DB_NAME is selected as the default database, statements
          are not output, even if they modify tables in DB_NAME.

        * There is an exception for *note 'CREATE DATABASE':
          create-database, *note 'ALTER DATABASE': alter-database, and
          *note 'DROP DATABASE': drop-database.  The database being
          _created, altered, or dropped_ is considered to be the default
          database when determining whether to output the statement.

     Suppose that the binary log was created by executing these
     statements using statement-based-logging:

          INSERT INTO test.t1 (i) VALUES(100);
          INSERT INTO db2.t2 (j)  VALUES(200);
          USE test;
          INSERT INTO test.t1 (i) VALUES(101);
          INSERT INTO t1 (i)      VALUES(102);
          INSERT INTO db2.t2 (j)  VALUES(201);
          USE db2;
          INSERT INTO test.t1 (i) VALUES(103);
          INSERT INTO db2.t2 (j)  VALUES(202);
          INSERT INTO t2 (j)      VALUES(203);

     *note 'mysqlbinlog --database=test': mysqlbinlog. does not output
     the first two *note 'INSERT': insert. statements because there is
     no default database.  It outputs the three *note 'INSERT': insert.
     statements following *note 'USE test': use, but not the three *note
     'INSERT': insert. statements following *note 'USE db2': use.

     *note 'mysqlbinlog --database=db2': mysqlbinlog. does not output
     the first two *note 'INSERT': insert. statements because there is
     no default database.  It does not output the three *note 'INSERT':
     insert. statements following *note 'USE test': use, but does output
     the three *note 'INSERT': insert. statements following *note 'USE
     db2': use.

     Row-based logging

     *note 'mysqlbinlog': mysqlbinlog. outputs only entries that change
     tables belonging to DB_NAME.  The default database has no effect on
     this.  Suppose that the binary log just described was created using
     row-based logging rather than statement-based logging.  *note
     'mysqlbinlog --database=test': mysqlbinlog. outputs only those
     entries that modify 't1' in the test database, regardless of
     whether *note 'USE': use. was issued or what the default database
     is.

     If a server is running with 'binlog_format' set to 'MIXED' and you
     want it to be possible to use *note 'mysqlbinlog': mysqlbinlog.
     with the '--database' option, you must ensure that tables that are
     modified are in the database selected by *note 'USE': use.  (In
     particular, no cross-database updates should be used.)

     *Note*:

     Prior to MySQL NDB Cluster 7.2.2, this option did not work
     correctly with NDB Cluster tables unless, unless the binary log was
     generated using '--log-bin-use-v1-row-events=0'.  (Bug #13067813)

   * 
     '--debug[=DEBUG_OPTIONS]', '-# [DEBUG_OPTIONS]'

     Write a debugging log.  A typical DEBUG_OPTIONS string is
     'd:t:o,FILE_NAME'.  The default is 'd:t:o,/tmp/mysqlbinlog.trace'.

   * 
     '--debug-check'

     Print some debugging information when the program exits.

   * 
     '--debug-info'

     Print debugging information and memory and CPU usage statistics
     when the program exits.

   * 
     '--default-auth=PLUGIN'

     A hint about which client-side authentication plugin to use.  See
     *note pluggable-authentication::.

     This option was added in MySQL 5.5.10.

   * 
     '--defaults-extra-file=FILE_NAME'

     Read this option file after the global option file but (on Unix)
     before the user option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--defaults-file=FILE_NAME'

     Use only the given option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--defaults-group-suffix=STR'

     Read not only the usual option groups, but also groups with the
     usual names and a suffix of STR.  For example, *note 'mysqlbinlog':
     mysqlbinlog. normally reads the '[client]' and '[mysqlbinlog]'
     groups.  If the '--defaults-group-suffix=_other' option is given,
     *note 'mysqlbinlog': mysqlbinlog. also reads the '[client_other]'
     and '[mysqlbinlog_other]' groups.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--disable-log-bin', '-D'

     Disable binary logging.  This is useful for avoiding an endless
     loop if you use the '--to-last-log' option and are sending the
     output to the same MySQL server.  This option also is useful when
     restoring after a crash to avoid duplication of the statements you
     have logged.

     This option causes *note 'mysqlbinlog': mysqlbinlog. to include a
     *note 'SET sql_log_bin = 0': set-sql-log-bin. statement in its
     output to disable binary logging of the remaining output.
     Manipulating the session value of the 'sql_log_bin' system variable
     is a restricted operation, so this option requires that you have
     privileges sufficient to set restricted session variables.  See
     *note system-variable-privileges::.

   * 
     '--force-if-open', '-F'

     Read binary log files even if they are open or were not closed
     properly.

   * 
     '--force-read', '-f'

     With this option, if *note 'mysqlbinlog': mysqlbinlog. reads a
     binary log event that it does not recognize, it prints a warning,
     ignores the event, and continues.  Without this option, *note
     'mysqlbinlog': mysqlbinlog. stops if it reads such an event.

   * 
     '--hexdump', '-H'

     Display a hex dump of the log in comments, as described in *note
     mysqlbinlog-hexdump::.  The hex output can be helpful for
     replication debugging.

   * 
     '--host=HOST_NAME', '-h HOST_NAME'

     Get the binary log from the MySQL server on the given host.

   * 
     '--local-load=DIR_NAME', '-l DIR_NAME'

     Prepare local temporary files for *note 'LOAD DATA': load-data. in
     the specified directory.

     *Important*:

     These temporary files are not automatically removed by *note
     'mysqlbinlog': mysqlbinlog. or any other MySQL program.

   * 
     '--no-defaults'

     Do not read any option files.  If program startup fails due to
     reading unknown options from an option file, '--no-defaults' can be
     used to prevent them from being read.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--offset=N', '-o N'

     Skip the first N entries in the log.

   * '--open-files-limit=N'

     Specify the number of open file descriptors to reserve.

   * 
     '--password[=PASSWORD]', '-p[PASSWORD]'

     The password of the MySQL account used for connecting to the
     server.  The password value is optional.  If not given, *note
     'mysqlbinlog': mysqlbinlog. prompts for one.  If given, there must
     be _no space_ between '--password=' or '-p' and the password
     following it.  If no password option is specified, the default is
     to send no password.

     Specifying a password on the command line should be considered
     insecure.  To avoid giving the password on the command line, use an
     option file.  See *note password-security-user::.

     To explicitly specify that there is no password and that *note
     'mysqlbinlog': mysqlbinlog. should not prompt for one, use the
     '--skip-password' option.

   * 
     '--plugin-dir=DIR_NAME'

     The directory in which to look for plugins.  Specify this option if
     the '--default-auth' option is used to specify an authentication
     plugin but *note 'mysqlbinlog': mysqlbinlog. does not find it.  See
     *note pluggable-authentication::.

     This option was added in MySQL 5.5.10.

   * 
     '--port=PORT_NUM', '-P PORT_NUM'

     The TCP/IP port number to use for connecting to a remote server.

   * 
     '--position=N'

     Deprecated.  Use '--start-position' instead.  '--position' was
     removed in MySQL 5.5.3.

   * 
     '--print-defaults'

     Print the program name and all options that it gets from option
     files.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--protocol={TCP|SOCKET|PIPE|MEMORY}'

     The connection protocol to use for connecting to the server.  It is
     useful when the other connection parameters normally result in use
     of a protocol other than the one you want.  For details on the
     permissible values, see *note connecting::.

   * 
     '--read-from-remote-server', '-R'

     Read the binary log from a MySQL server rather than reading a local
     log file.  Any connection parameter options are ignored unless this
     option is given as well.  These options are '--host', '--password',
     '--port', '--protocol', '--socket', and '--user'.

     This option requires that the remote server be running.  It works
     only for binary log files on the remote server, not relay log
     files.

   * 
     '--result-file=NAME', '-r NAME'

     Direct output to the given file.

   * 
     '--server-id=ID'

     Display only those events created by the server having the given
     server ID.

   * 
     '--server-id-bits=N'

     Use only the first N bits of the 'server_id' to identify the
     server.  If the binary log was written by a *note 'mysqld': mysqld.
     with server-id-bits set to less than 32 and user data stored in the
     most significant bit, running *note 'mysqlbinlog': mysqlbinlog.
     with '--server-id-bits' set to 32 enables this data to be seen.

     This option is supported only by the versions of *note
     'mysqlbinlog': mysqlbinlog. supplied with the NDB Cluster
     distribution, or built from the NDB Cluster sources.

   * 
     '--set-charset=CHARSET_NAME'

     Add a *note 'SET NAMES CHARSET_NAME': set-names. statement to the
     output to specify the character set to be used for processing log
     files.

   * 
     '--shared-memory-base-name=NAME'

     On Windows, the shared-memory name to use for connections made
     using shared memory to a local server.  The default value is
     'MYSQL'.  The shared-memory name is case-sensitive.

     This option applies only if the server was started with the
     'shared_memory' system variable enabled to support shared-memory
     connections.

   * 
     '--short-form', '-s'

     Display only the statements contained in the log, without any extra
     information or row-based events.  This is for testing only, and
     should not be used in production systems.

   * 
     '--socket=PATH', '-S PATH'

     For connections to 'localhost', the Unix socket file to use, or, on
     Windows, the name of the named pipe to use.

     On Windows, this option applies only if the server was started with
     the 'named_pipe' system variable enabled to support named-pipe
     connections.

   * 
     '--ssl*'

     Options that begin with '--ssl' specify whether to connect to the
     server using SSL and indicate where to find SSL keys and
     certificates.  See *note encrypted-connection-options::.

   * 
     '--start-datetime=DATETIME'

     Start reading the binary log at the first event having a timestamp
     equal to or later than the DATETIME argument.  The DATETIME value
     is relative to the local time zone on the machine where you run
     *note 'mysqlbinlog': mysqlbinlog.  The value should be in a format
     accepted for the *note 'DATETIME': datetime. or *note 'TIMESTAMP':
     datetime. data types.  For example:

          shell> mysqlbinlog --start-datetime="2005-12-25 11:25:56" binlog.000003

     This option is useful for point-in-time recovery.  See *note
     backup-strategy-example::.

   * 
     '--start-position=N', '-j N'

     Start reading the binary log at the first event having a position
     equal to or greater than N.  This option applies to the first log
     file named on the command line.

     This option is useful for point-in-time recovery.  See *note
     backup-strategy-example::.

   * 
     '--stop-datetime=DATETIME'

     Stop reading the binary log at the first event having a timestamp
     equal to or later than the DATETIME argument.  This option is
     useful for point-in-time recovery.  See the description of the
     '--start-datetime' option for information about the DATETIME value.

     This option is useful for point-in-time recovery.  See *note
     backup-strategy-example::.

   * 
     '--stop-position=N'

     Stop reading the binary log at the first event having a position
     equal to or greater than N.  This option applies to the last log
     file named on the command line.

     This option is useful for point-in-time recovery.  See *note
     backup-strategy-example::.

   * 
     '--to-last-log', '-t'

     Do not stop at the end of the requested binary log from a MySQL
     server, but rather continue printing until the end of the last
     binary log.  If you send the output to the same MySQL server, this
     may lead to an endless loop.  This option requires
     '--read-from-remote-server'.

   * 
     '--user=USER_NAME', '-u USER_NAME'

     The user name of the MySQL account to use when connecting to a
     remote server.

   * 
     '--verbose', '-v'

     Reconstruct row events and display them as commented SQL
     statements.  If this option is given twice, the output includes
     comments to indicate column data types and some metadata.

     For examples that show the effect of '--base64-output' and
     '--verbose' on row event output, see *note
     mysqlbinlog-row-events::.

   * 
     '--version', '-V'

     Display version information and exit.

     In MySQL 5.5, the version number shown for *note 'mysqlbinlog':
     mysqlbinlog. is always 3.3.

You can pipe the output of *note 'mysqlbinlog': mysqlbinlog. into the
*note 'mysql': mysql. client to execute the events contained in the
binary log.  This technique is used to recover from a crash when you
have an old backup (see *note point-in-time-recovery::).  For example:

     shell> mysqlbinlog binlog.000001 | mysql -u root -p

Or:

     shell> mysqlbinlog binlog.[0-9]* | mysql -u root -p

You can also redirect the output of *note 'mysqlbinlog': mysqlbinlog. to
a text file instead, if you need to modify the statement log first (for
example, to remove statements that you do not want to execute for some
reason).  After editing the file, execute the statements that it
contains by using it as input to the *note 'mysql': mysql. program:

     shell> mysqlbinlog binlog.000001 > tmpfile
     shell> ... EDIT TMPFILE ...
     shell> mysql -u root -p < tmpfile

When *note 'mysqlbinlog': mysqlbinlog. is invoked with the
'--start-position' option, it displays only those events with an offset
in the binary log greater than or equal to a given position (the given
position must match the start of one event).  It also has options to
stop and start when it sees an event with a given date and time.  This
enables you to perform point-in-time recovery using the
'--stop-datetime' option (to be able to say, for example, 'roll forward
my databases to how they were today at 10:30 a.m.').

If you have more than one binary log to execute on the MySQL server, the
safe method is to process them all using a single connection to the
server.  Here is an example that demonstrates what may be _unsafe_:

     shell> mysqlbinlog binlog.000001 | mysql -u root -p # DANGER!!
     shell> mysqlbinlog binlog.000002 | mysql -u root -p # DANGER!!

Processing binary logs this way using multiple connections to the server
causes problems if the first log file contains a *note 'CREATE TEMPORARY
TABLE': create-table. statement and the second log contains a statement
that uses the temporary table.  When the first *note 'mysql': mysql.
process terminates, the server drops the temporary table.  When the
second *note 'mysql': mysql. process attempts to use the table, the
server reports 'unknown table.'

To avoid problems like this, use a _single_ *note 'mysql': mysql.
process to execute the contents of all binary logs that you want to
process.  Here is one way to do so:

     shell> mysqlbinlog binlog.000001 binlog.000002 | mysql -u root -p

Another approach is to write all the logs to a single file and then
process the file:

     shell> mysqlbinlog binlog.000001 >  /tmp/statements.sql
     shell> mysqlbinlog binlog.000002 >> /tmp/statements.sql
     shell> mysql -u root -p -e "source /tmp/statements.sql"

*note 'mysqlbinlog': mysqlbinlog. can produce output that reproduces a
*note 'LOAD DATA': load-data. operation without the original data file.
*note 'mysqlbinlog': mysqlbinlog. copies the data to a temporary file
and writes a *note 'LOAD DATA LOCAL': load-data. statement that refers
to the file.  The default location of the directory where these files
are written is system-specific.  To specify a directory explicitly, use
the '--local-load' option.

Because *note 'mysqlbinlog': mysqlbinlog. converts *note 'LOAD DATA':
load-data. statements to *note 'LOAD DATA LOCAL': load-data. statements
(that is, it adds 'LOCAL'), both the client and the server that you use
to process the statements must be configured with the 'LOCAL' capability
enabled.  See *note load-data-local::.

*Warning*:

The temporary files created for *note 'LOAD DATA LOCAL': load-data.
statements are _not_ automatically deleted because they are needed until
you actually execute those statements.  You should delete the temporary
files yourself after you no longer need the statement log.  The files
can be found in the temporary file directory and have names like
ORIGINAL_FILE_NAME-#-#.


File: manual.info.tmp,  Node: mysqlbinlog-hexdump,  Next: mysqlbinlog-row-events,  Prev: mysqlbinlog,  Up: mysqlbinlog

4.6.7.1 mysqlbinlog Hex Dump Format
...................................

The '--hexdump' option causes *note 'mysqlbinlog': mysqlbinlog. to
produce a hex dump of the binary log contents:

     shell> mysqlbinlog --hexdump master-bin.000001

The hex output consists of comment lines beginning with '#', so the
output might look like this for the preceding command:

     /*!40019 SET @@SESSION.max_insert_delayed_threads=0*/;
     /*!50003 SET @OLD_COMPLETION_TYPE=@@COMPLETION_TYPE,COMPLETION_TYPE=0*/;
     # at 4
     #051024 17:24:13 server id 1  end_log_pos 98
     # Position  Timestamp   Type   Master ID        Size      Master Pos    Flags
     # 00000004 9d fc 5c 43   0f   01 00 00 00   5e 00 00 00   62 00 00 00   00 00
     # 00000017 04 00 35 2e 30 2e 31 35  2d 64 65 62 75 67 2d 6c |..5.0.15.debug.l|
     # 00000027 6f 67 00 00 00 00 00 00  00 00 00 00 00 00 00 00 |og..............|
     # 00000037 00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 |................|
     # 00000047 00 00 00 00 9d fc 5c 43  13 38 0d 00 08 00 12 00 |.......C.8......|
     # 00000057 04 04 04 04 12 00 00 4b  00 04 1a                |.......K...|
     #       Start: binlog v 4, server v 5.0.15-debug-log created 051024 17:24:13
     #       at startup
     ROLLBACK;

Hex dump output currently contains the elements in the following list.
This format is subject to change.  For more information about binary log
format, see MySQL Internals: The Binary Log
(https://dev.mysql.com/doc/internals/en/binary-log.html).

   * 'Position': The byte position within the log file.

   * 'Timestamp': The event timestamp.  In the example shown, ''9d fc 5c
     43'' is the representation of ''051024 17:24:13'' in hexadecimal.

   * 'Type': The event type code.

   * 'Master ID': The server ID of the master that created the event.

   * 'Size': The size in bytes of the event.

   * 'Master Pos': The position of the next event in the original master
     log file.

   * 'Flags': Event flag values.


File: manual.info.tmp,  Node: mysqlbinlog-row-events,  Prev: mysqlbinlog-hexdump,  Up: mysqlbinlog

4.6.7.2 mysqlbinlog Row Event Display
.....................................

The following examples illustrate how *note 'mysqlbinlog': mysqlbinlog.
displays row events that specify data modifications.  These correspond
to events with the 'WRITE_ROWS_EVENT', 'UPDATE_ROWS_EVENT', and
'DELETE_ROWS_EVENT' type codes.  The '--base64-output=DECODE-ROWS' and
'--verbose' options may be used to affect row event output.

Suppose that the server is using row-based binary logging and that you
execute the following sequence of statements:

     CREATE TABLE t
     (
       id   INT NOT NULL,
       name VARCHAR(20) NOT NULL,
       date DATE NULL
     ) ENGINE = InnoDB;

     START TRANSACTION;
     INSERT INTO t VALUES(1, 'apple', NULL);
     UPDATE t SET name = 'pear', date = '2009-01-01' WHERE id = 1;
     DELETE FROM t WHERE id = 1;
     COMMIT;

By default, *note 'mysqlbinlog': mysqlbinlog. displays row events
encoded as base-64 strings using *note 'BINLOG': binlog. statements.
Omitting extraneous lines, the output for the row events produced by the
preceding statement sequence looks like this:

     shell> mysqlbinlog LOG_FILE
     ...
     # at 218
     #080828 15:03:08 server id 1  end_log_pos 258   Write_rows: table id 17 flags: STMT_END_F

     BINLOG '
     fAS3SBMBAAAALAAAANoAAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
     fAS3SBcBAAAAKAAAAAIBAAAQABEAAAAAAAEAA//8AQAAAAVhcHBsZQ==
     '/*!*/;
     ...
     # at 302
     #080828 15:03:08 server id 1  end_log_pos 356   Update_rows: table id 17 flags: STMT_END_F

     BINLOG '
     fAS3SBMBAAAALAAAAC4BAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
     fAS3SBgBAAAANgAAAGQBAAAQABEAAAAAAAEAA////AEAAAAFYXBwbGX4AQAAAARwZWFyIbIP
     '/*!*/;
     ...
     # at 400
     #080828 15:03:08 server id 1  end_log_pos 442   Delete_rows: table id 17 flags: STMT_END_F

     BINLOG '
     fAS3SBMBAAAALAAAAJABAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
     fAS3SBkBAAAAKgAAALoBAAAQABEAAAAAAAEAA//4AQAAAARwZWFyIbIP
     '/*!*/;

To see the row events as comments in the form of 'pseudo-SQL'
statements, run *note 'mysqlbinlog': mysqlbinlog. with the '--verbose'
or '-v' option.  The output will contain lines beginning with '###':

     shell> mysqlbinlog -v LOG_FILE
     ...
     # at 218
     #080828 15:03:08 server id 1  end_log_pos 258   Write_rows: table id 17 flags: STMT_END_F

     BINLOG '
     fAS3SBMBAAAALAAAANoAAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
     fAS3SBcBAAAAKAAAAAIBAAAQABEAAAAAAAEAA//8AQAAAAVhcHBsZQ==
     '/*!*/;
     ### INSERT INTO test.t
     ### SET
     ###   @1=1
     ###   @2='apple'
     ###   @3=NULL
     ...
     # at 302
     #080828 15:03:08 server id 1  end_log_pos 356   Update_rows: table id 17 flags: STMT_END_F

     BINLOG '
     fAS3SBMBAAAALAAAAC4BAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
     fAS3SBgBAAAANgAAAGQBAAAQABEAAAAAAAEAA////AEAAAAFYXBwbGX4AQAAAARwZWFyIbIP
     '/*!*/;
     ### UPDATE test.t
     ### WHERE
     ###   @1=1
     ###   @2='apple'
     ###   @3=NULL
     ### SET
     ###   @1=1
     ###   @2='pear'
     ###   @3='2009:01:01'
     ...
     # at 400
     #080828 15:03:08 server id 1  end_log_pos 442   Delete_rows: table id 17 flags: STMT_END_F

     BINLOG '
     fAS3SBMBAAAALAAAAJABAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
     fAS3SBkBAAAAKgAAALoBAAAQABEAAAAAAAEAA//4AQAAAARwZWFyIbIP
     '/*!*/;
     ### DELETE FROM test.t
     ### WHERE
     ###   @1=1
     ###   @2='pear'
     ###   @3='2009:01:01'

Specify '--verbose' or '-v' twice to also display data types and some
metadata for each column.  The output will contain an additional comment
following each column change:

     shell> mysqlbinlog -vv LOG_FILE
     ...
     # at 218
     #080828 15:03:08 server id 1  end_log_pos 258   Write_rows: table id 17 flags: STMT_END_F

     BINLOG '
     fAS3SBMBAAAALAAAANoAAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
     fAS3SBcBAAAAKAAAAAIBAAAQABEAAAAAAAEAA//8AQAAAAVhcHBsZQ==
     '/*!*/;
     ### INSERT INTO test.t
     ### SET
     ###   @1=1 /* INT meta=0 nullable=0 is_null=0 */
     ###   @2='apple' /* VARSTRING(20) meta=20 nullable=0 is_null=0 */
     ###   @3=NULL /* VARSTRING(20) meta=0 nullable=1 is_null=1 */
     ...
     # at 302
     #080828 15:03:08 server id 1  end_log_pos 356   Update_rows: table id 17 flags: STMT_END_F

     BINLOG '
     fAS3SBMBAAAALAAAAC4BAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
     fAS3SBgBAAAANgAAAGQBAAAQABEAAAAAAAEAA////AEAAAAFYXBwbGX4AQAAAARwZWFyIbIP
     '/*!*/;
     ### UPDATE test.t
     ### WHERE
     ###   @1=1 /* INT meta=0 nullable=0 is_null=0 */
     ###   @2='apple' /* VARSTRING(20) meta=20 nullable=0 is_null=0 */
     ###   @3=NULL /* VARSTRING(20) meta=0 nullable=1 is_null=1 */
     ### SET
     ###   @1=1 /* INT meta=0 nullable=0 is_null=0 */
     ###   @2='pear' /* VARSTRING(20) meta=20 nullable=0 is_null=0 */
     ###   @3='2009:01:01' /* DATE meta=0 nullable=1 is_null=0 */
     ...
     # at 400
     #080828 15:03:08 server id 1  end_log_pos 442   Delete_rows: table id 17 flags: STMT_END_F

     BINLOG '
     fAS3SBMBAAAALAAAAJABAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
     fAS3SBkBAAAAKgAAALoBAAAQABEAAAAAAAEAA//4AQAAAARwZWFyIbIP
     '/*!*/;
     ### DELETE FROM test.t
     ### WHERE
     ###   @1=1 /* INT meta=0 nullable=0 is_null=0 */
     ###   @2='pear' /* VARSTRING(20) meta=20 nullable=0 is_null=0 */
     ###   @3='2009:01:01' /* DATE meta=0 nullable=1 is_null=0 */

You can tell *note 'mysqlbinlog': mysqlbinlog. to suppress the *note
'BINLOG': binlog. statements for row events by using the
'--base64-output=DECODE-ROWS' option.  This is similar to
'--base64-output=NEVER' but does not exit with an error if a row event
is found.  The combination of '--base64-output=DECODE-ROWS' and
'--verbose' provides a convenient way to see row events only as SQL
statements:

     shell> mysqlbinlog -v --base64-output=DECODE-ROWS LOG_FILE
     ...
     # at 218
     #080828 15:03:08 server id 1  end_log_pos 258   Write_rows: table id 17 flags: STMT_END_F
     ### INSERT INTO test.t
     ### SET
     ###   @1=1
     ###   @2='apple'
     ###   @3=NULL
     ...
     # at 302
     #080828 15:03:08 server id 1  end_log_pos 356   Update_rows: table id 17 flags: STMT_END_F
     ### UPDATE test.t
     ### WHERE
     ###   @1=1
     ###   @2='apple'
     ###   @3=NULL
     ### SET
     ###   @1=1
     ###   @2='pear'
     ###   @3='2009:01:01'
     ...
     # at 400
     #080828 15:03:08 server id 1  end_log_pos 442   Delete_rows: table id 17 flags: STMT_END_F
     ### DELETE FROM test.t
     ### WHERE
     ###   @1=1
     ###   @2='pear'
     ###   @3='2009:01:01'

*Note*:

You should not suppress *note 'BINLOG': binlog. statements if you intend
to re-execute *note 'mysqlbinlog': mysqlbinlog. output.

The SQL statements produced by '--verbose' for row events are much more
readable than the corresponding *note 'BINLOG': binlog. statements.
However, they do not correspond exactly to the original SQL statements
that generated the events.  The following limitations apply:

   * The original column names are lost and replaced by '@N', where N is
     a column number.

   * Character set information is not available in the binary log, which
     affects string column display:

        * There is no distinction made between corresponding binary and
          nonbinary string types (*note 'BINARY': binary-varbinary. and
          *note 'CHAR': char, *note 'VARBINARY': binary-varbinary. and
          *note 'VARCHAR': char, *note 'BLOB': blob. and *note 'TEXT':
          blob.).  The output uses a data type of 'STRING' for
          fixed-length strings and 'VARSTRING' for variable-length
          strings.

        * For multibyte character sets, the maximum number of bytes per
          character is not present in the binary log, so the length for
          string types is displayed in bytes rather than in characters.
          For example, 'STRING(4)' will be used as the data type for
          values from either of these column types:

               CHAR(4) CHARACTER SET latin1
               CHAR(2) CHARACTER SET ucs2

        * Due to the storage format for events of type
          'UPDATE_ROWS_EVENT', *note 'UPDATE': update. statements are
          displayed with the 'WHERE' clause preceding the 'SET' clause.

Proper interpretation of row events requires the information from the
format description event at the beginning of the binary log.  Because
*note 'mysqlbinlog': mysqlbinlog. does not know in advance whether the
rest of the log contains row events, by default it displays the format
description event using a *note 'BINLOG': binlog. statement in the
initial part of the output.

If the binary log is known not to contain any events requiring a *note
'BINLOG': binlog. statement (that is, no row events), the
'--base64-output=NEVER' option can be used to prevent this header from
being written.


File: manual.info.tmp,  Node: mysqldumpslow,  Next: mysqlhotcopy,  Prev: mysqlbinlog,  Up: programs-admin-utils

4.6.8 'mysqldumpslow' -- Summarize Slow Query Log Files
-------------------------------------------------------

The MySQL slow query log contains information about queries that take a
long time to execute (see *note slow-query-log::).  *note
'mysqldumpslow': mysqldumpslow. parses MySQL slow query log files and
summarizes their contents.

Normally, *note 'mysqldumpslow': mysqldumpslow. groups queries that are
similar except for the particular values of number and string data
values.  It 'abstracts' these values to 'N' and ''S'' when displaying
summary output.  To modify value abstracting behavior, use the '-a' and
'-n' options.

Invoke *note 'mysqldumpslow': mysqldumpslow. like this:

     shell> mysqldumpslow [OPTIONS] [LOG_FILE ...]

Example of usage:

     shell> mysqldumpslow

     Reading mysql slow query log from /usr/local/mysql/data/mysqld55-slow.log
     Count: 1  Time=4.32s (4s)  Lock=0.00s (0s)  Rows=0.0 (0), root[root]@localhost
      insert into t2 select * from t1

     Count: 3  Time=2.53s (7s)  Lock=0.00s (0s)  Rows=0.0 (0), root[root]@localhost
      insert into t2 select * from t1 limit N

     Count: 3  Time=2.13s (6s)  Lock=0.00s (0s)  Rows=0.0 (0), root[root]@localhost
      insert into t1 select * from t1

*note 'mysqldumpslow': mysqldumpslow. supports the following options.

*mysqldumpslow Options*

Option Name               Description
                          
-a                        Do not abstract all numbers to N and strings
                          to 'S'
                          
-n                        Abstract numbers with at least the specified
                          digits
                          
-debug                    Write debugging information
                          
-g                        Only consider statements that match the
                          pattern
                          
-help                     Display help message and exit
                          
-h                        Host name of the server in the log file name
                          
-i                        Name of the server instance
                          
-l                        Do not subtract lock time from total time
                          
-r                        Reverse the sort order
                          
-s                        How to sort output
                          
-t                        Display only first num queries
                          
-verbose                  Verbose mode

   * 
     '--help'

     Display a help message and exit.

   * '-a'

     Do not abstract all numbers to 'N' and strings to ''S''.

   * 
     '--debug', '-d'

     Run in debug mode.

   * '-g PATTERN'

     Consider only queries that match the ('grep'-style) pattern.

   * '-h HOST_NAME'

     Host name of MySQL server for '*-slow.log' file name.  The value
     can contain a wildcard.  The default is '*' (match all).

   * '-i NAME'

     Name of server instance (if using *note 'mysql.server':
     mysql-server. startup script).

   * '-l'

     Do not subtract lock time from total time.

   * '-n N'

     Abstract numbers with at least N digits within names.

   * '-r'

     Reverse the sort order.

   * '-s SORT_TYPE'

     How to sort the output.  The value of SORT_TYPE should be chosen
     from the following list:

        * 't', 'at': Sort by query time or average query time

        * 'l', 'al': Sort by lock time or average lock time

        * 'r', 'ar': Sort by rows sent or average rows sent

        * 'c': Sort by count

     By default, *note 'mysqldumpslow': mysqldumpslow. sorts by average
     query time (equivalent to '-s at').

   * '-t N'

     Display only the first N queries in the output.

   * 
     '--verbose', '-v'

     Verbose mode.  Print more information about what the program does.


File: manual.info.tmp,  Node: mysqlhotcopy,  Next: mysql-convert-table-format,  Prev: mysqldumpslow,  Up: programs-admin-utils

4.6.9 'mysqlhotcopy' -- A Database Backup Program
-------------------------------------------------

*note 'mysqlhotcopy': mysqlhotcopy. is a Perl script that was originally
written and contributed by Tim Bunce.  It uses 'FLUSH TABLES', *note
'LOCK TABLES': lock-tables, and 'cp' or 'scp' to make a database backup.
It is a fast way to make a backup of the database or single tables, but
it can be run only on the same machine where the database directories
are located.  *note 'mysqlhotcopy': mysqlhotcopy. works only for backing
up 'MyISAM' and 'ARCHIVE' tables.  It runs on Unix.

To use *note 'mysqlhotcopy': mysqlhotcopy, you must have read access to
the files for the tables that you are backing up, the 'SELECT' privilege
for those tables, the 'RELOAD' privilege (to be able to execute 'FLUSH
TABLES'), and the 'LOCK TABLES' privilege (to be able to lock the
tables).

     shell> mysqlhotcopy DB_NAME [/PATH/TO/NEW_DIRECTORY]

     shell> mysqlhotcopy DB_NAME_1 ... DB_NAME_N /PATH/TO/NEW_DIRECTORY

Back up tables in the given database that match a regular expression:

     shell> mysqlhotcopy DB_NAME./REGEX/

The regular expression for the table name can be negated by prefixing it
with a tilde ('~'):

     shell> mysqlhotcopy DB_NAME./~REGEX/

*note 'mysqlhotcopy': mysqlhotcopy. supports the following options,
which can be specified on the command line or in the '[mysqlhotcopy]'
and '[client]' groups of an option file.  For information about option
files used by MySQL programs, see *note option-files::.

*mysqlhotcopy Options*

Option Name            Description                              Introduced
                                                                
-addtodest             Do not rename target directory (if it    
                       exists); merely add files to it
                       
-allowold              Do not abort if a target exists;         
                       rename it by adding an _old suffix
                       
-checkpoint            Insert checkpoint entries                
                       
-chroot                Base directory of the chroot jail in     
                       which mysqld operates
                       
-debug                 Write debugging log                      
                       
-dryrun                Report actions without performing them   
                       
-flushlog              Flush logs after all tables are locked   
                       
-help                  Display help message and exit            
                       
-host                  Host on which MySQL server is located    
                       
-keepold               Do not delete previous (renamed)         
                       target when done
                       
-method                The method for copying files             
                       
-noindices             Do not include full index files in the   
                       backup
                       
-old_server            Connect to server that does not          5.5.3
                       support FLUSH TABLES tbl_list WITH       
                       READ LOCK
                       
-password              Password to use when connecting to       
                       server
                       
-port                  TCP/IP port number for connection        
                       
-quiet                 Be silent except for errors              
                       
-regexp                Copy all databases with names that       
                       match the given regular expression
                       
-resetmaster           Reset the binary log after locking all   
                       the tables
                       
-resetslave            Reset the master.info file after         
                       locking all the tables
                       
-socket                Unix socket file or Windows named pipe   
                       to use
                       
-tmpdir                The temporary directory                  
                       
-user                  MySQL user name to use when connecting
                       to server
                       

   * 
     '--help', '-?'

     Display a help message and exit.

   * 
     '--addtodest'

     Do not rename target directory (if it exists); merely add files to
     it.

   * 
     '--allowold'

     Do not abort if a target exists; rename it by adding an '_old'
     suffix.

   * 
     '--checkpoint=DB_NAME.TBL_NAME'

     Insert checkpoint entries into the specified database DB_NAME and
     table TBL_NAME.

   * 
     '--chroot=DIR_NAME'

     Base directory of the 'chroot' jail in which *note 'mysqld':
     mysqld. operates.  The DIR_NAME value should match that of the
     '--chroot' option given to *note 'mysqld': mysqld.

   * 
     '--debug'

     Enable debug output.

   * 
     '--dryrun', '-n'

     Report actions without performing them.

   * 
     '--flushlog'

     Flush logs after all tables are locked.

   * 
     '--host=HOST_NAME', '-h HOST_NAME'

     The host name of the local host to use for making a TCP/IP
     connection to the local server.  By default, the connection is made
     to 'localhost' using a Unix socket file.

   * 
     '--keepold'

     Do not delete previous (renamed) target when done.

   * 
     '--method=COMMAND'

     The method for copying files ('cp' or 'scp').  The default is 'cp'.

   * 
     '--noindices'

     Do not include full index files for *note 'MyISAM':
     myisam-storage-engine. tables in the backup.  This makes the backup
     smaller and faster.  The indexes for reloaded tables can be
     reconstructed later with *note 'myisamchk -rq': myisamchk.

   * 
     '--password=PASSWORD', '-pPASSWORD'

     The password to use when connecting to the server.  The password
     value is not optional for this option, unlike for other MySQL
     programs.

     Specifying a password on the command line should be considered
     insecure.  To avoid giving the password on the command line, use an
     option file.  See *note password-security-user::.

   * 
     '--port=PORT_NUM', '-P PORT_NUM'

     The TCP/IP port number to use when connecting to the local server.

   * 
     '--old_server'

     As of MySQL 5.5.3, *note 'mysqlhotcopy': mysqlhotcopy. uses 'FLUSH
     TABLES TBL_LIST WITH READ LOCK' to flush and lock tables.  Use the
     '--old_server' option if the server is older than 5.5.3, which is
     when that statement was introduced.  This option was added in MySQL
     5.5.3.

   * 
     '--quiet', '-q'

     Be silent except for errors.

   * 
     '--record_log_pos=DB_NAME.TBL_NAME'

     Record master and slave status in the specified database DB_NAME
     and table TBL_NAME.

   * 
     '--regexp=EXPR'

     Copy all databases with names that match the given regular
     expression.

   * 
     '--resetmaster'

     Reset the binary log after locking all the tables.

   * 
     '--resetslave'

     Reset the 'master.info' file after locking all the tables.

   * 
     '--socket=PATH', '-S PATH'

     The Unix socket file to use for connections to 'localhost'.

   * 
     '--suffix=STR'

     The suffix to use for names of copied databases.

   * 
     '--tmpdir=DIR_NAME'

     The temporary directory.  The default is '/tmp'.

   * 
     '--user=USER_NAME', '-u USER_NAME'

     The MySQL user name to use when connecting to the server.

Use 'perldoc' for additional *note 'mysqlhotcopy': mysqlhotcopy.
documentation, including information about the structure of the tables
needed for the '--checkpoint' and '--record_log_pos' options:

     shell> perldoc mysqlhotcopy


File: manual.info.tmp,  Node: mysql-convert-table-format,  Next: mysql-find-rows,  Prev: mysqlhotcopy,  Up: programs-admin-utils

4.6.10 'mysql_convert_table_format' -- Convert Tables to Use a Given Storage Engine
-----------------------------------------------------------------------------------

*note 'mysql_convert_table_format': mysql-convert-table-format. converts
the tables in a database to use a particular storage engine ('MyISAM' by
default).  *note 'mysql_convert_table_format':
mysql-convert-table-format. is written in Perl and requires that the
'DBI' and 'DBD::mysql' Perl modules be installed (see *note
perl-support::).

Invoke *note 'mysql_convert_table_format': mysql-convert-table-format.
like this:

     shell> mysql_convert_table_format [OPTIONS]DB_NAME

The DB_NAME argument indicates the database containing the tables to be
converted.

*note 'mysql_convert_table_format': mysql-convert-table-format. supports
the options described in the following list.

   * 
     '--help'

     Display a help message and exit.

   * 
     '--force'

     Continue even if errors occur.

   * 
     '--host=HOST_NAME'

     Connect to the MySQL server on the given host.

   * 
     '--password=PASSWORD'

     The password to use when connecting to the server.  The password
     value is not optional for this option, unlike for other MySQL
     programs.

     Specifying a password on the command line should be considered
     insecure.  To avoid giving the password on the command line, use an
     option file.  See *note password-security-user::.

   * 
     '--port=PORT_NUM'

     The TCP/IP port number to use for the connection.

   * 
     '--socket=PATH'

     For connections to 'localhost', the Unix socket file to use.

   * 
     '--type=ENGINE_NAME'

     Specify the storage engine that the tables should be converted to
     use.  The default is 'MyISAM' if this option is not given.

   * 
     '--user=USER_NAME'

     The MySQL user name to use when connecting to the server.

   * 
     '--verbose'

     Verbose mode.  Print more information about what the program does.

   * 
     '--version'

     Display version information and exit.


File: manual.info.tmp,  Node: mysql-find-rows,  Next: mysql-fix-extensions,  Prev: mysql-convert-table-format,  Up: programs-admin-utils

4.6.11 'mysql_find_rows' -- Extract SQL Statements from Files
-------------------------------------------------------------

*note 'mysql_find_rows': mysql-find-rows. reads files containing SQL
statements and extracts statements that match a given regular expression
or that contain 'USE DB_NAME' or *note 'SET': set-variable. statements.
The utility expects statements to be terminated with semicolon (';')
characters.

Invoke *note 'mysql_find_rows': mysql-find-rows. like this:

     shell> mysql_find_rows [OPTIONS] [FILE_NAME ...]

Each FILE_NAME argument should be the name of file containing SQL
statements.  If no file names are given, *note 'mysql_find_rows':
mysql-find-rows. reads the standard input.

Examples:

     mysql_find_rows --regexp=problem_table --rows=20 < update.log
     mysql_find_rows --regexp=problem_table  update-log.1 update-log.2

*note 'mysql_find_rows': mysql-find-rows. supports the following
options:

   * 
     '--help', '--Information'

     Display a help message and exit.

   * 
     '--regexp=PATTERN'

     Display queries that match the pattern.

   * 
     '--rows=N'

     Quit after displaying N queries.

   * 
     '--skip-use-db'

     Do not include 'USE DB_NAME' statements in the output.

   * 
     '--start_row=N'

     Start output from this row.


File: manual.info.tmp,  Node: mysql-fix-extensions,  Next: mysql-setpermission,  Prev: mysql-find-rows,  Up: programs-admin-utils

4.6.12 'mysql_fix_extensions' -- Normalize Table File Name Extensions
---------------------------------------------------------------------

*note 'mysql_fix_extensions': mysql-fix-extensions. converts the
extensions for 'MyISAM' (or 'ISAM') table files to their canonical
forms.  It looks for files with extensions matching any lettercase
variant of '.frm', '.myd', '.myi', '.isd', and '.ism' and renames them
to have extensions of '.frm', '.MYD', '.MYI', '.ISD', and '.ISM',
respectively.  This can be useful after transferring the files from a
system with case-insensitive file names (such as Windows) to a system
with case-sensitive file names.

Invoke *note 'mysql_fix_extensions': mysql-fix-extensions. like this,
where DATA_DIR is the path name to the MySQL data directory.

     shell> mysql_fix_extensions DATA_DIR


File: manual.info.tmp,  Node: mysql-setpermission,  Next: mysql-waitpid,  Prev: mysql-fix-extensions,  Up: programs-admin-utils

4.6.13 'mysql_setpermission' -- Interactively Set Permissions in Grant Tables
-----------------------------------------------------------------------------

*note 'mysql_setpermission': mysql-setpermission. is a Perl script that
was originally written and contributed by Luuk de Boer.  It
interactively sets permissions in the MySQL grant tables.  *note
'mysql_setpermission': mysql-setpermission. is written in Perl and
requires that the 'DBI' and 'DBD::mysql' Perl modules be installed (see
*note perl-support::).

Invoke *note 'mysql_setpermission': mysql-setpermission. like this:

     shell> mysql_setpermission [OPTIONS]

OPTIONS should be either '--help' to display the help message, or
options that indicate how to connect to the MySQL server.  The account
used when you connect determines which permissions you have when
attempting to modify existing permissions in the grant tables.

'mysql_setpermissions' also reads options from the '[client]' and
'[perl]' groups in the '.my.cnf' file in your home directory, if the
file exists.

*note 'mysql_setpermission': mysql-setpermission. supports the following
options:

   * 
     '--help'

     Display a help message and exit.

   * 
     '--host=HOST_NAME'

     Connect to the MySQL server on the given host.

   * 
     '--password=PASSWORD'

     The password to use when connecting to the server.  The password
     value is not optional for this option, unlike for other MySQL
     programs.

     Specifying a password on the command line should be considered
     insecure.  To avoid giving the password on the command line, use an
     option file.  See *note password-security-user::.

   * 
     '--port=PORT_NUM'

     The TCP/IP port number to use for the connection.

   * 
     '--socket=PATH'

     For connections to 'localhost', the Unix socket file to use.

   * 
     '--user=USER_NAME'

     The MySQL user name to use when connecting to the server.


File: manual.info.tmp,  Node: mysql-waitpid,  Next: mysql-zap,  Prev: mysql-setpermission,  Up: programs-admin-utils

4.6.14 'mysql_waitpid' -- Kill Process and Wait for Its Termination
-------------------------------------------------------------------

*note 'mysql_waitpid': mysql-waitpid. signals a process to terminate and
waits for the process to exit.  It uses the 'kill()' system call and
Unix signals, so it runs on Unix and Unix-like systems.

Invoke *note 'mysql_waitpid': mysql-waitpid. like this:

     shell> mysql_waitpid [OPTIONS] PID WAIT_TIME

*note 'mysql_waitpid': mysql-waitpid. sends signal 0 to the process
identified by PID and waits up to WAIT_TIME seconds for the process to
terminate.  PID and WAIT_TIME must be positive integers.

If process termination occurs within the wait time or the process does
not exist, *note 'mysql_waitpid': mysql-waitpid. returns 0.  Otherwise,
it returns 1.

If the 'kill()' system call cannot handle signal 0, 'mysql_waitpid()'
uses signal 1 instead.

*note 'mysql_waitpid': mysql-waitpid. supports the following options:

   * 
     '--help', '-?', '-I'

     Display a help message and exit.

   * 
     '--verbose', '-v'

     Verbose mode.  Display a warning if signal 0 could not be used and
     signal 1 is used instead.

   * 
     '--version', '-V'

     Display version information and exit.


File: manual.info.tmp,  Node: mysql-zap,  Prev: mysql-waitpid,  Up: programs-admin-utils

4.6.15 'mysql_zap' -- Kill Processes That Match a Pattern
---------------------------------------------------------

*note 'mysql_zap': mysql-zap. kills processes that match a pattern.  It
uses the 'ps' command and Unix signals, so it runs on Unix and Unix-like
systems.

Invoke *note 'mysql_zap': mysql-zap. like this:

     shell> mysql_zap [-SIGNAL] [-?Ift] PATTERN

A process matches if its output line from the 'ps' command contains the
pattern.  By default, *note 'mysql_zap': mysql-zap. asks for
confirmation for each process.  Respond 'y' to kill the process, or 'q'
to exit *note 'mysql_zap': mysql-zap.  For any other response, *note
'mysql_zap': mysql-zap. does not attempt to kill the process.

If the '-SIGNAL' option is given, it specifies the name or number of the
signal to send to each process.  Otherwise, *note 'mysql_zap':
mysql-zap. tries first with 'TERM' (signal 15) and then with *note
'KILL': kill. (signal 9).

*note 'mysql_zap': mysql-zap. supports the following additional options:

   * '--help', '-?', '-I'

     Display a help message and exit.

   * '-f'

     Force mode.  *note 'mysql_zap': mysql-zap. attempts to kill each
     process without confirmation.

   * '-t'

     Test mode.  Display information about each process but do not kill
     it.


File: manual.info.tmp,  Node: programs-development,  Next: programs-miscellaneous,  Prev: programs-admin-utils,  Up: programs

4.7 Program Development Utilities
=================================

* Menu:

* msql2mysql::                   'msql2mysql' -- Convert mSQL Programs for Use with MySQL
* mysql-config::                 'mysql_config' -- Display Options for Compiling Clients
* my-print-defaults::            'my_print_defaults' -- Display Options from Option Files
* resolve-stack-dump::           'resolve_stack_dump' -- Resolve Numeric Stack Trace Dump to Symbols

This section describes some utilities that you may find useful when
developing MySQL programs.

In shell scripts, you can use the *note 'my_print_defaults':
my-print-defaults. program to parse option files and see what options
would be used by a given program.  The following example shows the
output that *note 'my_print_defaults': my-print-defaults. might produce
when asked to show the options found in the '[client]' and '[mysql]'
groups:

     shell> my_print_defaults client mysql
     --port=3306
     --socket=/tmp/mysql.sock
     --no-auto-rehash

Note for developers: Option file handling is implemented in the C client
library simply by processing all options in the appropriate group or
groups before any command-line arguments.  This works well for programs
that use the last instance of an option that is specified multiple
times.  If you have a C or C++ program that handles multiply specified
options this way but that doesn't read option files, you need add only
two lines to give it that capability.  Check the source code of any of
the standard MySQL clients to see how to do this.

Several other language interfaces to MySQL are based on the C client
library, and some of them provide a way to access option file contents.
These include Perl and Python.  For details, see the documentation for
your preferred interface.


File: manual.info.tmp,  Node: msql2mysql,  Next: mysql-config,  Prev: programs-development,  Up: programs-development

4.7.1 'msql2mysql' -- Convert mSQL Programs for Use with MySQL
--------------------------------------------------------------

Initially, the MySQL C API was developed to be very similar to that for
the mSQL database system.  Because of this, mSQL programs often can be
converted relatively easily for use with MySQL by changing the names of
the C API functions.

The *note 'msql2mysql': msql2mysql. utility performs the conversion of
mSQL C API function calls to their MySQL equivalents.  *note
'msql2mysql': msql2mysql. converts the input file in place, so make a
copy of the original before converting it.  For example, use *note
'msql2mysql': msql2mysql. like this:

     shell> cp client-prog.c client-prog.c.orig
     shell> msql2mysql client-prog.c
     client-prog.c converted

Then examine 'client-prog.c' and make any post-conversion revisions that
may be necessary.

*note 'msql2mysql': msql2mysql. uses the *note 'replace':
replace-utility. utility to make the function name substitutions.  See
*note replace-utility::.


File: manual.info.tmp,  Node: mysql-config,  Next: my-print-defaults,  Prev: msql2mysql,  Up: programs-development

4.7.2 'mysql_config' -- Display Options for Compiling Clients
-------------------------------------------------------------

*note 'mysql_config': mysql-config. provides you with useful information
for compiling your MySQL client and connecting it to MySQL. It is a
shell script, so it is available only on Unix and Unix-like systems.

*note 'mysql_config': mysql-config. supports the following options.

   * 
     '--cflags'

     Compiler flags to find include files and critical compiler flags
     and defines used when compiling the 'libmysqlclient' library.  The
     options returned are tied to the specific compiler that was used
     when the library was created and might clash with the settings for
     your own compiler.  Use '--include' for more portable options that
     contain only include paths.

   * 
     '--include'

     Compiler options to find MySQL include files.

   * 
     '--libmysqld-libs', '--embedded-libs', '--embedded'

     Libraries and options required to link with 'libmysqld', the MySQL
     embedded server.

   * 
     '--libs'

     Libraries and options required to link with the MySQL client
     library.

   * 
     '--libs_r'

     Libraries and options required to link with the thread-safe MySQL
     client library.  In MySQL 5.5, all client libraries are
     thread-safe, so this option need not be used.  The '--libs' option
     can be used in all cases.

   * 
     '--plugindir'

     The default plugin directory path name, defined when configuring
     MySQL.

   * 
     '--port'

     The default TCP/IP port number, defined when configuring MySQL.

   * 
     '--socket'

     The default Unix socket file, defined when configuring MySQL.

   * 
     '--variable=VAR_NAME'

     Display the value of the named configuration variable.  Permitted
     VAR_NAME values are 'pkgincludedir' (the header file directory),
     'pkglibdir' (the library directory), and 'plugindir' (the plugin
     directory).

   * 
     '--version'

     Version number for the MySQL distribution.

If you invoke *note 'mysql_config': mysql-config. with no options, it
displays a list of all options that it supports, and their values:

     shell> mysql_config
     Usage: /usr/local/mysql/bin/mysql_config [options]
     Options:
       --cflags         [-I/usr/local/mysql/include/mysql -mcpu=pentiumpro]
       --include        [-I/usr/local/mysql/include/mysql]
       --libs           [-L/usr/local/mysql/lib/mysql -lmysqlclient
                         -lpthread -lm -lrt -lssl -lcrypto -ldl]
       --libs_r         [-L/usr/local/mysql/lib/mysql -lmysqlclient_r
                         -lpthread -lm -lrt -lssl -lcrypto -ldl]
       --plugindir      [/usr/local/mysql/lib/plugin]
       --socket         [/tmp/mysql.sock]
       --port           [3306]
       --version        [5.5.31]
       --libmysqld-libs [-L/usr/local/mysql/lib/mysql -lmysqld
                         -lpthread -lm -lrt -lssl -lcrypto -ldl -lcrypt]
       --variable=VAR   VAR is one of:
               pkgincludedir [/usr/local/mysql/include]
               pkglibdir     [/usr/local/mysql/lib]
               plugindir     [/usr/local/mysql/lib/plugin]

You can use *note 'mysql_config': mysql-config. within a command line
using backticks to include the output that it produces for particular
options.  For example, to compile and link a MySQL client program, use
*note 'mysql_config': mysql-config. as follows:

     gcc -c `mysql_config --cflags` progname.c
     gcc -o progname progname.o `mysql_config --libs`


File: manual.info.tmp,  Node: my-print-defaults,  Next: resolve-stack-dump,  Prev: mysql-config,  Up: programs-development

4.7.3 'my_print_defaults' -- Display Options from Option Files
--------------------------------------------------------------

*note 'my_print_defaults': my-print-defaults. displays the options that
are present in option groups of option files.  The output indicates what
options will be used by programs that read the specified option groups.
For example, the *note 'mysqlcheck': mysqlcheck. program reads the
'[mysqlcheck]' and '[client]' option groups.  To see what options are
present in those groups in the standard option files, invoke *note
'my_print_defaults': my-print-defaults. like this:

     shell> my_print_defaults mysqlcheck client
     --user=myusername
     --password=PASSWORD
     --host=localhost

The output consists of options, one per line, in the form that they
would be specified on the command line.

*note 'my_print_defaults': my-print-defaults. supports the following
options.

   * 
     '--help', '-?'

     Display a help message and exit.

   * 
     '--config-file=FILE_NAME',

     '--defaults-file=FILE_NAME', '-c FILE_NAME'

     Read only the given option file.

   * 
     '--debug=DEBUG_OPTIONS', '-# DEBUG_OPTIONS'

     Write a debugging log.  A typical DEBUG_OPTIONS string is
     'd:t:o,FILE_NAME'.  The default is
     'd:t:o,/tmp/my_print_defaults.trace'.

   * 
     '--defaults-extra-file=FILE_NAME',

     '--extra-file=FILE_NAME', '-e FILE_NAME'

     Read this option file after the global option file but (on Unix)
     before the user option file.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--defaults-group-suffix=SUFFIX', '-g SUFFIX'

     In addition to the groups named on the command line, read groups
     that have the given suffix.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--no-defaults', '-n'

     Return an empty string.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--verbose', '-v'

     Verbose mode.  Print more information about what the program does.

   * 
     '--version', '-V'

     Display version information and exit.


File: manual.info.tmp,  Node: resolve-stack-dump,  Prev: my-print-defaults,  Up: programs-development

4.7.4 'resolve_stack_dump' -- Resolve Numeric Stack Trace Dump to Symbols
-------------------------------------------------------------------------

*note 'resolve_stack_dump': resolve-stack-dump. resolves a numeric stack
dump to symbols.

Invoke *note 'resolve_stack_dump': resolve-stack-dump. like this:

     shell> resolve_stack_dump [OPTIONS] SYMBOLS_FILE [NUMERIC_DUMP_FILE]

The symbols file should include the output from the 'nm --numeric-sort
mysqld' command.  The numeric dump file should contain a numeric stack
track from *note 'mysqld': mysqld.  If no numeric dump file is named on
the command line, the stack trace is read from the standard input.

*note 'resolve_stack_dump': resolve-stack-dump. supports the following
options.

   * 
     '--help', '-h'

     Display a help message and exit.

   * 
     '--numeric-dump-file=FILE_NAME', '-n FILE_NAME'

     Read the stack trace from the given file.

   * 
     '--symbols-file=FILE_NAME', '-s FILE_NAME'

     Use the given symbols file.

   * 
     '--version', '-V'

     Display version information and exit.

For more information, see *note using-stack-trace::.


File: manual.info.tmp,  Node: programs-miscellaneous,  Next: environment-variables,  Prev: programs-development,  Up: programs

4.8 Miscellaneous Programs
==========================

* Menu:

* perror::                       'perror' -- Display MySQL Error Message Information
* replace-utility::              'replace' -- A String-Replacement Utility
* resolveip::                    'resolveip' -- Resolve Host name to IP Address or Vice Versa


File: manual.info.tmp,  Node: perror,  Next: replace-utility,  Prev: programs-miscellaneous,  Up: programs-miscellaneous

4.8.1 'perror' -- Display MySQL Error Message Information
---------------------------------------------------------

For most system errors, MySQL displays, in addition to an internal text
message, the system error code in one of the following styles:

     message ... (errno: #)
     message ... (Errcode: #)

You can find out what the error code means by examining the
documentation for your system or by using the *note 'perror': perror.
utility.

*note 'perror': perror. prints a description for a system error code or
for a storage engine (table handler) error code.

Invoke *note 'perror': perror. like this:

     shell> perror [OPTIONS] ERRORCODE ...

Examples:

     shell> perror 1231
     MySQL error code 1231 (ER_WRONG_VALUE_FOR_VAR): Variable '%-.64s' can't
     be set to the value of '%-.200s'

     shell> perror 13 64
     OS error code  13:  Permission denied
     OS error code  64:  Machine is not on the network

To obtain the error message for an NDB Cluster error code, invoke *note
'perror': perror. with the '--ndb' option:

     shell> perror --ndb ERRORCODE

The meaning of system error messages may be dependent on your operating
system.  A given error code may mean different things on different
operating systems.

*note 'perror': perror. supports the following options.

   * 
     '--help', '--info', '-I', '-?'

     Display a help message and exit.

   * 
     '--ndb'

     Print the error message for an NDB Cluster error code.

   * 
     '--silent', '-s'

     Silent mode.  Print only the error message.

   * 
     '--verbose', '-v'

     Verbose mode.  Print error code and message.  This is the default
     behavior.

   * 
     '--version', '-V'

     Display version information and exit.


File: manual.info.tmp,  Node: replace-utility,  Next: resolveip,  Prev: perror,  Up: programs-miscellaneous

4.8.2 'replace' -- A String-Replacement Utility
-----------------------------------------------

The *note 'replace': replace-utility. utility program changes strings in
place in files or on the standard input.

Invoke *note 'replace': replace-utility. in one of the following ways:

     shell> replace FROM TO [FROM TO] ... -- FILE_NAME [FILE_NAME] ...
     shell> replace FROM TO [FROM TO] ... < FILE_NAME

FROM represents a string to look for and TO represents its replacement.
There can be one or more pairs of strings.

Use the '--' option to indicate where the string-replacement list ends
and the file names begin.  In this case, any file named on the command
line is modified in place, so you may want to make a copy of the
original before converting it.  REPLACE prints a message indicating
which of the input files it actually modifies.

If the '--' option is not given, *note 'replace': replace-utility. reads
the standard input and writes to the standard output.

*note 'replace': replace-utility. uses a finite state machine to match
longer strings first.  It can be used to swap strings.  For example, the
following command swaps 'a' and 'b' in the given files, 'file1' and
'file2':

     shell> replace a b b a -- file1 file2 ...

The *note 'replace': replace-utility. program is used by *note
'msql2mysql': msql2mysql.  See *note msql2mysql::.

*note 'replace': replace-utility. supports the following options.

   * '-?', '-I'

     Display a help message and exit.

   * '-#DEBUG_OPTIONS'

     Enable debugging.

   * '-s'

     Silent mode.  Print less information what the program does.

   * '-v'

     Verbose mode.  Print more information about what the program does.

   * '-V'

     Display version information and exit.


File: manual.info.tmp,  Node: resolveip,  Prev: replace-utility,  Up: programs-miscellaneous

4.8.3 'resolveip' -- Resolve Host name to IP Address or Vice Versa
------------------------------------------------------------------

The *note 'resolveip': resolveip. utility resolves host names to IP
addresses and vice versa.

Invoke *note 'resolveip': resolveip. like this:

     shell> resolveip [OPTIONS] {HOST_NAME|IP-ADDR} ...

*note 'resolveip': resolveip. supports the following options.

   * 
     '--help', '--info', '-?', '-I'

     Display a help message and exit.

   * 
     '--silent', '-s'

     Silent mode.  Produce less output.

   * 
     '--version', '-V'

     Display version information and exit.


File: manual.info.tmp,  Node: environment-variables,  Next: unix-signal-response,  Prev: programs-miscellaneous,  Up: programs

4.9 Environment Variables
=========================

This section lists environment variables that are used directly or
indirectly by MySQL. Most of these can also be found in other places in
this manual.

Options on the command line take precedence over values specified in
option files and environment variables, and values in option files take
precedence over values in environment variables.  In many cases, it is
preferable to use an option file instead of environment variables to
modify the behavior of MySQL. See *note option-files::.

Variable                      Description
                              
'AUTHENTICATION_PAM_LOG'      PAM authentication plugin debug logging
                              settings.
                              
'CC'                          The name of your C compiler (for running
                              'CMake').
                              
'CXX'                         The name of your C++ compiler (for
                              running 'CMake').
                              
'CC'                          The name of your C compiler (for running
                              'CMake').
                              
'DBI_USER'                    The default user name for Perl DBI.
                              
'DBI_TRACE'                   Trace options for Perl DBI.
                              
'HOME'                        The default path for the
                              *note 'mysql': mysql. history file is
                              '$HOME/.mysql_history'.
                              
'LD_RUN_PATH'                 Used to specify the location of
                              'libmysqlclient.so'.
                              
'LIBMYSQL_ENABLE_CLEARTEXT_PLUGIN'Enable 'mysql_clear_password'
                              authentication plugin; see
                              *note cleartext-pluggable-authentication::.
                              
'MYSQL_DEBUG'                 Debug trace options when debugging.
                              
'MYSQL_GROUP_SUFFIX'          Option group suffix value (like
                              specifying '--defaults-group-suffix').
                              
'MYSQL_HISTFILE'              The path to the *note 'mysql': mysql.
                              history file.  If this variable is set,
                              its value overrides the default for
                              '$HOME/.mysql_history'.
                              
'MYSQL_HOME'                  The path to the directory in which the
                              server-specific 'my.cnf' file resides.
                              
'MYSQL_HOST'                  The default host name used by the
                              *note 'mysql': mysql. command-line
                              client.
                              
'MYSQL_PS1'                   The command prompt to use in the
                              *note 'mysql': mysql. command-line
                              client.
                              
'MYSQL_PWD'                   The default password when connecting to
                              *note 'mysqld': mysqld.  Using this is
                              insecure.  See
                              *note password-security-user::.
                              
'MYSQL_TCP_PORT'              The default TCP/IP port number.
                              
'MYSQL_UNIX_PORT'             The default Unix socket file name; used
                              for connections to 'localhost'.
                              
'PATH'                        Used by the shell to find MySQL programs.
                              
'TMPDIR'                      The directory in which temporary files
                              are created.
                              
'TZ'                          This should be set to your local time
                              zone.  See *note timezone-problems::.
                              
'UMASK'                       The user-file creation mode when creating
                              files.  See note following table.
                              
'UMASK_DIR'                   The user-directory creation mode when
                              creating directories.  See note following
                              table.
                              
'USER'                        The default user name on Windows when
                              connecting to *note 'mysqld': mysqld.

For information about the *note 'mysql': mysql. history file, see *note
mysql-logging::.

The default 'UMASK' and 'UMASK_DIR' values are '0660' and '0700',
respectively.  MySQL assumes that the value for 'UMASK' or 'UMASK_DIR'
is in octal if it starts with a zero.  For example, setting 'UMASK=0600'
is equivalent to 'UMASK=384' because 0600 octal is 384 decimal.

The 'UMASK' and 'UMASK_DIR' variables, despite their names, are used as
modes, not masks:

   * If 'UMASK' is set, *note 'mysqld': mysqld. uses '($UMASK | 0600)'
     as the mode for file creation, so that newly created files have a
     mode in the range from 0600 to 0666 (all values octal).

   * If 'UMASK_DIR' is set, *note 'mysqld': mysqld. uses '($UMASK_DIR |
     0700)' as the base mode for directory creation, which then is
     AND-ed with '~(~$UMASK & 0666)', so that newly created directories
     have a mode in the range from 0700 to 0777 (all values octal).  The
     AND operation may remove read and write permissions from the
     directory mode, but not execute permissions.

See also *note file-permissions::.


File: manual.info.tmp,  Node: unix-signal-response,  Prev: environment-variables,  Up: programs

4.10 Unix Signal Handling in MySQL
==================================

On Unix and Unix-like systems, a process can be the recipient of signals
sent to it by 'root' or the account that owns the process.  Signals can
be sent using the *note 'kill': kill. command.  Some command
interpreters associate certain key sequences with signals, such as
'Control+C' to send a 'SIGINT' signal.  This section describes how the
MySQL server and client programs respond to signals.

   * *note server-signal-response::

   * *note client-signal-response::

*Server Response to Signals*

*note 'mysqld': mysqld. responds to signals as follows:

   * 'SIGTERM' causes the server to shut down.

   * 'SIGHUP' causes the server to reload the grant tables and to flush
     tables, logs, the thread cache, and the host cache.  These actions
     are like various forms of the *note 'FLUSH': flush. statement.  The
     server also writes a status report to the error log that has this
     format:

          Status information:

          Current dir: /var/mysql/data/
          Running threads: 0  Stack size: 196608
          Current locks:

          Key caches:
          default
          Buffer_size:       8388600
          Block_size:           1024
          Division_limit:        100
          Age_limit:             300
          blocks used:             0
          not flushed:             0
          w_requests:              0
          writes:                  0
          r_requests:              0
          reads:                   0

          handler status:
          read_key:            0
          read_next:           0
          read_rnd             0
          read_first:          1
          write:               0
          delete               0
          update:              0

          Table status:
          Opened tables:          5
          Open tables:            0
          Open files:             7
          Open streams:           0

          Alarm status:
          Active alarms:   1
          Max used alarms: 2
          Next alarm time: 67

   * 'SIGINT' normally is ignored by the server.  Starting the server
     with the '--gdb' option installs an interrupt handler for 'SIGINT'
     for debugging purposes.  See *note using-gdb-on-mysqld::.

*Client Response to Signals*

MySQL client programs respond to signals as follows:

   * The *note 'mysql': mysql. client interprets 'SIGINT' (typically the
     result of typing 'Control+C') as instruction to interrupt the
     current statement if there is one, or to cancel any partial input
     line otherwise.  This behavior can be disabled using the
     '--sigint-ignore' option to ignore 'SIGINT' signals.

   * Client programs that use the MySQL client library block 'SIGPIPE'
     signals by default.  These variations are possible:

        * Client can install their own 'SIGPIPE' handler to override the
          default behavior.  See *note c-api-threaded-clients::.

        * Clients can prevent installation of 'SIGPIPE' handlers by
          specifying the 'CLIENT_IGNORE_SIGPIPE' option to *note
          'mysql_real_connect()': mysql-real-connect. at connect time.
          See *note mysql-real-connect::.


File: manual.info.tmp,  Node: server-administration,  Next: security,  Prev: programs,  Up: Top

5 MySQL Server Administration
*****************************

* Menu:

* mysqld-server::                The MySQL Server
* data-directory::               The MySQL Data Directory
* system-schema::                The mysql System Database
* server-logs::                  MySQL Server Logs
* server-plugins::               MySQL Server Plugins
* server-udfs::                  MySQL Server User-Defined Functions
* multiple-servers::             Running Multiple MySQL Instances on One Machine
* dba-dtrace-server::            Tracing mysqld Using DTrace

MySQL Server (*note 'mysqld': mysqld.) is the main program that does
most of the work in a MySQL installation.  This chapter provides an
overview of MySQL Server and covers general server administration:

   * Server configuration

   * The data directory, particularly the 'mysql' system database

   * The server log files

   * Management of multiple servers on a single machine

For additional information on administrative topics, see also:

   * *note security::

   * *note backup-and-recovery::

   * *note replication::


File: manual.info.tmp,  Node: mysqld-server,  Next: data-directory,  Prev: server-administration,  Up: server-administration

5.1 The MySQL Server
====================

* Menu:

* server-configuration::         Configuring the Server
* server-configuration-defaults::  Server Configuration Defaults
* server-option-variable-reference::  Server Option, System Variable, and Status Variable Reference
* server-system-variable-reference::  Server System Variable Reference
* server-status-variable-reference::  Server Status Variable Reference
* server-options::               Server Command Options
* server-system-variables::      Server System Variables
* using-system-variables::       Using System Variables
* server-status-variables::      Server Status Variables
* sql-mode::                     Server SQL Modes
* ipv6-support::                 IPv6 Support
* time-zone-support::            MySQL Server Time Zone Support
* server-side-help-support::     Server-Side Help Support
* server-shutdown::              The Server Shutdown Process

*note 'mysqld': mysqld. is the MySQL server.  The following discussion
covers these MySQL server configuration topics:

   * Startup options that the server supports.  You can specify these
     options on the command line, through configuration files, or both.

   * Server system variables.  These variables reflect the current state
     and values of the startup options, some of which can be modified
     while the server is running.

   * Server status variables.  These variables contain counters and
     statistics about runtime operation.

   * How to set the server SQL mode.  This setting modifies certain
     aspects of SQL syntax and semantics, for example for compatibility
     with code from other database systems, or to control the error
     handling for particular situations.

   * Configuring and using IPv6 support.

   * Configuring and using time zone support.

   * Server-side help capabilities.

   * The server shutdown process.  There are performance and reliability
     considerations depending on the type of table (transactional or
     nontransactional) and whether you use replication.

*Note*:

Not all storage engines are supported by all MySQL server binaries and
configurations.  To find out how to determine which storage engines your
MySQL server installation supports, see *note show-engines::.


File: manual.info.tmp,  Node: server-configuration,  Next: server-configuration-defaults,  Prev: mysqld-server,  Up: mysqld-server

5.1.1 Configuring the Server
----------------------------

The MySQL server, *note 'mysqld': mysqld, has many command options and
system variables that can be set at startup to configure its operation.
To determine the default command option and system variable values used
by the server, execute this command:

     shell> mysqld --verbose --help

The command produces a list of all *note 'mysqld': mysqld. options and
configurable system variables.  Its output includes the default option
and variable values and looks something like this:

     allow-suspicious-udfs             FALSE
     archive                           ON
     auto-increment-increment          1
     auto-increment-offset             1
     autocommit                        TRUE
     automatic-sp-privileges           TRUE
     back-log                          50
     basedir                           /home/jon/bin/mysql-5.5/
     ...
     tmpdir                            /tmp
     transaction-alloc-block-size      8192
     transaction-isolation             REPEATABLE-READ
     transaction-prealloc-size         4096
     updatable-views-with-limit        YES
     verbose                           TRUE
     wait-timeout                      28800

To see the current system variable values actually used by the server as
it runs, connect to it and execute this statement:

     mysql> SHOW VARIABLES;

To see some statistical and status indicators for a running server,
execute this statement:

     mysql> SHOW STATUS;

System variable and status information also is available using the *note
'mysqladmin': mysqladmin. command:

     shell> mysqladmin variables
     shell> mysqladmin extended-status

For a full description of all command options, system variables, and
status variables, see these sections:

   * *note server-options::

   * *note server-system-variables::

   * *note server-status-variables::

More detailed monitoring information is available from the Performance
Schema; see *note performance-schema::.

MySQL uses algorithms that are very scalable, so you can usually run
with very little memory.  However, normally better performance results
from giving MySQL more memory.

When tuning a MySQL server, the two most important variables to
configure are 'key_buffer_size' and 'table_open_cache'.  You should
first feel confident that you have these set appropriately before trying
to change any other variables.

The following examples indicate some typical variable values for
different runtime configurations.

   * If you have at least 1-2GB of memory and many tables and want
     maximum performance with a moderate number of clients, use
     something like this:

          shell> mysqld_safe --key_buffer_size=384M --table_open_cache=4000 \
                     --sort_buffer_size=4M --read_buffer_size=1M &

   * If you have only 256MB of memory and only a few tables, but you
     still do a lot of sorting, you can use something like this:

          shell> mysqld_safe --key_buffer_size=64M --sort_buffer_size=1M

     If there are very many simultaneous connections, swapping problems
     may occur unless *note 'mysqld': mysqld. has been configured to use
     very little memory for each connection.  *note 'mysqld': mysqld.
     performs better if you have enough memory for all connections.

   * With little memory and lots of connections, use something like
     this:

          shell> mysqld_safe --key_buffer_size=512K --sort_buffer_size=100K \
                     --read_buffer_size=100K &

     Or even this:

          shell> mysqld_safe --key_buffer_size=512K --sort_buffer_size=16K \
                     --table_open_cache=32 --read_buffer_size=8K \
                     --net_buffer_length=1K &

If you are performing 'GROUP BY' or 'ORDER BY' operations on tables that
are much larger than your available memory, increase the value of
'read_rnd_buffer_size' to speed up the reading of rows following sorting
operations.

You can make use of the example option files included with your MySQL
distribution; see *note server-configuration-defaults::.

If you specify an option on the command line for *note 'mysqld': mysqld.
or *note 'mysqld_safe': mysqld-safe, it remains in effect only for that
invocation of the server.  To use the option every time the server runs,
put it in an option file.  See *note option-files::.


File: manual.info.tmp,  Node: server-configuration-defaults,  Next: server-option-variable-reference,  Prev: server-configuration,  Up: mysqld-server

5.1.2 Server Configuration Defaults
-----------------------------------

The MySQL server has many operating parameters, which you can change at
server startup using command-line options or configuration files (option
files).  It is also possible to change many parameters at runtime.  For
general instructions on setting parameters at startup or runtime, see
*note server-options::, and *note server-system-variables::.

MySQL provides a number of preconfigured option files that can be used
as a basis for tuning the MySQL server.  Look for files named
'my-small.cnf', 'my-medium.cnf', 'my-large.cnf', and 'my-huge.cnf',
which are sample option files for small, medium, large, and very large
systems.  On Windows, the extension is '.ini' rather than '.cnf'.

*Note*:

On Windows, the '.ini' or '.cnf' option file extension might not be
displayed.

For a binary distribution, look for the sample files in or under your
installation directory.  If you have a source distribution, look in the
'support-files' directory.  To use a sample file as a base configuration
file, rename a copy of it and place the copy in the appropriate
location.  Regarding names and appropriate location, see the general
information provided in *note option-files::.  That section also
describes option file format and syntax.


File: manual.info.tmp,  Node: server-option-variable-reference,  Next: server-system-variable-reference,  Prev: server-configuration-defaults,  Up: mysqld-server

5.1.3 Server Option, System Variable, and Status Variable Reference
-------------------------------------------------------------------

The following table lists all command-line options, system variables,
and status variables applicable within 'mysqld'.

The table lists command-line options (Cmd-line), options valid in
configuration files (Option file), server system variables (System Var),
and status variables (Status var) in one unified list, with an
indication of where each option or variable is valid.  If a server
option set on the command line or in an option file differs from the
name of the corresponding system variable, the variable name is noted
immediately below the corresponding option.  For system and status
variables, the scope of the variable (Var Scope) is Global, Session, or
both.  Please see the corresponding item descriptions for details on
setting and using the options and variables.  Where appropriate, direct
links to further information about the items are provided.

For a version of this table that is specific to NDB Cluster, see *note
mysql-cluster-option-tables::.

*Command-Line Option, System Variable, and Status Variable Summary*

Name           Cmd-Line    Option      System      Status      Var Scope   Dynamic
                           File        Var         Var                     
                                                   
abort-slave-event-countYes Yes                                             
                           
Aborted_clients                                    Yes         Global      No
                                                                           
Aborted_connects                                   Yes         Global      No
                                                                           
allow-suspicious-udfsYes   Yes                                             
                           
ansi           Yes         Yes                                             
                           
audit-log      Yes         Yes                                             
                           
audit_log_buffer_sizeYes   Yes         Yes                     Global      No
                                                                           
audit_log_file Yes         Yes         Yes                     Global      No
                                                                           
audit_log_flush                        Yes                     Global      Yes
                                                                           
audit_log_formatYes        Yes         Yes                     Global      No
                                                                           
audit_log_policyYes        Yes         Yes                     Global      Yes
                                                                           
audit_log_rotate_on_sizeYesYes         Yes                     Global      Yes
                                                                           
audit_log_strategyYes      Yes         Yes                     Global      No
                                                                           
authentication_windows_log_levelYesYes Yes                     Global      No
                                                                           
authentication_windows_use_principal_nameYesYesYes             Global      No
                                                                           
auto_increment_incrementYesYes         Yes                     Both        Yes
                                                                           
auto_increment_offsetYes   Yes         Yes                     Both        Yes
                                                                           
autocommit     Yes         Yes         Yes                     Varies      Yes
                                                                           
automatic_sp_privilegesYes Yes         Yes                     Global      Yes
                                                                           
back_log       Yes         Yes         Yes                     Global      No
                                                                           
basedir        Yes         Yes         Yes                     Global      No
                                                                           
big_tables     Yes         Yes         Yes                     Varies      Yes
                                                                           
bind-address   Yes         Yes                                             
                           
Binlog_cache_disk_use                              Yes         Global      No
                                                                           
binlog_cache_sizeYes       Yes         Yes                     Global      Yes
                                                                           
Binlog_cache_use                                   Yes         Global      No
                                                                           
binlog_direct_non_transactional_updatesYesYesYes               Both        Yes
                                                                           
binlog-do-db   Yes         Yes                                             
                           
binlog_format  Yes         Yes         Yes                     Both        Yes
                                                                           
binlog-ignore-dbYes        Yes                                             
                           
binlog-row-event-max-sizeYesYes                                            
                           
Binlog_stmt_cache_disk_use                         Yes         Global      No
                                                                           
binlog_stmt_cache_sizeYes  Yes         Yes                     Global      Yes
                                                                           
Binlog_stmt_cache_use                              Yes         Global      No
                                                                           
bootstrap      Yes         Yes                                             
                           
bulk_insert_buffer_sizeYes Yes         Yes                     Both        Yes
                                                                           
Bytes_received                                     Yes         Both        No
                                                                           
Bytes_sent                                         Yes         Both        No
                                                                           
character_set_client                   Yes                     Both        Yes
                                                                           
character-set-client-handshakeYesYes                                       
                           
character_set_connection               Yes                     Both        Yes
                                                                           
character_set_database                 Yes                     Both        Yes
(note 1)                                                                   

character_set_filesystemYesYes         Yes                     Both        Yes
                                                                           
character_set_results                  Yes                     Both        Yes
                                                                           
character_set_serverYes    Yes         Yes                     Both        Yes
                                                                           
character_set_system                   Yes                     Global      No
                                                                           
character_sets_dirYes      Yes         Yes                     Global      No
                                                                           
chroot         Yes         Yes                                             
                           
collation_connection                   Yes                     Both        Yes
                                                                           
collation_database                     Yes                     Both        Yes
(note 1)                                                                   

collation_serverYes        Yes         Yes                     Both        Yes
                                                                           
Com_admin_commands                                 Yes         Both        No
                                                                           
Com_alter_db                                       Yes         Both        No
                                                                           
Com_alter_db_upgrade                               Yes         Both        No
                                                                           
Com_alter_event                                    Yes         Both        No
                                                                           
Com_alter_function                                 Yes         Both        No
                                                                           
Com_alter_procedure                                Yes         Both        No
                                                                           
Com_alter_server                                   Yes         Both        No
                                                                           
Com_alter_table                                    Yes         Both        No
                                                                           
Com_alter_tablespace                               Yes         Both        No
                                                                           
Com_analyze                                        Yes         Both        No
                                                                           
Com_assign_to_keycache                             Yes         Both        No
                                                                           
Com_begin                                          Yes         Both        No
                                                                           
Com_binlog                                         Yes         Both        No
                                                                           
Com_call_procedure                                 Yes         Both        No
                                                                           
Com_change_db                                      Yes         Both        No
                                                                           
Com_change_master                                  Yes         Both        No
                                                                           
Com_check                                          Yes         Both        No
                                                                           
Com_checksum                                       Yes         Both        No
                                                                           
Com_commit                                         Yes         Both        No
                                                                           
Com_create_db                                      Yes         Both        No
                                                                           
Com_create_event                                   Yes         Both        No
                                                                           
Com_create_function                                Yes         Both        No
                                                                           
Com_create_index                                   Yes         Both        No
                                                                           
Com_create_procedure                               Yes         Both        No
                                                                           
Com_create_server                                  Yes         Both        No
                                                                           
Com_create_table                                   Yes         Both        No
                                                                           
Com_create_trigger                                 Yes         Both        No
                                                                           
Com_create_udf                                     Yes         Both        No
                                                                           
Com_create_user                                    Yes         Both        No
                                                                           
Com_create_view                                    Yes         Both        No
                                                                           
Com_dealloc_sql                                    Yes         Both        No
                                                                           
Com_delete                                         Yes         Both        No
                                                                           
Com_delete_multi                                   Yes         Both        No
                                                                           
Com_do                                             Yes         Both        No
                                                                           
Com_drop_db                                        Yes         Both        No
                                                                           
Com_drop_event                                     Yes         Both        No
                                                                           
Com_drop_function                                  Yes         Both        No
                                                                           
Com_drop_index                                     Yes         Both        No
                                                                           
Com_drop_procedure                                 Yes         Both        No
                                                                           
Com_drop_server                                    Yes         Both        No
                                                                           
Com_drop_table                                     Yes         Both        No
                                                                           
Com_drop_trigger                                   Yes         Both        No
                                                                           
Com_drop_user                                      Yes         Both        No
                                                                           
Com_drop_view                                      Yes         Both        No
                                                                           
Com_empty_query                                    Yes         Both        No
                                                                           
Com_execute_sql                                    Yes         Both        No
                                                                           
Com_flush                                          Yes         Both        No
                                                                           
Com_grant                                          Yes         Both        No
                                                                           
Com_ha_close                                       Yes         Both        No
                                                                           
Com_ha_open                                        Yes         Both        No
                                                                           
Com_ha_read                                        Yes         Both        No
                                                                           
Com_help                                           Yes         Both        No
                                                                           
Com_insert                                         Yes         Both        No
                                                                           
Com_insert_select                                  Yes         Both        No
                                                                           
Com_install_plugin                                 Yes         Both        No
                                                                           
Com_kill                                           Yes         Both        No
                                                                           
Com_load                                           Yes         Both        No
                                                                           
Com_lock_tables                                    Yes         Both        No
                                                                           
Com_optimize                                       Yes         Both        No
                                                                           
Com_preload_keys                                   Yes         Both        No
                                                                           
Com_prepare_sql                                    Yes         Both        No
                                                                           
Com_purge                                          Yes         Both        No
                                                                           
Com_purge_before_date                              Yes         Both        No
                                                                           
Com_release_savepoint                              Yes         Both        No
                                                                           
Com_rename_table                                   Yes         Both        No
                                                                           
Com_rename_user                                    Yes         Both        No
                                                                           
Com_repair                                         Yes         Both        No
                                                                           
Com_replace                                        Yes         Both        No
                                                                           
Com_replace_select                                 Yes         Both        No
                                                                           
Com_reset                                          Yes         Both        No
                                                                           
Com_resignal                                       Yes         Both        No
                                                                           
Com_revoke                                         Yes         Both        No
                                                                           
Com_revoke_all                                     Yes         Both        No
                                                                           
Com_rollback                                       Yes         Both        No
                                                                           
Com_rollback_to_savepoint                          Yes         Both        No
                                                                           
Com_savepoint                                      Yes         Both        No
                                                                           
Com_select                                         Yes         Both        No
                                                                           
Com_set_option                                     Yes         Both        No
                                                                           
Com_show_authors                                   Yes         Both        No
                                                                           
Com_show_binlog_events                             Yes         Both        No
                                                                           
Com_show_binlogs                                   Yes         Both        No
                                                                           
Com_show_charsets                                  Yes         Both        No
                                                                           
Com_show_collations                                Yes         Both        No
                                                                           
Com_show_contributors                              Yes         Both        No
                                                                           
Com_show_create_db                                 Yes         Both        No
                                                                           
Com_show_create_event                              Yes         Both        No
                                                                           
Com_show_create_func                               Yes         Both        No
                                                                           
Com_show_create_proc                               Yes         Both        No
                                                                           
Com_show_create_table                              Yes         Both        No
                                                                           
Com_show_create_trigger                            Yes         Both        No
                                                                           
Com_show_databases                                 Yes         Both        No
                                                                           
Com_show_engine_logs                               Yes         Both        No
                                                                           
Com_show_engine_mutex                              Yes         Both        No
                                                                           
Com_show_engine_status                             Yes         Both        No
                                                                           
Com_show_errors                                    Yes         Both        No
                                                                           
Com_show_events                                    Yes         Both        No
                                                                           
Com_show_fields                                    Yes         Both        No
                                                                           
Com_show_function_code                             Yes         Both        No
                                                                           
Com_show_function_status                           Yes         Both        No
                                                                           
Com_show_grants                                    Yes         Both        No
                                                                           
Com_show_keys                                      Yes         Both        No
                                                                           
Com_show_master_status                             Yes         Both        No
                                                                           
Com_show_ndb_status                                Yes         Both        No
                                                                           
Com_show_new_master                                Yes         Both        No
                                                                           
Com_show_open_tables                               Yes         Both        No
                                                                           
Com_show_plugins                                   Yes         Both        No
                                                                           
Com_show_privileges                                Yes         Both        No
                                                                           
Com_show_procedure_code                            Yes         Both        No
                                                                           
Com_show_procedure_status                          Yes         Both        No
                                                                           
Com_show_processlist                               Yes         Both        No
                                                                           
Com_show_profile                                   Yes         Both        No
                                                                           
Com_show_profiles                                  Yes         Both        No
                                                                           
Com_show_relaylog_events                           Yes         Both        No
                                                                           
Com_show_slave_hosts                               Yes         Both        No
                                                                           
Com_show_slave_status                              Yes         Both        No
                                                                           
Com_show_status                                    Yes         Both        No
                                                                           
Com_show_storage_engines                           Yes         Both        No
                                                                           
Com_show_table_status                              Yes         Both        No
                                                                           
Com_show_tables                                    Yes         Both        No
                                                                           
Com_show_triggers                                  Yes         Both        No
                                                                           
Com_show_variables                                 Yes         Both        No
                                                                           
Com_show_warnings                                  Yes         Both        No
                                                                           
Com_signal                                         Yes         Both        No
                                                                           
Com_slave_start                                    Yes         Both        No
                                                                           
Com_slave_stop                                     Yes         Both        No
                                                                           
Com_stmt_close                                     Yes         Both        No
                                                                           
Com_stmt_execute                                   Yes         Both        No
                                                                           
Com_stmt_fetch                                     Yes         Both        No
                                                                           
Com_stmt_prepare                                   Yes         Both        No
                                                                           
Com_stmt_reprepare                                 Yes         Both        No
                                                                           
Com_stmt_reset                                     Yes         Both        No
                                                                           
Com_stmt_send_long_data                            Yes         Both        No
                                                                           
Com_truncate                                       Yes         Both        No
                                                                           
Com_uninstall_plugin                               Yes         Both        No
                                                                           
Com_unlock_tables                                  Yes         Both        No
                                                                           
Com_update                                         Yes         Both        No
                                                                           
Com_update_multi                                   Yes         Both        No
                                                                           
Com_xa_commit                                      Yes         Both        No
                                                                           
Com_xa_end                                         Yes         Both        No
                                                                           
Com_xa_prepare                                     Yes         Both        No
                                                                           
Com_xa_recover                                     Yes         Both        No
                                                                           
Com_xa_rollback                                    Yes         Both        No
                                                                           
Com_xa_start                                       Yes         Both        No
                                                                           
completion_typeYes         Yes         Yes                     Both        Yes
                                                                           
Compression                                        Yes         Session     No
                                                                           
concurrent_insertYes       Yes         Yes                     Global      Yes
                                                                           
connect_timeoutYes         Yes         Yes                     Global      Yes
                                                                           
Connections                                        Yes         Global      No
                                                                           
console        Yes         Yes                                             
                           
core-file      Yes         Yes                                             
                           
Created_tmp_disk_tables                            Yes         Both        No
                                                                           
Created_tmp_files                                  Yes         Global      No
                                                                           
Created_tmp_tables                                 Yes         Both        No
                                                                           
datadir        Yes         Yes         Yes                     Global      No
                                                                           
date_format                            Yes                     Varies      No
                                                                           
datetime_format                        Yes                     Varies      No
                                                                           
debug          Yes         Yes         Yes                     Both        Yes
                                                                           
debug_sync                             Yes                     Varies      Yes
                                                                           
debug-sync-timeoutYes      Yes                                             
                           
default-character-setYes   Yes                                             
                           
default-collationYes       Yes                                             
                           
default_storage_engineYes  Yes         Yes                     Both        Yes
                                                                           
default-time-zoneYes       Yes                                             
                           
default_week_formatYes     Yes         Yes                     Both        Yes
                                                                           
defaults-extra-fileYes                                                     
               
defaults-file  Yes                                                         
               
defaults-group-suffixYes                                                   
               
delay_key_writeYes         Yes         Yes                     Global      Yes
                                                                           
delay-key-write-for-all-tablesYes                                          
               
Delayed_errors                                     Yes         Global      No
                                                                           
delayed_insert_limitYes    Yes         Yes                     Global      Yes
                                                                           
Delayed_insert_threads                             Yes         Global      No
                                                                           
delayed_insert_timeoutYes  Yes         Yes                     Global      Yes
                                                                           
delayed_queue_sizeYes      Yes         Yes                     Global      Yes
                                                                           
Delayed_writes                                     Yes         Global      No
                                                                           
des-key-file   Yes         Yes                                             
                           
disconnect-slave-event-countYesYes                                         
                           
div_precision_incrementYes Yes         Yes                     Both        Yes
                                                                           
enable-locking Yes         Yes                                             
                           
enable-pstack  Yes         Yes                                             
                           
engine_condition_pushdownYesYes        Yes                     Both        Yes
                                                                           
error_count                            Yes                     Session     No
                                                                           
event_schedulerYes         Yes         Yes                     Global      Yes
                                                                           
exit-info      Yes         Yes                                             
                           
expire_logs_daysYes        Yes         Yes                     Global      Yes
                                                                           
external-lockingYes        Yes                                             
                           
-                                                                          
_Variable_:
skip_external_locking

external_user                          Yes                     Session     No
                                                                           
*note federated: federated-storage-engine.YesYes                           
                           
flush          Yes         Yes         Yes                     Global      Yes
                                                                           
Flush_commands                                     Yes         Global      No
                                                                           
flush_time     Yes         Yes         Yes                     Global      Yes
                                                                           
foreign_key_checks                     Yes                     Varies      Yes
                                                                           
ft_boolean_syntaxYes       Yes         Yes                     Global      Yes
                                                                           
ft_max_word_lenYes         Yes         Yes                     Global      No
                                                                           
ft_min_word_lenYes         Yes         Yes                     Global      No
                                                                           
ft_query_expansion_limitYesYes         Yes                     Global      No
                                                                           
ft_stopword_fileYes        Yes         Yes                     Global      No
                                                                           
gdb            Yes         Yes                                             
                           
general_log    Yes         Yes         Yes                     Global      Yes
                                                                           
general_log_fileYes        Yes         Yes                     Global      Yes
                                                                           
group_concat_max_lenYes    Yes         Yes                     Both        Yes
                                                                           
Handler_commit                                     Yes         Both        No
                                                                           
Handler_delete                                     Yes         Both        No
                                                                           
Handler_discover                                   Yes         Both        No
                                                                           
Handler_prepare                                    Yes         Both        No
                                                                           
Handler_read_first                                 Yes         Both        No
                                                                           
Handler_read_key                                   Yes         Both        No
                                                                           
Handler_read_last                                  Yes         Both        No
                                                                           
Handler_read_next                                  Yes         Both        No
                                                                           
Handler_read_prev                                  Yes         Both        No
                                                                           
Handler_read_rnd                                   Yes         Both        No
                                                                           
Handler_read_rnd_next                              Yes         Both        No
                                                                           
Handler_rollback                                   Yes         Both        No
                                                                           
Handler_savepoint                                  Yes         Both        No
                                                                           
Handler_savepoint_rollback                         Yes         Both        No
                                                                           
Handler_update                                     Yes         Both        No
                                                                           
Handler_write                                      Yes         Both        No
                                                                           
have_compress                          Yes                     Global      No
                                                                           
have_crypt                             Yes                     Global      No
                                                                           
have_csv                               Yes                     Global      No
                                                                           
have_dynamic_loading                   Yes                     Global      No
                                                                           
have_geometry                          Yes                     Global      No
                                                                           
have_innodb                            Yes                     Global      No
                                                                           
have_ndbcluster                        Yes                     Global      No
                                                                           
have_openssl                           Yes                     Global      No
                                                                           
have_partitioning                      Yes                     Global      No
                                                                           
have_profiling                         Yes                     Global      No
                                                                           
have_query_cache                       Yes                     Global      No
                                                                           
have_rtree_keys                        Yes                     Global      No
                                                                           
have_ssl                               Yes                     Global      No
                                                                           
have_symlink                           Yes                     Global      No
                                                                           
help           Yes         Yes                                             
                           
hostname                               Yes                     Global      No
                                                                           
identity                               Yes                     Session     Yes
                                                                           
ignore_builtin_innodbYes   Yes         Yes                     Global      No
                                                                           
init_connect   Yes         Yes         Yes                     Global      Yes
                                                                           
init_file      Yes         Yes         Yes                     Global      No
                                                                           
init_slave     Yes         Yes         Yes                     Global      Yes
                                                                           
innodb         Yes         Yes                                             
                           
innodb_adaptive_flushingYesYes         Yes                     Global      Yes
                                                                           
innodb_adaptive_hash_indexYesYes       Yes                     Global      Yes
                                                                           
innodb_additional_mem_pool_sizeYesYes  Yes                     Global      No
                                                                           
innodb_autoextend_incrementYesYes      Yes                     Global      Yes
                                                                           
innodb_autoinc_lock_modeYesYes         Yes                     Global      No
                                                                           
Innodb_buffer_pool_bytes_data                      Yes         Global      No
                                                                           
Innodb_buffer_pool_bytes_dirty                     Yes         Global      No
                                                                           
innodb_buffer_pool_instancesYesYes     Yes                     Global      No
                                                                           
Innodb_buffer_pool_pages_data                      Yes         Global      No
                                                                           
Innodb_buffer_pool_pages_dirty                     Yes         Global      No
                                                                           
Innodb_buffer_pool_pages_flushed                   Yes         Global      No
                                                                           
Innodb_buffer_pool_pages_free                      Yes         Global      No
                                                                           
Innodb_buffer_pool_pages_latched                   Yes         Global      No
                                                                           
Innodb_buffer_pool_pages_misc                      Yes         Global      No
                                                                           
Innodb_buffer_pool_pages_total                     Yes         Global      No
                                                                           
Innodb_buffer_pool_read_ahead                      Yes         Global      No
                                                                           
Innodb_buffer_pool_read_ahead_evicted              Yes         Global      No
                                                                           
Innodb_buffer_pool_read_ahead_rnd                  Yes         Global      No
                                                                           
Innodb_buffer_pool_read_requests                   Yes         Global      No
                                                                           
Innodb_buffer_pool_reads                           Yes         Global      No
                                                                           
innodb_buffer_pool_sizeYes Yes         Yes                     Global      No
                                                                           
Innodb_buffer_pool_wait_free                       Yes         Global      No
                                                                           
Innodb_buffer_pool_write_requests                  Yes         Global      No
                                                                           
innodb_change_bufferingYes Yes         Yes                     Global      Yes
                                                                           
innodb_change_buffering_debugYesYes    Yes                     Global      Yes
                                                                           
innodb_checksumsYes        Yes         Yes                     Global      No
                                                                           
innodb_commit_concurrencyYesYes        Yes                     Global      Yes
                                                                           
innodb_concurrency_ticketsYesYes       Yes                     Global      Yes
                                                                           
innodb_data_file_pathYes   Yes         Yes                     Global      No
                                                                           
Innodb_data_fsyncs                                 Yes         Global      No
                                                                           
innodb_data_home_dirYes    Yes         Yes                     Global      No
                                                                           
Innodb_data_pending_fsyncs                         Yes         Global      No
                                                                           
Innodb_data_pending_reads                          Yes         Global      No
                                                                           
Innodb_data_pending_writes                         Yes         Global      No
                                                                           
Innodb_data_read                                   Yes         Global      No
                                                                           
Innodb_data_reads                                  Yes         Global      No
                                                                           
Innodb_data_writes                                 Yes         Global      No
                                                                           
Innodb_data_written                                Yes         Global      No
                                                                           
Innodb_dblwr_pages_written                         Yes         Global      No
                                                                           
Innodb_dblwr_writes                                Yes         Global      No
                                                                           
innodb_doublewriteYes      Yes         Yes                     Global      No
                                                                           
innodb_fast_shutdownYes    Yes         Yes                     Global      Yes
                                                                           
innodb_file_formatYes      Yes         Yes                     Global      Yes
                                                                           
innodb_file_format_checkYesYes         Yes                     Global      Varies
                                                                           
innodb_file_format_maxYes  Yes         Yes                     Global      Yes
                                                                           
innodb_file_per_tableYes   Yes         Yes                     Global      Yes
                                                                           
innodb_flush_log_at_trx_commitYesYes   Yes                     Global      Yes
                                                                           
innodb_flush_methodYes     Yes         Yes                     Global      No
                                                                           
innodb_force_load_corruptedYesYes      Yes                     Global      No
                                                                           
innodb_force_recoveryYes   Yes         Yes                     Global      No
                                                                           
Innodb_have_atomic_builtins                        Yes         Global      No
                                                                           
innodb_io_capacityYes      Yes         Yes                     Global      Yes
                                                                           
innodb_large_prefixYes     Yes         Yes                     Global      Yes
                                                                           
innodb_limit_optimistic_insert_debugYesYesYes                  Global      Yes
                                                                           
innodb_lock_wait_timeoutYesYes         Yes                     Both        Yes
                                                                           
innodb_locks_unsafe_for_binlogYesYes   Yes                     Global      No
                                                                           
innodb_log_buffer_sizeYes  Yes         Yes                     Global      No
                                                                           
innodb_log_file_sizeYes    Yes         Yes                     Global      No
                                                                           
innodb_log_files_in_groupYesYes        Yes                     Global      No
                                                                           
innodb_log_group_home_dirYesYes        Yes                     Global      No
                                                                           
Innodb_log_waits                                   Yes         Global      No
                                                                           
Innodb_log_write_requests                          Yes         Global      No
                                                                           
Innodb_log_writes                                  Yes         Global      No
                                                                           
innodb_max_dirty_pages_pctYesYes       Yes                     Global      Yes
                                                                           
innodb_max_purge_lagYes    Yes         Yes                     Global      Yes
                                                                           
innodb_mirrored_log_groupsYesYes       Yes                     Global      No
                                                                           
innodb_old_blocks_pctYes   Yes         Yes                     Global      Yes
                                                                           
innodb_old_blocks_timeYes  Yes         Yes                     Global      Yes
                                                                           
innodb_open_filesYes       Yes         Yes                     Global      No
                                                                           
Innodb_os_log_fsyncs                               Yes         Global      No
                                                                           
Innodb_os_log_pending_fsyncs                       Yes         Global      No
                                                                           
Innodb_os_log_pending_writes                       Yes         Global      No
                                                                           
Innodb_os_log_written                              Yes         Global      No
                                                                           
Innodb_page_size                                   Yes         Global      No
                                                                           
Innodb_pages_created                               Yes         Global      No
                                                                           
Innodb_pages_read                                  Yes         Global      No
                                                                           
Innodb_pages_written                               Yes         Global      No
                                                                           
innodb_print_all_deadlocksYesYes       Yes                     Global      Yes
                                                                           
innodb_purge_batch_sizeYes Yes         Yes                     Global      Yes
                                                                           
innodb_purge_threadsYes    Yes         Yes                     Global      No
                                                                           
innodb_random_read_aheadYesYes         Yes                     Global      Yes
                                                                           
innodb_read_ahead_thresholdYesYes      Yes                     Global      Yes
                                                                           
innodb_read_io_threadsYes  Yes         Yes                     Global      No
                                                                           
innodb_replication_delayYesYes         Yes                     Global      Yes
                                                                           
innodb_rollback_on_timeoutYesYes       Yes                     Global      No
                                                                           
innodb_rollback_segmentsYesYes         Yes                     Global      Yes
                                                                           
Innodb_row_lock_current_waits                      Yes         Global      No
                                                                           
Innodb_row_lock_time                               Yes         Global      No
                                                                           
Innodb_row_lock_time_avg                           Yes         Global      No
                                                                           
Innodb_row_lock_time_max                           Yes         Global      No
                                                                           
Innodb_row_lock_waits                              Yes         Global      No
                                                                           
Innodb_rows_deleted                                Yes         Global      No
                                                                           
Innodb_rows_inserted                               Yes         Global      No
                                                                           
Innodb_rows_read                                   Yes         Global      No
                                                                           
Innodb_rows_updated                                Yes         Global      No
                                                                           
innodb_spin_wait_delayYes  Yes         Yes                     Global      Yes
                                                                           
innodb_stats_methodYes     Yes         Yes                     Global      Yes
                                                                           
innodb_stats_on_metadataYesYes         Yes                     Global      Yes
                                                                           
innodb_stats_sample_pagesYesYes        Yes                     Global      Yes
                                                                           
innodb-status-fileYes      Yes                                             
                           
innodb_strict_modeYes      Yes         Yes                     Both        Yes
                                                                           
innodb_support_xaYes       Yes         Yes                     Both        Yes
                                                                           
innodb_sync_spin_loopsYes  Yes         Yes                     Global      Yes
                                                                           
innodb_table_locksYes      Yes         Yes                     Both        Yes
                                                                           
innodb_thread_concurrencyYesYes        Yes                     Global      Yes
                                                                           
innodb_thread_sleep_delayYesYes        Yes                     Global      Yes
                                                                           
Innodb_truncated_status_writes                     Yes         Global      No
                                                                           
innodb_trx_purge_view_update_only_debugYesYesYes               Global      Yes
                                                                           
innodb_trx_rseg_n_slots_debugYesYes    Yes                     Global      Yes
                                                                           
innodb_use_native_aioYes   Yes         Yes                     Global      No
                                                                           
innodb_use_sys_mallocYes   Yes         Yes                     Global      No
                                                                           
innodb_version                         Yes                     Global      No
                                                                           
innodb_write_io_threadsYes Yes         Yes                     Global      No
                                                                           
insert_id                              Yes                     Session     Yes
                                                                           
install        Yes                                                         
               
install-manual Yes                                                         
               
interactive_timeoutYes     Yes         Yes                     Both        Yes
                                                                           
join_buffer_sizeYes        Yes         Yes                     Both        Yes
                                                                           
keep_files_on_createYes    Yes         Yes                     Both        Yes
                                                                           
Key_blocks_not_flushed                             Yes         Global      No
                                                                           
Key_blocks_unused                                  Yes         Global      No
                                                                           
Key_blocks_used                                    Yes         Global      No
                                                                           
key_buffer_sizeYes         Yes         Yes                     Global      Yes
                                                                           
key_cache_age_thresholdYes Yes         Yes                     Global      Yes
                                                                           
key_cache_block_sizeYes    Yes         Yes                     Global      Yes
                                                                           
key_cache_division_limitYesYes         Yes                     Global      Yes
                                                                           
Key_read_requests                                  Yes         Global      No
                                                                           
Key_reads                                          Yes         Global      No
                                                                           
Key_write_requests                                 Yes         Global      No
                                                                           
Key_writes                                         Yes         Global      No
                                                                           
language       Yes         Yes         Yes                     Global      No
                                                                           
large_files_support                    Yes                     Global      No
                                                                           
large_page_size                        Yes                     Global      No
                                                                           
large_pages    Yes         Yes         Yes                     Global      No
                                                                           
last_insert_id                         Yes                     Session     Yes
                                                                           
Last_query_cost                                    Yes         Session     No
                                                                           
lc_messages    Yes         Yes         Yes                     Both        Yes
                                                                           
lc_messages_dirYes         Yes         Yes                     Global      No
                                                                           
lc_time_names  Yes         Yes         Yes                     Both        Yes
                                                                           
license                                Yes                     Global      No
                                                                           
local_infile   Yes         Yes         Yes                     Global      Yes
                                                                           
local-service  Yes                                                         
               
lock_wait_timeoutYes       Yes         Yes                     Both        Yes
                                                                           
locked_in_memory                       Yes                     Global      No
                                                                           
log            Yes         Yes         Yes                     Global      Yes
                                                                           
log-bin        Yes         Yes                                             
                           
log_bin                                Yes                     Global      No
                                                                           
log-bin-index  Yes         Yes                                             
                           
log_bin_trust_function_creatorsYesYes  Yes                     Global      Yes
                                                                           
log_bin_trust_routine_creatorsYesYes   Yes                     Global      Yes
                                                                           
log_bin_use_v1_row_eventsYesYes        Yes                     Global      No
                                                                           
log_error      Yes         Yes         Yes                     Global      No
                                                                           
log-isam       Yes         Yes                                             
                           
log_output     Yes         Yes         Yes                     Global      Yes
                                                                           
log_queries_not_using_indexesYesYes    Yes                     Global      Yes
                                                                           
log-short-formatYes        Yes                                             
                           
log_slave_updatesYes       Yes         Yes                     Global      No
                                                                           
log-slow-admin-statementsYesYes                                            
                           
log_slow_queriesYes        Yes         Yes                     Global      Yes
                                                                           
log-slow-slave-statementsYesYes                                            
                           
log-tc         Yes         Yes                                             
                           
log-tc-size    Yes         Yes                                             
                           
log_warnings   Yes         Yes         Yes                     Both        Yes
                                                                           
long_query_timeYes         Yes         Yes                     Both        Yes
                                                                           
low_priority_updatesYes    Yes         Yes                     Both        Yes
                                                                           
lower_case_file_system                 Yes                     Global      No
                                                                           
lower_case_table_namesYes  Yes         Yes                     Global      No
                                                                           
master-connect-retryYes    Yes                                             
                           
master-host    Yes         Yes                                             
                           
master-info-fileYes        Yes                                             
                           
master-passwordYes         Yes                                             
                           
master-port    Yes         Yes                                             
                           
master-retry-countYes      Yes                                             
                           
master-ssl     Yes         Yes                                             
                           
master-ssl-ca  Yes         Yes                                             
                           
master-ssl-capathYes       Yes                                             
                           
master-ssl-certYes         Yes                                             
                           
master-ssl-cipherYes       Yes                                             
                           
master-ssl-key Yes         Yes                                             
                           
master-user    Yes         Yes                                             
                           
max_allowed_packetYes      Yes         Yes                     Both        Yes
                                                                           
max_binlog_cache_sizeYes   Yes         Yes                     Global      Yes
                                                                           
max-binlog-dump-eventsYes  Yes                                             
                           
max_binlog_sizeYes         Yes         Yes                     Global      Yes
                                                                           
max_binlog_stmt_cache_sizeYesYes       Yes                     Global      Yes
                                                                           
max_connect_errorsYes      Yes         Yes                     Global      Yes
                                                                           
max_connectionsYes         Yes         Yes                     Global      Yes
                                                                           
max_delayed_threadsYes     Yes         Yes                     Both        Yes
                                                                           
max_error_countYes         Yes         Yes                     Both        Yes
                                                                           
max_heap_table_sizeYes     Yes         Yes                     Both        Yes
                                                                           
max_insert_delayed_threads             Yes                     Both        Yes
                                                                           
max_join_size  Yes         Yes         Yes                     Both        Yes
                                                                           
max_length_for_sort_dataYesYes         Yes                     Both        Yes
                                                                           
max_long_data_sizeYes      Yes         Yes                     Global      No
                                                                           
max_prepared_stmt_countYes Yes         Yes                     Global      Yes
                                                                           
max_relay_log_sizeYes      Yes         Yes                     Global      Yes
                                                                           
max_seeks_for_keyYes       Yes         Yes                     Both        Yes
                                                                           
max_sort_lengthYes         Yes         Yes                     Both        Yes
                                                                           
max_sp_recursion_depthYes  Yes         Yes                     Both        Yes
                                                                           
max_tmp_tables                         Yes                     Both        Yes
                                                                           
Max_used_connections                               Yes         Global      No
                                                                           
max_user_connectionsYes    Yes         Yes                     Both        Yes
                                                                           
max_write_lock_countYes    Yes         Yes                     Global      Yes
                                                                           
memlock        Yes         Yes                                             
                           
-                                                                          
_Variable_:
locked_in_memory

metadata_locks_cache_sizeYesYes        Yes                     Global      No
                                                                           
min_examined_row_limitYes  Yes         Yes                     Both        Yes
                                                                           
multi_range_countYes       Yes         Yes                     Both        Yes
                                                                           
myisam-block-sizeYes       Yes                                             
                           
myisam_data_pointer_sizeYesYes         Yes                     Global      Yes
                                                                           
myisam_max_sort_file_sizeYesYes        Yes                     Global      Yes
                                                                           
myisam_mmap_sizeYes        Yes         Yes                     Global      No
                                                                           
myisam-recover Yes         Yes                                             
                           
-                                                                          
_Variable_:
myisam_recover_options

myisam_recover_optionsYes  Yes         Yes                     Global      No
                                                                           
myisam_repair_threadsYes   Yes         Yes                     Both        Yes
                                                                           
myisam_sort_buffer_sizeYes Yes         Yes                     Both        Yes
                                                                           
myisam_stats_methodYes     Yes         Yes                     Both        Yes
                                                                           
myisam_use_mmapYes         Yes         Yes                     Global      Yes
                                                                           
named_pipe     Yes         Yes         Yes                     Global      No
                                                                           
Ndb_api_bytes_received_count                       Yes         Global      No
                                                                           
Ndb_api_bytes_received_count_session               Yes         Session     No
                                                                           
Ndb_api_bytes_received_count_slave                 Yes         Global      No
                                                                           
Ndb_api_bytes_sent_count                           Yes         Global      No
                                                                           
Ndb_api_bytes_sent_count_session                   Yes         Session     No
                                                                           
Ndb_api_bytes_sent_count_slave                     Yes         Global      No
                                                                           
Ndb_api_event_bytes_count                          Yes         Global      No
                                                                           
Ndb_api_event_bytes_count_injector                 Yes         Global      No
                                                                           
Ndb_api_event_data_count                           Yes         Global      No
                                                                           
Ndb_api_event_data_count_injector                  Yes         Global      No
                                                                           
Ndb_api_event_nondata_count                        Yes         Global      No
                                                                           
Ndb_api_event_nondata_count_injector               Yes         Global      No
                                                                           
Ndb_api_pk_op_count                                Yes         Global      No
                                                                           
Ndb_api_pk_op_count_session                        Yes         Session     No
                                                                           
Ndb_api_pk_op_count_slave                          Yes         Global      No
                                                                           
Ndb_api_pruned_scan_count                          Yes         Global      No
                                                                           
Ndb_api_pruned_scan_count_session                  Yes         Session     No
                                                                           
Ndb_api_pruned_scan_count_slave                    Yes         Global      No
                                                                           
Ndb_api_range_scan_count                           Yes         Global      No
                                                                           
Ndb_api_range_scan_count_session                   Yes         Session     No
                                                                           
Ndb_api_range_scan_count_slave                     Yes         Global      No
                                                                           
Ndb_api_read_row_count                             Yes         Global      No
                                                                           
Ndb_api_read_row_count_session                     Yes         Session     No
                                                                           
Ndb_api_read_row_count_slave                       Yes         Global      No
                                                                           
Ndb_api_scan_batch_count                           Yes         Global      No
                                                                           
Ndb_api_scan_batch_count_session                   Yes         Session     No
                                                                           
Ndb_api_scan_batch_count_slave                     Yes         Global      No
                                                                           
Ndb_api_table_scan_count                           Yes         Global      No
                                                                           
Ndb_api_table_scan_count_session                   Yes         Session     No
                                                                           
Ndb_api_table_scan_count_slave                     Yes         Global      No
                                                                           
Ndb_api_trans_abort_count                          Yes         Global      No
                                                                           
Ndb_api_trans_abort_count_session                  Yes         Session     No
                                                                           
Ndb_api_trans_abort_count_slave                    Yes         Global      No
                                                                           
Ndb_api_trans_close_count                          Yes         Global      No
                                                                           
Ndb_api_trans_close_count_session                  Yes         Session     No
                                                                           
Ndb_api_trans_close_count_slave                    Yes         Global      No
                                                                           
Ndb_api_trans_commit_count                         Yes         Global      No
                                                                           
Ndb_api_trans_commit_count_session                 Yes         Session     No
                                                                           
Ndb_api_trans_commit_count_slave                   Yes         Global      No
                                                                           
Ndb_api_trans_local_read_row_count                 Yes         Global      No
                                                                           
Ndb_api_trans_local_read_row_count_session         Yes         Session     No
                                                                           
Ndb_api_trans_local_read_row_count_slave           Yes         Global      No
                                                                           
Ndb_api_trans_start_count                          Yes         Global      No
                                                                           
Ndb_api_trans_start_count_session                  Yes         Session     No
                                                                           
Ndb_api_trans_start_count_slave                    Yes         Global      No
                                                                           
Ndb_api_uk_op_count                                Yes         Global      No
                                                                           
Ndb_api_uk_op_count_session                        Yes         Session     No
                                                                           
Ndb_api_uk_op_count_slave                          Yes         Global      No
                                                                           
Ndb_api_wait_exec_complete_count                   Yes         Global      No
                                                                           
Ndb_api_wait_exec_complete_count_session           Yes         Session     No
                                                                           
Ndb_api_wait_exec_complete_count_slave             Yes         Global      No
                                                                           
Ndb_api_wait_meta_request_count                    Yes         Global      No
                                                                           
Ndb_api_wait_meta_request_count_session            Yes         Session     No
                                                                           
Ndb_api_wait_meta_request_count_slave              Yes         Global      No
                                                                           
Ndb_api_wait_nanos_count                           Yes         Global      No
                                                                           
Ndb_api_wait_nanos_count_session                   Yes         Session     No
                                                                           
Ndb_api_wait_nanos_count_slave                     Yes         Global      No
                                                                           
Ndb_api_wait_scan_result_count                     Yes         Global      No
                                                                           
Ndb_api_wait_scan_result_count_session             Yes         Session     No
                                                                           
Ndb_api_wait_scan_result_count_slave               Yes         Global      No
                                                                           
ndb_autoincrement_prefetch_szYesYes    Yes                     Both        Yes
                                                                           
ndb_batch_size Yes         Yes         Yes                     Global      No
                                                                           
ndb_blob_read_batch_bytesYesYes        Yes                     Both        Yes
                                                                           
ndb_blob_write_batch_bytesYesYes       Yes                     Both        Yes
                                                                           
ndb_cache_check_timeYes    Yes         Yes                     Global      Yes
                                                                           
ndb_cluster_connection_poolYesYes      Yes                     Global      No
                                                                           
Ndb_cluster_node_id                                Yes         Global      No
                                                                           
Ndb_config_from_host                               Yes         Both        No
                                                                           
Ndb_config_from_port                               Yes         Both        No
                                                                           
Ndb_conflict_fn_epoch                              Yes         Global      No
                                                                           
Ndb_conflict_fn_epoch_trans                        Yes         Global      No
                                                                           
Ndb_conflict_fn_max                                Yes         Global      No
                                                                           
Ndb_conflict_fn_old                                Yes         Global      No
                                                                           
Ndb_conflict_trans_conflict_commit_count           Yes         Global      No
                                                                           
Ndb_conflict_trans_detect_iter_count               Yes         Global      No
                                                                           
Ndb_conflict_trans_reject_count                    Yes         Global      No
                                                                           
Ndb_conflict_trans_row_reject_count                Yes         Global      No
                                                                           
ndb-connectstringYes       Yes                                             
                           
ndb_deferred_constraintsYesYes         Yes                     Both        Yes
                                                                           
ndb_deferred_constraintsYesYes         Yes                     Both        Yes
                                                                           
ndb_distributionYes        Yes         Yes                     Global      Yes
                                                                           
ndb_distributionYes        Yes         Yes                     Global      Yes
                                                                           
ndb_eventbuffer_max_allocYesYes        Yes                     Global      Yes
                                                                           
Ndb_execute_count                                  Yes         Global      No
                                                                           
ndb_extra_loggingYes       Yes         Yes                     Global      Yes
                                                                           
ndb_force_send Yes         Yes         Yes                     Both        Yes
                                                                           
ndb_index_stat_cache_entriesYesYes     Yes                     Both        Yes
                                                                           
ndb_index_stat_enableYes   Yes         Yes                     Both        Yes
                                                                           
ndb_index_stat_optionYes   Yes         Yes                     Both        Yes
                                                                           
ndb_index_stat_update_freqYesYes       Yes                     Both        Yes
                                                                           
ndb_join_pushdown                      Yes                     Both        Yes
                                                                           
ndb_log_apply_statusYes    Yes         Yes                     Global      No
                                                                           
ndb_log_apply_statusYes    Yes         Yes                     Global      No
                                                                           
ndb_log_bin    Yes                     Yes                     Both        Yes
                                                                           
ndb_log_binlog_indexYes                Yes                     Global      Yes
                                                                           
ndb_log_empty_epochsYes    Yes         Yes                     Global      Yes
                                                                           
ndb_log_empty_epochsYes    Yes         Yes                     Global      Yes
                                                                           
ndb_log_empty_updateYes    Yes         Yes                     Global      Yes
                                                                           
ndb_log_empty_updateYes    Yes         Yes                     Global      Yes
                                                                           
ndb_log_orig   Yes         Yes         Yes                     Global      No
                                                                           
ndb_log_orig   Yes         Yes         Yes                     Global      No
                                                                           
ndb_log_transaction_idYes  Yes         Yes                     Global      No
                                                                           
ndb_log_transaction_id                 Yes                     Global      No
                                                                           
ndb_log_update_as_writeYes Yes         Yes                     Global      Yes
                                                                           
ndb_log_updated_onlyYes    Yes         Yes                     Global      Yes
                                                                           
ndb-mgmd-host  Yes         Yes                                             
                           
ndb_nodeid     Yes         Yes                     Yes         Global      No
                                                                           
Ndb_number_of_data_nodes                           Yes         Global      No
                                                                           
ndb_optimization_delayYes  Yes         Yes                     Global      Yes
                                                                           
ndb_optimized_node_selectionYesYes     Yes                     Global      No
                                                                           
Ndb_pruned_scan_count                              Yes         Global      No
                                                                           
Ndb_pushed_queries_defined                         Yes         Global      No
                                                                           
Ndb_pushed_queries_dropped                         Yes         Global      No
                                                                           
Ndb_pushed_queries_executed                        Yes         Global      No
                                                                           
Ndb_pushed_reads                                   Yes         Global      No
                                                                           
ndb_report_thresh_binlog_epoch_slipYesYesYes                   Global      Yes
                                                                           
ndb_report_thresh_binlog_mem_usageYesYesYes                    Global      Yes
                                                                           
Ndb_scan_count                                     Yes         Global      No
                                                                           
ndb_table_no_logging                   Yes                     Session     Yes
                                                                           
ndb_table_temporary                    Yes                     Session     Yes
                                                                           
ndb-transid-mysql-connection-mapYes                                        
               
ndb_use_copying_alter_table            Yes                     Both        No
                                                                           
ndb_use_exact_count                    Yes                     Both        Yes
                                                                           
ndb_use_transactionsYes    Yes         Yes                     Both        Yes
                                                                           
ndb_version                            Yes                     Global      No
                                                                           
ndb_version_string                     Yes                     Global      No
                                                                           
ndb_wait_connectedYes      Yes         Yes                     Global      No
                                                                           
ndb_wait_setup Yes         Yes         Yes                     Global      No
                                                                           
ndbcluster     Yes         Yes                                             
                           
-                                                                          
_Variable_:
have_ndbcluster

ndbinfo_database                       Yes                     Global      No
                                                                           
ndbinfo_max_bytesYes                   Yes                     Both        Yes
                                                                           
ndbinfo_max_rowsYes                    Yes                     Both        Yes
                                                                           
ndbinfo_offline                        Yes                     Global      Yes
                                                                           
ndbinfo_show_hiddenYes                 Yes                     Both        Yes
                                                                           
ndbinfo_table_prefixYes                Yes                     Both        Yes
                                                                           
ndbinfo_version                        Yes                     Global      No
                                                                           
net_buffer_lengthYes       Yes         Yes                     Both        Yes
                                                                           
net_read_timeoutYes        Yes         Yes                     Both        Yes
                                                                           
net_retry_countYes         Yes         Yes                     Both        Yes
                                                                           
net_write_timeoutYes       Yes         Yes                     Both        Yes
                                                                           
new            Yes         Yes         Yes                     Both        Yes
                                                                           
no-defaults    Yes                                                         
               
Not_flushed_delayed_rows                           Yes         Global      No
                                                                           
old            Yes         Yes         Yes                     Global      No
                                                                           
old_alter_tableYes         Yes         Yes                     Both        Yes
                                                                           
old_passwords  Yes         Yes         Yes                     Both        Yes
                                                                           
old-style-user-limitsYes   Yes                                             
                           
one-thread     Yes         Yes                                             
                           
Open_files                                         Yes         Global      No
                                                                           
open_files_limitYes        Yes         Yes                     Global      No
                                                                           
Open_streams                                       Yes         Global      No
                                                                           
Open_table_definitions                             Yes         Global      No
                                                                           
Open_tables                                        Yes         Both        No
                                                                           
Opened_files                                       Yes         Global      No
                                                                           
Opened_table_definitions                           Yes         Both        No
                                                                           
Opened_tables                                      Yes         Both        No
                                                                           
optimizer_prune_levelYes   Yes         Yes                     Both        Yes
                                                                           
optimizer_search_depthYes  Yes         Yes                     Both        Yes
                                                                           
optimizer_switchYes        Yes         Yes                     Both        Yes
                                                                           
partition      Yes         Yes                                             
                           
-                                                                          
_Variable_:
have_partitioning

performance_schemaYes      Yes         Yes                     Global      No
                                                                           
Performance_schema_cond_classes_lost               Yes         Global      No
                                                                           
Performance_schema_cond_instances_lost             Yes         Global      No
                                                                           
performance_schema_events_waits_history_long_sizeYesYesYes     Global      No
                                                                           
performance_schema_events_waits_history_sizeYesYesYes          Global      No
                                                                           
Performance_schema_file_classes_lost               Yes         Global      No
                                                                           
Performance_schema_file_handles_lost               Yes         Global      No
                                                                           
Performance_schema_file_instances_lost             Yes         Global      No
                                                                           
Performance_schema_locker_lost                     Yes         Global      No
                                                                           
performance_schema_max_cond_classesYesYesYes                   Global      No
                                                                           
performance_schema_max_cond_instancesYesYesYes                 Global      No
                                                                           
performance_schema_max_file_classesYesYesYes                   Global      No
                                                                           
performance_schema_max_file_handlesYesYesYes                   Global      No
                                                                           
performance_schema_max_file_instancesYesYesYes                 Global      No
                                                                           
performance_schema_max_mutex_classesYesYesYes                  Global      No
                                                                           
performance_schema_max_mutex_instancesYesYesYes                Global      No
                                                                           
performance_schema_max_rwlock_classesYesYesYes                 Global      No
                                                                           
performance_schema_max_rwlock_instancesYesYesYes               Global      No
                                                                           
performance_schema_max_table_handlesYesYesYes                  Global      No
                                                                           
performance_schema_max_table_instancesYesYesYes                Global      No
                                                                           
performance_schema_max_thread_classesYesYesYes                 Global      No
                                                                           
performance_schema_max_thread_instancesYesYesYes               Global      No
                                                                           
Performance_schema_mutex_classes_lost              Yes         Global      No
                                                                           
Performance_schema_mutex_instances_lost            Yes         Global      No
                                                                           
Performance_schema_rwlock_classes_lost             Yes         Global      No
                                                                           
Performance_schema_rwlock_instances_lost           Yes         Global      No
                                                                           
Performance_schema_table_handles_lost              Yes         Global      No
                                                                           
Performance_schema_table_instances_lost            Yes         Global      No
                                                                           
Performance_schema_thread_classes_lost             Yes         Global      No
                                                                           
Performance_schema_thread_instances_lost           Yes         Global      No
                                                                           
pid_file       Yes         Yes         Yes                     Global      No
                                                                           
plugin_dir     Yes         Yes         Yes                     Global      No
                                                                           
plugin_load    Yes         Yes         Yes                     Global      No
                                                                           
plugin-xxx     Yes         Yes                                             
                           
port           Yes         Yes         Yes                     Global      No
                                                                           
port-open-timeoutYes       Yes                                             
                           
preload_buffer_sizeYes     Yes         Yes                     Both        Yes
                                                                           
Prepared_stmt_count                                Yes         Global      No
                                                                           
print-defaults Yes                                                         
               
profiling                              Yes                     Varies      Yes
                                                                           
profiling_history_sizeYes  Yes         Yes                     Both        Yes
                                                                           
protocol_version                       Yes                     Global      No
                                                                           
proxy_user                             Yes                     Session     No
                                                                           
pseudo_slave_mode                      Yes                     Session     Yes
                                                                           
pseudo_thread_id                       Yes                     Session     Yes
                                                                           
Qcache_free_blocks                                 Yes         Global      No
                                                                           
Qcache_free_memory                                 Yes         Global      No
                                                                           
Qcache_hits                                        Yes         Global      No
                                                                           
Qcache_inserts                                     Yes         Global      No
                                                                           
Qcache_lowmem_prunes                               Yes         Global      No
                                                                           
Qcache_not_cached                                  Yes         Global      No
                                                                           
Qcache_queries_in_cache                            Yes         Global      No
                                                                           
Qcache_total_blocks                                Yes         Global      No
                                                                           
Queries                                            Yes         Both        No
                                                                           
query_alloc_block_sizeYes  Yes         Yes                     Both        Yes
                                                                           
query_cache_limitYes       Yes         Yes                     Global      Yes
                                                                           
query_cache_min_res_unitYesYes         Yes                     Global      Yes
                                                                           
query_cache_sizeYes        Yes         Yes                     Global      Yes
                                                                           
query_cache_typeYes        Yes         Yes                     Both        Yes
                                                                           
query_cache_wlock_invalidateYesYes     Yes                     Both        Yes
                                                                           
query_prealloc_sizeYes     Yes         Yes                     Both        Yes
                                                                           
Questions                                          Yes         Both        No
                                                                           
rand_seed1                             Yes                     Session     Yes
                                                                           
rand_seed2                             Yes                     Session     Yes
                                                                           
range_alloc_block_sizeYes  Yes         Yes                     Both        Yes
                                                                           
read_buffer_sizeYes        Yes         Yes                     Both        Yes
                                                                           
read_only      Yes         Yes         Yes                     Global      Yes
                                                                           
read_rnd_buffer_sizeYes    Yes         Yes                     Both        Yes
                                                                           
relay_log      Yes         Yes         Yes                     Global      No
                                                                           
relay_log_indexYes         Yes         Yes                     Global      No
                                                                           
relay_log_info_fileYes     Yes         Yes                     Global      No
                                                                           
relay_log_purgeYes         Yes         Yes                     Global      Yes
                                                                           
relay_log_recoveryYes      Yes         Yes                     Global      Yes
                                                                           
relay_log_space_limitYes   Yes         Yes                     Global      No
                                                                           
remove         Yes                                                         
               
replicate-do-dbYes         Yes                                             
                           
replicate-do-tableYes      Yes                                             
                           
replicate-ignore-dbYes     Yes                                             
                           
replicate-ignore-tableYes  Yes                                             
                           
replicate-rewrite-dbYes    Yes                                             
                           
replicate-same-server-idYesYes                                             
                           
replicate-wild-do-tableYes Yes                                             
                           
replicate-wild-ignore-tableYesYes                                          
                           
report_host    Yes         Yes         Yes                     Global      No
                                                                           
report_passwordYes         Yes         Yes                     Global      No
                                                                           
report_port    Yes         Yes         Yes                     Global      No
                                                                           
report_user    Yes         Yes         Yes                     Global      No
                                                                           
rpl_recovery_rank                      Yes                     Global      Yes
                                                                           
Rpl_semi_sync_master_clients                       Yes         Global      No
                                                                           
rpl_semi_sync_master_enabledYesYes     Yes                     Global      Yes
                                                                           
Rpl_semi_sync_master_net_avg_wait_time             Yes         Global      No
                                                                           
Rpl_semi_sync_master_net_wait_time                 Yes         Global      No
                                                                           
Rpl_semi_sync_master_net_waits                     Yes         Global      No
                                                                           
Rpl_semi_sync_master_no_times                      Yes         Global      No
                                                                           
Rpl_semi_sync_master_no_tx                         Yes         Global      No
                                                                           
Rpl_semi_sync_master_status                        Yes         Global      No
                                                                           
Rpl_semi_sync_master_timefunc_failures             Yes         Global      No
                                                                           
rpl_semi_sync_master_timeoutYesYes     Yes                     Global      Yes
                                                                           
rpl_semi_sync_master_trace_levelYesYes Yes                     Global      Yes
                                                                           
Rpl_semi_sync_master_tx_avg_wait_time              Yes         Global      No
                                                                           
Rpl_semi_sync_master_tx_wait_time                  Yes         Global      No
                                                                           
Rpl_semi_sync_master_tx_waits                      Yes         Global      No
                                                                           
rpl_semi_sync_master_wait_no_slaveYesYesYes                    Global      Yes
                                                                           
Rpl_semi_sync_master_wait_pos_backtraverse         Yes         Global      No
                                                                           
Rpl_semi_sync_master_wait_sessions                 Yes         Global      No
                                                                           
Rpl_semi_sync_master_yes_tx                        Yes         Global      No
                                                                           
rpl_semi_sync_slave_enabledYesYes      Yes                     Global      Yes
                                                                           
Rpl_semi_sync_slave_status                         Yes         Global      No
                                                                           
rpl_semi_sync_slave_trace_levelYesYes  Yes                     Global      Yes
                                                                           
Rpl_status                                         Yes         Global      No
                                                                           
safe-mode      Yes         Yes                                             
                           
safe-show-databaseYes      Yes                                             
                           
safe-user-createYes        Yes                                             
                           
safemalloc-mem-limitYes    Yes                                             
                           
secure_auth    Yes         Yes         Yes                     Global      Yes
                                                                           
secure_file_privYes        Yes         Yes                     Global      No
                                                                           
Select_full_join                                   Yes         Both        No
                                                                           
Select_full_range_join                             Yes         Both        No
                                                                           
Select_range                                       Yes         Both        No
                                                                           
Select_range_check                                 Yes         Both        No
                                                                           
Select_scan                                        Yes         Both        No
                                                                           
server_id      Yes         Yes         Yes                     Global      Yes
                                                                           
server_id_bits Yes         Yes         Yes                     Global      No
                                                                           
set-variable   Yes         Yes                                             
                           
shared_memory  Yes         Yes         Yes                     Global      No
                                                                           
shared_memory_base_nameYes Yes         Yes                     Global      No
                                                                           
show-slave-auth-infoYes    Yes                                             
                           
skip-character-set-client-handshakeYesYes                                  
                           
skip_external_lockingYes   Yes         Yes                     Global      No
                                                                           
skip-grant-tablesYes       Yes                                             
                           
skip-host-cacheYes         Yes                                             
                           
skip-locking   Yes         Yes                                             
                           
skip_name_resolveYes       Yes         Yes                     Global      No
                                                                           
skip-ndbclusterYes         Yes                                             
                           
skip_networkingYes         Yes         Yes                     Global      No
                                                                           
skip-new       Yes         Yes                                             
                           
skip-partition Yes         Yes                                             
                           
skip-safemallocYes         Yes                                             
                           
skip_show_databaseYes      Yes         Yes                     Global      No
                                                                           
skip-slave-startYes        Yes                                             
                           
skip-ssl       Yes         Yes                                             
                           
skip-stack-traceYes        Yes                                             
                           
skip-symlink   Yes         Yes                                             
                           
skip-thread-priorityYes    Yes                                             
                           
slave_allow_batchingYes    Yes         Yes                     Global      Yes
                                                                           
slave_compressed_protocolYesYes        Yes                     Global      Yes
                                                                           
slave_exec_modeYes         Yes         Yes                     Global      Yes
                                                                           
Slave_heartbeat_period                             Yes         Global      No
                                                                           
slave_load_tmpdirYes       Yes         Yes                     Global      No
                                                                           
slave_max_allowed_packetYesYes         Yes                     Global      Yes
                                                                           
slave_net_timeoutYes       Yes         Yes                     Global      Yes
                                                                           
Slave_open_temp_tables                             Yes         Global      No
                                                                           
Slave_received_heartbeats                          Yes         Global      No
                                                                           
Slave_retried_transactions                         Yes         Global      No
                                                                           
Slave_running                                      Yes         Global      No
                                                                           
slave_skip_errorsYes       Yes         Yes                     Global      No
                                                                           
slave_transaction_retriesYesYes        Yes                     Global      Yes
                                                                           
slave_type_conversionsYes  Yes         Yes                     Global      No
                                                                           
Slow_launch_threads                                Yes         Both        No
                                                                           
slow_launch_timeYes        Yes         Yes                     Global      Yes
                                                                           
Slow_queries                                       Yes         Both        No
                                                                           
slow_query_log Yes         Yes         Yes                     Global      Yes
                                                                           
slow_query_log_fileYes     Yes         Yes                     Global      Yes
                                                                           
slow-start-timeoutYes      Yes                                             
                           
socket         Yes         Yes         Yes                     Global      No
                                                                           
sort_buffer_sizeYes        Yes         Yes                     Both        Yes
                                                                           
Sort_merge_passes                                  Yes         Both        No
                                                                           
Sort_range                                         Yes         Both        No
                                                                           
Sort_rows                                          Yes         Both        No
                                                                           
Sort_scan                                          Yes         Both        No
                                                                           
sporadic-binlog-dump-failYesYes                                            
                           
sql_auto_is_null                       Yes                     Varies      Yes
                                                                           
sql_big_selects                        Yes                     Varies      Yes
                                                                           
sql_big_tables                         Yes                     Varies      Yes
                                                                           
sql_buffer_result                      Yes                     Varies      Yes
                                                                           
sql_log_bin                            Yes                     Varies      Yes
                                                                           
sql_log_off                            Yes                     Varies      Yes
                                                                           
sql_log_update                         Yes                     Session     Yes
                                                                           
sql_low_priority_updates               Yes                     Both        Yes
                                                                           
sql_max_join_size                      Yes                     Both        Yes
                                                                           
sql_mode       Yes         Yes         Yes                     Both        Yes
                                                                           
sql_notes                              Yes                     Varies      Yes
                                                                           
sql_quote_show_create                  Yes                     Varies      Yes
                                                                           
sql_safe_updates                       Yes                     Varies      Yes
                                                                           
sql_select_limit                       Yes                     Both        Yes
                                                                           
sql_slave_skip_counter                 Yes                     Global      Yes
                                                                           
sql_warnings                           Yes                     Varies      Yes
                                                                           
ssl            Yes         Yes                                             
                           
Ssl_accept_renegotiates                            Yes         Global      No
                                                                           
Ssl_accepts                                        Yes         Global      No
                                                                           
ssl_ca         Yes         Yes         Yes                     Global      No
                                                                           
Ssl_callback_cache_hits                            Yes         Global      No
                                                                           
ssl_capath     Yes         Yes         Yes                     Global      No
                                                                           
ssl_cert       Yes         Yes         Yes                     Global      No
                                                                           
Ssl_cipher                                         Yes         Both        No
                                                                           
ssl_cipher     Yes         Yes         Yes                     Global      No
                                                                           
Ssl_cipher_list                                    Yes         Both        No
                                                                           
Ssl_client_connects                                Yes         Global      No
                                                                           
Ssl_connect_renegotiates                           Yes         Global      No
                                                                           
Ssl_ctx_verify_depth                               Yes         Global      No
                                                                           
Ssl_ctx_verify_mode                                Yes         Global      No
                                                                           
Ssl_default_timeout                                Yes         Both        No
                                                                           
Ssl_finished_accepts                               Yes         Global      No
                                                                           
Ssl_finished_connects                              Yes         Global      No
                                                                           
ssl_key        Yes         Yes         Yes                     Global      No
                                                                           
Ssl_session_cache_hits                             Yes         Global      No
                                                                           
Ssl_session_cache_misses                           Yes         Global      No
                                                                           
Ssl_session_cache_mode                             Yes         Global      No
                                                                           
Ssl_session_cache_overflows                        Yes         Global      No
                                                                           
Ssl_session_cache_size                             Yes         Global      No
                                                                           
Ssl_session_cache_timeouts                         Yes         Global      No
                                                                           
Ssl_sessions_reused                                Yes         Both        No
                                                                           
Ssl_used_session_cache_entries                     Yes         Global      No
                                                                           
Ssl_verify_depth                                   Yes         Both        No
                                                                           
Ssl_verify_mode                                    Yes         Both        No
                                                                           
Ssl_version                                        Yes         Both        No
                                                                           
standalone     Yes         Yes                                             
                           
storage_engine                         Yes                     Both        Yes
                                                                           
stored_program_cacheYes    Yes         Yes                     Global      Yes
                                                                           
super-large-pagesYes       Yes                                             
                           
symbolic-links Yes         Yes                                             
                           
sync_binlog    Yes         Yes         Yes                     Global      Yes
                                                                           
sync_frm       Yes         Yes         Yes                     Global      Yes
                                                                           
sync_master_infoYes        Yes         Yes                     Global      Yes
                                                                           
sync_relay_log Yes         Yes         Yes                     Global      Yes
                                                                           
sync_relay_log_infoYes     Yes         Yes                     Global      Yes
                                                                           
sysdate-is-now Yes         Yes                                             
                           
system_time_zone                       Yes                     Global      No
                                                                           
table_definition_cacheYes  Yes         Yes                     Global      Yes
                                                                           
table_lock_wait_timeoutYes Yes         Yes                     Global      Yes
                                                                           
Table_locks_immediate                              Yes         Global      No
                                                                           
Table_locks_waited                                 Yes         Global      No
                                                                           
table_open_cacheYes        Yes         Yes                     Global      Yes
                                                                           
table_type                             Yes                     Both        Yes
                                                                           
tc-heuristic-recoverYes    Yes                                             
                           
Tc_log_max_pages_used                              Yes         Global      No
                                                                           
Tc_log_page_size                                   Yes         Global      No
                                                                           
Tc_log_page_waits                                  Yes         Global      No
                                                                           
temp-pool      Yes         Yes                                             
                           
thread_cache_sizeYes       Yes         Yes                     Global      Yes
                                                                           
thread_concurrencyYes      Yes         Yes                     Global      No
                                                                           
thread_handlingYes         Yes         Yes                     Global      No
                                                                           
thread_pool_algorithmYes   Yes         Yes                     Global      No
                                                                           
thread_pool_high_priority_connectionYesYesYes                  Both        Yes
                                                                           
thread_pool_max_unused_threadsYesYes   Yes                     Global      Yes
                                                                           
thread_pool_prio_kickup_timerYesYes    Yes                     Both        Yes
                                                                           
thread_pool_sizeYes        Yes         Yes                     Global      No
                                                                           
thread_pool_stall_limitYes Yes         Yes                     Global      Yes
                                                                           
thread_stack   Yes         Yes         Yes                     Global      No
                                                                           
Threads_cached                                     Yes         Global      No
                                                                           
Threads_connected                                  Yes         Global      No
                                                                           
Threads_created                                    Yes         Global      No
                                                                           
Threads_running                                    Yes         Global      No
                                                                           
time_format                            Yes                     Varies      No
                                                                           
time_zone                              Yes                     Both        Yes
                                                                           
timed_mutexes  Yes         Yes         Yes                     Global      Yes
                                                                           
timestamp                              Yes                     Session     Yes
                                                                           
tmp_table_size Yes         Yes         Yes                     Both        Yes
                                                                           
tmpdir         Yes         Yes         Yes                     Global      No
                                                                           
transaction_alloc_block_sizeYesYes     Yes                     Both        Yes
                                                                           
transaction_allow_batching             Yes                     Session     Yes
                                                                           
transaction-isolationYes   Yes                                             
                           
-                                                                          
_Variable_:
tx_isolation

transaction_prealloc_sizeYesYes        Yes                     Both        Yes
                                                                           
tx_isolation                           Yes                     Both        Yes
                                                                           
unique_checks                          Yes                     Varies      Yes
                                                                           
updatable_views_with_limitYesYes       Yes                     Both        Yes
                                                                           
Uptime                                             Yes         Global      No
                                                                           
Uptime_since_flush_status                          Yes         Global      No
                                                                           
use-symbolic-linksYes      Yes                                             
                           
user           Yes         Yes                                             
                           
verbose        Yes         Yes                                             
                           
version                                Yes                     Global      No
                                                                           
version_comment                        Yes                     Global      No
                                                                           
version_compile_machine                Yes                     Global      No
                                                                           
version_compile_os                     Yes                     Global      No
                                                                           
wait_timeout   Yes         Yes         Yes                     Both        Yes
                                                                           
warning_count                          Yes                     Session     No
                                                                           
warnings       Yes         Yes                                 
                           

*Notes:* 1.  This option is dynamic, but only the server should set this
information.  You should not set the value of this variable manually.


File: manual.info.tmp,  Node: server-system-variable-reference,  Next: server-status-variable-reference,  Prev: server-option-variable-reference,  Up: mysqld-server

5.1.4 Server System Variable Reference
--------------------------------------

The following table lists all system variables applicable within
'mysqld'.

The table lists command-line options (Cmd-line), options valid in
configuration files (Option file), server system variables (System Var),
and status variables (Status var) in one unified list, with an
indication of where each option or variable is valid.  If a server
option set on the command line or in an option file differs from the
name of the corresponding system variable, the variable name is noted
immediately below the corresponding option.  The scope of the variable
(Var Scope) is Global, Session, or both.  Please see the corresponding
item descriptions for details on setting and using the variables.  Where
appropriate, direct links to further information about the items are
provided.

*System Variable Summary*

Name           Cmd-Line    Option      System      Var Scope   Dynamic
                           File        Var                     
                                       
audit_log_buffer_sizeYes   Yes         Yes         Global      No
                                                               
audit_log_file Yes         Yes         Yes         Global      No
                                                               
audit_log_flush                        Yes         Global      Yes
                                                               
audit_log_formatYes        Yes         Yes         Global      No
                                                               
audit_log_policyYes        Yes         Yes         Global      Yes
                                                               
audit_log_rotate_on_sizeYesYes         Yes         Global      Yes
                                                               
audit_log_strategyYes      Yes         Yes         Global      No
                                                               
authentication_windows_log_levelYesYes Yes         Global      No
                                                               
authentication_windows_use_principal_nameYesYesYes Global      No
                                                               
auto_increment_incrementYesYes         Yes         Both        Yes
                                                               
auto_increment_offsetYes   Yes         Yes         Both        Yes
                                                               
autocommit     Yes         Yes         Yes         Varies      Yes
                                                               
automatic_sp_privilegesYes Yes         Yes         Global      Yes
                                                               
back_log       Yes         Yes         Yes         Global      No
                                                               
basedir        Yes         Yes         Yes         Global      No
                                                               
big_tables     Yes         Yes         Yes         Varies      Yes
                                                               
binlog_cache_sizeYes       Yes         Yes         Global      Yes
                                                               
binlog_direct_non_transactional_updatesYesYesYes   Both        Yes
                                                               
binlog_format  Yes         Yes         Yes         Both        Yes
                                                               
binlog_stmt_cache_sizeYes  Yes         Yes         Global      Yes
                                                               
bulk_insert_buffer_sizeYes Yes         Yes         Both        Yes
                                                               
character_set_client                   Yes         Both        Yes
                                                               
character_set_connection               Yes         Both        Yes
                                                               
character_set_database                 Yes         Both        Yes
(note 1)                                                       

character_set_filesystemYesYes         Yes         Both        Yes
                                                               
character_set_results                  Yes         Both        Yes
                                                               
character_set_serverYes    Yes         Yes         Both        Yes
                                                               
character_set_system                   Yes         Global      No
                                                               
character_sets_dirYes      Yes         Yes         Global      No
                                                               
collation_connection                   Yes         Both        Yes
                                                               
collation_database                     Yes         Both        Yes
(note 1)                                                       

collation_serverYes        Yes         Yes         Both        Yes
                                                               
completion_typeYes         Yes         Yes         Both        Yes
                                                               
concurrent_insertYes       Yes         Yes         Global      Yes
                                                               
connect_timeoutYes         Yes         Yes         Global      Yes
                                                               
datadir        Yes         Yes         Yes         Global      No
                                                               
date_format                            Yes         Varies      No
                                                               
datetime_format                        Yes         Varies      No
                                                               
debug          Yes         Yes         Yes         Both        Yes
                                                               
debug_sync                             Yes         Varies      Yes
                                                               
default_storage_engineYes  Yes         Yes         Both        Yes
                                                               
default_week_formatYes     Yes         Yes         Both        Yes
                                                               
delay_key_writeYes         Yes         Yes         Global      Yes
                                                               
delayed_insert_limitYes    Yes         Yes         Global      Yes
                                                               
delayed_insert_timeoutYes  Yes         Yes         Global      Yes
                                                               
delayed_queue_sizeYes      Yes         Yes         Global      Yes
                                                               
div_precision_incrementYes Yes         Yes         Both        Yes
                                                               
engine_condition_pushdownYesYes        Yes         Both        Yes
                                                               
error_count                            Yes         Session     No
                                                               
event_schedulerYes         Yes         Yes         Global      Yes
                                                               
expire_logs_daysYes        Yes         Yes         Global      Yes
                                                               
external_user                          Yes         Session     No
                                                               
flush          Yes         Yes         Yes         Global      Yes
                                                               
flush_time     Yes         Yes         Yes         Global      Yes
                                                               
foreign_key_checks                     Yes         Varies      Yes
                                                               
ft_boolean_syntaxYes       Yes         Yes         Global      Yes
                                                               
ft_max_word_lenYes         Yes         Yes         Global      No
                                                               
ft_min_word_lenYes         Yes         Yes         Global      No
                                                               
ft_query_expansion_limitYesYes         Yes         Global      No
                                                               
ft_stopword_fileYes        Yes         Yes         Global      No
                                                               
general_log    Yes         Yes         Yes         Global      Yes
                                                               
general_log_fileYes        Yes         Yes         Global      Yes
                                                               
group_concat_max_lenYes    Yes         Yes         Both        Yes
                                                               
have_compress                          Yes         Global      No
                                                               
have_crypt                             Yes         Global      No
                                                               
have_csv                               Yes         Global      No
                                                               
have_dynamic_loading                   Yes         Global      No
                                                               
have_geometry                          Yes         Global      No
                                                               
have_innodb                            Yes         Global      No
                                                               
have_ndbcluster                        Yes         Global      No
                                                               
have_openssl                           Yes         Global      No
                                                               
have_partitioning                      Yes         Global      No
                                                               
have_profiling                         Yes         Global      No
                                                               
have_query_cache                       Yes         Global      No
                                                               
have_rtree_keys                        Yes         Global      No
                                                               
have_ssl                               Yes         Global      No
                                                               
have_symlink                           Yes         Global      No
                                                               
hostname                               Yes         Global      No
                                                               
identity                               Yes         Session     Yes
                                                               
ignore_builtin_innodbYes   Yes         Yes         Global      No
                                                               
init_connect   Yes         Yes         Yes         Global      Yes
                                                               
init_file      Yes         Yes         Yes         Global      No
                                                               
init_slave     Yes         Yes         Yes         Global      Yes
                                                               
innodb_adaptive_flushingYesYes         Yes         Global      Yes
                                                               
innodb_adaptive_hash_indexYesYes       Yes         Global      Yes
                                                               
innodb_additional_mem_pool_sizeYesYes  Yes         Global      No
                                                               
innodb_autoextend_incrementYesYes      Yes         Global      Yes
                                                               
innodb_autoinc_lock_modeYesYes         Yes         Global      No
                                                               
innodb_buffer_pool_instancesYesYes     Yes         Global      No
                                                               
innodb_buffer_pool_sizeYes Yes         Yes         Global      No
                                                               
innodb_change_bufferingYes Yes         Yes         Global      Yes
                                                               
innodb_change_buffering_debugYesYes    Yes         Global      Yes
                                                               
innodb_checksumsYes        Yes         Yes         Global      No
                                                               
innodb_commit_concurrencyYesYes        Yes         Global      Yes
                                                               
innodb_concurrency_ticketsYesYes       Yes         Global      Yes
                                                               
innodb_data_file_pathYes   Yes         Yes         Global      No
                                                               
innodb_data_home_dirYes    Yes         Yes         Global      No
                                                               
innodb_doublewriteYes      Yes         Yes         Global      No
                                                               
innodb_fast_shutdownYes    Yes         Yes         Global      Yes
                                                               
innodb_file_formatYes      Yes         Yes         Global      Yes
                                                               
innodb_file_format_checkYesYes         Yes         Global      Varies
                                                               
innodb_file_format_maxYes  Yes         Yes         Global      Yes
                                                               
innodb_file_per_tableYes   Yes         Yes         Global      Yes
                                                               
innodb_flush_log_at_trx_commitYesYes   Yes         Global      Yes
                                                               
innodb_flush_methodYes     Yes         Yes         Global      No
                                                               
innodb_force_load_corruptedYesYes      Yes         Global      No
                                                               
innodb_force_recoveryYes   Yes         Yes         Global      No
                                                               
innodb_io_capacityYes      Yes         Yes         Global      Yes
                                                               
innodb_large_prefixYes     Yes         Yes         Global      Yes
                                                               
innodb_limit_optimistic_insert_debugYesYesYes      Global      Yes
                                                               
innodb_lock_wait_timeoutYesYes         Yes         Both        Yes
                                                               
innodb_locks_unsafe_for_binlogYesYes   Yes         Global      No
                                                               
innodb_log_buffer_sizeYes  Yes         Yes         Global      No
                                                               
innodb_log_file_sizeYes    Yes         Yes         Global      No
                                                               
innodb_log_files_in_groupYesYes        Yes         Global      No
                                                               
innodb_log_group_home_dirYesYes        Yes         Global      No
                                                               
innodb_max_dirty_pages_pctYesYes       Yes         Global      Yes
                                                               
innodb_max_purge_lagYes    Yes         Yes         Global      Yes
                                                               
innodb_mirrored_log_groupsYesYes       Yes         Global      No
                                                               
innodb_old_blocks_pctYes   Yes         Yes         Global      Yes
                                                               
innodb_old_blocks_timeYes  Yes         Yes         Global      Yes
                                                               
innodb_open_filesYes       Yes         Yes         Global      No
                                                               
innodb_print_all_deadlocksYesYes       Yes         Global      Yes
                                                               
innodb_purge_batch_sizeYes Yes         Yes         Global      Yes
                                                               
innodb_purge_threadsYes    Yes         Yes         Global      No
                                                               
innodb_random_read_aheadYesYes         Yes         Global      Yes
                                                               
innodb_read_ahead_thresholdYesYes      Yes         Global      Yes
                                                               
innodb_read_io_threadsYes  Yes         Yes         Global      No
                                                               
innodb_replication_delayYesYes         Yes         Global      Yes
                                                               
innodb_rollback_on_timeoutYesYes       Yes         Global      No
                                                               
innodb_rollback_segmentsYesYes         Yes         Global      Yes
                                                               
innodb_spin_wait_delayYes  Yes         Yes         Global      Yes
                                                               
innodb_stats_methodYes     Yes         Yes         Global      Yes
                                                               
innodb_stats_on_metadataYesYes         Yes         Global      Yes
                                                               
innodb_stats_sample_pagesYesYes        Yes         Global      Yes
                                                               
innodb_strict_modeYes      Yes         Yes         Both        Yes
                                                               
innodb_support_xaYes       Yes         Yes         Both        Yes
                                                               
innodb_sync_spin_loopsYes  Yes         Yes         Global      Yes
                                                               
innodb_table_locksYes      Yes         Yes         Both        Yes
                                                               
innodb_thread_concurrencyYesYes        Yes         Global      Yes
                                                               
innodb_thread_sleep_delayYesYes        Yes         Global      Yes
                                                               
innodb_trx_purge_view_update_only_debugYesYesYes   Global      Yes
                                                               
innodb_trx_rseg_n_slots_debugYesYes    Yes         Global      Yes
                                                               
innodb_use_native_aioYes   Yes         Yes         Global      No
                                                               
innodb_use_sys_mallocYes   Yes         Yes         Global      No
                                                               
innodb_version                         Yes         Global      No
                                                               
innodb_write_io_threadsYes Yes         Yes         Global      No
                                                               
insert_id                              Yes         Session     Yes
                                                               
interactive_timeoutYes     Yes         Yes         Both        Yes
                                                               
join_buffer_sizeYes        Yes         Yes         Both        Yes
                                                               
keep_files_on_createYes    Yes         Yes         Both        Yes
                                                               
key_buffer_sizeYes         Yes         Yes         Global      Yes
                                                               
key_cache_age_thresholdYes Yes         Yes         Global      Yes
                                                               
key_cache_block_sizeYes    Yes         Yes         Global      Yes
                                                               
key_cache_division_limitYesYes         Yes         Global      Yes
                                                               
language       Yes         Yes         Yes         Global      No
                                                               
large_files_support                    Yes         Global      No
                                                               
large_page_size                        Yes         Global      No
                                                               
large_pages    Yes         Yes         Yes         Global      No
                                                               
last_insert_id                         Yes         Session     Yes
                                                               
lc_messages    Yes         Yes         Yes         Both        Yes
                                                               
lc_messages_dirYes         Yes         Yes         Global      No
                                                               
lc_time_names  Yes         Yes         Yes         Both        Yes
                                                               
license                                Yes         Global      No
                                                               
local_infile   Yes         Yes         Yes         Global      Yes
                                                               
lock_wait_timeoutYes       Yes         Yes         Both        Yes
                                                               
locked_in_memory                       Yes         Global      No
                                                               
log            Yes         Yes         Yes         Global      Yes
                                                               
log_bin                                Yes         Global      No
                                                               
log_bin_trust_function_creatorsYesYes  Yes         Global      Yes
                                                               
log_bin_trust_routine_creatorsYesYes   Yes         Global      Yes
                                                               
log_bin_use_v1_row_eventsYesYes        Yes         Global      No
                                                               
log_error      Yes         Yes         Yes         Global      No
                                                               
log_output     Yes         Yes         Yes         Global      Yes
                                                               
log_queries_not_using_indexesYesYes    Yes         Global      Yes
                                                               
log_slave_updatesYes       Yes         Yes         Global      No
                                                               
log_slow_queriesYes        Yes         Yes         Global      Yes
                                                               
log_warnings   Yes         Yes         Yes         Both        Yes
                                                               
long_query_timeYes         Yes         Yes         Both        Yes
                                                               
low_priority_updatesYes    Yes         Yes         Both        Yes
                                                               
lower_case_file_system                 Yes         Global      No
                                                               
lower_case_table_namesYes  Yes         Yes         Global      No
                                                               
max_allowed_packetYes      Yes         Yes         Both        Yes
                                                               
max_binlog_cache_sizeYes   Yes         Yes         Global      Yes
                                                               
max_binlog_sizeYes         Yes         Yes         Global      Yes
                                                               
max_binlog_stmt_cache_sizeYesYes       Yes         Global      Yes
                                                               
max_connect_errorsYes      Yes         Yes         Global      Yes
                                                               
max_connectionsYes         Yes         Yes         Global      Yes
                                                               
max_delayed_threadsYes     Yes         Yes         Both        Yes
                                                               
max_error_countYes         Yes         Yes         Both        Yes
                                                               
max_heap_table_sizeYes     Yes         Yes         Both        Yes
                                                               
max_insert_delayed_threads             Yes         Both        Yes
                                                               
max_join_size  Yes         Yes         Yes         Both        Yes
                                                               
max_length_for_sort_dataYesYes         Yes         Both        Yes
                                                               
max_long_data_sizeYes      Yes         Yes         Global      No
                                                               
max_prepared_stmt_countYes Yes         Yes         Global      Yes
                                                               
max_relay_log_sizeYes      Yes         Yes         Global      Yes
                                                               
max_seeks_for_keyYes       Yes         Yes         Both        Yes
                                                               
max_sort_lengthYes         Yes         Yes         Both        Yes
                                                               
max_sp_recursion_depthYes  Yes         Yes         Both        Yes
                                                               
max_tmp_tables                         Yes         Both        Yes
                                                               
max_user_connectionsYes    Yes         Yes         Both        Yes
                                                               
max_write_lock_countYes    Yes         Yes         Global      Yes
                                                               
metadata_locks_cache_sizeYesYes        Yes         Global      No
                                                               
min_examined_row_limitYes  Yes         Yes         Both        Yes
                                                               
multi_range_countYes       Yes         Yes         Both        Yes
                                                               
myisam_data_pointer_sizeYesYes         Yes         Global      Yes
                                                               
myisam_max_sort_file_sizeYesYes        Yes         Global      Yes
                                                               
myisam_mmap_sizeYes        Yes         Yes         Global      No
                                                               
myisam_recover_optionsYes  Yes         Yes         Global      No
                                                               
myisam_repair_threadsYes   Yes         Yes         Both        Yes
                                                               
myisam_sort_buffer_sizeYes Yes         Yes         Both        Yes
                                                               
myisam_stats_methodYes     Yes         Yes         Both        Yes
                                                               
myisam_use_mmapYes         Yes         Yes         Global      Yes
                                                               
named_pipe     Yes         Yes         Yes         Global      No
                                                               
ndb_autoincrement_prefetch_szYesYes    Yes         Both        Yes
                                                               
ndb_batch_size Yes         Yes         Yes         Global      No
                                                               
ndb_blob_read_batch_bytesYesYes        Yes         Both        Yes
                                                               
ndb_blob_write_batch_bytesYesYes       Yes         Both        Yes
                                                               
ndb_cache_check_timeYes    Yes         Yes         Global      Yes
                                                               
ndb_cluster_connection_poolYesYes      Yes         Global      No
                                                               
ndb_deferred_constraintsYesYes         Yes         Both        Yes
                                                               
ndb_deferred_constraintsYesYes         Yes         Both        Yes
                                                               
ndb_distributionYes        Yes         Yes         Global      Yes
                                                               
ndb_distributionYes        Yes         Yes         Global      Yes
                                                               
ndb_eventbuffer_max_allocYesYes        Yes         Global      Yes
                                                               
ndb_extra_loggingYes       Yes         Yes         Global      Yes
                                                               
ndb_force_send Yes         Yes         Yes         Both        Yes
                                                               
ndb_index_stat_cache_entriesYesYes     Yes         Both        Yes
                                                               
ndb_index_stat_enableYes   Yes         Yes         Both        Yes
                                                               
ndb_index_stat_optionYes   Yes         Yes         Both        Yes
                                                               
ndb_index_stat_update_freqYesYes       Yes         Both        Yes
                                                               
ndb_join_pushdown                      Yes         Both        Yes
                                                               
ndb_log_apply_statusYes    Yes         Yes         Global      No
                                                               
ndb_log_apply_statusYes    Yes         Yes         Global      No
                                                               
ndb_log_bin    Yes                     Yes         Both        Yes
                                                               
ndb_log_binlog_indexYes                Yes         Global      Yes
                                                               
ndb_log_empty_epochsYes    Yes         Yes         Global      Yes
                                                               
ndb_log_empty_epochsYes    Yes         Yes         Global      Yes
                                                               
ndb_log_empty_updateYes    Yes         Yes         Global      Yes
                                                               
ndb_log_empty_updateYes    Yes         Yes         Global      Yes
                                                               
ndb_log_orig   Yes         Yes         Yes         Global      No
                                                               
ndb_log_orig   Yes         Yes         Yes         Global      No
                                                               
ndb_log_transaction_idYes  Yes         Yes         Global      No
                                                               
ndb_log_transaction_id                 Yes         Global      No
                                                               
ndb_log_update_as_writeYes Yes         Yes         Global      Yes
                                                               
ndb_log_updated_onlyYes    Yes         Yes         Global      Yes
                                                               
ndb_optimization_delayYes  Yes         Yes         Global      Yes
                                                               
ndb_optimized_node_selectionYesYes     Yes         Global      No
                                                               
ndb_report_thresh_binlog_epoch_slipYesYesYes       Global      Yes
                                                               
ndb_report_thresh_binlog_mem_usageYesYesYes        Global      Yes
                                                               
ndb_table_no_logging                   Yes         Session     Yes
                                                               
ndb_table_temporary                    Yes         Session     Yes
                                                               
ndb_use_copying_alter_table            Yes         Both        No
                                                               
ndb_use_exact_count                    Yes         Both        Yes
                                                               
ndb_use_transactionsYes    Yes         Yes         Both        Yes
                                                               
ndb_version                            Yes         Global      No
                                                               
ndb_version_string                     Yes         Global      No
                                                               
ndb_wait_connectedYes      Yes         Yes         Global      No
                                                               
ndb_wait_setup Yes         Yes         Yes         Global      No
                                                               
ndbinfo_database                       Yes         Global      No
                                                               
ndbinfo_max_bytesYes                   Yes         Both        Yes
                                                               
ndbinfo_max_rowsYes                    Yes         Both        Yes
                                                               
ndbinfo_offline                        Yes         Global      Yes
                                                               
ndbinfo_show_hiddenYes                 Yes         Both        Yes
                                                               
ndbinfo_table_prefixYes                Yes         Both        Yes
                                                               
ndbinfo_version                        Yes         Global      No
                                                               
net_buffer_lengthYes       Yes         Yes         Both        Yes
                                                               
net_read_timeoutYes        Yes         Yes         Both        Yes
                                                               
net_retry_countYes         Yes         Yes         Both        Yes
                                                               
net_write_timeoutYes       Yes         Yes         Both        Yes
                                                               
new            Yes         Yes         Yes         Both        Yes
                                                               
old            Yes         Yes         Yes         Global      No
                                                               
old_alter_tableYes         Yes         Yes         Both        Yes
                                                               
old_passwords  Yes         Yes         Yes         Both        Yes
                                                               
open_files_limitYes        Yes         Yes         Global      No
                                                               
optimizer_prune_levelYes   Yes         Yes         Both        Yes
                                                               
optimizer_search_depthYes  Yes         Yes         Both        Yes
                                                               
optimizer_switchYes        Yes         Yes         Both        Yes
                                                               
performance_schemaYes      Yes         Yes         Global      No
                                                               
performance_schema_events_waits_history_long_sizeYesYesYesGlobalNo
                                                               
performance_schema_events_waits_history_sizeYesYesYesGlobal    No
                                                               
performance_schema_max_cond_classesYesYesYes       Global      No
                                                               
performance_schema_max_cond_instancesYesYesYes     Global      No
                                                               
performance_schema_max_file_classesYesYesYes       Global      No
                                                               
performance_schema_max_file_handlesYesYesYes       Global      No
                                                               
performance_schema_max_file_instancesYesYesYes     Global      No
                                                               
performance_schema_max_mutex_classesYesYesYes      Global      No
                                                               
performance_schema_max_mutex_instancesYesYesYes    Global      No
                                                               
performance_schema_max_rwlock_classesYesYesYes     Global      No
                                                               
performance_schema_max_rwlock_instancesYesYesYes   Global      No
                                                               
performance_schema_max_table_handlesYesYesYes      Global      No
                                                               
performance_schema_max_table_instancesYesYesYes    Global      No
                                                               
performance_schema_max_thread_classesYesYesYes     Global      No
                                                               
performance_schema_max_thread_instancesYesYesYes   Global      No
                                                               
pid_file       Yes         Yes         Yes         Global      No
                                                               
plugin_dir     Yes         Yes         Yes         Global      No
                                                               
plugin_load    Yes         Yes         Yes         Global      No
                                                               
port           Yes         Yes         Yes         Global      No
                                                               
preload_buffer_sizeYes     Yes         Yes         Both        Yes
                                                               
profiling                              Yes         Varies      Yes
                                                               
profiling_history_sizeYes  Yes         Yes         Both        Yes
                                                               
protocol_version                       Yes         Global      No
                                                               
proxy_user                             Yes         Session     No
                                                               
pseudo_slave_mode                      Yes         Session     Yes
                                                               
pseudo_thread_id                       Yes         Session     Yes
                                                               
query_alloc_block_sizeYes  Yes         Yes         Both        Yes
                                                               
query_cache_limitYes       Yes         Yes         Global      Yes
                                                               
query_cache_min_res_unitYesYes         Yes         Global      Yes
                                                               
query_cache_sizeYes        Yes         Yes         Global      Yes
                                                               
query_cache_typeYes        Yes         Yes         Both        Yes
                                                               
query_cache_wlock_invalidateYesYes     Yes         Both        Yes
                                                               
query_prealloc_sizeYes     Yes         Yes         Both        Yes
                                                               
rand_seed1                             Yes         Session     Yes
                                                               
rand_seed2                             Yes         Session     Yes
                                                               
range_alloc_block_sizeYes  Yes         Yes         Both        Yes
                                                               
read_buffer_sizeYes        Yes         Yes         Both        Yes
                                                               
read_only      Yes         Yes         Yes         Global      Yes
                                                               
read_rnd_buffer_sizeYes    Yes         Yes         Both        Yes
                                                               
relay_log      Yes         Yes         Yes         Global      No
                                                               
relay_log_indexYes         Yes         Yes         Global      No
                                                               
relay_log_info_fileYes     Yes         Yes         Global      No
                                                               
relay_log_purgeYes         Yes         Yes         Global      Yes
                                                               
relay_log_recoveryYes      Yes         Yes         Global      Yes
                                                               
relay_log_space_limitYes   Yes         Yes         Global      No
                                                               
report_host    Yes         Yes         Yes         Global      No
                                                               
report_passwordYes         Yes         Yes         Global      No
                                                               
report_port    Yes         Yes         Yes         Global      No
                                                               
report_user    Yes         Yes         Yes         Global      No
                                                               
rpl_recovery_rank                      Yes         Global      Yes
                                                               
rpl_semi_sync_master_enabledYesYes     Yes         Global      Yes
                                                               
rpl_semi_sync_master_timeoutYesYes     Yes         Global      Yes
                                                               
rpl_semi_sync_master_trace_levelYesYes Yes         Global      Yes
                                                               
rpl_semi_sync_master_wait_no_slaveYesYesYes        Global      Yes
                                                               
rpl_semi_sync_slave_enabledYesYes      Yes         Global      Yes
                                                               
rpl_semi_sync_slave_trace_levelYesYes  Yes         Global      Yes
                                                               
secure_auth    Yes         Yes         Yes         Global      Yes
                                                               
secure_file_privYes        Yes         Yes         Global      No
                                                               
server_id      Yes         Yes         Yes         Global      Yes
                                                               
server_id_bits Yes         Yes         Yes         Global      No
                                                               
shared_memory  Yes         Yes         Yes         Global      No
                                                               
shared_memory_base_nameYes Yes         Yes         Global      No
                                                               
skip_external_lockingYes   Yes         Yes         Global      No
                                                               
skip_name_resolveYes       Yes         Yes         Global      No
                                                               
skip_networkingYes         Yes         Yes         Global      No
                                                               
skip_show_databaseYes      Yes         Yes         Global      No
                                                               
slave_allow_batchingYes    Yes         Yes         Global      Yes
                                                               
slave_compressed_protocolYesYes        Yes         Global      Yes
                                                               
slave_exec_modeYes         Yes         Yes         Global      Yes
                                                               
slave_load_tmpdirYes       Yes         Yes         Global      No
                                                               
slave_max_allowed_packetYesYes         Yes         Global      Yes
                                                               
slave_net_timeoutYes       Yes         Yes         Global      Yes
                                                               
slave_skip_errorsYes       Yes         Yes         Global      No
                                                               
slave_transaction_retriesYesYes        Yes         Global      Yes
                                                               
slave_type_conversionsYes  Yes         Yes         Global      No
                                                               
slow_launch_timeYes        Yes         Yes         Global      Yes
                                                               
slow_query_log Yes         Yes         Yes         Global      Yes
                                                               
slow_query_log_fileYes     Yes         Yes         Global      Yes
                                                               
socket         Yes         Yes         Yes         Global      No
                                                               
sort_buffer_sizeYes        Yes         Yes         Both        Yes
                                                               
sql_auto_is_null                       Yes         Varies      Yes
                                                               
sql_big_selects                        Yes         Varies      Yes
                                                               
sql_big_tables                         Yes         Varies      Yes
                                                               
sql_buffer_result                      Yes         Varies      Yes
                                                               
sql_log_bin                            Yes         Varies      Yes
                                                               
sql_log_off                            Yes         Varies      Yes
                                                               
sql_log_update                         Yes         Session     Yes
                                                               
sql_low_priority_updates               Yes         Both        Yes
                                                               
sql_max_join_size                      Yes         Both        Yes
                                                               
sql_mode       Yes         Yes         Yes         Both        Yes
                                                               
sql_notes                              Yes         Varies      Yes
                                                               
sql_quote_show_create                  Yes         Varies      Yes
                                                               
sql_safe_updates                       Yes         Varies      Yes
                                                               
sql_select_limit                       Yes         Both        Yes
                                                               
sql_slave_skip_counter                 Yes         Global      Yes
                                                               
sql_warnings                           Yes         Varies      Yes
                                                               
ssl_ca         Yes         Yes         Yes         Global      No
                                                               
ssl_capath     Yes         Yes         Yes         Global      No
                                                               
ssl_cert       Yes         Yes         Yes         Global      No
                                                               
ssl_cipher     Yes         Yes         Yes         Global      No
                                                               
ssl_key        Yes         Yes         Yes         Global      No
                                                               
storage_engine                         Yes         Both        Yes
                                                               
stored_program_cacheYes    Yes         Yes         Global      Yes
                                                               
sync_binlog    Yes         Yes         Yes         Global      Yes
                                                               
sync_frm       Yes         Yes         Yes         Global      Yes
                                                               
sync_master_infoYes        Yes         Yes         Global      Yes
                                                               
sync_relay_log Yes         Yes         Yes         Global      Yes
                                                               
sync_relay_log_infoYes     Yes         Yes         Global      Yes
                                                               
system_time_zone                       Yes         Global      No
                                                               
table_definition_cacheYes  Yes         Yes         Global      Yes
                                                               
table_lock_wait_timeoutYes Yes         Yes         Global      Yes
                                                               
table_open_cacheYes        Yes         Yes         Global      Yes
                                                               
table_type                             Yes         Both        Yes
                                                               
thread_cache_sizeYes       Yes         Yes         Global      Yes
                                                               
thread_concurrencyYes      Yes         Yes         Global      No
                                                               
thread_handlingYes         Yes         Yes         Global      No
                                                               
thread_pool_algorithmYes   Yes         Yes         Global      No
                                                               
thread_pool_high_priority_connectionYesYesYes      Both        Yes
                                                               
thread_pool_max_unused_threadsYesYes   Yes         Global      Yes
                                                               
thread_pool_prio_kickup_timerYesYes    Yes         Both        Yes
                                                               
thread_pool_sizeYes        Yes         Yes         Global      No
                                                               
thread_pool_stall_limitYes Yes         Yes         Global      Yes
                                                               
thread_stack   Yes         Yes         Yes         Global      No
                                                               
time_format                            Yes         Varies      No
                                                               
time_zone                              Yes         Both        Yes
                                                               
timed_mutexes  Yes         Yes         Yes         Global      Yes
                                                               
timestamp                              Yes         Session     Yes
                                                               
tmp_table_size Yes         Yes         Yes         Both        Yes
                                                               
tmpdir         Yes         Yes         Yes         Global      No
                                                               
transaction_alloc_block_sizeYesYes     Yes         Both        Yes
                                                               
transaction_allow_batching             Yes         Session     Yes
                                                               
transaction_prealloc_sizeYesYes        Yes         Both        Yes
                                                               
tx_isolation                           Yes         Both        Yes
                                                               
unique_checks                          Yes         Varies      Yes
                                                               
updatable_views_with_limitYesYes       Yes         Both        Yes
                                                               
version                                Yes         Global      No
                                                               
version_comment                        Yes         Global      No
                                                               
version_compile_machine                Yes         Global      No
                                                               
version_compile_os                     Yes         Global      No
                                                               
wait_timeout   Yes         Yes         Yes         Both        Yes
                                                               
warning_count                          Yes         Session     No
                                                   

*Notes:* 1.  This option is dynamic, but only the server should set this
information.  You should not set the value of this variable manually.


File: manual.info.tmp,  Node: server-status-variable-reference,  Next: server-options,  Prev: server-system-variable-reference,  Up: mysqld-server

5.1.5 Server Status Variable Reference
--------------------------------------

The following table lists all status variables applicable within
'mysqld'.

The table lists each variable's data type and scope.  The last column
indicates whether the scope for each variable is Global, Session, or
both.  Please see the corresponding item descriptions for details on
setting and using the variables.  Where appropriate, direct links to
further information about the items are provided.

*Status Variable Summary*

Variable Name                 Variable       Variable
                              Type           Scope
                                             
Aborted_clients               Integer        Global
                                             
Aborted_connects              Integer        Global
                                             
Binlog_cache_disk_use         Integer        Global
                                             
Binlog_cache_use              Integer        Global
                                             
Binlog_stmt_cache_disk_use    Integer        Global
                                             
Binlog_stmt_cache_use         Integer        Global
                                             
Bytes_received                Integer        Both
                                             
Bytes_sent                    Integer        Both
                                             
Com_admin_commands            Integer        Both
                                             
Com_alter_db                  Integer        Both
                                             
Com_alter_db_upgrade          Integer        Both
                                             
Com_alter_event               Integer        Both
                                             
Com_alter_function            Integer        Both
                                             
Com_alter_procedure           Integer        Both
                                             
Com_alter_server              Integer        Both
                                             
Com_alter_table               Integer        Both
                                             
Com_alter_tablespace          Integer        Both
                                             
Com_analyze                   Integer        Both
                                             
Com_assign_to_keycache        Integer        Both
                                             
Com_begin                     Integer        Both
                                             
Com_binlog                    Integer        Both
                                             
Com_call_procedure            Integer        Both
                                             
Com_change_db                 Integer        Both
                                             
Com_change_master             Integer        Both
                                             
Com_check                     Integer        Both
                                             
Com_checksum                  Integer        Both
                                             
Com_commit                    Integer        Both
                                             
Com_create_db                 Integer        Both
                                             
Com_create_event              Integer        Both
                                             
Com_create_function           Integer        Both
                                             
Com_create_index              Integer        Both
                                             
Com_create_procedure          Integer        Both
                                             
Com_create_server             Integer        Both
                                             
Com_create_table              Integer        Both
                                             
Com_create_trigger            Integer        Both
                                             
Com_create_udf                Integer        Both
                                             
Com_create_user               Integer        Both
                                             
Com_create_view               Integer        Both
                                             
Com_dealloc_sql               Integer        Both
                                             
Com_delete                    Integer        Both
                                             
Com_delete_multi              Integer        Both
                                             
Com_do                        Integer        Both
                                             
Com_drop_db                   Integer        Both
                                             
Com_drop_event                Integer        Both
                                             
Com_drop_function             Integer        Both
                                             
Com_drop_index                Integer        Both
                                             
Com_drop_procedure            Integer        Both
                                             
Com_drop_server               Integer        Both
                                             
Com_drop_table                Integer        Both
                                             
Com_drop_trigger              Integer        Both
                                             
Com_drop_user                 Integer        Both
                                             
Com_drop_view                 Integer        Both
                                             
Com_empty_query               Integer        Both
                                             
Com_execute_sql               Integer        Both
                                             
Com_flush                     Integer        Both
                                             
Com_grant                     Integer        Both
                                             
Com_ha_close                  Integer        Both
                                             
Com_ha_open                   Integer        Both
                                             
Com_ha_read                   Integer        Both
                                             
Com_help                      Integer        Both
                                             
Com_insert                    Integer        Both
                                             
Com_insert_select             Integer        Both
                                             
Com_install_plugin            Integer        Both
                                             
Com_kill                      Integer        Both
                                             
Com_load                      Integer        Both
                                             
Com_lock_tables               Integer        Both
                                             
Com_optimize                  Integer        Both
                                             
Com_preload_keys              Integer        Both
                                             
Com_prepare_sql               Integer        Both
                                             
Com_purge                     Integer        Both
                                             
Com_purge_before_date         Integer        Both
                                             
Com_release_savepoint         Integer        Both
                                             
Com_rename_table              Integer        Both
                                             
Com_rename_user               Integer        Both
                                             
Com_repair                    Integer        Both
                                             
Com_replace                   Integer        Both
                                             
Com_replace_select            Integer        Both
                                             
Com_reset                     Integer        Both
                                             
Com_resignal                  Integer        Both
                                             
Com_revoke                    Integer        Both
                                             
Com_revoke_all                Integer        Both
                                             
Com_rollback                  Integer        Both
                                             
Com_rollback_to_savepoint     Integer        Both
                                             
Com_savepoint                 Integer        Both
                                             
Com_select                    Integer        Both
                                             
Com_set_option                Integer        Both
                                             
Com_show_authors              Integer        Both
                                             
Com_show_binlog_events        Integer        Both
                                             
Com_show_binlogs              Integer        Both
                                             
Com_show_charsets             Integer        Both
                                             
Com_show_collations           Integer        Both
                                             
Com_show_contributors         Integer        Both
                                             
Com_show_create_db            Integer        Both
                                             
Com_show_create_event         Integer        Both
                                             
Com_show_create_func          Integer        Both
                                             
Com_show_create_proc          Integer        Both
                                             
Com_show_create_table         Integer        Both
                                             
Com_show_create_trigger       Integer        Both
                                             
Com_show_databases            Integer        Both
                                             
Com_show_engine_logs          Integer        Both
                                             
Com_show_engine_mutex         Integer        Both
                                             
Com_show_engine_status        Integer        Both
                                             
Com_show_errors               Integer        Both
                                             
Com_show_events               Integer        Both
                                             
Com_show_fields               Integer        Both
                                             
Com_show_function_code        Integer        Both
                                             
Com_show_function_status      Integer        Both
                                             
Com_show_grants               Integer        Both
                                             
Com_show_keys                 Integer        Both
                                             
Com_show_master_status        Integer        Both
                                             
Com_show_ndb_status           Integer        Both
                                             
Com_show_new_master           Integer        Both
                                             
Com_show_open_tables          Integer        Both
                                             
Com_show_plugins              Integer        Both
                                             
Com_show_privileges           Integer        Both
                                             
Com_show_procedure_code       Integer        Both
                                             
Com_show_procedure_status     Integer        Both
                                             
Com_show_processlist          Integer        Both
                                             
Com_show_profile              Integer        Both
                                             
Com_show_profiles             Integer        Both
                                             
Com_show_relaylog_events      Integer        Both
                                             
Com_show_slave_hosts          Integer        Both
                                             
Com_show_slave_status         Integer        Both
                                             
Com_show_status               Integer        Both
                                             
Com_show_storage_engines      Integer        Both
                                             
Com_show_table_status         Integer        Both
                                             
Com_show_tables               Integer        Both
                                             
Com_show_triggers             Integer        Both
                                             
Com_show_variables            Integer        Both
                                             
Com_show_warnings             Integer        Both
                                             
Com_signal                    Integer        Both
                                             
Com_slave_start               Integer        Both
                                             
Com_slave_stop                Integer        Both
                                             
Com_stmt_close                Integer        Both
                                             
Com_stmt_execute              Integer        Both
                                             
Com_stmt_fetch                Integer        Both
                                             
Com_stmt_prepare              Integer        Both
                                             
Com_stmt_reprepare            Integer        Both
                                             
Com_stmt_reset                Integer        Both
                                             
Com_stmt_send_long_data       Integer        Both
                                             
Com_truncate                  Integer        Both
                                             
Com_uninstall_plugin          Integer        Both
                                             
Com_unlock_tables             Integer        Both
                                             
Com_update                    Integer        Both
                                             
Com_update_multi              Integer        Both
                                             
Com_xa_commit                 Integer        Both
                                             
Com_xa_end                    Integer        Both
                                             
Com_xa_prepare                Integer        Both
                                             
Com_xa_recover                Integer        Both
                                             
Com_xa_rollback               Integer        Both
                                             
Com_xa_start                  Integer        Both
                                             
Compression                   Integer        Session
                                             
Connections                   Integer        Global
                                             
Created_tmp_disk_tables       Integer        Both
                                             
Created_tmp_files             Integer        Global
                                             
Created_tmp_tables            Integer        Both
                                             
Delayed_errors                Integer        Global
                                             
Delayed_insert_threads        Integer        Global
                                             
Delayed_writes                Integer        Global
                                             
Flush_commands                Integer        Global
                                             
Handler_commit                Integer        Both
                                             
Handler_delete                Integer        Both
                                             
Handler_discover              Integer        Both
                                             
Handler_prepare               Integer        Both
                                             
Handler_read_first            Integer        Both
                                             
Handler_read_key              Integer        Both
                                             
Handler_read_last             Integer        Both
                                             
Handler_read_next             Integer        Both
                                             
Handler_read_prev             Integer        Both
                                             
Handler_read_rnd              Integer        Both
                                             
Handler_read_rnd_next         Integer        Both
                                             
Handler_rollback              Integer        Both
                                             
Handler_savepoint             Integer        Both
                                             
Handler_savepoint_rollback    Integer        Both
                                             
Handler_update                Integer        Both
                                             
Handler_write                 Integer        Both
                                             
Innodb_buffer_pool_bytes_data Integer        Global
                                             
Innodb_buffer_pool_bytes_dirtyInteger        Global
                                             
Innodb_buffer_pool_pages_data Integer        Global
                                             
Innodb_buffer_pool_pages_dirtyInteger        Global
                                             
Innodb_buffer_pool_pages_flushedInteger      Global
                                             
Innodb_buffer_pool_pages_free Integer        Global
                                             
Innodb_buffer_pool_pages_latchedInteger      Global
                                             
Innodb_buffer_pool_pages_misc Integer        Global
                                             
Innodb_buffer_pool_pages_totalInteger        Global
                                             
Innodb_buffer_pool_read_ahead Integer        Global
                                             
Innodb_buffer_pool_read_ahead_evictedInteger Global
                                             
Innodb_buffer_pool_read_ahead_rndInteger     Global
                                             
Innodb_buffer_pool_read_requestsInteger      Global
                                             
Innodb_buffer_pool_reads      Integer        Global
                                             
Innodb_buffer_pool_wait_free  Integer        Global
                                             
Innodb_buffer_pool_write_requestsInteger     Global
                                             
Innodb_data_fsyncs            Integer        Global
                                             
Innodb_data_pending_fsyncs    Integer        Global
                                             
Innodb_data_pending_reads     Integer        Global
                                             
Innodb_data_pending_writes    Integer        Global
                                             
Innodb_data_read              Integer        Global
                                             
Innodb_data_reads             Integer        Global
                                             
Innodb_data_writes            Integer        Global
                                             
Innodb_data_written           Integer        Global
                                             
Innodb_dblwr_pages_written    Integer        Global
                                             
Innodb_dblwr_writes           Integer        Global
                                             
Innodb_have_atomic_builtins   Integer        Global
                                             
Innodb_log_waits              Integer        Global
                                             
Innodb_log_write_requests     Integer        Global
                                             
Innodb_log_writes             Integer        Global
                                             
Innodb_os_log_fsyncs          Integer        Global
                                             
Innodb_os_log_pending_fsyncs  Integer        Global
                                             
Innodb_os_log_pending_writes  Integer        Global
                                             
Innodb_os_log_written         Integer        Global
                                             
Innodb_page_size              Integer        Global
                                             
Innodb_pages_created          Integer        Global
                                             
Innodb_pages_read             Integer        Global
                                             
Innodb_pages_written          Integer        Global
                                             
Innodb_row_lock_current_waits Integer        Global
                                             
Innodb_row_lock_time          Integer        Global
                                             
Innodb_row_lock_time_avg      Integer        Global
                                             
Innodb_row_lock_time_max      Integer        Global
                                             
Innodb_row_lock_waits         Integer        Global
                                             
Innodb_rows_deleted           Integer        Global
                                             
Innodb_rows_inserted          Integer        Global
                                             
Innodb_rows_read              Integer        Global
                                             
Innodb_rows_updated           Integer        Global
                                             
Innodb_truncated_status_writesInteger        Global
                                             
Key_blocks_not_flushed        Integer        Global
                                             
Key_blocks_unused             Integer        Global
                                             
Key_blocks_used               Integer        Global
                                             
Key_read_requests             Integer        Global
                                             
Key_reads                     Integer        Global
                                             
Key_write_requests            Integer        Global
                                             
Key_writes                    Integer        Global
                                             
Last_query_cost               Numeric        Session
                                             
Max_used_connections          Integer        Global
                                             
Ndb_api_bytes_received_count  Integer        Global
                                             
Ndb_api_bytes_received_count_sessionInteger  Session
                                             
Ndb_api_bytes_received_count_slaveInteger    Global
                                             
Ndb_api_bytes_sent_count      Integer        Global
                                             
Ndb_api_bytes_sent_count_sessionInteger      Session
                                             
Ndb_api_bytes_sent_count_slaveInteger        Global
                                             
Ndb_api_event_bytes_count     Integer        Global
                                             
Ndb_api_event_bytes_count_injectorInteger    Global
                                             
Ndb_api_event_data_count      Integer        Global
                                             
Ndb_api_event_data_count_injectorInteger     Global
                                             
Ndb_api_event_nondata_count   Integer        Global
                                             
Ndb_api_event_nondata_count_injectorInteger  Global
                                             
Ndb_api_pk_op_count           Integer        Global
                                             
Ndb_api_pk_op_count_session   Integer        Session
                                             
Ndb_api_pk_op_count_slave     Integer        Global
                                             
Ndb_api_pruned_scan_count     Integer        Global
                                             
Ndb_api_pruned_scan_count_sessionInteger     Session
                                             
Ndb_api_pruned_scan_count_slaveInteger       Global
                                             
Ndb_api_range_scan_count      Integer        Global
                                             
Ndb_api_range_scan_count_sessionInteger      Session
                                             
Ndb_api_range_scan_count_slaveInteger        Global
                                             
Ndb_api_read_row_count        Integer        Global
                                             
Ndb_api_read_row_count_sessionInteger        Session
                                             
Ndb_api_read_row_count_slave  Integer        Global
                                             
Ndb_api_scan_batch_count      Integer        Global
                                             
Ndb_api_scan_batch_count_sessionInteger      Session
                                             
Ndb_api_scan_batch_count_slaveInteger        Global
                                             
Ndb_api_table_scan_count      Integer        Global
                                             
Ndb_api_table_scan_count_sessionInteger      Session
                                             
Ndb_api_table_scan_count_slaveInteger        Global
                                             
Ndb_api_trans_abort_count     Integer        Global
                                             
Ndb_api_trans_abort_count_sessionInteger     Session
                                             
Ndb_api_trans_abort_count_slaveInteger       Global
                                             
Ndb_api_trans_close_count     Integer        Global
                                             
Ndb_api_trans_close_count_sessionInteger     Session
                                             
Ndb_api_trans_close_count_slaveInteger       Global
                                             
Ndb_api_trans_commit_count    Integer        Global
                                             
Ndb_api_trans_commit_count_sessionInteger    Session
                                             
Ndb_api_trans_commit_count_slaveInteger      Global
                                             
Ndb_api_trans_local_read_row_countInteger    Global
                                             
Ndb_api_trans_local_read_row_count_sessionIntegerSession
                                             
Ndb_api_trans_local_read_row_count_slaveIntegerGlobal
                                             
Ndb_api_trans_start_count     Integer        Global
                                             
Ndb_api_trans_start_count_sessionInteger     Session
                                             
Ndb_api_trans_start_count_slaveInteger       Global
                                             
Ndb_api_uk_op_count           Integer        Global
                                             
Ndb_api_uk_op_count_session   Integer        Session
                                             
Ndb_api_uk_op_count_slave     Integer        Global
                                             
Ndb_api_wait_exec_complete_countInteger      Global
                                             
Ndb_api_wait_exec_complete_count_sessionIntegerSession
                                             
Ndb_api_wait_exec_complete_count_slaveIntegerGlobal
                                             
Ndb_api_wait_meta_request_countInteger       Global
                                             
Ndb_api_wait_meta_request_count_sessionIntegerSession
                                             
Ndb_api_wait_meta_request_count_slaveInteger Global
                                             
Ndb_api_wait_nanos_count      Integer        Global
                                             
Ndb_api_wait_nanos_count_sessionInteger      Session
                                             
Ndb_api_wait_nanos_count_slaveInteger        Global
                                             
Ndb_api_wait_scan_result_countInteger        Global
                                             
Ndb_api_wait_scan_result_count_sessionIntegerSession
                                             
Ndb_api_wait_scan_result_count_slaveInteger  Global
                                             
Ndb_cluster_node_id           Integer        Global
                                             
Ndb_config_from_host          Integer        Both
                                             
Ndb_config_from_port          Integer        Both
                                             
Ndb_conflict_fn_epoch         Integer        Global
                                             
Ndb_conflict_fn_epoch_trans   Integer        Global
                                             
Ndb_conflict_fn_max           Integer        Global
                                             
Ndb_conflict_fn_old           Integer        Global
                                             
Ndb_conflict_trans_conflict_commit_countIntegerGlobal
                                             
Ndb_conflict_trans_detect_iter_countInteger  Global
                                             
Ndb_conflict_trans_reject_countInteger       Global
                                             
Ndb_conflict_trans_row_reject_countInteger   Global
                                             
Ndb_execute_count             Integer        Global
                                             
Ndb_cluster_node_id           Integer        Global
                                             
Ndb_number_of_data_nodes      Integer        Global
                                             
Ndb_pruned_scan_count         Integer        Global
                                             
Ndb_pushed_queries_defined    Integer        Global
                                             
Ndb_pushed_queries_dropped    Integer        Global
                                             
Ndb_pushed_queries_executed   Integer        Global
                                             
Ndb_pushed_reads              Integer        Global
                                             
Ndb_scan_count                Integer        Global
                                             
Not_flushed_delayed_rows      Integer        Global
                                             
Open_files                    Integer        Global
                                             
Open_streams                  Integer        Global
                                             
Open_table_definitions        Integer        Global
                                             
Open_tables                   Integer        Both
                                             
Opened_files                  Integer        Global
                                             
Opened_table_definitions      Integer        Both
                                             
Opened_tables                 Integer        Both
                                             
Performance_schema_cond_classes_lostInteger  Global
                                             
Performance_schema_cond_instances_lostIntegerGlobal
                                             
Performance_schema_file_classes_lostInteger  Global
                                             
Performance_schema_file_handles_lostInteger  Global
                                             
Performance_schema_file_instances_lostIntegerGlobal
                                             
Performance_schema_locker_lostInteger        Global
                                             
Performance_schema_mutex_classes_lostInteger Global
                                             
Performance_schema_mutex_instances_lostIntegerGlobal
                                             
Performance_schema_rwlock_classes_lostIntegerGlobal
                                             
Performance_schema_rwlock_instances_lostIntegerGlobal
                                             
Performance_schema_table_handles_lostInteger Global
                                             
Performance_schema_table_instances_lostIntegerGlobal
                                             
Performance_schema_thread_classes_lostIntegerGlobal
                                             
Performance_schema_thread_instances_lostIntegerGlobal
                                             
Prepared_stmt_count           Integer        Global
                                             
Qcache_free_blocks            Integer        Global
                                             
Qcache_free_memory            Integer        Global
                                             
Qcache_hits                   Integer        Global
                                             
Qcache_inserts                Integer        Global
                                             
Qcache_lowmem_prunes          Integer        Global
                                             
Qcache_not_cached             Integer        Global
                                             
Qcache_queries_in_cache       Integer        Global
                                             
Qcache_total_blocks           Integer        Global
                                             
Queries                       Integer        Both
                                             
Questions                     Integer        Both
                                             
Rpl_semi_sync_master_clients  Integer        Global
                                             
Rpl_semi_sync_master_net_avg_wait_timeIntegerGlobal
                                             
Rpl_semi_sync_master_net_wait_timeInteger    Global
                                             
Rpl_semi_sync_master_net_waitsInteger        Global
                                             
Rpl_semi_sync_master_no_times Integer        Global
                                             
Rpl_semi_sync_master_no_tx    Integer        Global
                                             
Rpl_semi_sync_master_status   Boolean        Global
                                             
Rpl_semi_sync_master_timefunc_failuresIntegerGlobal
                                             
Rpl_semi_sync_master_tx_avg_wait_timeInteger Global
                                             
Rpl_semi_sync_master_tx_wait_timeInteger     Global
                                             
Rpl_semi_sync_master_tx_waits Integer        Global
                                             
Rpl_semi_sync_master_wait_pos_backtraverseIntegerGlobal
                                             
Rpl_semi_sync_master_wait_sessionsInteger    Global
                                             
Rpl_semi_sync_master_yes_tx   Integer        Global
                                             
Rpl_semi_sync_slave_status    Boolean        Global
                                             
Rpl_status                    String         Global
                                             
Select_full_join              Integer        Both
                                             
Select_full_range_join        Integer        Both
                                             
Select_range                  Integer        Both
                                             
Select_range_check            Integer        Both
                                             
Select_scan                   Integer        Both
                                             
Slave_heartbeat_period        Numeric        Global
                                             
Slave_open_temp_tables        Integer        Global
                                             
Slave_received_heartbeats     Integer        Global
                                             
Slave_retried_transactions    Integer        Global
                                             
Slave_running                 Boolean        Global
                                             
Slow_launch_threads           Integer        Both
                                             
Slow_queries                  Integer        Both
                                             
Sort_merge_passes             Integer        Both
                                             
Sort_range                    Integer        Both
                                             
Sort_rows                     Integer        Both
                                             
Sort_scan                     Integer        Both
                                             
Ssl_accept_renegotiates       Integer        Global
                                             
Ssl_accepts                   Integer        Global
                                             
Ssl_callback_cache_hits       Integer        Global
                                             
Ssl_cipher                    String         Both
                                             
Ssl_cipher_list               String         Both
                                             
Ssl_client_connects           Integer        Global
                                             
Ssl_connect_renegotiates      Integer        Global
                                             
Ssl_ctx_verify_depth          Integer        Global
                                             
Ssl_ctx_verify_mode           Integer        Global
                                             
Ssl_default_timeout           Integer        Both
                                             
Ssl_finished_accepts          Integer        Global
                                             
Ssl_finished_connects         Integer        Global
                                             
Ssl_session_cache_hits        Integer        Global
                                             
Ssl_session_cache_misses      Integer        Global
                                             
Ssl_session_cache_mode        String         Global
                                             
Ssl_session_cache_overflows   Integer        Global
                                             
Ssl_session_cache_size        Integer        Global
                                             
Ssl_session_cache_timeouts    Integer        Global
                                             
Ssl_sessions_reused           Integer        Both
                                             
Ssl_used_session_cache_entriesInteger        Global
                                             
Ssl_verify_depth              Integer        Both
                                             
Ssl_verify_mode               Integer        Both
                                             
Ssl_version                   String         Both
                                             
Table_locks_immediate         Integer        Global
                                             
Table_locks_waited            Integer        Global
                                             
Tc_log_max_pages_used         Integer        Global
                                             
Tc_log_page_size              Integer        Global
                                             
Tc_log_page_waits             Integer        Global
                                             
Threads_cached                Integer        Global
                                             
Threads_connected             Integer        Global
                                             
Threads_created               Integer        Global
                                             
Threads_running               Integer        Global
                                             
Uptime                        Integer        Global
                                             
Uptime_since_flush_status     Integer        Global
                              


File: manual.info.tmp,  Node: server-options,  Next: server-system-variables,  Prev: server-status-variable-reference,  Up: mysqld-server

5.1.6 Server Command Options
----------------------------

When you start the *note 'mysqld': mysqld. server, you can specify
program options using any of the methods described in *note
program-options::.  The most common methods are to provide options in an
option file or on the command line.  However, in most cases it is
desirable to make sure that the server uses the same options each time
it runs.  The best way to ensure this is to list them in an option file.
See *note option-files::.  That section also describes option file
format and syntax.

*note 'mysqld': mysqld. reads options from the '[mysqld]' and '[server]'
groups.  *note 'mysqld_safe': mysqld-safe. reads options from the
'[mysqld]', '[server]', '[mysqld_safe]', and '[safe_mysqld]' groups.
*note 'mysql.server': mysql-server. reads options from the '[mysqld]'
and '[mysql.server]' groups.

An embedded MySQL server usually reads options from the '[server]',
'[embedded]', and '[XXXXX_SERVER]' groups, where XXXXX is the name of
the application into which the server is embedded.

*note 'mysqld': mysqld. accepts many command options.  For a brief
summary, execute this command:

     mysqld --help

To see the full list, use this command:

     mysqld --verbose --help

Some of the items in the list are actually system variables that can be
set at server startup.  These can be displayed at runtime using the
*note 'SHOW VARIABLES': show-variables. statement.  Some items displayed
by the preceding *note 'mysqld': mysqld. command do not appear in *note
'SHOW VARIABLES': show-variables. output; this is because they are
options only and not system variables.

The following list shows some of the most common server options.
Additional options are described in other sections:

   * Options that affect security: See *note security-options::.

   * SSL-related options: See *note encrypted-connection-options::.

   * Binary log control options: See *note binary-log::.

   * Replication-related options: See *note replication-options::.

   * Options for loading plugins such as pluggable storage engines: See
     *note plugin-loading::.

   * Options specific to particular storage engines: See *note
     innodb-parameters::, *note myisam-start::, and *note
     mysql-cluster-program-options-mysqld::.

Some options control the size of buffers or caches.  For a given buffer,
the server might need to allocate internal data structures.  These
structures typically are allocated from the total memory allocated to
the buffer, and the amount of space required might be platform
dependent.  This means that when you assign a value to an option that
controls a buffer size, the amount of space actually available might
differ from the value assigned.  In some cases, the amount might be less
than the value assigned.  It is also possible that the server will
adjust a value upward.  For example, if you assign a value of 0 to an
option for which the minimal value is 1024, the server will set the
value to 1024.

Values for buffer sizes, lengths, and stack sizes are given in bytes
unless otherwise specified.

Some options take file name values.  Unless otherwise specified, the
default file location is the data directory if the value is a relative
path name.  To specify the location explicitly, use an absolute path
name.  Suppose that the data directory is '/var/mysql/data'.  If a
file-valued option is given as a relative path name, it will be located
under '/var/mysql/data'.  If the value is an absolute path name, its
location is as given by the path name.

You can also set the values of server system variables at server startup
by using variable names as options.  To assign a value to a server
system variable, use an option of the form '--VAR_NAME=VALUE'.  For
example, '--key_buffer_size=32M' sets the 'key_buffer_size' variable to
a value of 32MB.

When you assign a value to a variable, MySQL might automatically correct
the value to stay within a given range, or adjust the value to the
closest permissible value if only certain values are permitted.

To restrict the maximum value to which a system variable can be set at
runtime with the *note 'SET': set-variable. statement, specify this
maximum by using an option of the form '--maximum-VAR_NAME=VALUE' at
server startup.

You can change the values of most system variables at runtime with the
*note 'SET': set-variable. statement.  See *note set-variable::.

*note server-system-variables::, provides a full description for all
variables, and additional information for setting them at server startup
and runtime.  For information on changing system variables, see *note
server-configuration::.

   * 
     '--help', '-?'

     Property               Value
                            
     *Command-Line          '--help'
     Format*

     Display a short help message and exit.  Use both the '--verbose'
     and '--help' options to see the full message.

   * 
     '--allow-suspicious-udfs'

     Property               Value
                            
     *Command-Line          '--allow-suspicious-udfs[={OFF|ON}]'
     Format*                

     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     This option controls whether user-defined functions that have only
     an 'xxx' symbol for the main function can be loaded.  By default,
     the option is off and only UDFs that have at least one auxiliary
     symbol can be loaded; this prevents attempts at loading functions
     from shared object files other than those containing legitimate
     UDFs.  See *note udf-security::.

   * 
     '--ansi'

     Property               Value
                            
     *Command-Line          '--ansi'
     Format*

     Use standard (ANSI) SQL syntax instead of MySQL syntax.  For more
     precise control over the server SQL mode, use the '--sql-mode'
     option instead.  See *note compatibility::, and *note sql-mode::.

   * 
     '--basedir=DIR_NAME', '-b DIR_NAME'

     Property               Value
                            
     *Command-Line          '--basedir=dir_name'
     Format*                

     *System Variable*      'basedir'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Directory name
                            
     *Default Value*        'configuration-dependent default'

     The path to the MySQL installation directory.  This option sets the
     'basedir' system variable.

   * 
     '--bind-address=ADDR'

     Property               Value
                            
     *Command-Line          '--bind-address=addr'
     Format*                

     *Type*                 String
                            
     *Default Value*        '0.0.0.0'

     The MySQL server listens on a single network socket for TCP/IP
     connections.  This socket is bound to a single address, but it is
     possible for an address to map onto multiple network interfaces.
     The default address is '0.0.0.0'.  To specify an address
     explicitly, use the '--bind-address=ADDR' option at server startup,
     where ADDR is an IPv4 or IPv6 address or a host name.  If ADDR is a
     host name, the server resolves the name to an IP address and binds
     to that address.  If a host name resolves to multiple IP addresses,
     the server uses the first IPv4 address if there are any, or the
     first IPv6 address otherwise.

     The server treats different types of addresses as follows:

        * If the address is '0.0.0.0', the server accepts TCP/IP
          connections on all server host IPv4 interfaces.

        * If the address is '::', the server accepts TCP/IP connections
          on all server host IPv4 and IPv6 interfaces.  Use this address
          to permit both IPv4 and IPv6 connections on all server
          interfaces.

        * If the address is an IPv4-mapped address, the server accepts
          TCP/IP connections for that address, in either IPv4 or IPv6
          format.  For example, if the server is bound to
          '::ffff:127.0.0.1', clients can connect using
          '--host=127.0.0.1' or '--host=::ffff:127.0.0.1'.

        * If the address is a 'regular' IPv4 or IPv6 address (such as
          '127.0.0.1' or '::1'), the server accepts TCP/IP connections
          only for that IPv4 or IPv6 address.

     If binding to the address fails, the server produces an error and
     does not start.

     If you intend to bind the server to a specific address, be sure
     that the 'mysql.user' system table contains an account with
     administrative privileges that you can use to connect to that
     address.  Otherwise, you will not be able to shut down the server.
     For example, if you bind the server to '::', you can connect to it
     using all existing accounts.  But if you bind the server to '::1',
     it accepts connections only on that address.  In that case, first
     make sure that the ''root'@'::1'' account is present in the
     'mysql.user' table so you can still connect to the server to shut
     it down.

   * 
     '--bootstrap'

     Property               Value
                            
     *Command-Line          '--bootstrap'
     Format*

     This option is used by the *note 'mysql_install_db':
     mysql-install-db. program to create the MySQL privilege tables
     without having to start a full MySQL server.

     When the server operates in bootstap mode, some functionality is
     unavailable that limits the statements permitted in any file named
     by the 'init_file' system variable.  For more information, see the
     description of that variable.

   * 
     '--character-set-client-handshake'

     Property               Value
                            
     *Command-Line          '--character-set-client-handshake[={OFF|ON}]'
     Format*                

     *Type*                 Boolean
                            
     *Default Value*        'ON'

     Do not ignore character set information sent by the client.  To
     ignore client information and use the default server character set,
     use '--skip-character-set-client-handshake'; this makes MySQL
     behave like MySQL 4.0.

   * 
     '--chroot=DIR_NAME', '-r DIR_NAME'

     Property               Value
                            
     *Command-Line          '--chroot=dir_name'
     Format*                

     *Type*                 Directory name

     Put the *note 'mysqld': mysqld. server in a closed environment
     during startup by using the 'chroot()' system call.  This is a
     recommended security measure.  Use of this option somewhat limits
     *note 'LOAD DATA': load-data. and *note 'SELECT ... INTO OUTFILE':
     select-into.

   * 
     '--console'

     Property               Value
                            
     *Command-Line          '--console'
     Format*                

     *Platform Specific*    Windows

     (Windows only.)  Write error log messages to 'stderr' and 'stdout'
     (the console).  *note 'mysqld': mysqld. does not close the console
     window if this option is used.

     '--log-error' takes precedence over '--console' if both are given.

   * 
     '--core-file'

     Property               Value
                            
     *Command-Line          '--core-file[={OFF|ON}]'
     Format*                

     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     Write a core file if *note 'mysqld': mysqld. dies.  The name and
     location of the core file is system dependent.  On Linux, a core
     file named 'core.PID' is written to the current working directory
     of the process, which for *note 'mysqld': mysqld. is the data
     directory.  PID represents the process ID of the server process.
     On macOS, a core file named 'core.PID' is written to the '/cores'
     directory.  On Solaris, use the 'coreadm' command to specify where
     to write the core file and how to name it.

     For some systems, to get a core file you must also specify the
     '--core-file-size' option to *note 'mysqld_safe': mysqld-safe.  See
     *note mysqld-safe::.  On some systems, such as Solaris, you do not
     get a core file if you are also using the '--user' option.  There
     might be additional restrictions or limitations.  For example, it
     might be necessary to execute 'ulimit -c unlimited' before starting
     the server.  Consult your system documentation.

   * 
     '--datadir=DIR_NAME', '-h DIR_NAME'

     Property               Value
                            
     *Command-Line          '--datadir=dir_name'
     Format*                

     *System Variable*      'datadir'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Directory name

     The path to the MySQL server data directory.  This option sets the
     'datadir' system variable.  See the description of that variable.

   * 
     '--debug[=DEBUG_OPTIONS]', '-# [DEBUG_OPTIONS]'

     Property               Value
                            
     *Command-Line          '--debug[=debug_options]'
     Format*                

     *System Variable*      'debug'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 String
                            
     *Default Value*        'd:t:i:O,\mysqld.trace'
     (Windows)              

     *Default Value*        'd:t:i:o,/tmp/mysqld.trace'
     (Unix)

     If MySQL is configured with the '-DWITH_DEBUG=1' 'CMake' option,
     you can use this option to get a trace file of what *note 'mysqld':
     mysqld. is doing.  A typical DEBUG_OPTIONS string is
     'd:t:o,FILE_NAME'.  The default is 'd:t:i:o,/tmp/mysqld.trace' on
     Unix and 'd:t:i:O,\mysqld.trace' on Windows.

     Using '-DWITH_DEBUG=1' to configure MySQL with debugging support
     enables you to use the '--debug="d,parser_debug"' option when you
     start the server.  This causes the Bison parser that is used to
     process SQL statements to dump a parser trace to the server's
     standard error output.  Typically, this output is written to the
     error log.

     This option may be given multiple times.  Values that begin with
     '+' or '-' are added to or subtracted from the previous value.  For
     example, '--debug=T' '--debug=+P' sets the value to 'P:T'.

     For more information, see *note dbug-package::.

   * 
     '--debug-sync-timeout[=N]'

     Property               Value
                            
     *Command-Line          '--debug-sync-timeout[=#]'
     Format*                

     *Type*                 Integer

     Controls whether the Debug Sync facility for testing and debugging
     is enabled.  Use of Debug Sync requires that MySQL be configured
     with the '-DENABLE_DEBUG_SYNC=1' 'CMake' option (see *note
     source-configuration-options::).  If Debug Sync is not compiled in,
     this option is not available.  The option value is a timeout in
     seconds.  The default value is 0, which disables Debug Sync.  To
     enable it, specify a value greater than 0; this value also becomes
     the default timeout for individual synchronization points.  If the
     option is given without a value, the timeout is set to 300 seconds.

     For a description of the Debug Sync facility and how to use
     synchronization points, see MySQL Internals: Test Synchronization
     (https://dev.mysql.com/doc/internals/en/test-synchronization.html).

     For additional information about this option, see *note
     option-file-options::.

   * 
     '--default-character-set=CHARSET_NAME'

     Property               Value
                            
     *Command-Line          '--default-character-set=name'
     Format*                

     *Deprecated*           Yes (removed in 5.5.3)
                            
     *Type*                 String

     Use CHARSET_NAME as the default character set.  This option is
     deprecated in favor of the 'character_set_server' system variable.
     See *note charset-configuration::.  '--default-character-set' was
     removed in MySQL 5.5.3.

   * 
     '--default-collation=COLLATION_NAME'

     Property               Value
                            
     *Command-Line          '--default-collation=name'
     Format*                

     *Deprecated*           Yes (removed in 5.5.3)
                            
     *Type*                 String

     Use COLLATION_NAME as the default collation.  This option is
     deprecated in favor of the 'collation_server' system variable.  See
     *note charset-configuration::.  '--default-collation' was removed
     in MySQL 5.5.3.

   * 
     '--default-time-zone=TIMEZONE'

     Property               Value
                            
     *Command-Line          '--default-time-zone=name'
     Format*                

     *Type*                 String

     Set the default server time zone.  This option sets the global
     'time_zone' system variable.  If this option is not given, the
     default time zone is the same as the system time zone (given by the
     value of the 'system_time_zone' system variable.

   * 
     '--defaults-extra-file=FILE_NAME'

     Read this option file after the global option file but (on Unix)
     before the user option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name
     rather than a full path name.  This must be the first option on the
     command line if it is used.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--defaults-file=FILE_NAME'

     Read only the given option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name
     rather than a full path name.

     *Note*:

     This must be the first option on the command line if it is used,
     except that if the server is started with the '--defaults-file' and
     '--install' (or '--install-manual') options, '--install' (or
     '--install-manual') must be first.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--defaults-group-suffix=STR'

     Read not only the usual option groups, but also groups with the
     usual names and a suffix of STR.  For example, *note 'mysqld':
     mysqld. normally reads the '[mysqld]' group.  If the
     '--defaults-group-suffix=_other' option is given, *note 'mysqld':
     mysqld. also reads the '[mysqld_other]' group.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--des-key-file=FILE_NAME'

     Property               Value
                            
     *Command-Line          '--des-key-file=file_name'
     Format*

     Read the default DES keys from this file.  These keys are used by
     the 'DES_ENCRYPT()' and 'DES_DECRYPT()' functions.

     For additional information about this option, see *note
     option-file-options::.

   * '--enable-locking'

     This option is deprecated and was removed in MySQL 5.5.3.  Use
     '--external-locking' instead.

   * 
     '--enable-pstack'

     Property               Value
                            
     *Command-Line          '--enable-pstack[={OFF|ON}]'
     Format*                

     *Deprecated*           Yes (removed in 5.5.7)
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     This option is nonfunctional before MySQL 5.5.7 and removed in
     5.5.7.

   * 
     '--exit-info[=FLAGS]', '-T [FLAGS]'

     Property               Value
                            
     *Command-Line          '--exit-info[=flags]'
     Format*                

     *Type*                 Integer

     This is a bitmask of different flags that you can use for debugging
     the *note 'mysqld': mysqld. server.  Do not use this option unless
     you know _exactly_ what it does!

   * 
     '--external-locking'

     Property               Value
                            
     *Command-Line          '--external-locking[={OFF|ON}]'
     Format*                

     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     Enable external locking (system locking), which is disabled by
     default.  If you use this option on a system on which 'lockd' does
     not fully work (such as Linux), it is easy for *note 'mysqld':
     mysqld. to deadlock.

     To disable external locking explicitly, use
     '--skip-external-locking'.

     External locking affects only *note 'MyISAM':
     myisam-storage-engine. table access.  For more information,
     including conditions under which it can and cannot be used, see
     *note external-locking::.

   * 
     '--flush'

     Property               Value
                            
     *Command-Line          '--flush[={OFF|ON}]'
     Format*                

     *System Variable*      'flush'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     Flush (synchronize) all changes to disk after each SQL statement.
     Normally, MySQL does a write of all changes to disk only after each
     SQL statement and lets the operating system handle the
     synchronizing to disk.  See *note crashing::.

     *Note*:

     If '--flush' is specified, the value of 'flush_time' does not
     matter and changes to 'flush_time' have no effect on flush
     behavior.

   * 
     '--gdb'

     Property               Value
                            
     *Command-Line          '--gdb[={OFF|ON}]'
     Format*                

     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     Install an interrupt handler for 'SIGINT' (needed to stop *note
     'mysqld': mysqld. with '^C' to set breakpoints) and disable stack
     tracing and core file handling.  See *note using-gdb-on-mysqld::.

   * '--innodb-XXX'

     Set an option for the 'InnoDB' storage engine.  The 'InnoDB'
     options are listed in *note innodb-parameters::.

   * 
     '--install [SERVICE_NAME]'

     Property               Value
                            
     *Command-Line          '--install [service_name]'
     Format*                

     *Platform Specific*    Windows

     (Windows only) Install the server as a Windows service that starts
     automatically during Windows startup.  The default service name is
     'MySQL' if no SERVICE_NAME value is given.  For more information,
     see *note windows-start-service::.

     *Note*:

     If the server is started with the '--defaults-file' and '--install'
     options, '--install' must be first.

   * 
     '--install-manual [SERVICE_NAME]'

     Property               Value
                            
     *Command-Line          '--install-manual [service_name]'
     Format*                

     *Platform Specific*    Windows

     (Windows only) Install the server as a Windows service that must be
     started manually.  It does not start automatically during Windows
     startup.  The default service name is 'MySQL' if no SERVICE_NAME
     value is given.  For more information, see *note
     windows-start-service::.

     *Note*:

     If the server is started with the '--defaults-file' and
     '--install-manual' options, '--install-manual' must be first.

   * 
     '--language=LANG_NAME, -L LANG_NAME'

     Property               Value
                            
     *Command-Line          '--language=name'
     Format*                

     *Deprecated*           Yes; use 'lc-messages-dir' instead
                            
     *System Variable*      'language'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Directory name
                            
     *Default Value*        '/usr/local/mysql/share/mysql/english/'

     The language to use for error messages.  LANG_NAME can be given as
     the language name or as the full path name to the directory where
     the language files are installed.  See *note
     error-message-language::.

     As of MySQL 5.5, '--lc-messages-dir' and '--lc-messages' should be
     used rather than '--language', which is deprecated and handled as
     an alias for '--lc-messages-dir'.

   * 
     '--large-pages'

     Property               Value
                            
     *Command-Line          '--large-pages[={OFF|ON}]'
     Format*                

     *System Variable*      'large_pages'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Platform Specific*    Linux
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     Some hardware/operating system architectures support memory pages
     greater than the default (usually 4KB). The actual implementation
     of this support depends on the underlying hardware and operating
     system.  Applications that perform a lot of memory accesses may
     obtain performance improvements by using large pages due to reduced
     Translation Lookaside Buffer (TLB) misses.

     MySQL supports the Linux implementation of large page support
     (which is called HugeTLB in Linux).  See *note
     large-page-support::.  For Solaris support of large pages, see the
     description of the '--super-large-pages' option.

     '--large-pages' is disabled by default.

   * 
     '--lc-messages=LOCALE_NAME'

     Property               Value
                            
     *Command-Line          '--lc-messages=name'
     Format*                

     *System Variable*      'lc_messages'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 String
                            
     *Default Value*        'en_US'

     The locale to use for error messages.  The default is 'en_US'.  The
     server converts the argument to a language name and combines it
     with the value of '--lc-messages-dir' to produce the location for
     the error message file.  See *note error-message-language::.

   * 
     '--lc-messages-dir=DIR_NAME'

     Property               Value
                            
     *Command-Line          '--lc-messages-dir=dir_name'
     Format*                

     *System Variable*      'lc_messages_dir'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Directory name

     The directory where error messages are located.  The server uses
     the value together with the value of '--lc-messages' to produce the
     location for the error message file.  See *note
     error-message-language::.

   * 
     '--local-service'

     Property               Value
                            
     *Command-Line          '--local-service'
     Format*

     (Windows only) A '--local-service' option following the service
     name causes the server to run using the 'LocalService' Windows
     account that has limited system privileges.  If both
     '--defaults-file' and '--local-service' are given following the
     service name, they can be in any order.  See *note
     windows-start-service::.

   * 
     '--log[=FILE_NAME]', '-l [FILE_NAME]'

     Property               Value
                            
     *Command-Line          '--log[=file_name]'
     Format*                

     *Deprecated*           Yes; use 'general_log' instead
                            
     *System Variable*      'log'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 File name

     This option enables logging to the general query log, which
     contains entries that record client connections and SQL statements
     received from clients.  The log output destination can be selected
     with the 'log_output' system variable.  If you omit the file name,
     MySQL uses 'HOST_NAME.log' as the file name.  See *note
     log-destinations::, and *note query-log::.

     The '--log' option is deprecated and is removed (along with the
     'log' system variable) in MySQL 5.6.  Instead, use the
     'general_log' system variable to enable the general query log and
     the 'general_log_file' system variable to set the general query log
     file name.

   * 
     '--log-error[=FILE_NAME]'

     Property               Value
                            
     *Command-Line          '--log-error[=file_name]'
     Format*                

     *System Variable*      'log_error'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 File name

     Write the error log and startup messages to this file.  See *note
     error-log::.

     If the option names no file, the error log file name on Unix and
     Unix-like systems is 'HOST_NAME.err' in the data directory.  The
     file name on Windows is the same, unless the '--pid-file' option is
     specified.  In that case, the file name is the PID file base name
     with a suffix of '.err' in the data directory.

     If the option names a file, the error log file has that name (with
     an '.err' suffix added if the name has no suffix), located under
     the data directory unless an absolute path name is given to specify
     a different location.

     On Windows, '--log-error' takes precedence over '--console' if both
     are given.

   * 
     '--log-isam[=FILE_NAME]'

     Property               Value
                            
     *Command-Line          '--log-isam[=file_name]'
     Format*                

     *Type*                 File name

     Log all 'MyISAM' changes to this file (used only when debugging
     'MyISAM').

   * 
     '--log-long-format'

     Property               Value
                            
     *Command-Line          '--log-long-format'
     Format*                

     *Deprecated*           Yes

     Log extra information to the binary log and slow query log, if they
     have been activated.  For example, the user name and timestamp are
     logged for all queries.  This option is deprecated, as it now
     represents the default logging behavior.  (See the description for
     '--log-short-format'.)  The 'log_queries_not_using_indexes' system
     variable can be enabled for the purpose of logging queries that do
     not use indexes to the slow query log.  '--log-long-format' was
     removed in MySQL 5.5.3.

   * 
     '--log-short-format'

     Property               Value
                            
     *Command-Line          '--log-short-format[={OFF|ON}]'
     Format*                

     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     Log less information to the slow query log, if it has been
     activated.

   * 
     '--log-slow-admin-statements'

     Property               Value
                            
     *Command-Line          '--log-slow-admin-statements[={OFF|ON}]'
     Format*                

     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     Include slow administrative statements in the statements written to
     the slow query log.  Administrative statements include *note 'ALTER
     TABLE': alter-table, *note 'ANALYZE TABLE': analyze-table, *note
     'CHECK TABLE': check-table, *note 'CREATE INDEX': create-index,
     *note 'DROP INDEX': drop-index, *note 'OPTIMIZE TABLE':
     optimize-table, and *note 'REPAIR TABLE': repair-table.

   * 
     '--log-tc=FILE_NAME'

     Property               Value
                            
     *Command-Line          '--log-tc=file_name'
     Format*                

     *Type*                 File name
                            
     *Default Value*        'tc.log'

     The name of the memory-mapped transaction coordinator log file (for
     XA transactions that affect multiple storage engines when the
     binary log is disabled).  The default name is 'tc.log'.  The file
     is created under the data directory if not given as a full path
     name.  This option is unused.

   * 
     '--log-tc-size=SIZE'

     Property               Value
                            
     *Command-Line          '--log-tc-size=#'
     Format*                

     *Type*                 Integer
                            
     *Default Value*        '24576'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)

     The size in bytes of the memory-mapped transaction coordinator log.
     The default size is 24KB.

   * 
     '--log-warnings[=LEVEL]', '-W [LEVEL]'

     Property               Value
                            
     *Command-Line          '--log-warnings[=#]'
     Format*                

     *System Variable*      'log_warnings'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '1'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)

     Print out warnings such as 'Aborted connection...' to the error
     log.  This option is enabled (1) by default.  To disable it, use
     '--log-warnings=0'.  Specifying the option without a LEVEL value
     increments the current value by 1.  Enabling this option by setting
     it greater than 0 is recommended, for example, if you use
     replication (you get more information about what is happening, such
     as messages about network failures and reconnections).  If the
     value is greater than 1, aborted connections are written to the
     error log, and access-denied errors for new connection attempts are
     written.  See *note communication-errors::.

     If a slave server was started with '--log-warnings' enabled, the
     slave prints messages to the error log to provide information about
     its status, such as the binary log and relay log coordinates where
     it starts its job, when it is switching to another relay log, when
     it reconnects after a disconnect, and so forth.  The server logs
     messages about statements that are unsafe for statement-based
     logging if '--log-warnings' is greater than 0.

     The '--warnings' option was removed in MySQL 5.5.3.  It had the
     same meaning as '--log-warnings', which should be used instead.

   * 
     '--memlock'

     Property               Value
                            
     *Command-Line          '--memlock[={OFF|ON}]'
     Format*                

     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     Lock the *note 'mysqld': mysqld. process in memory.  This option
     might help if you have a problem where the operating system is
     causing *note 'mysqld': mysqld. to swap to disk.

     '--memlock' works on systems that support the 'mlockall()' system
     call; this includes Solaris, most Linux distributions that use a
     2.4 or higher kernel, and perhaps other Unix systems.  On Linux
     systems, you can tell whether or not 'mlockall()' (and thus this
     option) is supported by checking to see whether or not it is
     defined in the system 'mman.h' file, like this:

          shell> grep mlockall /usr/include/sys/mman.h

     If 'mlockall()' is supported, you should see in the output of the
     previous command something like the following:

          extern int mlockall (int __flags) __THROW;

     *Important*:

     Use of this option may require you to run the server as 'root',
     which, for reasons of security, is normally not a good idea.  See
     *note changing-mysql-user::.

     On Linux and perhaps other systems, you can avoid the need to run
     the server as 'root' by changing the 'limits.conf' file.  See the
     notes regarding the memlock limit in *note large-page-support::.

     You must not try to use this option on a system that does not
     support the 'mlockall()' system call; if you do so, *note 'mysqld':
     mysqld. will very likely crash as soon as you try to start it.

   * 
     '--myisam-block-size=N'

     Property               Value
                            
     *Command-Line          '--myisam-block-size=#'
     Format*                

     *Type*                 Integer
                            
     *Default Value*        '1024'
                            
     *Minimum Value*        '1024'
                            
     *Maximum Value*        '16384'

     The block size to be used for 'MyISAM' index pages.

   * 
     '--myisam-recover[=OPTION[,OPTION]...]]'

     This option was renamed in MySQL 5.5.3 to the
     'myisam_recover_options' system variable.  See the description of
     that variable for more information.

   * 
     '--no-defaults'

     Do not read any option files.  If program startup fails due to
     reading unknown options from an option file, '--no-defaults' can be
     used to prevent them from being read.  This must be the first
     option on the command line if it is used.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--old-style-user-limits'

     Property               Value
                            
     *Command-Line          '--old-style-user-limits[={OFF|ON}]'
     Format*                

     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     Enable old-style user limits.  (Before MySQL 5.0.3, account
     resource limits were counted separately for each host from which a
     user connected rather than per account row in the 'user' table.)
     See *note user-resources::.

   * 
     '--one-thread'

     Property               Value
                            
     *Command-Line          '--one-thread'
     Format*

     Only use one thread (for debugging under Linux).  This option is
     available only if the server is built with debugging enabled.  See
     *note porting::.

     This option is deprecated and is removed in MySQL 5.6.  Use
     '--thread_handling=no-threads' instead.

   * 
     '--partition[=VALUE]'

     Property               Value
                            
     *Command-Line          '--partition[={OFF|ON}]'
     Format*                

     *Disabled by*          'skip-partition'
                            
     *Type*                 Boolean
                            
     *Default Value*        'ON'

     Enables or disables user-defined partitioning support in the MySQL
     Server.

   * 
     '--plugin-load=PLUGIN_LIST'

     Property               Value
                            
     *Command-Line          '--plugin-load=plugin_list'
     Format*                

     *System Variable*      'plugin_load'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 String

     This option tells the server to load the named plugins at startup.
     All plugins to load must be named in the same '--plugin-load'
     option.  If multiple '--plugin-load' options are given, only the
     last one is used.

     The option value is a semicolon-separated list of
     NAME'='PLUGIN_LIBRARY and PLUGIN_LIBRARY values.  Each NAME is the
     name of a plugin to load, and PLUGIN_LIBRARY is the name of the
     library file that contains the plugin code.  If a plugin library is
     named without any preceding plugin name, the server loads all
     plugins in the library.  The server looks for plugin library files
     in the directory named by the 'plugin_dir' system variable.

     For example, if plugins named 'myplug1' and 'myplug2' have library
     files 'myplug1.so' and 'myplug2.so', use this option to perform an
     early plugin load:

          shell> mysqld --plugin-load="myplug1=myplug1.so;myplug2=myplug2.so"

     Quotes are used around the argument value here because otherwise
     semicolon (';') is interpreted as a special character by some
     command interpreters.  (Unix shells treat it as a command
     terminator, for example.)

     Each named plugin is loaded for a single invocation of *note
     'mysqld': mysqld. only.  After a restart, the plugin is not loaded
     unless '--plugin-load' is used again.  This is in contrast to *note
     'INSTALL PLUGIN': install-plugin, which adds an entry to the
     'mysql.plugins' table to cause the plugin to be loaded for every
     normal server startup.

     Under normal startup, the server determines which plugins to load
     by reading the 'mysql.plugins' system table.  If the server is
     started with the '--skip-grant-tables' option, it does not consult
     the 'mysql.plugins' table and does not load plugins listed there.
     '--plugin-load' enables plugins to be loaded even when
     '--skip-grant-tables' is given.  '--plugin-load' also enables
     plugins to be loaded at startup under configurations when plugins
     cannot be loaded at runtime.

     For additional information about plugin loading, see *note
     plugin-loading::.

   * 
     '--plugin-XXX'

     Specifies an option that pertains to a server plugin.  For example,
     many storage engines can be built as plugins, and for such engines,
     options for them can be specified with a '--plugin' prefix.  Thus,
     the '--innodb-file-per-table' option for 'InnoDB' can be specified
     as '--plugin-innodb-file-per-table'.

     For boolean options that can be enabled or disabled, the '--skip'
     prefix and other alternative formats are supported as well (see
     *note option-modifiers::).  For example,
     '--skip-plugin-innodb-file-per-table' disables
     'innodb-file-per-table'.

     The rationale for the '--plugin' prefix is that it enables plugin
     options to be specified unambiguously if there is a name conflict
     with a built-in server option.  For example, were a plugin writer
     to name a plugin 'sql' and implement a 'mode' option, the option
     name might be '--sql-mode', which would conflict with the built-in
     option of the same name.  In such cases, references to the
     conflicting name are resolved in favor of the built-in option.  To
     avoid the ambiguity, users can specify the plugin option as
     '--plugin-sql-mode'.  Use of the '--plugin' prefix for plugin
     options is recommended to avoid any question of ambiguity.

   * 
     '--port=PORT_NUM', '-P PORT_NUM'

     Property               Value
                            
     *Command-Line          '--port=port_num'
     Format*                

     *System Variable*      'port'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Integer
                            
     *Default Value*        '3306'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '65535'

     The port number to use when listening for TCP/IP connections.  On
     Unix and Unix-like systems, the port number must be 1024 or higher
     unless the server is started by the 'root' operating system user.
     Setting this option to 0 causes the default value to be used.

   * 
     '--port-open-timeout=NUM'

     Property               Value
                            
     *Command-Line          '--port-open-timeout=#'
     Format*                

     *Type*                 Integer
                            
     *Default Value*        '0'

     On some systems, when the server is stopped, the TCP/IP port might
     not become available immediately.  If the server is restarted
     quickly afterward, its attempt to reopen the port can fail.  This
     option indicates how many seconds the server should wait for the
     TCP/IP port to become free if it cannot be opened.  The default is
     not to wait.

   * 
     '--print-defaults'

     Print the program name and all options that it gets from option
     files.  This must be the first option on the command line if it is
     used, except that it may be used immediately after
     '--defaults-file' or '--defaults-extra-file'.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--remove [SERVICE_NAME]'

     Property               Value
                            
     *Command-Line          '--remove [service_name]'
     Format*                

     *Platform Specific*    Windows

     (Windows only) Remove a MySQL Windows service.  The default service
     name is 'MySQL' if no SERVICE_NAME value is given.  For more
     information, see *note windows-start-service::.

   * 
     '--safe-mode'

     Property               Value
                            
     *Command-Line          '--safe-mode'
     Format*                

     *Deprecated*           5.5.26

     Skip some optimization stages.  This option is deprecated and is
     removed in MySQL 5.6.

   * 
     '--safe-show-database'

     Property               Value
                            
     *Command-Line          '--safe-show-database[={OFF|ON}]'
     Format*                

     *Deprecated*           Yes (removed in 5.5.3)
                            
     *Type*                 Boolean

     This option was removed in MySQL 5.5.3.  There is a *note 'SHOW
     DATABASES': show-databases. privilege that can be used to control
     access to database names on a per-account basis.  See *note
     privileges-provided::.

   * 
     '--safe-user-create'

     Property               Value
                            
     *Command-Line          '--safe-user-create[={OFF|ON}]'
     Format*                

     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     If this option is enabled, a user cannot create new MySQL users by
     using the *note 'GRANT': grant. statement unless the user has the
     'INSERT' privilege for the 'mysql.user' system table or any column
     in the table.  If you want a user to have the ability to create new
     users that have those privileges that the user has the right to
     grant, you should grant the user the following privilege:

          GRANT INSERT(user) ON mysql.user TO 'USER_NAME'@'HOST_NAME';

     This ensures that the user cannot change any privilege columns
     directly, but has to use the *note 'GRANT': grant. statement to
     give privileges to other users.

   * 
     '--safemalloc-mem-limit=N'

     Property               Value
                            
     *Command-Line          '--safemalloc-mem-limit=#'
     Format*                

     *Removed*              5.5.6
                            
     *Type*                 Integer

     Similate a memory shortage for 'safemalloc' checking.

     'safemalloc', along with this option, was removed in MySQL 5.5.6.

   * 
     '--skip-grant-tables'

     Property               Value
                            
     *Command-Line          '--skip-grant-tables[={OFF|ON}]'
     Format*                

     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     This option affects the server startup sequence:

        * '--skip-grant-tables' causes the server not to read the grant
          tables in the 'mysql' system database, and thus to start
          without using the privilege system at all.  This gives anyone
          with access to the server _unrestricted access to all
          databases_.

          To cause a server started with '--skip-grant-tables' to load
          the grant tables at runtime, perform a privilege-flushing
          operation, which can be done in these ways:

             * Issue a MySQL 'FLUSH PRIVILEGES' statement after
               connecting to the server.

             * Execute a *note 'mysqladmin flush-privileges':
               mysqladmin. or *note 'mysqladmin reload': mysqladmin.
               command from the command line.

          Privilege flushing might also occur implicitly as a result of
          other actions performed after startup, thus causing the server
          to start using the grant tables.  For example, *note
          'mysql_upgrade': mysql-upgrade. flushes the privileges during
          the upgrade procedure.

        * In addition to causing the startup sequence not to load the
          grant tables, '--skip-grant-tables' causes the server not to
          load certain other objects stored in the 'mysql' system
          database: plugins that were installed with the *note 'INSTALL
          PLUGIN': install-plugin. statement, scheduled events, and
          user-defined functions (UDFs).  To cause plugins to be loaded
          anyway, use the '--plugin-load' option.

   * 
     '--skip-host-cache'

     Property               Value
                            
     *Command-Line          '--skip-host-cache'
     Format*

     Disable use of the internal host cache for faster name-to-IP
     resolution.  With the cache disabled, the server performs a DNS
     lookup every time a client connects.

     For more information about how the host cache works, see *note
     host-cache::.

   * 
     '--skip-innodb'

     Disable the 'InnoDB' storage engine.  In this case, if the default
     storage engine is *note 'InnoDB': innodb-storage-engine, the server
     will not start unless you also change the 'default_storage_engine'
     system variable to set the default to some other available engine.

   * '--skip-new'

     Property               Value
                            
     *Command-Line          '--skip-new'
     Format*

     This option disables (what used to be considered) new, possibly
     unsafe behaviors.  It results in these settings:
     'delay_key_write=OFF', 'concurrent_insert=NEVER',
     'automatic_sp_privileges=OFF'.  It also causes *note 'OPTIMIZE
     TABLE': optimize-table. to be mapped to *note 'ALTER TABLE':
     alter-table. for storage engines for which *note 'OPTIMIZE TABLE':
     optimize-table. is not supported.

   * 
     '--skip-partition'

     Property               Value
                            
     *Command-Line          '--skip-partition' '--disable-partition'
     Format*

     Disables user-defined partitioning.  Partitioned tables can be seen
     using *note 'SHOW TABLES': show-tables. or by querying the *note
     'INFORMATION_SCHEMA.TABLES': tables-table. table, but cannot be
     created or modified, nor can data in such tables be accessed.  All
     partition-specific columns in the *note
     'INFORMATION_SCHEMA.PARTITIONS': partitions-table. table display
     'NULL'.

     Since *note 'DROP TABLE': drop-table. removes table definition
     ('.frm') files, this statement works on partitioned tables even
     when partitioning is disabled using the option.  The statement,
     however, does not remove '.par' files associated with partitioned
     tables in such cases.  For this reason, you should avoid dropping
     partitioned tables with partitioning disabled, or take action to
     remove the orphaned '.par' files manually.

   * 
     '--skip-safemalloc'

     Property               Value
                            
     *Command-Line          '--skip-safemalloc'
     Format*                

     *Removed*              5.5.6

     Previously, if MySQL was configured with full debugging support,
     all MySQL programs check for memory overruns during each memory
     allocation and memory freeing operation.  This checking is very
     slow, so for the server you can avoid it when you do not need it by
     using the '--skip-safemalloc' option.

     'safemalloc', along with this option, was removed in MySQL 5.5.6.

   * 
     '--skip-show-database'

     Property               Value
                            
     *Command-Line          '--skip-show-database'
     Format*                

     *System Variable*      'skip_show_database'
                            
     *Scope*                Global
                            
     *Dynamic*              No

     This option sets the 'skip_show_database' system variable that
     controls who is permitted to use the *note 'SHOW DATABASES':
     show-databases. statement.  See *note server-system-variables::.

   * 
     '--skip-stack-trace'

     Property               Value
                            
     *Command-Line          '--skip-stack-trace'
     Format*

     Do not write stack traces.  This option is useful when you are
     running *note 'mysqld': mysqld. under a debugger.  On some systems,
     you also must use this option to get a core file.  See *note
     porting::.

   * 
     '--skip-thread-priority'

     Property               Value
                            
     *Command-Line          '--skip-thread-priority'
     Format*                

     *Deprecated*           Yes

     Disable using thread priorities for faster response time.  This
     option is deprecated and is removed in MySQL 5.6.

   * 
     '--slow-start-timeout=TIMEOUT'

     Property               Value
                            
     *Command-Line          '--slow-start-timeout=#'
     Format*                

     *Introduced*           5.5.20
                            
     *Type*                 Integer
                            
     *Default Value*        '15000'

     This option controls the Windows service control manager's service
     start timeout.  The value is the maximum number of milliseconds
     that the service control manager waits before trying to kill the
     windows service during startup.  The default value is 15000 (15
     seconds).  If the MySQL service takes too long to start, you may
     need to increase this value.  A value of 0 means there is no
     timeout.

   * 
     '--socket=PATH'

     Property               Value
                            
     *Command-Line          '--socket={file_name|pipe_name}'
     Format*                

     *System Variable*      'socket'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 String
                            
     *Default Value*        '/tmp/mysql.sock'
     (Other)                

     *Default Value*        'MySQL'
     (Windows)

     On Unix, this option specifies the Unix socket file to use when
     listening for local connections.  The default value is
     '/tmp/mysql.sock'.  If this option is given, the server creates the
     file in the data directory unless an absolute path name is given to
     specify a different directory.  On Windows, the option specifies
     the pipe name to use when listening for local connections that use
     a named pipe.  The default value is 'MySQL' (not case-sensitive).

   * 
     '--sql-mode=VALUE[,VALUE[,VALUE...]]'

     Property               Value
                            
     *Command-Line          '--sql-mode=name'
     Format*                

     *System Variable*      'sql_mode'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Set
                            
     *Default Value*        ''''
                            
     *Valid Values*         'ALLOW_INVALID_DATES' 'ANSI_QUOTES'
                            'ERROR_FOR_DIVISION_BY_ZERO'
                            'HIGH_NOT_PRECEDENCE' 'IGNORE_SPACE'
                            'NO_AUTO_CREATE_USER' 'NO_AUTO_VALUE_ON_ZERO'
                            'NO_BACKSLASH_ESCAPES' 'NO_DIR_IN_CREATE'
                            'NO_ENGINE_SUBSTITUTION' 'NO_FIELD_OPTIONS'
                            'NO_KEY_OPTIONS' 'NO_TABLE_OPTIONS'
                            'NO_UNSIGNED_SUBTRACTION' 'NO_ZERO_DATE'
                            'NO_ZERO_IN_DATE' 'ONLY_FULL_GROUP_BY'
                            'PAD_CHAR_TO_FULL_LENGTH' 'PIPES_AS_CONCAT'
                            'REAL_AS_FLOAT' 'STRICT_ALL_TABLES'
                            'STRICT_TRANS_TABLES'

     Set the SQL mode.  See *note sql-mode::.

     *Note*:

     MySQL installation programs may configure the SQL mode during the
     installation process.  If the SQL mode differs from the default or
     from what you expect, check for a setting in an option file that
     the server reads at startup.

   * 
     '--ssl*'

     Options that begin with '--ssl' specify whether to permit clients
     to connect using SSL and indicate where to find SSL keys and
     certificates.  See *note encrypted-connection-options::.

   * 
     '--standalone'

     Property               Value
                            
     *Command-Line          '--standalone'
     Format*                

     *Platform Specific*    Windows

     Available on Windows only; instructs the MySQL server not to run as
     a service.

   * 
     '--super-large-pages'

     Property               Value
                            
     *Command-Line          '--super-large-pages[={OFF|ON}]'
     Format*                

     *Introduced*           5.5.3
                            
     *Platform Specific*    Solaris
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     Standard use of large pages in MySQL attempts to use the largest
     size supported, up to 4MB. Under Solaris, a 'super large pages'
     feature enables uses of pages up to 256MB. This feature is
     available for recent SPARC platforms.  It can be enabled or
     disabled by using the '--super-large-pages' or
     '--skip-super-large-pages' option.

   * 
     '--symbolic-links', '--skip-symbolic-links'

     Property               Value
                            
     *Command-Line          '--symbolic-links[={OFF|ON}]'
     Format*                

     *Type*                 Boolean
                            
     *Default Value*        'ON'

     Enable or disable symbolic link support.  This option has different
     effects on Windows and Unix:

        * On Windows, enabling symbolic links enables you to establish a
          symbolic link to a database directory by creating a
          'DB_NAME.sym' file that contains the path to the real
          directory.  See *note windows-symbolic-links::.

        * On Unix, enabling symbolic links means that you can link a
          'MyISAM' index file or data file to another directory with the
          'INDEX DIRECTORY' or 'DATA DIRECTORY' option of the *note
          'CREATE TABLE': create-table. statement.  If you delete or
          rename the table, the files that its symbolic links point to
          also are deleted or renamed.  See *note
          symbolic-links-to-tables::.

     The '--skip-symlink' and '--use-symbolic-links' server options were
     removed in MySQL 5.5.3.  They had the same meanings as
     '--skip-symbolic-links' and '--symbolic-links', which should be
     used instead.

   * 
     '--sysdate-is-now'

     Property               Value
                            
     *Command-Line          '--sysdate-is-now[={OFF|ON}]'
     Format*                

     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     'SYSDATE()' by default returns the time at which it executes, not
     the time at which the statement in which it occurs begins
     executing.  This differs from the behavior of 'NOW()'.  This option
     causes 'SYSDATE()' to be an alias for 'NOW()'.  For information
     about the implications for binary logging and replication, see the
     description for 'SYSDATE()' in *note date-and-time-functions:: and
     for 'SET TIMESTAMP' in *note server-system-variables::.

   * 
     '--tc-heuristic-recover={COMMIT|ROLLBACK}'

     Property               Value
                            
     *Command-Line          '--tc-heuristic-recover=name'
     Format*                

     *Type*                 Enumeration
                            
     *Default Value*        'COMMIT'
                            
     *Valid Values*         'COMMIT' 'ROLLBACK'

     The type of decision to use in the heuristic recovery process.  To
     use this option, two or more storage engines that support XA
     transactions must be installed.

   * 
     '--temp-pool'

     Property               Value
                            
     *Command-Line          '--temp-pool[={OFF|ON}]'
     Format*                

     *Type*                 Boolean
                            
     *Default Value*        'OFF'
     (Other)                

     *Default Value*        'ON'
     (Linux)

     This option is ignored except on Linux.  On Linux, it causes most
     temporary files created by the server to use a small set of names,
     rather than a unique name for each new file.  This works around a
     problem in the Linux kernel dealing with creating many new files
     with different names.  With the old behavior, Linux seems to 'leak'
     memory, because it is being allocated to the directory entry cache
     rather than to the disk cache.

   * 
     '--transaction-isolation=LEVEL'

     Property               Value
                            
     *Command-Line          '--transaction-isolation=name'
     Format*                

     *Type*                 Enumeration
                            
     *Default Value*        'REPEATABLE-READ'
                            
     *Valid Values*         'READ-UNCOMMITTED' 'READ-COMMITTED'
                            'REPEATABLE-READ' 'SERIALIZABLE'

     Sets the default transaction isolation level.  The 'level' value
     can be 'READ-UNCOMMITTED', 'READ-COMMITTED', 'REPEATABLE-READ', or
     'SERIALIZABLE'.  See *note set-transaction::.

     The default transaction isolation level can also be set at runtime
     using the *note 'SET TRANSACTION': set-transaction. statement or by
     setting the 'tx_isolation' system variable.

   * 
     '--tmpdir=DIR_NAME', '-t DIR_NAME'

     Property               Value
                            
     *Command-Line          '--tmpdir=dir_name'
     Format*                

     *System Variable*      'tmpdir'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Directory name

     The path of the directory to use for creating temporary files.  It
     might be useful if your default '/tmp' directory resides on a
     partition that is too small to hold temporary tables.  This option
     accepts several paths that are used in round-robin fashion.  Paths
     should be separated by colon characters (':') on Unix and semicolon
     characters (';') on Windows.  If the MySQL server is acting as a
     replication slave, you should not set '--tmpdir' to point to a
     directory on a memory-based file system or to a directory that is
     cleared when the server host restarts.  For more information about
     the storage location of temporary files, see *note
     temporary-files::.  A replication slave needs some of its temporary
     files to survive a machine restart so that it can replicate
     temporary tables or *note 'LOAD DATA': load-data. operations.  If
     files in the temporary file directory are lost when the server
     restarts, replication fails.

   * 
     '--user={USER_NAME|USER_ID}', '-u {USER_NAME|USER_ID}'

     Property               Value
                            
     *Command-Line          '--user=name'
     Format*                

     *Type*                 String

     Run the *note 'mysqld': mysqld. server as the user having the name
     USER_NAME or the numeric user ID USER_ID.  ('User' in this context
     refers to a system login account, not a MySQL user listed in the
     grant tables.)

     This option is _mandatory_ when starting *note 'mysqld': mysqld. as
     'root'.  The server changes its user ID during its startup
     sequence, causing it to run as that particular user rather than as
     'root'.  See *note security-guidelines::.

     To avoid a possible security hole where a user adds a '--user=root'
     option to a 'my.cnf' file (thus causing the server to run as
     'root'), *note 'mysqld': mysqld. uses only the first '--user'
     option specified and produces a warning if there are multiple
     '--user' options.  Options in '/etc/my.cnf' and
     '$MYSQL_HOME/my.cnf' are processed before command-line options, so
     it is recommended that you put a '--user' option in '/etc/my.cnf'
     and specify a value other than 'root'.  The option in '/etc/my.cnf'
     is found before any other '--user' options, which ensures that the
     server runs as a user other than 'root', and that a warning results
     if any other '--user' option is found.

   * 
     '--verbose', '-v'

     Use this option with the '--help' option for detailed help.

   * 
     '--version', '-V'

     Display version information and exit.


File: manual.info.tmp,  Node: server-system-variables,  Next: using-system-variables,  Prev: server-options,  Up: mysqld-server

5.1.7 Server System Variables
-----------------------------

The MySQL server maintains many system variables that configure its
operation.  Each system variable has a default value.  System variables
can be set at server startup using options on the command line or in an
option file.  Most of them can be changed dynamically at runtime using
the *note 'SET': set-variable. statement, which enables you to modify
operation of the server without having to stop and restart it.  You can
also use system variable values in expressions.

At runtime, setting a global system variable value requires the 'SUPER'
privilege.  Setting a session system variable value normally requires no
special privileges and can be done by any user, although there are
exceptions.  For more information, see *note
system-variable-privileges::

There are several ways to see the names and values of system variables:

   * To see the values that a server will use based on its compiled-in
     defaults and any option files that it reads, use this command:

          mysqld --verbose --help

   * To see the values that a server will use based only on its
     compiled-in defaults, ignoring the settings in any option files,
     use this command:

          mysqld --no-defaults --verbose --help

   * To see the current values used by a running server, use the *note
     'SHOW VARIABLES': show-variables. statement.

This section provides a description of each system variable.  For a
system variable summary table, see *note
server-system-variable-reference::.  For more information about
manipulation of system variables, see *note using-system-variables::.

For additional system variable information, see these sections:

   * *note using-system-variables::, discusses the syntax for setting
     and displaying system variable values.

   * *note dynamic-system-variables::, lists the variables that can be
     set at runtime.

   * Information on tuning system variables can be found in *note
     server-configuration::.

   * *note innodb-parameters::, lists 'InnoDB' system variables.

   * *note mysql-cluster-system-variables::, lists system variables
     which are specific to NDB Cluster.

   * For information on server system variables specific to replication,
     see *note replication-options::.

*Note*:

Some of the following variable descriptions refer to 'enabling' or
'disabling' a variable.  These variables can be enabled with the *note
'SET': set-variable. statement by setting them to 'ON' or '1', or
disabled by setting them to 'OFF' or '0'.  However, before MySQL 5.5.10,
to set such a variable on the command line or in an option file, you
must set it to '1' or '0'; setting it to 'ON' or 'OFF' will not work.
For example, on the command line, '--delay_key_write=1' works but
'--delay_key_write=ON' does not.  As of MySQL 5.5.10, boolean variables
can be set at startup to the values 'ON', 'TRUE', 'OFF', and 'FALSE'
(not case-sensitive).  See *note option-modifiers::.

Some system variables control the size of buffers or caches.  For a
given buffer, the server might need to allocate internal data
structures.  These structures typically are allocated from the total
memory allocated to the buffer, and the amount of space required might
be platform dependent.  This means that when you assign a value to a
system variable that controls a buffer size, the amount of space
actually available might differ from the value assigned.  In some cases,
the amount might be less than the value assigned.  It is also possible
that the server will adjust a value upward.  For example, if you assign
a value of 0 to a variable for which the minimal value is 1024, the
server will set the value to 1024.

Values for buffer sizes, lengths, and stack sizes are given in bytes
unless otherwise specified.

Some system variables take file name values.  Unless otherwise
specified, the default file location is the data directory if the value
is a relative path name.  To specify the location explicitly, use an
absolute path name.  Suppose that the data directory is
'/var/mysql/data'.  If a file-valued variable is given as a relative
path name, it will be located under '/var/mysql/data'.  If the value is
an absolute path name, its location is as given by the path name.

   * 
     'authentication_windows_log_level'

     Property               Value
                            
     *Command-Line          '--authentication-windows-log-level=#'
     Format*                

     *Introduced*           5.5.16
                            
     *System Variable*      'authentication_windows_log_level'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Integer
                            
     *Default Value*        '2'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '4'

     This variable is available only if the 'authentication_windows'
     Windows authentication plugin is enabled and debugging code is
     enabled.  See *note windows-pluggable-authentication::.

     This variable sets the logging level for the Windows authentication
     plugin.  The following table shows the permitted values.

     Value   Description
             
     0       No logging
             
     1       Log only error messages
             
     2       Log level 1 messages and warning messages
             
     3       Log level 2 messages and information notes
             
     4       Log level 3 messages and debug messages

     This variable was added in MySQL 5.5.16.

   * 
     'authentication_windows_use_principal_name'

     Property               Value
                            
     *Command-Line          '--authentication-windows-use-principal-name[={OFF|ON}]'
     Format*                

     *Introduced*           5.5.16
                            
     *System Variable*      'authentication_windows_use_principal_name'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Boolean
                            
     *Default Value*        'ON'

     This variable is available only if the 'authentication_windows'
     Windows authentication plugin is enabled.  See *note
     windows-pluggable-authentication::.

     A client that authenticates using the 'InitSecurityContext()'
     function should provide a string identifying the service to which
     it connects (TARGETNAME).  MySQL uses the principal name (UPN) of
     the account under which the server is running.  The UPN has the
     form 'USER_ID@COMPUTER_NAME' and need not be registered anywhere to
     be used.  This UPN is sent by the server at the beginning of
     authentication handshake.

     This variable controls whether the server sends the UPN in the
     initial challenge.  By default, the variable is enabled.  For
     security reasons, it can be disabled to avoid sending the server's
     account name to a client as cleartext.  If the variable is
     disabled, the server always sends a '0x00' byte in the first
     challenge, the client does not specify TARGETNAME, and as a result,
     NTLM authentication is used.

     If the server fails to obtain its UPN (which will happen primarily
     in environments that do not support Kerberos authentication), the
     UPN is not sent by the server and NTLM authentication is used.

     This variable was added in MySQL 5.5.16.

   * 
     'autocommit'

     Property               Value
                            
     *Command-Line          '--autocommit[={OFF|ON}]' (>= 5.5.8)
     Format*                

     *System Variable*      'autocommit'
                            
     *Scope* (>= 5.5.3)     Global, Session
                            
     *Scope* (<= 5.5.2)     Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'ON'

     The autocommit mode.  If set to 1, all changes to a table take
     effect immediately.  If set to 0, you must use *note 'COMMIT':
     commit. to accept a transaction or *note 'ROLLBACK': commit. to
     cancel it.  If 'autocommit' is 0 and you change it to 1, MySQL
     performs an automatic *note 'COMMIT': commit. of any open
     transaction.  Another way to begin a transaction is to use a *note
     'START TRANSACTION': commit. or *note 'BEGIN': commit. statement.
     See *note commit::.

     By default, client connections begin with 'autocommit' set to 1.
     To cause clients to begin with a default of 0, set the global
     'autocommit' value by starting the server with the '--autocommit=0'
     option.  To set the variable using an option file, include these
     lines:

          [mysqld]
          autocommit=0

     The 'init_connect' variable can also be set on the command line or
     in an option file.  To set the variable as just shown using an
     option file, include these lines:

          [mysqld]
          init_connect='SET autocommit=0'

     For users that have the 'SUPER' privilege, the content of
     'init_connect' is not executed (unlike the effect of setting the
     global 'autocommit' value at startup).

   * 'automatic_sp_privileges'

     Property               Value
                            
     *Command-Line          '--automatic-sp-privileges[={OFF|ON}]'
     Format*                

     *System Variable*      'automatic_sp_privileges'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'ON'

     When this variable has a value of 1 (the default), the server
     automatically grants the 'EXECUTE' and 'ALTER ROUTINE' privileges
     to the creator of a stored routine, if the user cannot already
     execute and alter or drop the routine.  (The 'ALTER ROUTINE'
     privilege is required to drop the routine.)  The server also
     automatically drops those privileges from the creator when the
     routine is dropped.  If 'automatic_sp_privileges' is 0, the server
     does not automatically add or drop these privileges.

     The creator of a routine is the account used to execute the
     'CREATE' statement for it.  This might not be the same as the
     account named as the 'DEFINER' in the routine definition.

     If you start *note 'mysqld': mysqld. with '--skip-new',
     'automatic_sp_privileges' is set to 'OFF'.

     See also *note stored-routines-privileges::.

   * 
     'back_log'

     Property               Value
                            
     *Command-Line          '--back-log=#'
     Format*                

     *System Variable*      'back_log'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Integer
                            
     *Default Value*        '50'
                            
     *Minimum Value*        '1'
                            
     *Maximum Value*        '65535'

     The number of outstanding connection requests MySQL can have.  This
     comes into play when the main MySQL thread gets very many
     connection requests in a very short time.  It then takes some time
     (although very little) for the main thread to check the connection
     and start a new thread.  The 'back_log' value indicates how many
     requests can be stacked during this short time before MySQL
     momentarily stops answering new requests.  You need to increase
     this only if you expect a large number of connections in a short
     period of time.

     In other words, this value is the size of the listen queue for
     incoming TCP/IP connections.  Your operating system has its own
     limit on the size of this queue.  The manual page for the Unix
     'listen()' system call should have more details.  Check your OS
     documentation for the maximum value for this variable.  'back_log'
     cannot be set higher than your operating system limit.

   * 
     'basedir'

     Property               Value
                            
     *Command-Line          '--basedir=dir_name'
     Format*                

     *System Variable*      'basedir'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Directory name
                            
     *Default Value*        'configuration-dependent default'

     The path to the MySQL installation base directory.

   * 
     'big_tables'

     Property               Value
                            
     *Command-Line          '--big-tables[={OFF|ON}]'
     Format*                

     *System Variable*      'big_tables'
                            
     *Scope* (>= 5.5.3)     Global, Session
                            
     *Scope* (<= 5.5.2)     Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     If enabled, the server stores all temporary tables on disk rather
     than in memory.  This prevents most 'The table TBL_NAME is full'
     errors for *note 'SELECT': select. operations that require a large
     temporary table, but also slows down queries for which in-memory
     tables would suffice.

     The default value for new connection is 'OFF' (use in-memory
     temporary tables).  Normally, it should never be necessary to
     enable this variable because the server is able to handle large
     result sets automatically by using memory for small temporary
     tables and switching to disk-based tables as required.

     *Note*:

     This variable was formerly named 'sql_big_tables'.

   * 'bulk_insert_buffer_size'

     Property               Value
                            
     *Command-Line          '--bulk-insert-buffer-size=#'
     Format*                

     *System Variable*      'bulk_insert_buffer_size'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '8388608'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)

     'MyISAM' uses a special tree-like cache to make bulk inserts faster
     for *note 'INSERT ... SELECT': insert-select, 'INSERT ... VALUES
     (...), (...), ...', and *note 'LOAD DATA': load-data. when adding
     data to nonempty tables.  This variable limits the size of the
     cache tree in bytes per thread.  Setting it to 0 disables this
     optimization.  The default value is 8MB.

   * 
     'character_set_client'

     Property               Value
                            
     *System Variable*      'character_set_client'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 String
                            
     *Default Value*        'utf8'

     The character set for statements that arrive from the client.  The
     session value of this variable is set using the character set
     requested by the client when the client connects to the server.
     (Many clients support a '--default-character-set' option to enable
     this character set to be specified explicitly.  See also *note
     charset-connection::.)  The global value of the variable is used to
     set the session value in cases when the client-requested value is
     unknown or not available, or the server is configured to ignore
     client requests:

        * The client requests a character set not known to the server.
          For example, a Japanese-enabled client requests 'sjis' when
          connecting to a server not configured with 'sjis' support.

        * The client is from a version of MySQL older than MySQL 4.1,
          and thus does not request a character set.

        * *note 'mysqld': mysqld. was started with the
          '--skip-character-set-client-handshake' option, which causes
          it to ignore client character set configuration.  This
          reproduces MySQL 4.0 behavior and is useful should you wish to
          upgrade the server without upgrading all the clients.

     Some character sets cannot be used as the client character set.
     Attempting to use them as the 'character_set_client' value produces
     an error.  See *note
     charset-connection-impermissible-client-charset::.

   * 
     'character_set_connection'

     Property               Value
                            
     *System Variable*      'character_set_connection'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 String
                            
     *Default Value*        'utf8'

     The character set used for literals specified without a character
     set introducer and for number-to-string conversion.  For
     information about introducers, see *note charset-introducer::.

   * 
     'character_set_database'

     Property               Value
                            
     *System Variable*      'character_set_database'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 String
                            
     *Default Value*        'latin1'
                            
     *Footnote*             This option is dynamic, but only the server
                            should set this information.  You should not set
                            the value of this variable manually.

     The character set used by the default database.  The server sets
     this variable whenever the default database changes.  If there is
     no default database, the variable has the same value as
     'character_set_server'.

   * 
     'character_set_filesystem'

     Property               Value
                            
     *Command-Line          '--character-set-filesystem=name'
     Format*                

     *System Variable*      'character_set_filesystem'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 String
                            
     *Default Value*        'binary'

     The file system character set.  This variable is used to interpret
     string literals that refer to file names, such as in the *note
     'LOAD DATA': load-data. and *note 'SELECT ... INTO OUTFILE':
     select-into. statements and the 'LOAD_FILE()' function.  Such file
     names are converted from 'character_set_client' to
     'character_set_filesystem' before the file opening attempt occurs.
     The default value is 'binary', which means that no conversion
     occurs.  For systems on which multibyte file names are permitted, a
     different value may be more appropriate.  For example, if the
     system represents file names using UTF-8, set
     'character_set_filesystem' to ''utf8mb4''.

   * 
     'character_set_results'

     Property               Value
                            
     *System Variable*      'character_set_results'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 String
                            
     *Default Value*        'utf8'

     The character set used for returning query results to the client.
     This includes result data such as column values, result metadata
     such as column names, and error messages.

   * 
     'character_set_server'

     Property               Value
                            
     *Command-Line          '--character-set-server=name'
     Format*                

     *System Variable*      'character_set_server'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 String
                            
     *Default Value*        'latin1'

     The servers default character set.  See *note
     charset-configuration::.  If you set this variable, you should also
     set 'collation_server' to specify the collation for the character
     set.

   * 
     'character_set_system'

     Property               Value
                            
     *System Variable*      'character_set_system'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 String
                            
     *Default Value*        'utf8'

     The character set used by the server for storing identifiers.  The
     value is always 'utf8'.

   * 
     'character_sets_dir'

     Property               Value
                            
     *Command-Line          '--character-sets-dir=dir_name'
     Format*                

     *System Variable*      'character_sets_dir'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Directory name

     The directory where character sets are installed.  See *note
     charset-configuration::.

   * 
     'collation_connection'

     Property               Value
                            
     *System Variable*      'collation_connection'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 String

     The collation of the connection character set.
     'collation_connection' is important for comparisons of literal
     strings.  For comparisons of strings with column values,
     'collation_connection' does not matter because columns have their
     own collation, which has a higher collation precedence (see *note
     charset-collation-coercibility::).

   * 
     'collation_database'

     Property               Value
                            
     *System Variable*      'collation_database'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 String
                            
     *Default Value*        'latin1_swedish_ci'
                            
     *Footnote*             This option is dynamic, but only the server
                            should set this information.  You should not set
                            the value of this variable manually.

     The collation used by the default database.  The server sets this
     variable whenever the default database changes.  If there is no
     default database, the variable has the same value as
     'collation_server'.

   * 
     'collation_server'

     Property               Value
                            
     *Command-Line          '--collation-server=name'
     Format*                

     *System Variable*      'collation_server'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 String
                            
     *Default Value*        'latin1_swedish_ci'

     The server's default collation.  See *note charset-configuration::.

   * 
     'completion_type'

     Property               Value
                            
     *Command-Line          '--completion-type=#'
     Format*                

     *System Variable*      'completion_type'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type* (>= 5.5.3)      Enumeration
                            
     *Type* (<= 5.5.2)      Integer
                            
     *Default Value* (>=    'NO_CHAIN'
     5.5.3)                 

     *Default Value* (<=    '0'
     5.5.2)                 

     *Valid Values* (>=     'NO_CHAIN' 'CHAIN' 'RELEASE' '0' '1' '2'
     5.5.3)                 

     *Valid Values* (<=     '0' '1' '2'
     5.5.2)

     The transaction completion type.  This variable can take the values
     shown in the following table.

     Value   Description
             
     'NO_CHAIN'*note 'COMMIT': commit. and
     (or     *note 'ROLLBACK': commit. are unaffected.  This is
     0)      the default value.
             
     'CHAIN' *note 'COMMIT': commit. and
     (or     *note 'ROLLBACK': commit. are equivalent to 'COMMIT
     1)      AND CHAIN' and 'ROLLBACK AND CHAIN', respectively.
             (A new transaction starts immediately with the same
             isolation level as the just-terminated transaction.)
             
     'RELEASE'*note 'COMMIT': commit. and
     (or     *note 'ROLLBACK': commit. are equivalent to 'COMMIT
     2)      RELEASE' and 'ROLLBACK RELEASE', respectively.  (The
             server disconnects after terminating the
             transaction.)

     'completion_type' affects transactions that begin with *note 'START
     TRANSACTION': commit. or *note 'BEGIN': commit. and end with *note
     'COMMIT': commit. or *note 'ROLLBACK': commit.  It does not apply
     to implicit commits resulting from execution of the statements
     listed in *note implicit-commit::.  It also does not apply for
     *note 'XA COMMIT': xa-statements, *note 'XA ROLLBACK':
     xa-statements, or when 'autocommit=1'.

   * 'concurrent_insert'

     Property               Value
                            
     *Command-Line          '--concurrent-insert[=value]'
     Format*                

     *System Variable*      'concurrent_insert'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type* (>= 5.5.3)      Enumeration
                            
     *Type* (<= 5.5.2)      Integer
                            
     *Default Value* (>=    'AUTO'
     5.5.3)                 

     *Default Value* (<=    '1'
     5.5.2)                 

     *Valid Values* (>=     'NEVER' 'AUTO' 'ALWAYS' '0' '1' '2'
     5.5.3)                 

     *Valid Values* (<=     '0' '1' '2'
     5.5.2)

     If 'AUTO' (the default), MySQL permits *note 'INSERT': insert. and
     *note 'SELECT': select. statements to run concurrently for 'MyISAM'
     tables that have no free blocks in the middle of the data file.

     This variable can take the values shown in the following table.

     Value   Description
             
     'NEVER' Disables concurrent inserts
     (or     
     0)

     'AUTO'  (Default) Enables concurrent insert for 'MyISAM'
     (or     tables that do not have holes
     1)      

     'ALWAYS'Enables concurrent inserts for all 'MyISAM' tables,
     (or     even those that have holes.  For a table with a
     2)      hole, new rows are inserted at the end of the table
             if it is in use by another thread.  Otherwise, MySQL
             acquires a normal write lock and inserts the row
             into the hole.

     If you start *note 'mysqld': mysqld. with '--skip-new',
     'concurrent_insert' is set to 'NEVER'.

     See also *note concurrent-inserts::.

   * 
     'connect_timeout'

     Property               Value
                            
     *Command-Line          '--connect-timeout=#'
     Format*                

     *System Variable*      'connect_timeout'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '10'
                            
     *Minimum Value*        '2'
                            
     *Maximum Value*        '31536000'

     The number of seconds that the *note 'mysqld': mysqld. server waits
     for a connect packet before responding with 'Bad handshake'.  The
     default value is 10 seconds.

     Increasing the 'connect_timeout' value might help if clients
     frequently encounter errors of the form 'Lost connection to MySQL
     server at 'XXX', system error: ERRNO'.

   * 
     'datadir'

     Property               Value
                            
     *Command-Line          '--datadir=dir_name'
     Format*                

     *System Variable*      'datadir'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Directory name

     The path to the MySQL server data directory.  Relative paths are
     resolved with respect to the current directory.  If the server will
     be started automatically (that is, in contexts for which you cannot
     assume what the current directory will be), it is best to specify
     the 'datadir' value as an absolute path.

   * 
     'date_format'

     This variable is unused.

   * 
     'datetime_format'

     This variable is unused.

   * 
     'debug'

     Property               Value
                            
     *Command-Line          '--debug[=debug_options]'
     Format*                

     *System Variable*      'debug'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 String
                            
     *Default Value*        'd:t:i:O,\mysqld.trace'
     (Windows)              

     *Default Value*        'd:t:i:o,/tmp/mysqld.trace'
     (Unix)

     This variable indicates the current debugging settings.  It is
     available only for servers built with debugging support.  The
     initial value comes from the value of instances of the '--debug'
     option given at server startup.  The global and session values may
     be set at runtime.

     Setting the session value of this system variable is a restricted
     operation.  The session user must have privileges sufficient to set
     restricted session variables.  See *note
     system-variable-privileges::.

     Assigning a value that begins with '+' or '-' cause the value to
     added to or subtracted from the current value:

          mysql> SET debug = 'T';
          mysql> SELECT @@debug;
          +---------+
          | @@debug |
          +---------+
          | T       |
          +---------+

          mysql> SET debug = '+P';
          mysql> SELECT @@debug;
          +---------+
          | @@debug |
          +---------+
          | P:T     |
          +---------+

          mysql> SET debug = '-P';
          mysql> SELECT @@debug;
          +---------+
          | @@debug |
          +---------+
          | T       |
          +---------+

     For more information, see *note dbug-package::.

   * 
     'debug_sync'

     Property               Value
                            
     *System Variable*      'debug_sync'
                            
     *Scope* (>= 5.5.3)     Session
                            
     *Scope* (<= 5.5.2)     Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 String

     This variable is the user interface to the Debug Sync facility.
     Use of Debug Sync requires that MySQL be configured with the
     '-DENABLE_DEBUG_SYNC=1' 'CMake' option (see *note
     source-configuration-options::).  If Debug Sync is not compiled in,
     this system variable is not available.

     The global variable value is read only and indicates whether the
     facility is enabled.  By default, Debug Sync is disabled and the
     value of 'debug_sync' is 'OFF'.  If the server is started with
     '--debug-sync-timeout=N', where N is a timeout value greater than
     0, Debug Sync is enabled and the value of 'debug_sync' is 'ON -
     current signal' followed by the signal name.  Also, N becomes the
     default timeout for individual synchronization points.

     The session value can be read by any user and will have the same
     value as the global variable.  The session value can be set to
     control synchronization points.

     Setting the session value of this system variable is a restricted
     operation.  The session user must have privileges sufficient to set
     restricted session variables.  See *note
     system-variable-privileges::.

     For a description of the Debug Sync facility and how to use
     synchronization points, see MySQL Internals: Test Synchronization
     (https://dev.mysql.com/doc/internals/en/test-synchronization.html).

   * 
     'default_storage_engine'

     Property               Value
                            
     *Command-Line          '--default-storage-engine=name'
     Format*                

     *System Variable*      'default_storage_engine'
     (>= 5.5.3)             

     *System Variable*      'storage_engine'
     (<= 5.5.2)             

     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Enumeration
                            
     *Default Value* (>=    'InnoDB'
     5.5.5)                 

     *Default Value* (<=    'MyISAM'
     5.5.4)

     The default storage engine for tables.  See *note
     storage-engines::.

     To see which storage engines are available and enabled, use the
     *note 'SHOW ENGINES': show-engines. statement or query the
     'INFORMATION_SCHEMA' *note 'ENGINES': engines-table. table.

     If you disable the default storage engine at server startup, you
     must set the default engine to a different engine or the server
     will not start.

     This variable is to be used in preference to 'storage_engine',
     which is now deprecated.

   * 
     'default_week_format'

     Property               Value
                            
     *Command-Line          '--default-week-format=#'
     Format*                

     *System Variable*      'default_week_format'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '0'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '7'

     The default mode value to use for the 'WEEK()' function.  See *note
     date-and-time-functions::.

   * 'delay_key_write'

     Property               Value
                            
     *Command-Line          '--delay-key-write[={OFF|ON|ALL}]'
     Format*                

     *System Variable*      'delay_key_write'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Enumeration
                            
     *Default Value*        'ON'
                            
     *Valid Values*         'ON' 'OFF' 'ALL'

     This variable specifies how to use delayed key writes.  It applies
     only to 'MyISAM' tables.  Delayed key writing causes key buffers
     not to be flushed between writes.  See also *note myisam-start::.

     This variable can have one of the following values to affect
     handling of the 'DELAY_KEY_WRITE' table option that can be used in
     *note 'CREATE TABLE': create-table. statements.

     Option  Description
             
     'OFF'   'DELAY_KEY_WRITE' is ignored.
             
     'ON'    MySQL honors any 'DELAY_KEY_WRITE' option specified
             in *note 'CREATE TABLE': create-table. statements.
             This is the default value.
             
     'ALL'   All new opened tables are treated as if they were
             created with the 'DELAY_KEY_WRITE' option enabled.

     *Note*:

     If you set this variable to 'ALL', you should not use 'MyISAM'
     tables from within another program (such as another MySQL server or
     *note 'myisamchk': myisamchk.) when the tables are in use.  Doing
     so leads to index corruption.

     If 'DELAY_KEY_WRITE' is enabled for a table, the key buffer is not
     flushed for the table on every index update, but only when the
     table is closed.  This speeds up writes on keys a lot, but if you
     use this feature, you should add automatic checking of all 'MyISAM'
     tables by starting the server with the 'myisam_recover_options'
     system variable set (for example,
     'myisam_recover_options='BACKUP,FORCE'').  See *note
     server-system-variables::, and *note myisam-start::.

     If you start *note 'mysqld': mysqld. with '--skip-new',
     'delay_key_write' is set to 'OFF'.

     *Warning*:

     If you enable external locking with '--external-locking', there is
     no protection against index corruption for tables that use delayed
     key writes.

   * 
     'delayed_insert_limit'

     Property               Value
                            
     *Command-Line          '--delayed-insert-limit=#'
     Format*                

     *System Variable*      'delayed_insert_limit'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '100'
                            
     *Minimum Value*        '1'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)

     After inserting 'delayed_insert_limit' delayed rows, the *note
     'INSERT DELAYED': insert-delayed. handler thread checks whether
     there are any *note 'SELECT': select. statements pending.  If so,
     it permits them to execute before continuing to insert delayed
     rows.

   * 
     'delayed_insert_timeout'

     Property               Value
                            
     *Command-Line          '--delayed-insert-timeout=#'
     Format*                

     *System Variable*      'delayed_insert_timeout'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '300'

     How many seconds an *note 'INSERT DELAYED': insert-delayed. handler
     thread should wait for *note 'INSERT': insert. statements before
     terminating.

   * 
     'delayed_queue_size'

     Property               Value
                            
     *Command-Line          '--delayed-queue-size=#'
     Format*                

     *System Variable*      'delayed_queue_size'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '1000'
                            
     *Minimum Value*        '1'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)

     This is a per-table limit on the number of rows to queue when
     handling *note 'INSERT DELAYED': insert-delayed. statements.  If
     the queue becomes full, any client that issues an *note 'INSERT
     DELAYED': insert-delayed. statement waits until there is room in
     the queue again.

   * 
     'div_precision_increment'

     Property               Value
                            
     *Command-Line          '--div-precision-increment=#'
     Format*                

     *System Variable*      'div_precision_increment'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '4'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '30'

     This variable indicates the number of digits by which to increase
     the scale of the result of division operations performed with the
     '/' operator.  The default value is 4.  The minimum and maximum
     values are 0 and 30, respectively.  The following example
     illustrates the effect of increasing the default value.

          mysql> SELECT 1/7;
          +--------+
          | 1/7    |
          +--------+
          | 0.1429 |
          +--------+
          mysql> SET div_precision_increment = 12;
          mysql> SELECT 1/7;
          +----------------+
          | 1/7            |
          +----------------+
          | 0.142857142857 |
          +----------------+

   * 
     'engine_condition_pushdown'

     Property               Value
                            
     *Command-Line          '--engine-condition-pushdown[={OFF|ON}]'
     Format*                

     *Deprecated*           5.5.3; use 'optimizer_switch' instead
                            
     *System Variable*      'engine_condition_pushdown'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'ON'

     The engine condition pushdown optimization enables processing for
     certain comparisons to be 'pushed down' to the storage engine level
     for more efficient execution.  For more information, see *note
     condition-pushdown-optimization::.

     Engine condition pushdown is used only by the *note 'NDBCLUSTER':
     mysql-cluster. storage engine.  Enabling this optimization on a
     MySQL Server acting as an NDB Cluster SQL node causes 'WHERE'
     conditions on unindexed columns to be evaluated on the cluster's
     data nodes and only the rows that match to be sent back to the SQL
     node that issued the query.  This greatly reduces the amount of
     cluster data that must be sent over the network, increasing the
     efficiency with which results are returned.

     The 'engine_condition_pushdown' variable controls whether engine
     condition pushdown is enabled.  By default, this variable is 'ON'
     (1).  Setting it to 'OFF' (0) disables pushdown.

     This variable is deprecated in MySQL 5.5 and is removed in MySQL
     5.6.  Use the 'engine_condition_pushdown' flag of the
     'optimizer_switch' variable instead.  See *note
     switchable-optimizations::.

   * 
     'error_count'

     The number of errors that resulted from the last statement that
     generated messages.  This variable is read only.  See *note
     show-errors::.

   * 
     'event_scheduler'

     Property               Value
                            
     *Command-Line          '--event-scheduler[=value]'
     Format*                

     *System Variable*      'event_scheduler'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Enumeration
                            
     *Default Value*        'OFF'
                            
     *Valid Values*         'ON' 'OFF' 'DISABLED'

     This variable enables or disables, and starts or stops, the Event
     Scheduler.  The possible status values are 'ON', 'OFF', and
     'DISABLED', with the default being 'OFF'.  Turning the Event
     Scheduler 'OFF' is not the same as disabling the Event Scheduler,
     which requires setting the status to 'DISABLED'.  This variable and
     its effects on the Event Scheduler's operation are discussed in
     greater detail in *note events-configuration::

   * 
     'expire_logs_days'

     Property               Value
                            
     *Command-Line          '--expire-logs-days=#'
     Format*                

     *System Variable*      'expire_logs_days'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '0'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '99'

     The number of days for automatic binary log file removal.  The
     default is 0, which means 'no automatic removal.' Possible removals
     happen at startup and when the binary log is flushed.  Log flushing
     occurs as indicated in *note server-logs::.

     To remove binary log files manually, use the *note 'PURGE BINARY
     LOGS': purge-binary-logs. statement.  See *note
     purge-binary-logs::.

   * 
     'external_user'

     Property               Value
                            
     *Introduced*           5.5.7
                            
     *System Variable*      'external_user'
                            
     *Scope*                Session
                            
     *Dynamic*              No
                            
     *Type*                 String

     The external user name used during the authentication process, as
     set by the plugin used to authenticate the client.  With native
     (built-in) MySQL authentication, or if the plugin does not set the
     value, this variable is 'NULL'.  See *note proxy-users::.

   * 
     'flush'

     Property               Value
                            
     *Command-Line          '--flush[={OFF|ON}]'
     Format*                

     *System Variable*      'flush'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     If 'ON', the server flushes (synchronizes) all changes to disk
     after each SQL statement.  Normally, MySQL does a write of all
     changes to disk only after each SQL statement and lets the
     operating system handle the synchronizing to disk.  See *note
     crashing::.  This variable is set to 'ON' if you start *note
     'mysqld': mysqld. with the '--flush' option.

     *Note*:

     If 'flush' is enabled, the value of 'flush_time' does not matter
     and changes to 'flush_time' have no effect on flush behavior.

   * 
     'flush_time'

     Property               Value
                            
     *Command-Line          '--flush-time=#'
     Format*                

     *System Variable*      'flush_time'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '0'
     (Other)                

     *Default Value*        '1800'
     (Windows)              

     *Minimum Value*        '0'

     If this is set to a nonzero value, all tables are closed every
     'flush_time' seconds to free up resources and synchronize unflushed
     data to disk.  This option is best used only on systems with
     minimal resources.

     *Note*:

     If 'flush' is enabled, the value of 'flush_time' does not matter
     and changes to 'flush_time' have no effect on flush behavior.

   * 
     'foreign_key_checks'

     Property               Value
                            
     *System Variable*      'foreign_key_checks'
                            
     *Scope* (>= 5.5.3)     Global, Session
                            
     *Scope* (<= 5.5.2)     Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'ON'

     If set to 1 (the default), foreign key constraints for 'InnoDB'
     tables are checked.  If set to 0, foreign key constraints are
     ignored, with a couple of exceptions.  When re-creating a table
     that was dropped, an error is returned if the table definition does
     not conform to the foreign key constraints referencing the table.
     Likewise, an *note 'ALTER TABLE': alter-table. operation returns an
     error if a foreign key definition is incorrectly formed.  For more
     information, see *note create-table-foreign-keys::.

     Disabling foreign key checking can be useful for reloading 'InnoDB'
     tables in an order different from that required by their
     parent/child relationships.  See *note create-table-foreign-keys::.

     Setting 'foreign_key_checks' to 0 also affects data definition
     statements: *note 'DROP SCHEMA': drop-database. drops a schema even
     if it contains tables that have foreign keys that are referred to
     by tables outside the schema, and *note 'DROP TABLE': drop-table.
     drops tables that have foreign keys that are referred to by other
     tables.

     *Note*:

     Setting 'foreign_key_checks' to 1 does not trigger a scan of the
     existing table data.  Therefore, rows added to the table while
     'foreign_key_checks=0' will not be verified for consistency.

     *Warning*:

     With 'foreign_key_checks=0', dropping an index required by a
     foreign key constraint places the table in an inconsistent state
     and causes the foreign key check that occurs at table load to fail.
     To avoid this problem, remove the foreign key constraint before
     dropping the index (Bug #70260).

   * 
     'ft_boolean_syntax'

     Property               Value
                            
     *Command-Line          '--ft-boolean-syntax=name'
     Format*                

     *System Variable*      'ft_boolean_syntax'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 String
                            
     *Default Value*        '+ -><()~*:""&|'

     The list of operators supported by boolean full-text searches
     performed using 'IN BOOLEAN MODE'.  See *note fulltext-boolean::.

     The default variable value is ''+ -><()~*:""&|''.  The rules for
     changing the value are as follows:

        * Operator function is determined by position within the string.

        * The replacement value must be 14 characters.

        * Each character must be an ASCII nonalphanumeric character.

        * Either the first or second character must be a space.

        * No duplicates are permitted except the phrase quoting
          operators in positions 11 and 12.  These two characters are
          not required to be the same, but they are the only two that
          may be.

        * Positions 10, 13, and 14 (which by default are set to ':',
          '&', and '|') are reserved for future extensions.

   * 
     'ft_max_word_len'

     Property               Value
                            
     *Command-Line          '--ft-max-word-len=#'
     Format*                

     *System Variable*      'ft_max_word_len'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Integer
                            
     *Minimum Value*        '10'

     The maximum length of the word to be included in a 'FULLTEXT'
     index.

     *Note*:

     'FULLTEXT' indexes must be rebuilt after changing this variable.
     Use 'REPAIR TABLE TBL_NAME QUICK'.

   * 
     'ft_min_word_len'

     Property               Value
                            
     *Command-Line          '--ft-min-word-len=#'
     Format*                

     *System Variable*      'ft_min_word_len'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Integer
                            
     *Default Value*        '4'
                            
     *Minimum Value*        '1'

     The minimum length of the word to be included in a 'FULLTEXT'
     index.

     *Note*:

     'FULLTEXT' indexes must be rebuilt after changing this variable.
     Use 'REPAIR TABLE TBL_NAME QUICK'.

   * 
     'ft_query_expansion_limit'

     Property               Value
                            
     *Command-Line          '--ft-query-expansion-limit=#'
     Format*                

     *System Variable*      'ft_query_expansion_limit'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Integer
                            
     *Default Value*        '20'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '1000'

     The number of top matches to use for full-text searches performed
     using 'WITH QUERY EXPANSION'.

   * 
     'ft_stopword_file'

     Property               Value
                            
     *Command-Line          '--ft-stopword-file=file_name'
     Format*                

     *System Variable*      'ft_stopword_file'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 File name

     The file from which to read the list of stopwords for full-text
     searches.  The server looks for the file in the data directory
     unless an absolute path name is given to specify a different
     directory.  All the words from the file are used; comments are
     _not_ honored.  By default, a built-in list of stopwords is used
     (as defined in the 'storage/myisam/ft_static.c' file).  Setting
     this variable to the empty string ('''') disables stopword
     filtering.  See also *note fulltext-stopwords::.

     *Note*:

     'FULLTEXT' indexes must be rebuilt after changing this variable or
     the contents of the stopword file.  Use 'REPAIR TABLE TBL_NAME
     QUICK'.

   * 
     'general_log'

     Property               Value
                            
     *Command-Line          '--general-log[={OFF|ON}]'
     Format*                

     *System Variable*      'general_log'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     Whether the general query log is enabled.  The value can be 0 (or
     'OFF') to disable the log or 1 (or 'ON') to enable the log.  The
     destination for log output is controlled by the 'log_output' system
     variable; if that value is 'NONE', no log entries are written even
     if the log is enabled.

   * 
     'general_log_file'

     Property               Value
                            
     *Command-Line          '--general-log-file=file_name'
     Format*                

     *System Variable*      'general_log_file'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 File name
                            
     *Default Value*        'host_name.log'

     The name of the general query log file.  The default value is
     'HOST_NAME.log', but the initial value can be changed with the
     '--general_log_file' option.

   * 
     'group_concat_max_len'

     Property               Value
                            
     *Command-Line          '--group-concat-max-len=#'
     Format*                

     *System Variable*      'group_concat_max_len'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '1024'
                            
     *Minimum Value*        '4'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)

     The maximum permitted result length in bytes for the
     'GROUP_CONCAT()' function.  The default is 1024.

   * 
     'have_compress'

     'YES' if the 'zlib' compression library is available to the server,
     'NO' if not.  If not, the 'COMPRESS()' and 'UNCOMPRESS()' functions
     cannot be used.

   * 
     'have_crypt'

     'YES' if the 'crypt()' system call is available to the server, 'NO'
     if not.  If not, the 'ENCRYPT()' function cannot be used.

   * 
     'have_csv'

     'YES' if *note 'mysqld': mysqld. supports 'CSV' tables, 'NO' if
     not.

     This variable is deprecated and is removed in MySQL 5.6.  Use *note
     'SHOW ENGINES': show-engines. instead.

   * 
     'have_dynamic_loading'

     'YES' if *note 'mysqld': mysqld. supports dynamic loading of
     plugins, 'NO' if not.  If the value is 'NO', you cannot use options
     such as '--plugin-load' to load plugins at server startup, or the
     *note 'INSTALL PLUGIN': install-plugin. statement to load plugins
     at runtime.

   * 
     'have_geometry'

     'YES' if the server supports spatial data types, 'NO' if not.

   * 
     'have_innodb'

     'YES' if *note 'mysqld': mysqld. supports 'InnoDB' tables.
     'DISABLED' if '--skip-innodb' is used.

     This variable is deprecated and is removed in MySQL 5.6.  Use *note
     'SHOW ENGINES': show-engines. instead.

   * 'have_openssl'

     This variable is an alias for 'have_ssl'.

   * 
     'have_partitioning'

     'YES' if *note 'mysqld': mysqld. supports partitioning.

     This variable is deprecated and is removed in MySQL 5.6.  Use *note
     'SHOW PLUGINS': show-plugins. instead.  For more information, see
     *note partitioning::.

   * 
     'have_profiling'

     'YES' if statement profiling capability is present, 'NO' if not.
     If present, the 'profiling' system variable controls whether this
     capability is enabled or disabled.  See *note show-profiles::.

   * 
     'have_query_cache'

     'YES' if *note 'mysqld': mysqld. supports the query cache, 'NO' if
     not.

   * 
     'have_rtree_keys'

     'YES' if 'RTREE' indexes are available, 'NO' if not.  (These are
     used for spatial indexes in 'MyISAM' tables.)

   * 'have_ssl'

     Property               Value
                            
     *System Variable*      'have_ssl'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 String
                            
     *Valid Values* (>=     'YES' (SSL support available) 'DISABLED' (SSL
     5.5.56)                support was compiled into the server, but the
                            server was not started with the necessary
                            options to enable it)
                            
     *Valid Values* (<=     'YES' (SSL support available) 'NO' (No SSL
     5.5.55)                support was compiled into the server) 'DISABLED'
                            (SSL support was compiled into the server, but
                            the server was not started with the necessary
                            options to enable it)

     'YES' if *note 'mysqld': mysqld. supports SSL connections, 'NO' if
     not.  'DISABLED' indicates that the server was compiled with SSL
     support, but was not started with the appropriate '--ssl-XXX'
     options.  For more information, see *note
     source-ssl-library-configuration::.  As of MySQL 5.5.56, MySQL must
     be compiled with SSL support, so 'NO' is not a permitted value.

   * 
     'have_symlink'

     'YES' if symbolic link support is enabled, 'NO' if not.  This is
     required on Unix for support of the 'DATA DIRECTORY' and 'INDEX
     DIRECTORY' table options, and on Windows for support of data
     directory symlinks.  If the server is started with the
     '--skip-symbolic-links' option, the value is 'DISABLED'.

   * 
     'hostname'

     Property               Value
                            
     *System Variable*      'hostname'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 String

     The server sets this variable to the server host name at startup.

   * 
     'identity'

     This variable is a synonym for the 'last_insert_id' variable.  It
     exists for compatibility with other database systems.  You can read
     its value with 'SELECT @@identity', and set it using 'SET
     identity'.

   * 
     'init_connect'

     Property               Value
                            
     *Command-Line          '--init-connect=name'
     Format*                

     *System Variable*      'init_connect'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 String

     A string to be executed by the server for each client that
     connects.  The string consists of one or more SQL statements,
     separated by semicolon characters.

     For users that have the 'SUPER' privilege, the content of
     'init_connect' is not executed.  This is done so that an erroneous
     value for 'init_connect' does not prevent all clients from
     connecting.  For example, the value might contain a statement that
     has a syntax error, thus causing client connections to fail.  Not
     executing 'init_connect' for users that have the 'SUPER' privilege
     enables them to open a connection and fix the 'init_connect' value.

     The server discards any result sets produced by statements in the
     value of 'init_connect'.

   * 
     'init_file'

     Property               Value
                            
     *Command-Line          '--init-file=file_name'
     Format*                

     *System Variable*      'init_file'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 File name

     If specified, this variable names a file containing SQL statements
     to be read and executed during the startup process.  Each statement
     must be on a single line and should not include comments.

     If the server is started with the '--bootstrap' option, it operates
     in bootstap mode and some functionality is unavailable that limits
     the statements permitted in the file.  These include statements
     that relate to account management (such as *note 'CREATE USER':
     create-user. or *note 'GRANT': grant.).

   * 'innodb_XXX'

     *note 'InnoDB': innodb-storage-engine. system variables are listed
     in *note innodb-parameters::.  These variables control many aspects
     of storage, memory use, and I/O patterns for 'InnoDB' tables, and
     are especially important now that 'InnoDB' is the default storage
     engine.

   * 
     'insert_id'

     The value to be used by the following *note 'INSERT': insert. or
     *note 'ALTER TABLE': alter-table. statement when inserting an
     'AUTO_INCREMENT' value.  This is mainly used with the binary log.

   * 
     'interactive_timeout'

     Property               Value
                            
     *Command-Line          '--interactive-timeout=#'
     Format*                

     *System Variable*      'interactive_timeout'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '28800'
                            
     *Minimum Value*        '1'

     The number of seconds the server waits for activity on an
     interactive connection before closing it.  An interactive client is
     defined as a client that uses the 'CLIENT_INTERACTIVE' option to
     *note 'mysql_real_connect()': mysql-real-connect.  See also
     'wait_timeout'.

   * 
     'join_buffer_size'

     Property               Value
                            
     *Command-Line          '--join-buffer-size=#'
     Format*                

     *System Variable*      'join_buffer_size'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '131072'
                            
     *Minimum Value*        '128'
     (Other, 64-bit         
     platforms, >= 5.5.3)

     *Minimum Value*        '8228'
     (Other, 64-bit         
     platforms, <= 5.5.2)

     *Minimum Value*        '128'
     (Other, 32-bit         
     platforms, >= 5.5.3)

     *Minimum Value*        '8200'
     (Other, 32-bit         
     platforms, <= 5.5.2)

     *Minimum Value*        '8228'
     (Windows, 64-bit       
     platforms, <= 5.5.2)

     *Minimum Value*        '8200'
     (Windows, 32-bit       
     platforms, <= 5.5.2)

     *Minimum Value*        '128'
     (Windows, >= 5.5.3)    

     *Maximum Value*        '18446744073709547520'
     (Other, 64-bit         
     platforms)

     *Maximum Value*        '4294967295'
     (Other, 32-bit         
     platforms)

     *Maximum Value*        '4294967295'
     (Windows, 64-bit       
     platforms, <= 5.5.2)

     *Maximum Value*        '4294967295'
     (Windows, 32-bit       
     platforms, <= 5.5.2)

     *Maximum Value*        '4294967295'
     (Windows, >= 5.5.3)

     The minimum size of the buffer that is used for plain index scans,
     range index scans, and joins that do not use indexes and thus
     perform full table scans.  Normally, the best way to get fast joins
     is to add indexes.  Increase the value of 'join_buffer_size' to get
     a faster full join when adding indexes is not possible.  One join
     buffer is allocated for each full join between two tables.  For a
     complex join between several tables for which indexes are not used,
     multiple join buffers might be necessary.

     There is no gain from setting the buffer larger than required to
     hold each matching row, and all joins allocate at least the minimum
     size, so use caution in setting this variable to a large value
     globally.  It is better to keep the global setting small and change
     to a larger setting only in sessions that are doing large joins.
     Memory allocation time can cause substantial performance drops if
     the global size is larger than needed by most queries that use it.

     The maximum permissible setting for 'join_buffer_size' is 4GB1.
     Larger values are permitted for 64-bit platforms (except 64-bit
     Windows, for which large values are truncated to 4GB1 with a
     warning).

     For additional information about join buffering, see *note
     nested-loop-joins::.

   * 
     'keep_files_on_create'

     Property               Value
                            
     *Command-Line          '--keep-files-on-create[={OFF|ON}]'
     Format*                

     *System Variable*      'keep_files_on_create'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     If a 'MyISAM' table is created with no 'DATA DIRECTORY' option, the
     '.MYD' file is created in the database directory.  By default, if
     'MyISAM' finds an existing '.MYD' file in this case, it overwrites
     it.  The same applies to '.MYI' files for tables created with no
     'INDEX DIRECTORY' option.  To suppress this behavior, set the
     'keep_files_on_create' variable to 'ON' (1), in which case 'MyISAM'
     will not overwrite existing files and returns an error instead.
     The default value is 'OFF' (0).

     If a 'MyISAM' table is created with a 'DATA DIRECTORY' or 'INDEX
     DIRECTORY' option and an existing '.MYD' or '.MYI' file is found,
     MyISAM always returns an error.  It will not overwrite a file in
     the specified directory.

   * 
     'key_buffer_size'

     Property               Value
                            
     *Command-Line          '--key-buffer-size=#'
     Format*                

     *System Variable*      'key_buffer_size'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '8388608'
                            
     *Minimum Value*        '8'
                            
     *Maximum Value*        'OS_PER_PROCESS_LIMIT'
     (64-bit platforms)     

     *Maximum Value*        '4294967295'
     (32-bit platforms)

     Index blocks for 'MyISAM' tables are buffered and are shared by all
     threads.  'key_buffer_size' is the size of the buffer used for
     index blocks.  The key buffer is also known as the key cache.

     The maximum permissible setting for 'key_buffer_size' is 4GB1 on
     32-bit platforms.  Larger values are permitted for 64-bit
     platforms.  The effective maximum size might be less, depending on
     your available physical RAM and per-process RAM limits imposed by
     your operating system or hardware platform.  The value of this
     variable indicates the amount of memory requested.  Internally, the
     server allocates as much memory as possible up to this amount, but
     the actual allocation might be less.

     You can increase the value to get better index handling for all
     reads and multiple writes; on a system whose primary function is to
     run MySQL using the *note 'MyISAM': myisam-storage-engine. storage
     engine, 25% of the machine's total memory is an acceptable value
     for this variable.  However, you should be aware that, if you make
     the value too large (for example, more than 50% of the machine's
     total memory), your system might start to page and become extremely
     slow.  This is because MySQL relies on the operating system to
     perform file system caching for data reads, so you must leave some
     room for the file system cache.  You should also consider the
     memory requirements of any other storage engines that you may be
     using in addition to *note 'MyISAM': myisam-storage-engine.

     For even more speed when writing many rows at the same time, use
     *note 'LOCK TABLES': lock-tables.  See *note insert-optimization::.

     You can check the performance of the key buffer by issuing a *note
     'SHOW STATUS': show-status. statement and examining the
     'Key_read_requests', 'Key_reads', 'Key_write_requests', and
     'Key_writes' status variables.  (See *note show::.)  The
     'Key_reads/Key_read_requests' ratio should normally be less than
     0.01.  The 'Key_writes/Key_write_requests' ratio is usually near 1
     if you are using mostly updates and deletes, but might be much
     smaller if you tend to do updates that affect many rows at the same
     time or if you are using the 'DELAY_KEY_WRITE' table option.

     The fraction of the key buffer in use can be determined using
     'key_buffer_size' in conjunction with the 'Key_blocks_unused'
     status variable and the buffer block size, which is available from
     the 'key_cache_block_size' system variable:

          1 - ((Key_blocks_unused * key_cache_block_size) / key_buffer_size)

     This value is an approximation because some space in the key buffer
     is allocated internally for administrative structures.  Factors
     that influence the amount of overhead for these structures include
     block size and pointer size.  As block size increases, the
     percentage of the key buffer lost to overhead tends to decrease.
     Larger blocks results in a smaller number of read operations
     (because more keys are obtained per read), but conversely an
     increase in reads of keys that are not examined (if not all keys in
     a block are relevant to a query).

     It is possible to create multiple 'MyISAM' key caches.  The size
     limit of 4GB applies to each cache individually, not as a group.
     See *note myisam-key-cache::.

   * 
     'key_cache_age_threshold'

     Property               Value
                            
     *Command-Line          '--key-cache-age-threshold=#'
     Format*                

     *System Variable*      'key_cache_age_threshold'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '300'
                            
     *Minimum Value*        '100'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)

     This value controls the demotion of buffers from the hot sublist of
     a key cache to the warm sublist.  Lower values cause demotion to
     happen more quickly.  The minimum value is 100.  The default value
     is 300.  See *note myisam-key-cache::.

   * 
     'key_cache_block_size'

     Property               Value
                            
     *Command-Line          '--key-cache-block-size=#'
     Format*                

     *System Variable*      'key_cache_block_size'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '1024'
                            
     *Minimum Value*        '512'
                            
     *Maximum Value*        '16384'

     The size in bytes of blocks in the key cache.  The default value is
     1024.  See *note myisam-key-cache::.

   * 
     'key_cache_division_limit'

     Property               Value
                            
     *Command-Line          '--key-cache-division-limit=#'
     Format*                

     *System Variable*      'key_cache_division_limit'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '100'
                            
     *Minimum Value*        '1'
                            
     *Maximum Value*        '100'

     The division point between the hot and warm sublists of the key
     cache buffer list.  The value is the percentage of the buffer list
     to use for the warm sublist.  Permissible values range from 1 to
     100.  The default value is 100.  See *note myisam-key-cache::.

   * 
     'language'

     Property               Value
                            
     *Command-Line          '--language=name'
     Format*                

     *Deprecated*           Yes; use 'lc-messages-dir' instead
                            
     *System Variable*      'language'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Directory name
                            
     *Default Value*        '/usr/local/mysql/share/mysql/english/'

     The directory where error messages are located.  See *note
     error-message-language::.

     The 'language' system variable is removed as of MySQL 5.5.0
     (although the '--language' command-line option can still be used).
     Similar information is available from the 'lc_messages_dir' and
     'lc_messages' variables.

   * 
     'large_files_support'

     Property               Value
                            
     *System Variable*      'large_files_support'
                            
     *Scope*                Global
                            
     *Dynamic*              No

     Whether *note 'mysqld': mysqld. was compiled with options for large
     file support.

   * 
     'large_pages'

     Property               Value
                            
     *Command-Line          '--large-pages[={OFF|ON}]'
     Format*                

     *System Variable*      'large_pages'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Platform Specific*    Linux
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     Whether large page support is enabled (via the '--large-pages'
     option).  See *note large-page-support::.

   * 
     'large_page_size'

     Property               Value
                            
     *System Variable*      'large_page_size'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Integer
                            
     *Default Value*        '0'

     If large page support is enabled, this shows the size of memory
     pages.  Large memory pages are supported only on Linux; on other
     platforms, the value of this variable is always 0.  See *note
     large-page-support::.

   * 
     'last_insert_id'

     The value to be returned from 'LAST_INSERT_ID()'.  This is stored
     in the binary log when you use 'LAST_INSERT_ID()' in a statement
     that updates a table.  Setting this variable does not update the
     value returned by the *note 'mysql_insert_id()': mysql-insert-id. C
     API function.

   * 
     'lc_messages'

     Property               Value
                            
     *Command-Line          '--lc-messages=name'
     Format*                

     *System Variable*      'lc_messages'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 String
                            
     *Default Value*        'en_US'

     The locale to use for error messages.  The default is 'en_US'.  The
     server converts the argument to a language name and combines it
     with the value of 'lc_messages_dir' to produce the location for the
     error message file.  See *note error-message-language::.

   * 
     'lc_messages_dir'

     Property               Value
                            
     *Command-Line          '--lc-messages-dir=dir_name'
     Format*                

     *System Variable*      'lc_messages_dir'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Directory name

     The directory where error messages are located.  The server uses
     the value together with the value of 'lc_messages' to produce the
     location for the error message file.  See *note
     error-message-language::.

   * 
     'lc_time_names'

     Property               Value
                            
     *Command-Line          '--lc-time-names=value'
     Format*                

     *System Variable*      'lc_time_names'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 String

     This variable specifies the locale that controls the language used
     to display day and month names and abbreviations.  This variable
     affects the output from the 'DATE_FORMAT()', 'DAYNAME()' and
     'MONTHNAME()' functions.  Locale names are POSIX-style values such
     as ''ja_JP'' or ''pt_BR''.  The default value is ''en_US''
     regardless of your system's locale setting.  For further
     information, see *note locale-support::.

   * 
     'license'

     Property               Value
                            
     *System Variable*      'license'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 String
                            
     *Default Value*        'GPL'

     The type of license the server has.

   * 
     'local_infile'

     Property               Value
                            
     *Command-Line          '--local-infile[={OFF|ON}]'
     Format*                

     *System Variable*      'local_infile'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'ON'

     This variable controls server-side 'LOCAL' capability for *note
     'LOAD DATA': load-data. statements.  Depending on the
     'local_infile' setting, the server refuses or permits local data
     loading by clients that have 'LOCAL' enabled on the client side.

     To explicitly cause the server to refuse or permit *note 'LOAD DATA
     LOCAL': load-data. statements (regardless of how client programs
     and libraries are configured at build time or runtime), start *note
     'mysqld': mysqld. with 'local_infile' disabled or enabled,
     respectively.  'local_infile' can also be set at runtime.  For more
     information, see *note load-data-local::.

   * 
     'lock_wait_timeout'

     Property               Value
                            
     *Command-Line          '--lock-wait-timeout=#'
     Format*                

     *Introduced*           5.5.3
                            
     *System Variable*      'lock_wait_timeout'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '31536000'
                            
     *Minimum Value*        '1'
                            
     *Maximum Value*        '31536000'

     This variable specifies the timeout in seconds for attempts to
     acquire metadata locks.  The permissible values range from 1 to
     31536000 (1 year).  The default is 31536000.

     This timeout applies to all statements that use metadata locks.
     These include DML and DDL operations on tables, views, stored
     procedures, and stored functions, as well as *note 'LOCK TABLES':
     lock-tables, 'FLUSH TABLES WITH READ LOCK', and *note 'HANDLER':
     handler. statements.

     This timeout does not apply to implicit accesses to system tables
     in the 'mysql' database, such as grant tables modified by *note
     'GRANT': grant. or *note 'REVOKE': revoke. statements or table
     logging statements.  The timeout does apply to system tables
     accessed directly, such as with *note 'SELECT': select. or *note
     'UPDATE': update.

     The timeout value applies separately for each metadata lock
     attempt.  A given statement can require more than one lock, so it
     is possible for the statement to block for longer than the
     'lock_wait_timeout' value before reporting a timeout error.  When
     lock timeout occurs, 'ER_LOCK_WAIT_TIMEOUT' is reported.

     'lock_wait_timeout' does not apply to delayed inserts, which always
     execute with a timeout of 1 year.  This is done to avoid
     unnecessary timeouts because a session that issues a delayed insert
     receives no notification of delayed insert timeouts.

   * 
     'locked_in_memory'

     Property               Value
                            
     *System Variable*      'locked_in_memory'
                            
     *Scope*                Global
                            
     *Dynamic*              No

     Whether *note 'mysqld': mysqld. was locked in memory with
     '--memlock'.

   * 
     'log'

     Property               Value
                            
     *Command-Line          '--log[=file_name]'
     Format*                

     *Deprecated*           Yes; use 'general_log' instead
                            
     *System Variable*      'log'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 File name

     Whether logging of all statements to the general query log is
     enabled.  See *note query-log::.

     This variable is deprecated and is removed in MySQL 5.6.  Use
     'general_log' instead.

   * 
     'log_error'

     Property               Value
                            
     *Command-Line          '--log-error[=file_name]'
     Format*                

     *System Variable*      'log_error'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 File name

     The name of the error log file, or empty if the server is writing
     error messages to the console rather than to a named file.  See
     *note error-log::.

   * 
     'log_output'

     Property               Value
                            
     *Command-Line          '--log-output=name'
     Format*                

     *System Variable*      'log_output'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Set
                            
     *Default Value*        'FILE'
                            
     *Valid Values*         'TABLE' 'FILE' 'NONE'

     The destination or destinations for general query log and slow
     query log output.  The value is a list one or more comma-separated
     words chosen from 'TABLE', 'FILE', and 'NONE'.  'TABLE' selects
     logging to the 'general_log' and 'slow_log' tables in the 'mysql'
     system database.  'FILE' selects logging to log files.  'NONE'
     disables logging.  If 'NONE' is present in the value, it takes
     precedence over any other words that are present.  'TABLE' and
     'FILE' can both be given to select both log output destinations.

     This variable selects log output destinations, but does not enable
     log output.  To do that, enable the 'general_log' and
     'slow_query_log' system variables.  For 'FILE' logging, the
     'general_log_file' and 'slow_query_log_file' system variables
     determine the log file locations.  For more information, see *note
     log-destinations::.

   * 'log_queries_not_using_indexes'

     Property               Value
                            
     *Command-Line          '--log-queries-not-using-indexes[={OFF|ON}]'
     Format*                

     *System Variable*      'log_queries_not_using_indexes'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     If you enable this variable with the slow query log enabled,
     queries that are expected to retrieve all rows are logged.  See
     *note slow-query-log::.  This option does not necessarily mean that
     no index is used.  For example, a query that uses a full index scan
     uses an index but would be logged because the index would not limit
     the number of rows.

   * 'log_slow_queries'

     Property               Value
                            
     *Command-Line          '--log_slow_queries[={OFF|ON}]'
     Format*                

     *Deprecated*           Yes; use 'slow_query_log' instead
                            
     *System Variable*      'log_slow_queries'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean

     Whether slow queries should be written to the slow query log, which
     contains entries for all queries that have taken more than
     'long_query_time' seconds to execute.  See the descriptions of the
     '--log-long-format' and '--log-short-format' options for details.
     The log output destination can be selected with the 'log_output'
     system variable.  If the log file name is not defined, MySQL uses
     'HOST_NAME-slow.log' as the file name.  See *note
     log-destinations::, and *note slow-query-log::.

     This variable is deprecated and is removed in MySQL 5.6.  Instead,
     use the 'slow_query_log' system variable to enable the slow query
     log and the 'slow_query_log_file' system variable to set the slow
     query log file name.

   * 
     'log_warnings'

     Property               Value
                            
     *Command-Line          '--log-warnings[=#]'
     Format*                

     *System Variable*      'log_warnings'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '1'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)

     Whether to produce additional warning messages to the error log.
     This variable is enabled by default with a value of 1.  To disable
     it, set it to 0.  If the value is greater than 0, the server logs
     messages about statements that are unsafe for statement-based
     logging.  If the value is greater than 1, the server logs aborted
     connections and access-denied errors for new connection attempts.
     See *note communication-errors::.

   * 
     'long_query_time'

     Property               Value
                            
     *Command-Line          '--long-query-time=#'
     Format*                

     *System Variable*      'long_query_time'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Numeric
                            
     *Default Value*        '10'
                            
     *Minimum Value*        '0'

     If a query takes longer than this many seconds, the server
     increments the 'Slow_queries' status variable.  If the slow query
     log is enabled, the query is logged to the slow query log file.
     This value is measured in real time, not CPU time, so a query that
     is under the threshold on a lightly loaded system might be above
     the threshold on a heavily loaded one.  The minimum and default
     values of 'long_query_time' are 0 and 10, respectively.  The value
     can be specified to a resolution of microseconds.  For logging to a
     file, times are written including the microseconds part.  For
     logging to tables, only integer times are written; the microseconds
     part is ignored.  See *note slow-query-log::.

   * 'low_priority_updates'

     Property               Value
                            
     *Command-Line          '--low-priority-updates[={OFF|ON}]'
     Format*                

     *System Variable*      'low_priority_updates'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     If set to '1', all *note 'INSERT': insert, *note 'UPDATE': update,
     *note 'DELETE': delete, and 'LOCK TABLE WRITE' statements wait
     until there is no pending *note 'SELECT': select. or 'LOCK TABLE
     READ' on the affected table.  The same effect can be obtained using
     '{INSERT | REPLACE | DELETE | UPDATE} LOW_PRIORITY ...' to lower
     the priority of only one query.  This variable affects only storage
     engines that use only table-level locking (such as 'MyISAM',
     'MEMORY', and 'MERGE').  See *note table-locking::.  This variable
     previously was named 'sql_low_priority_updates'.

   * 
     'lower_case_file_system'

     Property               Value
                            
     *System Variable*      'lower_case_file_system'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Boolean

     This variable describes the case sensitivity of file names on the
     file system where the data directory is located.  'OFF' means file
     names are case-sensitive, 'ON' means they are not case-sensitive.
     This variable is read only because it reflects a file system
     attribute and setting it would have no effect on the file system.

   * 
     'lower_case_table_names'

     Property               Value
                            
     *Command-Line          '--lower-case-table-names[=#]'
     Format*                

     *System Variable*      'lower_case_table_names'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Integer
                            
     *Default Value*        '0'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '2'

     If set to 0, table names are stored as specified and comparisons
     are case-sensitive.  If set to 1, table names are stored in
     lowercase on disk and comparisons are not case-sensitive.  If set
     to 2, table names are stored as given but compared in lowercase.
     This option also applies to database names and table aliases.  For
     additional information, see *note identifier-case-sensitivity::.

     On Windows the default value is 1.  On macOS, the default value is
     2.  On Linux, a value of 2 is not supported; the server forces the
     value to 0 instead.

     You should _not_ set 'lower_case_table_names' to 0 if you are
     running MySQL on a system where the data directory resides on a
     case-insensitive file system (such as on Windows or macOS). It is
     an unsupported combination that could result in a hang condition
     when running an 'INSERT INTO ... SELECT ... FROM TBL_NAME'
     operation with the wrong TBL_NAME lettercase.  With 'MyISAM',
     accessing table names using different lettercases could cause index
     corruption.

     As of MySQL 5.5.46, an error message is printed and the server
     exits if you attempt to start the server with
     '--lower_case_table_names=0' on a case-insensitive file system.

     If you are using 'InnoDB' tables, you should set this variable to 1
     on all platforms to force names to be converted to lowercase.

     The setting of this variable has no effect on replication filtering
     options.  This is a known issue which is fixed in MySQL 5.6.  See
     *note replication-rules::, for more information.

     You should not use different settings for 'lower_case_table_names'
     on replication masters and slaves.  In particular, you should not
     do this when the slave uses a case-sensitive file system, as this
     can cause replication to fail.  This is a known issue which is
     fixed in MySQL 5.6.  For more information, see *note
     replication-features-variables::.

   * 
     'max_allowed_packet'

     Property               Value
                            
     *Command-Line          '--max-allowed-packet=#'
     Format*                

     *System Variable*      'max_allowed_packet'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '1048576'
                            
     *Minimum Value*        '1024'
                            
     *Maximum Value*        '1073741824'

     The maximum size of one packet or any generated/intermediate
     string.

     The packet message buffer is initialized to 'net_buffer_length'
     bytes, but can grow up to 'max_allowed_packet' bytes when needed.
     This value by default is small, to catch large (possibly incorrect)
     packets.

     You must increase this value if you are using large *note 'BLOB':
     blob. columns or long strings.  It should be as big as the largest
     *note 'BLOB': blob. you want to use.  The protocol limit for
     'max_allowed_packet' is 1GB. The value should be a multiple of
     1024; nonmultiples are rounded down to the nearest multiple.

     When you change the message buffer size by changing the value of
     the 'max_allowed_packet' variable, you should also change the
     buffer size on the client side if your client program permits it.
     The default 'max_allowed_packet' value built in to the client
     library is 1GB, but individual client programs might override this.
     For example, *note 'mysql': mysql. and *note 'mysqldump':
     mysqldump. have defaults of 16MB and 24MB, respectively.  They also
     enable you to change the client-side value by setting
     'max_allowed_packet' on the command line or in an option file.

     The session value of this variable is read only.  The client can
     receive up to as many bytes as the session value.  However, the
     server will not send to the client more bytes than the current
     global 'max_allowed_packet' value.  (The global value could be less
     than the session value if the global value is changed after the
     client connects.)

   * 
     'max_connect_errors'

     Property               Value
                            
     *Command-Line          '--max-connect-errors=#'
     Format*                

     *System Variable*      'max_connect_errors'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '10'
                            
     *Minimum Value*        '1'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)

     After 'max_connect_errors' successive connection requests from a
     host are interrupted without a successful connection, the server
     blocks that host from further connections.  If a connection from a
     host is established successfully within fewer than
     'max_connect_errors' attempts after a previous connection was
     interrupted, the error count for the host is cleared to zero.
     However, once a host is blocked, flushing the host cache is the
     only way to unblock it.  To flush the host cache, execute a 'FLUSH
     HOSTS' statement or *note 'mysqladmin flush-hosts': mysqladmin.
     command.

     For more information about how the host cache works, see *note
     host-cache::.

   * 
     'max_connections'

     Property               Value
                            
     *Command-Line          '--max-connections=#'
     Format*                

     *System Variable*      'max_connections'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '151'
                            
     *Minimum Value*        '1'
                            
     *Maximum Value*        '100000'

     The maximum permitted number of simultaneous client connections.
     For more information, see *note client-connections::.

   * 
     'max_delayed_threads'

     Property               Value
                            
     *Command-Line          '--max-delayed-threads=#'
     Format*                

     *System Variable*      'max_delayed_threads'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '20'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '16384'

     Do not start more than this number of threads to handle *note
     'INSERT DELAYED': insert-delayed. statements.  If you try to insert
     data into a new table after all *note 'INSERT DELAYED':
     insert-delayed. threads are in use, the row is inserted as if the
     'DELAYED' attribute was not specified.  If you set this to 0, MySQL
     never creates a thread to handle 'DELAYED' rows; in effect, this
     disables 'DELAYED' entirely.

     For the 'SESSION' value of this variable, the only valid values are
     0 or the 'GLOBAL' value.

   * 
     'max_error_count'

     Property               Value
                            
     *Command-Line          '--max-error-count=#'
     Format*                

     *System Variable*      'max_error_count'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '64'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '65535'

     The maximum number of error, warning, and information messages to
     be stored for display by the *note 'SHOW ERRORS': show-errors. and
     *note 'SHOW WARNINGS': show-warnings. statements.

   * 
     'max_heap_table_size'

     Property               Value
                            
     *Command-Line          '--max-heap-table-size=#'
     Format*                

     *System Variable*      'max_heap_table_size'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '16777216'
                            
     *Minimum Value*        '16384'
                            
     *Maximum Value*        '1844674407370954752'
     (64-bit platforms)     

     *Maximum Value*        '4294967295'
     (32-bit platforms)

     This variable sets the maximum size to which user-created 'MEMORY'
     tables are permitted to grow.  The value of the variable is used to
     calculate 'MEMORY' table 'MAX_ROWS' values.  Setting this variable
     has no effect on any existing 'MEMORY' table, unless the table is
     re-created with a statement such as *note 'CREATE TABLE':
     create-table. or altered with *note 'ALTER TABLE': alter-table. or
     *note 'TRUNCATE TABLE': truncate-table.  A server restart also sets
     the maximum size of existing 'MEMORY' tables to the global
     'max_heap_table_size' value.

     This variable is also used in conjunction with 'tmp_table_size' to
     limit the size of internal in-memory tables.  See *note
     internal-temporary-tables::.

     'max_heap_table_size' is not replicated.  See *note
     replication-features-memory::, and *note
     replication-features-variables::, for more information.

   * 
     'max_insert_delayed_threads'

     Property               Value
                            
     *System Variable*      'max_insert_delayed_threads'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer

     This variable is a synonym for 'max_delayed_threads'.

   * 
     'max_join_size'

     Property               Value
                            
     *Command-Line          '--max-join-size=#'
     Format*                

     *System Variable*      'max_join_size'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '18446744073709551615'
                            
     *Minimum Value*        '1'
                            
     *Maximum Value*        '18446744073709551615'

     Do not permit statements that probably need to examine more than
     'max_join_size' rows (for single-table statements) or row
     combinations (for multiple-table statements) or that are likely to
     do more than 'max_join_size' disk seeks.  By setting this value,
     you can catch statements where keys are not used properly and that
     would probably take a long time.  Set it if your users tend to
     perform joins that lack a 'WHERE' clause, that take a long time, or
     that return millions of rows.  For more information, see *note
     safe-updates::.

     Setting this variable to a value other than 'DEFAULT' resets the
     value of 'sql_big_selects' to '0'.  If you set the
     'sql_big_selects' value again, the 'max_join_size' variable is
     ignored.

     If a query result is in the query cache, no result size check is
     performed, because the result has previously been computed and it
     does not burden the server to send it to the client.

     This variable previously was named 'sql_max_join_size'.

   * 
     'max_length_for_sort_data'

     Property               Value
                            
     *Command-Line          '--max-length-for-sort-data=#'
     Format*                

     *System Variable*      'max_length_for_sort_data'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '1024'
                            
     *Minimum Value*        '4'
                            
     *Maximum Value*        '8388608'

     The cutoff on the size of index values that determines which
     'filesort' algorithm to use.  See *note order-by-optimization::.

   * 
     'max_long_data_size'

     Property               Value
                            
     *Command-Line          '--max-long-data-size=#'
     Format*                

     *Introduced*           5.5.11
                            
     *Deprecated*           5.5.11
                            
     *System Variable*      'max_long_data_size'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Integer
                            
     *Default Value*        '1048576'
                            
     *Minimum Value*        '1024'
                            
     *Maximum Value*        '4294967295'

     The maximum size of parameter values that can be sent with the
     *note 'mysql_stmt_send_long_data()': mysql-stmt-send-long-data. C
     API function.  If not set at server startup, the default is the
     value of the 'max_allowed_packet' system variable.  This variable
     is deprecated.  In MySQL 5.6, it is removed and the maximum
     parameter size is controlled by 'max_allowed_packet'.

   * 
     'max_prepared_stmt_count'

     Property               Value
                            
     *Command-Line          '--max-prepared-stmt-count=#'
     Format*                

     *System Variable*      'max_prepared_stmt_count'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '16382'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '1048576'

     This variable limits the total number of prepared statements in the
     server.  (The sum of the number of prepared statements across all
     sessions.)  It can be used in environments where there is the
     potential for denial-of-service attacks based on running the server
     out of memory by preparing huge numbers of statements.  If the
     value is set lower than the current number of prepared statements,
     existing statements are not affected and can be used, but no new
     statements can be prepared until the current number drops below the
     limit.  Setting the value to 0 disables prepared statements.

   * 
     'max_relay_log_size'

     Property               Value
                            
     *Command-Line          '--max-relay-log-size=#'
     Format*                

     *System Variable*      'max_relay_log_size'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '0'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '1073741824'

     If a write by a replication slave to its relay log causes the
     current log file size to exceed the value of this variable, the
     slave rotates the relay logs (closes the current file and opens the
     next one).  If 'max_relay_log_size' is 0, the server uses
     'max_binlog_size' for both the binary log and the relay log.  If
     'max_relay_log_size' is greater than 0, it constrains the size of
     the relay log, which enables you to have different sizes for the
     two logs.  You must set 'max_relay_log_size' to between 4096 bytes
     and 1GB (inclusive), or to 0.  The default value is 0.  See *note
     replication-implementation-details::.

   * 
     'max_seeks_for_key'

     Property               Value
                            
     *Command-Line          '--max-seeks-for-key=#'
     Format*                

     *System Variable*      'max_seeks_for_key'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Default Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Default Value*        '4294967295'
     (32-bit platforms)     

     *Minimum Value*        '1'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)

     Limit the assumed maximum number of seeks when looking up rows
     based on a key.  The MySQL optimizer assumes that no more than this
     number of key seeks are required when searching for matching rows
     in a table by scanning an index, regardless of the actual
     cardinality of the index (see *note show-index::).  By setting this
     to a low value (say, 100), you can force MySQL to prefer indexes
     instead of table scans.

   * 
     'max_sort_length'

     Property               Value
                            
     *Command-Line          '--max-sort-length=#'
     Format*                

     *System Variable*      'max_sort_length'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '1024'
                            
     *Minimum Value*        '4'
                            
     *Maximum Value*        '8388608'

     The number of bytes to use when sorting data values.  The server
     uses only the first 'max_sort_length' bytes of each value and
     ignores the rest.  Consequently, values that differ only after the
     first 'max_sort_length' bytes compare as equal for 'GROUP BY',
     'ORDER BY', and 'DISTINCT' operations.

     Increasing the value of 'max_sort_length' may require increasing
     the value of 'sort_buffer_size' as well.  For details, see *note
     order-by-optimization::

   * 
     'max_sp_recursion_depth'

     Property               Value
                            
     *Command-Line          '--max-sp-recursion-depth[=#]'
     Format*                

     *System Variable*      'max_sp_recursion_depth'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '0'
                            
     *Maximum Value*        '255'

     The number of times that any given stored procedure may be called
     recursively.  The default value for this option is 0, which
     completely disables recursion in stored procedures.  The maximum
     value is 255.

     Stored procedure recursion increases the demand on thread stack
     space.  If you increase the value of 'max_sp_recursion_depth', it
     may be necessary to increase thread stack size by increasing the
     value of 'thread_stack' at server startup.

   * 
     'max_tmp_tables'

     This variable is unused.

   * 
     'max_user_connections'

     Property               Value
                            
     *Command-Line          '--max-user-connections=#'
     Format*                

     *System Variable*      'max_user_connections'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '0'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '4294967295'

     The maximum number of simultaneous connections permitted to any
     given MySQL user account.  A value of 0 (the default) means 'no
     limit.'

     This variable has a global value that can be set at server startup
     or runtime.  It also has a read-only session value that indicates
     the effective simultaneous-connection limit that applies to the
     account associated with the current session.  The session value is
     initialized as follows:

        * If the user account has a nonzero 'MAX_USER_CONNECTIONS'
          resource limit, the session 'max_user_connections' value is
          set to that limit.

        * Otherwise, the session 'max_user_connections' value is set to
          the global value.

     Account resource limits are specified using the *note 'GRANT':
     grant. statement.  See *note user-resources::, and *note grant::.

   * 
     'max_write_lock_count'

     Property               Value
                            
     *Command-Line          '--max-write-lock-count=#'
     Format*                

     *System Variable*      'max_write_lock_count'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Default Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Default Value*        '4294967295'
     (32-bit platforms)     

     *Minimum Value*        '1'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)

     After this many write locks, permit some pending read lock requests
     to be processed in between.  Write lock requests have higher
     priority than read lock requests.  However, if
     'max_write_lock_count' is set to some low value (say, 10), read
     lock requests may be preferred over pending write lock requests if
     the read lock requests have already been passed over in favor of 10
     write lock requests.  Normally this behavior does not occur because
     'max_write_lock_count' by default has a very large value.

   * 
     'metadata_locks_cache_size'

     Property               Value
                            
     *Command-Line          '--metadata-locks-cache-size=#'
     Format*                

     *Introduced*           5.5.19
                            
     *System Variable*      'metadata_locks_cache_size'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Integer
                            
     *Default Value*        '1024'
                            
     *Minimum Value*        '1'
                            
     *Maximum Value*        '1048576'

     The size of the metadata locks cache.  The server uses this cache
     to avoid creation and destruction of synchronization objects.  This
     is particularly helpful on systems where such operations are
     expensive, such as Windows XP. This variable was added in MySQL
     5.5.19.

   * 'min_examined_row_limit'

     Property               Value
                            
     *Command-Line          '--min-examined-row-limit=#'
     Format*                

     *System Variable*      'min_examined_row_limit'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '0'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)

     Queries that examine fewer than this number of rows are not logged
     to the slow query log.

   * 'multi_range_count'

     Property               Value
                            
     *Command-Line          '--multi-range-count=#'
     Format*                

     *System Variable*      'multi_range_count'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '256'
                            
     *Minimum Value*        '1'
                            
     *Maximum Value*        '4294967295'

     The maximum number of ranges to send to a table handler at once
     during range selects.  The default value is 256.  Sending multiple
     ranges to a handler at once can improve the performance of certain
     selects dramatically.  This is especially true for the *note
     'NDBCLUSTER': mysql-cluster. table handler, which needs to send the
     range requests to all nodes.  Sending a batch of those requests at
     once reduces communication costs significantly.

     This variable is deprecated in MySQL 5.1, and is no longer
     supported in MySQL 5.5, in which arbitrarily long lists of ranges
     can be processed.

   * 
     'myisam_data_pointer_size'

     Property               Value
                            
     *Command-Line          '--myisam-data-pointer-size=#'
     Format*                

     *System Variable*      'myisam_data_pointer_size'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '6'
                            
     *Minimum Value*        '2'
                            
     *Maximum Value*        '7'

     The default pointer size in bytes, to be used by *note 'CREATE
     TABLE': create-table. for 'MyISAM' tables when no 'MAX_ROWS' option
     is specified.  This variable cannot be less than 2 or larger than
     7.  The default value is 6.  See *note full-table::.

   * 'myisam_max_sort_file_size'

     Property               Value
                            
     *Command-Line          '--myisam-max-sort-file-size=#'
     Format*                

     *System Variable*      'myisam_max_sort_file_size'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '9223372036854775807'
     (64-bit platforms)     

     *Default Value*        '2147483648'
     (32-bit platforms)

     The maximum size of the temporary file that MySQL is permitted to
     use while re-creating a 'MyISAM' index (during *note 'REPAIR
     TABLE': repair-table, *note 'ALTER TABLE': alter-table, or *note
     'LOAD DATA': load-data.).  If the file size would be larger than
     this value, the index is created using the key cache instead, which
     is slower.  The value is given in bytes.

     If 'MyISAM' index files exceed this size and disk space is
     available, increasing the value may help performance.  The space
     must be available in the file system containing the directory where
     the original index file is located.

   * 
     'myisam_mmap_size'

     Property               Value
                            
     *Command-Line          '--myisam-mmap-size=#'
     Format*                

     *Introduced*           5.5.1
                            
     *System Variable*      'myisam_mmap_size'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Integer
                            
     *Default Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Default Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Default Value*        '4294967295'
     (32-bit platforms)     

     *Minimum Value*        '7'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)

     The maximum amount of memory to use for memory mapping compressed
     *note 'MyISAM': myisam-storage-engine. files.  If many compressed
     'MyISAM' tables are used, the value can be decreased to reduce the
     likelihood of memory-swapping problems.

   * 'myisam_recover_options'

     Property               Value
                            
     *Command-Line          '--myisam-recover-options[=list]' (>= 5.5.3)
     Format*                

     *System Variable*      'myisam_recover_options'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Enumeration
                            
     *Default Value*        'OFF'
                            
     *Valid Values*         'OFF' 'DEFAULT' 'BACKUP' 'FORCE' 'QUICK'

     Set the 'MyISAM' storage engine recovery mode.  The variable value
     is any combination of the values of 'OFF', 'DEFAULT', 'BACKUP',
     'FORCE', or 'QUICK'.  If you specify multiple values, separate them
     by commas.  Specifying the variable with no value at server startup
     is the same as specifying 'DEFAULT', and specifying with an
     explicit value of '""' disables recovery (same as a value of
     'OFF').  If recovery is enabled, each time *note 'mysqld': mysqld.
     opens a 'MyISAM' table, it checks whether the table is marked as
     crashed or was not closed properly.  (The last option works only if
     you are running with external locking disabled.)  If this is the
     case, *note 'mysqld': mysqld. runs a check on the table.  If the
     table was corrupted, *note 'mysqld': mysqld. attempts to repair it.

     The following options affect how the repair works.

     Option      Description
                 
     'OFF'       No recovery.
                 
     'DEFAULT'   Recovery without backup, forcing, or quick
                 checking.
                 
     'BACKUP'    If the data file was changed during recovery,
                 save a backup of the 'TBL_NAME.MYD' file as
                 'TBL_NAME-DATETIME.BAK'.
                 
     'FORCE'     Run recovery even if we would lose more than one
                 row from the '.MYD' file.
                 
     'QUICK'     Do not check the rows in the table if there are
                 not any delete blocks.

     Before the server automatically repairs a table, it writes a note
     about the repair to the error log.  If you want to be able to
     recover from most problems without user intervention, you should
     use the options 'BACKUP,FORCE'.  This forces a repair of a table
     even if some rows would be deleted, but it keeps the old data file
     as a backup so that you can later examine what happened.

     This variable was the '--myisam-recover' option before MySQL 5.5.3.
     The old option name still works because it is recognized as an
     unambiguous prefix of the new name, 'myisam_recover_options'.
     (Option prefix recognition occurs as described in *note
     program-options::.)

     See *note myisam-start::.

   * 
     'myisam_repair_threads'

     Property               Value
                            
     *Command-Line          '--myisam-repair-threads=#'
     Format*                

     *System Variable*      'myisam_repair_threads'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '1'
                            
     *Minimum Value*        '1'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)

     If this value is greater than 1, 'MyISAM' table indexes are created
     in parallel (each index in its own thread) during the 'Repair by
     sorting' process.  The default value is 1.

     *Note*:

     Multithreaded repair is still _beta-quality_ code.

   * 'myisam_sort_buffer_size'

     Property               Value
                            
     *Command-Line          '--myisam-sort-buffer-size=#'
     Format*                

     *System Variable*      'myisam_sort_buffer_size'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '8388608'
                            
     *Minimum Value*        '4096'
                            
     *Maximum Value*        '18446744073709551615'
     (Other, 64-bit         
     platforms, >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (Other, 64-bit         
     platforms, <= 5.5.2)

     *Maximum Value*        '4294967295'
     (Other, 32-bit         
     platforms)

     *Maximum Value*        '18446744073709551615'
     (Windows, 64-bit       
     platforms, >=
     5.5.22)

     *Maximum Value*        '4294967295'
     (Windows, 64-bit       
     platforms, <=
     5.5.21)

     *Maximum Value*        '4294967295'
     (Windows, 32-bit
     platforms)

     The size of the buffer that is allocated when sorting 'MyISAM'
     indexes during a *note 'REPAIR TABLE': repair-table. or when
     creating indexes with *note 'CREATE INDEX': create-index. or *note
     'ALTER TABLE': alter-table.

     The maximum permissible setting for 'myisam_sort_buffer_size' is
     4GB1.  Larger values are permitted for 64-bit platforms (except
     64-bit Windows prior to MySQL 5.5.22, for which large values are
     truncated to 4GB1 with a warning).

   * 
     'myisam_stats_method'

     Property               Value
                            
     *Command-Line          '--myisam-stats-method=name'
     Format*                

     *System Variable*      'myisam_stats_method'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Enumeration
                            
     *Default Value*        'nulls_unequal'
                            
     *Valid Values*         'nulls_equal' 'nulls_unequal' 'nulls_ignored'

     How the server treats 'NULL' values when collecting statistics
     about the distribution of index values for 'MyISAM' tables.  This
     variable has three possible values, 'nulls_equal', 'nulls_unequal',
     and 'nulls_ignored'.  For 'nulls_equal', all 'NULL' index values
     are considered equal and form a single value group that has a size
     equal to the number of 'NULL' values.  For 'nulls_unequal', 'NULL'
     values are considered unequal, and each 'NULL' forms a distinct
     value group of size 1.  For 'nulls_ignored', 'NULL' values are
     ignored.

     The method that is used for generating table statistics influences
     how the optimizer chooses indexes for query execution, as described
     in *note index-statistics::.

   * 
     'myisam_use_mmap'

     Property               Value
                            
     *Command-Line          '--myisam-use-mmap[={OFF|ON}]'
     Format*                

     *System Variable*      'myisam_use_mmap'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     Use memory mapping for reading and writing 'MyISAM' tables.

   * 
     'named_pipe'

     Property               Value
                            
     *Command-Line          '--named-pipe[={OFF|ON}]'
     Format*                

     *System Variable*      'named_pipe'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Platform Specific*    Windows
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     (Windows only.)  Indicates whether the server supports connections
     over named pipes.

   * 
     'net_buffer_length'

     Property               Value
                            
     *Command-Line          '--net-buffer-length=#'
     Format*                

     *System Variable*      'net_buffer_length'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '16384'
                            
     *Minimum Value*        '1024'
                            
     *Maximum Value*        '1048576'

     Each client thread is associated with a connection buffer and
     result buffer.  Both begin with a size given by 'net_buffer_length'
     but are dynamically enlarged up to 'max_allowed_packet' bytes as
     needed.  The result buffer shrinks to 'net_buffer_length' after
     each SQL statement.

     This variable should not normally be changed, but if you have very
     little memory, you can set it to the expected length of statements
     sent by clients.  If statements exceed this length, the connection
     buffer is automatically enlarged.  The maximum value to which
     'net_buffer_length' can be set is 1MB.

     The session value of this variable is read only.

   * 
     'net_read_timeout'

     Property               Value
                            
     *Command-Line          '--net-read-timeout=#'
     Format*                

     *System Variable*      'net_read_timeout'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '30'
                            
     *Minimum Value*        '1'

     The number of seconds to wait for more data from a connection
     before aborting the read.  When the server is reading from the
     client, 'net_read_timeout' is the timeout value controlling when to
     abort.  When the server is writing to the client,
     'net_write_timeout' is the timeout value controlling when to abort.
     See also 'slave_net_timeout'.

   * 
     'net_retry_count'

     Property               Value
                            
     *Command-Line          '--net-retry-count=#'
     Format*                

     *System Variable*      'net_retry_count'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '10'
                            
     *Minimum Value*        '1'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)

     If a read or write on a communication port is interrupted, retry
     this many times before giving up.  This value should be set quite
     high on FreeBSD because internal interrupts are sent to all
     threads.

   * 
     'net_write_timeout'

     Property               Value
                            
     *Command-Line          '--net-write-timeout=#'
     Format*                

     *System Variable*      'net_write_timeout'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '60'
                            
     *Minimum Value*        '1'

     The number of seconds to wait for a block to be written to a
     connection before aborting the write.  See also 'net_read_timeout'.

   * 
     'new'

     Property               Value
                            
     *Command-Line          '--new[={OFF|ON}]'
     Format*                

     *System Variable*      'new'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Disabled by*          'skip-new'
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     This variable was used in MySQL 4.0 to turn on some 4.1 behaviors,
     and is retained for backward compatibility.  Its value is always
     'OFF'.

     In NDB Cluster, setting this variable to 'ON' makes it possible to
     employ partitioning types other than 'KEY' or 'LINEAR KEY' with
     *note 'NDB': mysql-cluster. tables.  _This feature is experimental
     only, and not supported in production_.  For additional
     information, see *note partitioning-limitations-ndb::.

   * 
     'old'

     Property               Value
                            
     *Command-Line          '--old[={OFF|ON}]'
     Format*                

     *System Variable*      'old'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     'old' is a compatibility variable.  It is disabled by default, but
     can be enabled at startup to revert the server to behaviors present
     in older versions.

     When 'old' is enabled, it changes the default scope of index hints
     to that used prior to MySQL 5.1.17.  That is, index hints with no
     'FOR' clause apply only to how indexes are used for row retrieval
     and not to resolution of 'ORDER BY' or 'GROUP BY' clauses.  (See
     *note index-hints::.)  Take care about enabling this in a
     replication setup.  With statement-based binary logging, having
     different modes for the master and slaves might lead to replication
     errors.

   * 'old_alter_table'

     Property               Value
                            
     *Command-Line          '--old-alter-table[={OFF|ON}]'
     Format*                

     *System Variable*      'old_alter_table'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     When this variable is enabled, the server does not use the
     optimized method of processing an *note 'ALTER TABLE': alter-table.
     operation.  It reverts to using a temporary table, copying over the
     data, and then renaming the temporary table to the original, as
     used by MySQL 5.0 and earlier.  For more information on the
     operation of *note 'ALTER TABLE': alter-table, see *note
     alter-table::.

   * 
     'old_passwords'

     Property               Value
                            
     *Command-Line          '--old-passwords=value'
     Format*                

     *System Variable*      'old_passwords'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        '0'

     This variable controls the password hashing method used by the
     'PASSWORD()' function.  It also influences password hashing
     performed by *note 'CREATE USER': create-user. and *note 'GRANT':
     grant. statements that specify a password using an 'IDENTIFIED BY'
     clause.

     The following table shows, for each password hashing method, the
     permitted value of 'old_passwords' and which authentication plugins
     use the hashing method.

     Password Hashing Method       old_passwords  Associated Authentication
                                   Value          Plugin
                                                  
     MySQL 4.1 native hashing      '0' or 'OFF'   'mysql_native_password'
                                                  
     Pre-4.1 ('old') hashing       '1' or 'ON'    'mysql_old_password'
                                   

     If 'old_passwords=1', 'PASSWORD(STR)' returns the same value as
     'OLD_PASSWORD(STR)'.  The latter function is not affected by the
     value of 'old_passwords'.

     For additional information about authentication plugins and hashing
     formats, see *note pluggable-authentication::, and *note
     password-hashing::.

     *Note*:

     Passwords that use the pre-4.1 hashing method are less secure than
     passwords that use the native password hashing method and should be
     avoided.

   * 
     'one_shot'

     This is not a variable, but it can be used when setting some
     variables.  It is described in *note set-variable::.

   * 'open_files_limit'

     Property               Value
                            
     *Command-Line          '--open-files-limit=#'
     Format*                

     *System Variable*      'open_files_limit'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Integer
                            
     *Default Value*        '0'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        'platform dependent'

     The number of file descriptors available to *note 'mysqld': mysqld.
     from the operating system.  *note 'mysqld': mysqld. reserves
     descriptors with 'setrlimit()', using the value requested at
     startup by setting this variable directly or by using the
     '--open-files-limit' option to *note 'mysqld_safe': mysqld-safe.
     If *note 'mysqld': mysqld. produces the error 'Too many open
     files', try increasing the 'open_files_limit' value.  Internally,
     the maximum value for this variable is the maximum unsigned integer
     value, but the actual maximum is platform dependent.

     The value of 'open_files_limit' at runtime indicates the number of
     file descriptors actually permitted to *note 'mysqld': mysqld. by
     the operating system, which might differ from the value requested
     at startup.  If the number of file descriptors requested during
     startup cannot be allocated, *note 'mysqld': mysqld. writes a
     warning to the error log.

     *note 'mysqld': mysqld. may attempt to allocate more than the
     requested number of descriptors (if they are available), using the
     values of 'max_connections' and 'table_open_cache' to estimate
     whether more descriptors will be needed.

     The effective value is 0 on systems where MySQL cannot change the
     number of open files.

     On Unix, the value cannot be set greater than 'ulimit -n'.

   * 
     'optimizer_prune_level'

     Property               Value
                            
     *Command-Line          '--optimizer-prune-level=#'
     Format*                

     *System Variable*      'optimizer_prune_level'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '1'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '1'

     Controls the heuristics applied during query optimization to prune
     less-promising partial plans from the optimizer search space.  A
     value of 0 disables heuristics so that the optimizer performs an
     exhaustive search.  A value of 1 causes the optimizer to prune
     plans based on the number of rows retrieved by intermediate plans.

   * 
     'optimizer_search_depth'

     Property               Value
                            
     *Command-Line          '--optimizer-search-depth=#'
     Format*                

     *System Variable*      'optimizer_search_depth'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '62'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '63'

     The maximum depth of search performed by the query optimizer.
     Values larger than the number of relations in a query result in
     better query plans, but take longer to generate an execution plan
     for a query.  Values smaller than the number of relations in a
     query return an execution plan quicker, but the resulting plan may
     be far from being optimal.  If set to 0, the system automatically
     picks a reasonable value.  If set to 63, the optimizer switches to
     the algorithm used in MySQL 5.0.0 (and previous versions) for
     performing searches.  The value of 63 is deprecated and will be
     treated as invalid in a future MySQL release.

   * 
     'optimizer_switch'

     Property               Value
                            
     *Command-Line          '--optimizer-switch=value'
     Format*                

     *System Variable*      'optimizer_switch'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Set
                            
     *Valid Values* (>=     'engine_condition_pushdown={on|off}'
     5.5.3)                 'index_merge={on|off}'
                            'index_merge_intersection={on|off}'
                            'index_merge_sort_union={on|off}'
                            'index_merge_union={on|off}'
                            
     *Valid Values* (<=     'index_merge={on|off}'
     5.5.2)                 'index_merge_intersection={on|off}'
                            'index_merge_sort_union={on|off}'
                            'index_merge_union={on|off}'

     The 'optimizer_switch' system variable enables control over
     optimizer behavior.  The value of this variable is a set of flags,
     each of which has a value of 'on' or 'off' to indicate whether the
     corresponding optimizer behavior is enabled or disabled.  This
     variable has global and session values and can be changed at
     runtime.  The global default can be set at server startup.

     To see the current set of optimizer flags, select the variable
     value:

          mysql> SELECT @@optimizer_switch\G
          *************************** 1. row ***************************
          @@optimizer_switch: index_merge=on,index_merge_union=on,
                              index_merge_sort_union=on,
                              index_merge_intersection=on,
                              engine_condition_pushdown=on

     For more information about the syntax of this variable and the
     optimizer behaviors that it controls, see *note
     switchable-optimizations::.

   * 'performance_schema_XXX'

     Performance Schema system variables are listed in *note
     performance-schema-system-variables::.  These variables may be used
     to configure Performance Schema operation.

   * 'pid_file'

     Property               Value
                            
     *Command-Line          '--pid-file=file_name'
     Format*                

     *System Variable*      'pid_file'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 File name

     The path name of the file in which the server writes its process
     ID. The server creates the file in the data directory unless an
     absolute path name is given to specify a different directory.  This
     file is used by other programs such as *note 'mysqld_safe':
     mysqld-safe. to determine the server's process ID. On Windows, this
     variable also affects the default error log file name.  See *note
     error-log::

   * 
     'plugin_dir'

     Property               Value
                            
     *Command-Line          '--plugin-dir=dir_name'
     Format*                

     *System Variable*      'plugin_dir'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Directory name
                            
     *Default Value*        'BASEDIR/lib/mysql/plugin'
     (Other, <= 5.5.4)      

     *Default Value*        'BASEDIR/lib/plugin'
     (Windows, <= 5.5.4)    

     *Default Value* (>=    'BASEDIR/lib/plugin'
     5.5.5)

     The path name of the plugin directory.

     If the plugin directory is writable by the server, it may be
     possible for a user to write executable code to a file in the
     directory using *note 'SELECT ... INTO DUMPFILE': select.  This can
     be prevented by making 'plugin_dir' read only to the server or by
     setting 'secure_file_priv' to a directory where *note 'SELECT':
     select. writes can be made safely.

   * 
     'port'

     Property               Value
                            
     *Command-Line          '--port=port_num'
     Format*                

     *System Variable*      'port'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Integer
                            
     *Default Value*        '3306'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '65535'

     The number of the port on which the server listens for TCP/IP
     connections.  This variable can be set with the '--port' option.

   * 
     'preload_buffer_size'

     Property               Value
                            
     *Command-Line          '--preload-buffer-size=#'
     Format*                

     *System Variable*      'preload_buffer_size'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '32768'
                            
     *Minimum Value*        '1024'
                            
     *Maximum Value*        '1073741824'

     The size of the buffer that is allocated when preloading indexes.

   * 
     'profiling'

     If set to 0 or 'OFF' (the default), statement profiling is
     disabled.  If set to 1 or 'ON', statement profiling is enabled and
     the *note 'SHOW PROFILE': show-profile. and *note 'SHOW PROFILES':
     show-profiles. statements provide access to profiling information.
     See *note show-profiles::.

   * 
     'profiling_history_size'

     The number of statements for which to maintain profiling
     information if 'profiling' is enabled.  The default value is 15.
     The maximum value is 100.  Setting the value to 0 effectively
     disables profiling.  See *note show-profiles::.

   * 
     'protocol_version'

     Property               Value
                            
     *System Variable*      'protocol_version'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Integer

     The version of the client/server protocol used by the MySQL server.

   * 
     'proxy_user'

     Property               Value
                            
     *Introduced*           5.5.7
                            
     *System Variable*      'proxy_user'
                            
     *Scope*                Session
                            
     *Dynamic*              No
                            
     *Type*                 String

     If the current client is a proxy for another user, this variable is
     the proxy user account name.  Otherwise, this variable is 'NULL'.
     See *note proxy-users::.

   * 
     'pseudo_slave_mode'

     Property               Value
                            
     *Introduced*           5.5.30
                            
     *System Variable*      'pseudo_slave_mode'
                            
     *Scope*                Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer

     This variable is for internal server use.  It was added in MySQL
     5.5.30.

   * 
     'pseudo_thread_id'

     Property               Value
                            
     *System Variable*      'pseudo_thread_id'
                            
     *Scope*                Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer

     This variable is for internal server use.

   * 
     'query_alloc_block_size'

     Property               Value
                            
     *Command-Line          '--query-alloc-block-size=#'
     Format*                

     *System Variable*      'query_alloc_block_size'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '8192'
                            
     *Minimum Value*        '1024'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)     

     *Block Size*           '1024'

     The allocation size of memory blocks that are allocated for objects
     created during statement parsing and execution.  If you have
     problems with memory fragmentation, it might help to increase this
     parameter.

   * 
     'query_cache_limit'

     Property               Value
                            
     *Command-Line          '--query-cache-limit=#'
     Format*                

     *System Variable*      'query_cache_limit'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '1048576'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)

     Do not cache results that are larger than this number of bytes.
     The default value is 1MB.

   * 
     'query_cache_min_res_unit'

     Property               Value
                            
     *Command-Line          '--query-cache-min-res-unit=#'
     Format*                

     *System Variable*      'query_cache_min_res_unit'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '4096'
                            
     *Minimum Value*        '512'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)

     The minimum size (in bytes) for blocks allocated by the query
     cache.  The default value is 4096 (4KB). Tuning information for
     this variable is given in *note query-cache-configuration::.

   * 
     'query_cache_size'

     Property               Value
                            
     *Command-Line          '--query-cache-size=#'
     Format*                

     *System Variable*      'query_cache_size'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '0'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)

     The amount of memory allocated for caching query results.  The
     default value is 0, which disables the query cache.  To reduce
     overhead significantly, you should also start the server with
     'query_cache_type=0' if you will not be using the query cache.

     The permissible values are multiples of 1024; other values are
     rounded down to the nearest multiple.  For nonzero values of
     'query_cache_size', that many bytes of memory are allocated even if
     'query_cache_type=0'.  See *note query-cache-configuration::, for
     more information.

     The query cache needs a minimum size of about 40KB to allocate its
     structures.  (The exact size depends on system architecture.)  If
     you set the value of 'query_cache_size' too small, a warning will
     occur, as described in *note query-cache-configuration::.

   * 
     'query_cache_type'

     Property               Value
                            
     *Command-Line          '--query-cache-type=#'
     Format*                

     *System Variable*      'query_cache_type'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Enumeration
                            
     *Default Value*        '1'
                            
     *Valid Values*         '0' '1' '2'

     Set the query cache type.  Setting the 'GLOBAL' value sets the type
     for all clients that connect thereafter.  Individual clients can
     set the 'SESSION' value to affect their own use of the query cache.
     Possible values are shown in the following table.

     Option      Description
                 
     '0' or      Do not cache results in or retrieve results from
     'OFF'       the query cache.  Note that this does not
                 deallocate the query cache buffer.  To do that,
                 you should set 'query_cache_size' to 0.
                 
     '1' or      Cache all cacheable query results except for
     'ON'        those that begin with 'SELECT SQL_NO_CACHE'.
                 
     '2' or      Cache results only for cacheable queries that
     'DEMAND'    begin with 'SELECT SQL_CACHE'.

     This variable defaults to 'ON'.

     If the server is started with 'query_cache_type' set to 0, it does
     not acquire the query cache mutex at all, which means that the
     query cache cannot be enabled at runtime and there is reduced
     overhead in query execution.

   * 
     'query_cache_wlock_invalidate'

     Property               Value
                            
     *Command-Line          '--query-cache-wlock-invalidate[={OFF|ON}]'
     Format*                

     *System Variable*      'query_cache_wlock_invalidate'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     Normally, when one client acquires a 'WRITE' lock on a 'MyISAM'
     table, other clients are not blocked from issuing statements that
     read from the table if the query results are present in the query
     cache.  Setting this variable to 1 causes acquisition of a 'WRITE'
     lock for a table to invalidate any queries in the query cache that
     refer to the table.  This forces other clients that attempt to
     access the table to wait while the lock is in effect.

   * 
     'query_prealloc_size'

     Property               Value
                            
     *Command-Line          '--query-prealloc-size=#'
     Format*                

     *System Variable*      'query_prealloc_size'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '8192'
                            
     *Minimum Value*        '8192'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)     

     *Block Size*           '1024'

     The size of the persistent buffer used for statement parsing and
     execution.  This buffer is not freed between statements.  If you
     are running complex queries, a larger 'query_prealloc_size' value
     might be helpful in improving performance, because it can reduce
     the need for the server to perform memory allocation during query
     execution operations.

   * 
     'rand_seed1'

     Property               Value
                            
     *System Variable*      'rand_seed1'
                            
     *Scope*                Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer

     The 'rand_seed1' and 'rand_seed2' variables exist as session
     variables only, and can be set but not read.  The variables--but
     not their values--are shown in the output of *note 'SHOW
     VARIABLES': show-variables.

     The purpose of these variables is to support replication of the
     'RAND()' function.  For statements that invoke 'RAND()', the master
     passes two values to the slave, where they are used to seed the
     random number generator.  The slave uses these values to set the
     session variables 'rand_seed1' and 'rand_seed2' so that 'RAND()' on
     the slave generates the same value as on the master.

   * 
     'rand_seed2'

     See the description for 'rand_seed1'.

   * 
     'range_alloc_block_size'

     Property               Value
                            
     *Command-Line          '--range-alloc-block-size=#'
     Format*                

     *System Variable*      'range_alloc_block_size'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '4096'
                            
     *Minimum Value*        '4096'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '4294967295'
     (32-bit platforms)     

     *Block Size*           '1024'

     The size of blocks that are allocated when doing range
     optimization.

   * 
     'read_buffer_size'

     Property               Value
                            
     *Command-Line          '--read-buffer-size=#'
     Format*                

     *System Variable*      'read_buffer_size'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '131072'
                            
     *Minimum Value*        '8200'
                            
     *Maximum Value*        '2147479552'

     Each thread that does a sequential scan for a 'MyISAM' table
     allocates a buffer of this size (in bytes) for each table it scans.
     If you do many sequential scans, you might want to increase this
     value, which defaults to 131072.  The value of this variable should
     be a multiple of 4KB. If it is set to a value that is not a
     multiple of 4KB, its value will be rounded down to the nearest
     multiple of 4KB.

     This option is also used in the following context for all storage
     engines:

        * For caching the indexes in a temporary file (not a temporary
          table), when sorting rows for 'ORDER BY'.

        * For bulk insert into partitions.

        * For caching results of nested queries.

     'read_buffer_size' is also used in one other storage
     engine-specific way: to determine the memory block size for *note
     'MEMORY': memory-storage-engine. tables.

     For more information about memory use during different operations,
     see *note memory-use::.

   * 
     'read_only'

     Property               Value
                            
     *Command-Line          '--read-only[={OFF|ON}]'
     Format*                

     *System Variable*      'read_only'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     When the 'read_only' system variable is enabled, the server permits
     no client updates except from users who have the 'SUPER' privilege.
     This variable is disabled by default.

     Even with 'read_only' enabled, the server permits these operations:

        * Updates performed by slave threads, if the server is a
          replication slave.  In replication setups, it can be useful to
          enable 'read_only' on slave servers to ensure that slaves
          accept updates only from the master server and not from
          clients.

        * Use of *note 'ANALYZE TABLE': analyze-table. or *note
          'OPTIMIZE TABLE': optimize-table. statements.  The purpose of
          read-only mode is to prevent changes to table structure or
          contents.  Analysis and optimization do not qualify as such
          changes.  This means, for example, that consistency checks on
          read-only replication slaves can be performed with *note
          'mysqlcheck --all-databases --analyze': mysqlcheck.

        * Operations on 'TEMPORARY' tables.

        * Inserts into the log tables ('mysql.general_log' and
          'mysql.slow_log'; see *note log-destinations::).

     'read_only' exists only as a 'GLOBAL' variable, so changes to its
     value require the 'SUPER' privilege.  Changes to 'read_only' on a
     master server are not replicated to slave servers.  The value can
     be set on a slave server independent of the setting on the master.

     The following conditions apply to attempts to enable 'read_only':

        * The attempt fails and an error occurs if you have any explicit
          locks (acquired with *note 'LOCK TABLES': lock-tables.) or
          have a pending transaction.

        * The attempt blocks while other clients have any ongoing
          statement, active 'LOCK TABLES WRITE', or ongoing commit,
          until the locks are released and the statements and
          transactions end.  While the attempt to enable 'read_only' is
          pending, requests by other clients for table locks or to begin
          transactions also block until 'read_only' has been set.

        * The attempt blocks if there are active transactions that hold
          metadata locks, until those transactions end.

        * 'read_only' can be enabled while you hold a global read lock
          (acquired with 'FLUSH TABLES WITH READ LOCK') because that
          does not involve table locks.

   * 
     'read_rnd_buffer_size'

     Property               Value
                            
     *Command-Line          '--read-rnd-buffer-size=#'
     Format*                

     *System Variable*      'read_rnd_buffer_size'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '262144'
                            
     *Minimum Value* (>=    '1'
     5.5.3)                 

     *Minimum Value* (<=    '8200'
     5.5.2)                 

     *Maximum Value*        '2147483647'

     When reading rows from a 'MyISAM' table in sorted order following a
     key-sorting operation, the rows are read through this buffer to
     avoid disk seeks.  See *note order-by-optimization::.  Setting the
     variable to a large value can improve 'ORDER BY' performance by a
     lot.  However, this is a buffer allocated for each client, so you
     should not set the global variable to a large value.  Instead,
     change the session variable only from within those clients that
     need to run large queries.

     For more information about memory use during different operations,
     see *note memory-use::.

   * 
     'relay_log_purge'

     Property               Value
                            
     *Command-Line          '--relay-log-purge[={OFF|ON}]'
     Format*                

     *System Variable*      'relay_log_purge'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'ON'

     Disables or enables automatic purging of relay log files as soon as
     they are not needed any more.  The default value is 1 ('ON').

   * 
     'relay_log_space_limit'

     Property               Value
                            
     *Command-Line          '--relay-log-space-limit=#'
     Format*                

     *System Variable*      'relay_log_space_limit'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Integer
                            
     *Default Value*        '0'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)

     The maximum amount of space to use for all relay logs.

   * 
     'rpl_semi_sync_master_enabled'

     Property               Value
                            
     *Command-Line          '--rpl-semi-sync-master-enabled[={OFF|ON}]'
     Format*                

     *System Variable*      'rpl_semi_sync_master_enabled'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     Controls whether semisynchronous replication is enabled on the
     master.  To enable or disable the plugin, set this variable to 'ON'
     or 'OFF' (or 1 or 0), respectively.  The default is 'OFF'.

     This variable is available only if the master-side semisynchronous
     replication plugin is installed.

   * 
     'rpl_semi_sync_master_timeout'

     Property               Value
                            
     *Command-Line          '--rpl-semi-sync-master-timeout=#'
     Format*                

     *System Variable*      'rpl_semi_sync_master_timeout'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '10000'

     A value in milliseconds that controls how long the master waits on
     a commit for acknowledgment from a slave before timing out and
     reverting to asynchronous replication.  The default value is 10000
     (10 seconds).

     This variable is available only if the master-side semisynchronous
     replication plugin is installed.

   * 
     'rpl_semi_sync_master_trace_level'

     Property               Value
                            
     *Command-Line          '--rpl-semi-sync-master-trace-level=#'
     Format*                

     *System Variable*      'rpl_semi_sync_master_trace_level'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '32'

     The semisynchronous replication debug trace level on the master.
     Four levels are defined:

        * 1 = general level (for example, time function failures)

        * 16 = detail level (more verbose information)

        * 32 = net wait level (more information about network waits)

        * 64 = function level (information about function entry and
          exit)

     This variable is available only if the master-side semisynchronous
     replication plugin is installed.

   * 
     'rpl_semi_sync_master_wait_no_slave'

     Property               Value
                            
     *Command-Line          '--rpl-semi-sync-master-wait-no-slave[={OFF|ON}]'
     Format*                

     *System Variable*      'rpl_semi_sync_master_wait_no_slave'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'ON'

     With semisynchronous replication, for each transaction, the master
     waits until timeout for acknowledgment of receipt from some
     semisynchronous slave.  If no response occurs during this period,
     the master reverts to normal replication.  This variable controls
     whether the master waits for the timeout to expire before reverting
     to normal replication even if the slave count drops to zero during
     the timeout period.

     If the value is 'ON' (the default), it is permissible for the slave
     count to drop to zero during the timeout period (for example, if
     slaves disconnect).  The master still waits for the timeout, so as
     long as some slave reconnects and acknowledges the transaction
     within the timeout interval, semisynchronous replication continues.

     If the value is 'OFF', the master reverts to normal replication if
     the slave count drops to zero during the timeout period.

     This variable is available only if the master-side semisynchronous
     replication plugin is installed.

   * 
     'rpl_semi_sync_slave_enabled'

     Property               Value
                            
     *Command-Line          '--rpl-semi-sync-slave-enabled[={OFF|ON}]'
     Format*                

     *System Variable*      'rpl_semi_sync_slave_enabled'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     Controls whether semisynchronous replication is enabled on the
     slave.  To enable or disable the plugin, set this variable to 'ON'
     or 'OFF' (or 1 or 0), respectively.  The default is 'OFF'.

     This variable is available only if the slave-side semisynchronous
     replication plugin is installed.

   * 
     'rpl_semi_sync_slave_trace_level'

     Property               Value
                            
     *Command-Line          '--rpl-semi-sync-slave-trace-level=#'
     Format*                

     *System Variable*      'rpl_semi_sync_slave_trace_level'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '32'

     The semisynchronous replication debug trace level on the slave.
     See 'rpl_semi_sync_master_trace_level' for the permissible values.

     This variable is available only if the slave-side semisynchronous
     replication plugin is installed.

   * 'secure_auth'

     Property               Value
                            
     *Command-Line          '--secure-auth[={OFF|ON}]'
     Format*                

     *System Variable*      'secure_auth'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     If this variable is enabled, the server blocks connections by
     clients that attempt to use accounts that have passwords stored in
     the old (pre-4.1) format.  Enable this variable to prevent all use
     of passwords employing the old format (and hence insecure
     communication over the network).

     Server startup fails with an error if this variable is enabled and
     the privilege tables are in pre-4.1 format.  See *note
     old-client::.

     *Note*:

     Passwords that use the pre-4.1 hashing method are less secure than
     passwords that use the native password hashing method and should be
     avoided.

   * 'secure_file_priv'

     Property               Value
                            
     *Command-Line          '--secure-file-priv=dir_name'
     Format*                

     *System Variable*      'secure_file_priv'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 String
                            
     *Default Value* (>=    'platform specific'
     5.5.53)                

     *Default Value* (<=    'empty string'
     5.5.52)                

     *Valid Values* (>=     'empty string' 'dirname' 'NULL'
     5.5.53)                

     *Valid Values* (<=     'empty string' 'dirname'
     5.5.52)

     This variable is used to limit the effect of data import and export
     operations, such as those performed by the *note 'LOAD DATA':
     load-data. and *note 'SELECT ... INTO OUTFILE': select-into.
     statements and the 'LOAD_FILE()' function.  These operations are
     permitted only to users who have the 'FILE' privilege.

     'secure_file_priv' may be set as follows:

        * If empty, the variable has no effect.  This is not a secure
          setting.

        * If set to the name of a directory, the server limits import
          and export operations to work only with files in that
          directory.  The directory must exist; the server will not
          create it.

        * If set to 'NULL', the server disables import and export
          operations.  This value is permitted as of MySQL 5.5.53.

     Before MySQL 5.5.53, this variable is empty by default.  As of
     5.5.53, the default value is platform specific and depends on the
     value of the 'INSTALL_LAYOUT' 'CMake' option, as shown in the
     following table.  To specify the default 'secure_file_priv' value
     explicitly if you are building from source, use the
     'INSTALL_SECURE_FILE_PRIVDIR' 'CMake' option.

     'INSTALL_LAYOUT' Value    Default 'secure_file_priv' Value
                               
     'STANDALONE', 'WIN'       'NULL'
                               
     'DEB', 'RPM', 'SLES',     '/var/lib/mysql-files'
     'SVR4'                    

     Otherwise                 'mysql-files' under the
                               'CMAKE_INSTALL_PREFIX' value

     To set the default 'secure_file_priv' value for the 'libmysqld'
     embedded server, use the 'INSTALL_SECURE_FILE_PRIV_EMBEDDEDDIR'
     'CMake' option.  The default value for this option is 'NULL'.

     As of MySQL 5.5.53, the server checks the value of
     'secure_file_priv' at startup and writes a warning to the error log
     if the value is insecure.  A non-'NULL' value is considered
     insecure if it is empty, or the value is the data directory or a
     subdirectory of it, or a directory that is accessible by all users.
     If 'secure_file_priv' is set to a nonexistent path, the server
     writes an error message to the error log and exits.

   * 
     'shared_memory'

     Property               Value
                            
     *Command-Line          '--shared-memory[={OFF|ON}]'
     Format*                

     *System Variable*      'shared_memory'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Platform Specific*    Windows
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     (Windows only.)  Whether the server permits shared-memory
     connections.

   * 
     'shared_memory_base_name'

     Property               Value
                            
     *Command-Line          '--shared-memory-base-name=name'
     Format*                

     *System Variable*      'shared_memory_base_name'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Platform Specific*    Windows
                            
     *Type*                 String
                            
     *Default Value*        'MYSQL'

     (Windows only.)  The name of shared memory to use for shared-memory
     connections.  This is useful when running multiple MySQL instances
     on a single physical machine.  The default name is 'MYSQL'.  The
     name is case-sensitive.

     This variable applies only if the server is started with the
     'shared_memory' system variable enabled to support shared-memory
     connections.

   * 
     'skip_external_locking'

     Property               Value
                            
     *Command-Line          '--skip-external-locking[={OFF|ON}]'
     Format*                

     *System Variable*      'skip_external_locking'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Boolean
                            
     *Default Value*        'ON'

     This is 'OFF' if *note 'mysqld': mysqld. uses external locking
     (system locking), 'ON' if external locking is disabled.  This
     affects only *note 'MyISAM': myisam-storage-engine. table access.

     This variable is set by the '--external-locking' or
     '--skip-external-locking' option.  External locking is disabled by
     default.

     External locking affects only *note 'MyISAM':
     myisam-storage-engine. table access.  For more information,
     including conditions under which it can and cannot be used, see
     *note external-locking::.

   * 'skip_name_resolve'

     Property               Value
                            
     *Command-Line          '--skip-name-resolve[={OFF|ON}]'
     Format*                

     *System Variable*      'skip_name_resolve'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     Whether to resolve host names when checking client connections.  If
     this variable is 'OFF', *note 'mysqld': mysqld. resolves host names
     when checking client connections.  If it is 'ON', *note 'mysqld':
     mysqld. uses only IP numbers; in this case, all 'Host' column
     values in the grant tables must be IP addresses or 'localhost'.
     See *note host-cache::.

     Depending on the network configuration of your system and the
     'Host' values for your accounts, clients may need to connect using
     an explicit '--host' option, such as '--host=localhost',
     '--host=127.0.0.1', or '--host=::1'.

     An attempt to connect to the host '127.0.0.1' normally resolves to
     the 'localhost' account.  However, this fails if the server is run
     with 'skip_name_resolve' enabled.  If you plan to do that, make
     sure an account exists that can accept a connection.  For example,
     to be able to connect as 'root' using '--host=127.0.0.1' or
     '--host=::1', create these accounts:

          CREATE USER 'root'@'127.0.0.1' IDENTIFIED BY 'ROOT-PASSWORD';
          CREATE USER 'root'@'::1' IDENTIFIED BY 'ROOT-PASSWORD';

   * 'skip_networking'

     Property               Value
                            
     *Command-Line          '--skip-networking[={OFF|ON}]'
     Format*                

     *System Variable*      'skip_networking'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     This variable controls whether the server permits TCP/IP
     connections.  By default, it is disabled (permit TCP connections).
     If enabled, the server permits only local (non-TCP/IP) connections
     and all interaction with *note 'mysqld': mysqld. must be made using
     named pipes or shared memory (on Windows) or Unix socket files (on
     Unix).  This option is highly recommended for systems where only
     local clients are permitted.  See *note host-cache::.

   * 
     'skip_show_database'

     Property               Value
                            
     *Command-Line          '--skip-show-database'
     Format*                

     *System Variable*      'skip_show_database'
                            
     *Scope*                Global
                            
     *Dynamic*              No

     This prevents people from using the *note 'SHOW DATABASES':
     show-databases. statement if they do not have the 'SHOW DATABASES'
     privilege.  This can improve security if you have concerns about
     users being able to see databases belonging to other users.  Its
     effect depends on the 'SHOW DATABASES' privilege: If the variable
     value is 'ON', the *note 'SHOW DATABASES': show-databases.
     statement is permitted only to users who have the 'SHOW DATABASES'
     privilege, and the statement displays all database names.  If the
     value is 'OFF', *note 'SHOW DATABASES': show-databases. is
     permitted to all users, but displays the names of only those
     databases for which the user has the 'SHOW DATABASES' or other
     privilege.

     *Caution*:

     Because a global privilege is considered a privilege for all
     databases, _any_ global privilege enables a user to see all
     database names with *note 'SHOW DATABASES': show-databases. or by
     examining the 'INFORMATION_SCHEMA' *note 'SCHEMATA':
     schemata-table. table.

   * 
     'slow_launch_time'

     Property               Value
                            
     *Command-Line          '--slow-launch-time=#'
     Format*                

     *System Variable*      'slow_launch_time'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '2'

     If creating a thread takes longer than this many seconds, the
     server increments the 'Slow_launch_threads' status variable.

   * 
     'slow_query_log'

     Property               Value
                            
     *Command-Line          '--slow-query-log[={OFF|ON}]'
     Format*                

     *System Variable*      'slow_query_log'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     Whether the slow query log is enabled.  The value can be 0 (or
     'OFF') to disable the log or 1 (or 'ON') to enable the log.  The
     destination for log output is controlled by the 'log_output' system
     variable; if that value is 'NONE', no log entries are written even
     if the log is enabled.

     'Slow' is determined by the value of the 'long_query_time'
     variable.  See *note slow-query-log::.

   * 
     'slow_query_log_file'

     Property               Value
                            
     *Command-Line          '--slow-query-log-file=file_name'
     Format*                

     *System Variable*      'slow_query_log_file'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 File name
                            
     *Default Value*        'host_name-slow.log'

     The name of the slow query log file.  The default value is
     'HOST_NAME-slow.log', but the initial value can be changed with the
     '--slow_query_log_file' option.

   * 
     'socket'

     Property               Value
                            
     *Command-Line          '--socket={file_name|pipe_name}'
     Format*                

     *System Variable*      'socket'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 String
                            
     *Default Value*        '/tmp/mysql.sock'
     (Other)                

     *Default Value*        'MySQL'
     (Windows)

     On Unix platforms, this variable is the name of the socket file
     that is used for local client connections.  The default is
     '/tmp/mysql.sock'.  (For some distribution formats, the directory
     might be different, such as '/var/lib/mysql' for RPMs.)

     On Windows, this variable is the name of the named pipe that is
     used for local client connections.  The default value is 'MySQL'
     (not case-sensitive).

   * 
     'sort_buffer_size'

     Property               Value
                            
     *Command-Line          '--sort-buffer-size=#'
     Format*                

     *System Variable*      'sort_buffer_size'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '2097144'
                            
     *Minimum Value*        '32768'
                            
     *Maximum Value*        '18446744073709551615'
     (Other, 64-bit         
     platforms)

     *Maximum Value*        '4294967295'
     (Other, 32-bit         
     platforms)

     *Maximum Value*        '4294967295'
     (Windows)

     Each session that must perform a sort allocates a buffer of this
     size.  'sort_buffer_size' is not specific to any storage engine and
     applies in a general manner for optimization.  At minimum the
     'sort_buffer_size' value must be large enough to accommodate
     fifteen tuples in the sort buffer.  Also, increasing the value of
     'max_sort_length' may require increasing the value of
     'sort_buffer_size'.  For more information, see *note
     order-by-optimization::

     If you see many 'Sort_merge_passes' per second in *note 'SHOW
     GLOBAL STATUS': show-status. output, you can consider increasing
     the 'sort_buffer_size' value to speed up 'ORDER BY' or 'GROUP BY'
     operations that cannot be improved with query optimization or
     improved indexing.  The entire buffer is allocated even if it is
     not all needed, so setting it larger than required globally will
     slow down most queries that sort.  It is best to increase it as a
     session setting, and only for the sessions that need a larger size.
     On Linux, there are thresholds of 256KB and 2MB where larger values
     may significantly slow down memory allocation, so you should
     consider staying below one of those values.  Experiment to find the
     best value for your workload.  See *note temporary-files::.

     The maximum permissible setting for 'sort_buffer_size' is 4GB1.
     Larger values are permitted for 64-bit platforms (except 64-bit
     Windows, for which large values are truncated to 4GB1 with a
     warning).

   * 
     'sql_auto_is_null'

     Property               Value
                            
     *System Variable*      'sql_auto_is_null'
                            
     *Scope* (>= 5.5.3)     Global, Session
                            
     *Scope* (<= 5.5.2)     Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value* (>=    'OFF'
     5.5.3)                 

     *Default Value* (<=    'ON'
     5.5.2)

     If this variable is enabled, then after a statement that
     successfully inserts an automatically generated 'AUTO_INCREMENT'
     value, you can find that value by issuing a statement of the
     following form:

          SELECT * FROM TBL_NAME WHERE AUTO_COL IS NULL

     If the statement returns a row, the value returned is the same as
     if you invoked the 'LAST_INSERT_ID()' function.  For details,
     including the return value after a multiple-row insert, see *note
     information-functions::.  If no 'AUTO_INCREMENT' value was
     successfully inserted, the *note 'SELECT': select. statement
     returns no row.

     The behavior of retrieving an 'AUTO_INCREMENT' value by using an
     'IS NULL' comparison is used by some ODBC programs, such as Access.
     See Obtaining Auto-Increment Values
     (https://dev.mysql.com/doc/connector-odbc/en/connector-odbc-usagenotes-functionality-last-insert-id.html).
     This behavior can be disabled by setting 'sql_auto_is_null' to
     'OFF'.

     The default value of 'sql_auto_is_null' is 'OFF'.

   * 
     'sql_big_selects'

     Property               Value
                            
     *System Variable*      'sql_big_selects'
                            
     *Scope* (>= 5.5.3)     Global, Session
                            
     *Scope* (<= 5.5.2)     Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'ON'

     If set to 'OFF', MySQL aborts *note 'SELECT': select. statements
     that are likely to take a very long time to execute (that is,
     statements for which the optimizer estimates that the number of
     examined rows exceeds the value of 'max_join_size').  This is
     useful when an inadvisable 'WHERE' statement has been issued.  The
     default value for a new connection is 'ON', which permits all *note
     'SELECT': select. statements.

     If you set the 'max_join_size' system variable to a value other
     than 'DEFAULT', 'sql_big_selects' is set to 'OFF'.

   * 
     'sql_buffer_result'

     Property               Value
                            
     *System Variable*      'sql_buffer_result'
                            
     *Scope* (>= 5.5.3)     Global, Session
                            
     *Scope* (<= 5.5.2)     Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     If enabled, 'sql_buffer_result' forces results from *note 'SELECT':
     select. statements to be put into temporary tables.  This helps
     MySQL free the table locks early and can be beneficial in cases
     where it takes a long time to send results to the client.  The
     default value is 'OFF'.

   * 
     'sql_log_bin'

     Property               Value
                            
     *System Variable*      'sql_log_bin'
                            
     *Scope* (>= 5.5.41)    Session
                            
     *Scope* (>= 5.5.3,     Global, Session
     <= 5.5.40)             

     *Scope* (<= 5.5.2)     Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'ON'

     This variable controls whether logging to the binary log is enabled
     for the current session (assuming that the binary log itself is
     enabled).  The default value is 'ON'.  To disable or enable binary
     logging for the current session, set the session 'sql_log_bin'
     variable to 'OFF' or 'ON'.

     Set this variable to 'OFF' for a session to temporarily disable
     binary logging while making changes to the master you do not want
     replicated to the slave.

     Setting the session value of this system variable is a restricted
     operation.  The session user must have privileges sufficient to set
     restricted session variables.  See *note
     system-variable-privileges::.

     It is not possible to set the session value of 'sql_log_bin' within
     a transaction or subquery.

     As of MySQL 5.5.41, the global 'sql_log_bin' variable is read only
     and cannot be modified.  The global scope is deprecated and will be
     removed in a future MySQL release.  Prior to 5.5.41, 'sql_log_bin'
     can be set as a global or session variable.  Setting 'sql_log_bin'
     globally is only detected when a new session is started.  Any
     sessions previously running are not impacted when setting
     'sql_log_bin' globally.

     *Warning*:

     Incorrect use of 'sql_log_bin' with a global scope means any
     changes made in an already running session are _still_ being
     recorded to the binary log and therefore replicated.  Exercise
     extreme caution using 'sql_log_bin' with a global scope as the
     above situation could cause unexpected results including
     replication failure.

   * 
     'sql_log_off'

     Property               Value
                            
     *System Variable*      'sql_log_off'
                            
     *Scope* (>= 5.5.3)     Global, Session
                            
     *Scope* (<= 5.5.2)     Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'
                            
     *Valid Values*         'OFF' (enable logging) 'ON' (disable logging)

     This variable controls whether logging to the general query log is
     disabled for the current session (assuming that the general query
     log itself is enabled).  The default value is 'OFF' (that is,
     enable logging).  To disable or enable general query logging for
     the current session, set the session 'sql_log_off' variable to 'ON'
     or 'OFF'.

     Setting the session value of this system variable is a restricted
     operation.  The session user must have privileges sufficient to set
     restricted session variables.  See *note
     system-variable-privileges::.

   * 
     'sql_log_update'

     Property               Value
                            
     *Deprecated*           Yes (removed in 5.5.3); use 'sql_log_bin'
                            instead
                            
     *System Variable*      'sql_log_update'
                            
     *Scope*                Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean

     This variable is deprecated, and is mapped to 'sql_log_bin'.  It
     was removed in MySQL 5.5.3.

   * 
     'sql_mode'

     Property               Value
                            
     *Command-Line          '--sql-mode=name'
     Format*                

     *System Variable*      'sql_mode'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Set
                            
     *Default Value*        ''''
                            
     *Valid Values*         'ALLOW_INVALID_DATES' 'ANSI_QUOTES'
                            'ERROR_FOR_DIVISION_BY_ZERO'
                            'HIGH_NOT_PRECEDENCE' 'IGNORE_SPACE'
                            'NO_AUTO_CREATE_USER' 'NO_AUTO_VALUE_ON_ZERO'
                            'NO_BACKSLASH_ESCAPES' 'NO_DIR_IN_CREATE'
                            'NO_ENGINE_SUBSTITUTION' 'NO_FIELD_OPTIONS'
                            'NO_KEY_OPTIONS' 'NO_TABLE_OPTIONS'
                            'NO_UNSIGNED_SUBTRACTION' 'NO_ZERO_DATE'
                            'NO_ZERO_IN_DATE' 'ONLY_FULL_GROUP_BY'
                            'PAD_CHAR_TO_FULL_LENGTH' 'PIPES_AS_CONCAT'
                            'REAL_AS_FLOAT' 'STRICT_ALL_TABLES'
                            'STRICT_TRANS_TABLES'

     The current server SQL mode, which can be set dynamically.  For
     details, see *note sql-mode::.

     *Note*:

     MySQL installation programs may configure the SQL mode during the
     installation process.  If the SQL mode differs from the default or
     from what you expect, check for a setting in an option file that
     the server reads at startup.

   * 
     'sql_notes'

     Property               Value
                            
     *System Variable*      'sql_notes'
                            
     *Scope* (>= 5.5.3)     Global, Session
                            
     *Scope* (<= 5.5.2)     Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'ON'

     If enabled (the default), diagnostics of 'Note' level increment
     'warning_count' and the server records them.  If disabled, 'Note'
     diagnostics do not increment 'warning_count' and the server does
     not record them.  *note 'mysqldump': mysqldump. includes output to
     disable this variable so that reloading the dump file does not
     produce warnings for events that do not affect the integrity of the
     reload operation.

   * 
     'sql_quote_show_create'

     Property               Value
                            
     *System Variable*      'sql_quote_show_create'
                            
     *Scope* (>= 5.5.3)     Global, Session
                            
     *Scope* (<= 5.5.2)     Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'ON'

     If enabled (the default), the server quotes identifiers for *note
     'SHOW CREATE TABLE': show-create-table. and *note 'SHOW CREATE
     DATABASE': show-create-database. statements.  If disabled, quoting
     is disabled.  This option is enabled by default so that replication
     works for identifiers that require quoting.  See *note
     show-create-table::, and *note show-create-database::.

   * 
     'sql_safe_updates'

     Property               Value
                            
     *System Variable*      'sql_safe_updates'
                            
     *Scope* (>= 5.5.3)     Global, Session
                            
     *Scope* (<= 5.5.2)     Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     If this variable is enabled, *note 'UPDATE': update. and *note
     'DELETE': delete. statements that do not use a key in the 'WHERE'
     clause or a 'LIMIT' clause produce an error.  This makes it
     possible to catch *note 'UPDATE': update. and *note 'DELETE':
     delete. statements where keys are not used properly and that would
     probably change or delete a large number of rows.  The default
     value is 'OFF'.

     For the *note 'mysql': mysql. client, 'sql_safe_updates' can be
     enabled by using the '--safe-updates' option.  For more
     information, see *note safe-updates::.

   * 
     'sql_select_limit'

     Property               Value
                            
     *System Variable*      'sql_select_limit'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer

     The maximum number of rows to return from *note 'SELECT': select.
     statements.  For more information, see *note safe-updates::.

     The default value for a new connection is the maximum number of
     rows that the server permits per table.  Typical default values are
     (2^32)1 or (2^64)1.  If you have changed the limit, the
     default value can be restored by assigning a value of 'DEFAULT'.

     If a *note 'SELECT': select. has a 'LIMIT' clause, the 'LIMIT'
     takes precedence over the value of 'sql_select_limit'.

   * 
     'sql_warnings'

     Property               Value
                            
     *System Variable*      'sql_warnings'
                            
     *Scope* (>= 5.5.3)     Global, Session
                            
     *Scope* (<= 5.5.2)     Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     This variable controls whether single-row *note 'INSERT': insert.
     statements produce an information string if warnings occur.  The
     default is 'OFF'.  Set the value to 'ON' to produce an information
     string.

   * 
     'ssl_ca'

     Property               Value
                            
     *Command-Line          '--ssl-ca=file_name'
     Format*                

     *System Variable*      'ssl_ca'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 File name

     The path to a file with a list of trusted SSL Certificate
     Authorities.

   * 
     'ssl_capath'

     Property               Value
                            
     *Command-Line          '--ssl-capath=dir_name'
     Format*                

     *System Variable*      'ssl_capath'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Directory name

     The path to a directory that contains trusted SSL CA certificates
     in PEM format.  Support for this capability depends on the SSL
     library used to compile MySQL. See *note ssl-libraries::.

   * 
     'ssl_cert'

     Property               Value
                            
     *Command-Line          '--ssl-cert=file_name'
     Format*                

     *System Variable*      'ssl_cert'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 File name

     The name of the SSL certificate file to use for establishing a
     secure connection.

   * 
     'ssl_cipher'

     Property               Value
                            
     *Command-Line          '--ssl-cipher=name'
     Format*                

     *System Variable*      'ssl_cipher'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 String

     The list of permissible ciphers for SSL encryption.

   * 
     'ssl_key'

     Property               Value
                            
     *Command-Line          '--ssl-key=file_name'
     Format*                

     *System Variable*      'ssl_key'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 File name

     The name of the SSL key file to use for establishing a secure
     connection.

   * 
     'storage_engine'

     Property               Value
                            
     *System Variable*      'storage_engine'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Enumeration
                            
     *Default Value* (>=    'InnoDB'
     5.5.5)                 

     *Default Value* (<=    'MyISAM'
     5.5.4)

     The default storage engine (table type).  See *note
     storage-engines::.

     This variable is deprecated as of MySQL 5.5.3.  Use
     'default_storage_engine' instead.

   * 
     'stored_program_cache'

     Property               Value
                            
     *Command-Line          '--stored-program-cache=#'
     Format*                

     *Introduced*           5.5.21
                            
     *System Variable*      'stored_program_cache'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '256'
                            
     *Minimum Value*        '256'
                            
     *Maximum Value*        '524288'

     Sets a soft upper limit for the number of cached stored routines
     per connection.  The value of this variable is specified in terms
     of the number of stored routines held in each of the two caches
     maintained by the MySQL Server for, respectively, stored procedures
     and stored functions.

     Whenever a stored routine is executed this cache size is checked
     before the first or top-level statement in the routine is parsed;
     if the number of routines of the same type (stored procedures or
     stored functions according to which is being executed) exceeds the
     limit specified by this variable, the corresponding cache is
     flushed and memory previously allocated for cached objects is
     freed.  This allows the cache to be flushed safely, even when there
     are dependencies between stored routines.

   * 
     'sync_frm'

     Property               Value
                            
     *Command-Line          '--sync-frm[={OFF|ON}]'
     Format*                

     *System Variable*      'sync_frm'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'ON'

     If this variable is set to 1, when any nontemporary table is
     created its '.frm' file is synchronized to disk (using
     'fdatasync()').  This is slower but safer in case of a crash.  The
     default is 1.

   * 
     'system_time_zone'

     Property               Value
                            
     *System Variable*      'system_time_zone'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 String

     The server system time zone.  When the server begins executing, it
     inherits a time zone setting from the machine defaults, possibly
     modified by the environment of the account used for running the
     server or the startup script.  The value is used to set
     'system_time_zone'.  Typically the time zone is specified by the
     'TZ' environment variable.  It also can be specified using the
     '--timezone' option of the *note 'mysqld_safe': mysqld-safe.
     script.

     The 'system_time_zone' variable differs from 'time_zone'.  Although
     they might have the same value, the latter variable is used to
     initialize the time zone for each client that connects.  See *note
     time-zone-support::.

   * 
     'table_definition_cache'

     Property               Value
                            
     *Command-Line          '--table-definition-cache=#'
     Format*                

     *System Variable*      'table_definition_cache'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '400'
                            
     *Minimum Value*        '400'
                            
     *Maximum Value*        '524288'

     The number of table definitions (from '.frm' files) that can be
     stored in the definition cache.  If you use a large number of
     tables, you can create a large table definition cache to speed up
     opening of tables.  The table definition cache takes less space and
     does not use file descriptors, unlike the normal table cache.  The
     minimum and default values are both 400.

   * 
     'table_lock_wait_timeout'

     Property               Value
                            
     *Command-Line          '--table-lock-wait-timeout=#'
     Format*                

     *Removed*              5.5.3
                            
     *System Variable*      'table_lock_wait_timeout'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '50'
                            
     *Minimum Value*        '1'
                            
     *Maximum Value*        '1073741824'

     This variable is unused.  It was removed in 5.5.3.

   * 
     'table_open_cache'

     Property               Value
                            
     *Command-Line          '--table-open-cache=#'
     Format*                

     *System Variable*      'table_open_cache'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '400'
                            
     *Minimum Value*        '1'
                            
     *Maximum Value*        '524288'

     The number of open tables for all threads.  Increasing this value
     increases the number of file descriptors that *note 'mysqld':
     mysqld. requires.  You can check whether you need to increase the
     table cache by checking the 'Opened_tables' status variable.  See
     *note server-status-variables::.  If the value of 'Opened_tables'
     is large and you do not use 'FLUSH TABLES' often (which just forces
     all tables to be closed and reopened), then you should increase the
     value of the 'table_open_cache' variable.  For more information
     about the table cache, see *note table-cache::.

   * 
     'table_type'

     This variable was removed in MySQL 5.5.3.  Use 'storage_engine'
     instead.

   * 
     'thread_cache_size'

     Property               Value
                            
     *Command-Line          '--thread-cache-size=#'
     Format*                

     *System Variable*      'thread_cache_size'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '0'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '16384'

     How many threads the server should cache for reuse.  When a client
     disconnects, the client's threads are put in the cache if there are
     fewer than 'thread_cache_size' threads there.  Requests for threads
     are satisfied by reusing threads taken from the cache if possible,
     and only when the cache is empty is a new thread created.  This
     variable can be increased to improve performance if you have a lot
     of new connections.  Normally, this does not provide a notable
     performance improvement if you have a good thread implementation.
     However, if your server sees hundreds of connections per second you
     should normally set 'thread_cache_size' high enough so that most
     new connections use cached threads.  By examining the difference
     between the 'Connections' and 'Threads_created' status variables,
     you can see how efficient the thread cache is.  For details, see
     *note server-status-variables::.

   * 
     'thread_concurrency'

     Property               Value
                            
     *Command-Line          '--thread-concurrency=#'
     Format*                

     *System Variable*      'thread_concurrency'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Integer
                            
     *Default Value*        '10'
                            
     *Minimum Value*        '1'
                            
     *Maximum Value*        '512'

     This variable is specific to Solaris 8 and earlier systems, for
     which *note 'mysqld': mysqld. invokes the 'thr_setconcurrency()'
     function with the variable value.  This function enables
     applications to give the threads system a hint about the desired
     number of threads that should be run at the same time.  Current
     Solaris versions document this as having no effect.

   * 
     'thread_handling'

     Property               Value
                            
     *Command-Line          '--thread-handling=name'
     Format*                

     *System Variable*      'thread_handling'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Enumeration
                            
     *Default Value*        'one-thread-per-connection'
                            
     *Valid Values* (>=     'no-threads' 'one-thread-per-connection'
     5.5.16)                'loaded-dynamically'
                            
     *Valid Values* (<=     'no-threads' 'one-thread-per-connection'
     5.5.13)

     The thread-handling model used by the server for connection
     threads.  The permissible user-settable values are 'no-threads'
     (the server uses a single thread to handle one connection) and
     'one-thread-per-connection' (the server uses one thread to handle
     each client connection; this is the default).  'no-threads' is
     useful for debugging under Linux; see *note porting::.

     If the thread pool plugin is enabled, the server sets the
     'thread_handling' value to 'loaded-dynamically'.  See *note
     thread-pool-installation::.

   * 
     'thread_pool_algorithm'

     Property               Value
                            
     *Command-Line          '--thread-pool-algorithm=#'
     Format*                

     *Introduced*           5.5.16
                            
     *System Variable*      'thread_pool_algorithm'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Integer
                            
     *Default Value*        '0'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '1'

     This variable controls which algorithm the thread pool plugin uses:

        * A value of 0 (the default) uses a conservative low-concurrency
          algorithm which is most well tested and is known to produce
          very good results.

        * A value of 1 increases the concurrency and uses a more
          aggressive algorithm which at times has been known to perform
          5-10% better on optimal thread counts, but has degrading
          performance as the number of connections increases.  Its use
          should be considered as experimental and not supported.

     This variable was added in MySQL 5.5.16.  It is available only if
     the thread pool plugin is enabled.  See *note thread-pool::

   * 
     'thread_pool_high_priority_connection'

     Property               Value
                            
     *Command-Line          '--thread-pool-high-priority-connection=#'
     Format*                

     *Introduced*           5.5.16
                            
     *System Variable*      'thread_pool_high_priority_connection'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '0'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '1'

     This variable affects queuing of new statements prior to execution.
     If the value is 0 (false, the default), statement queuing uses both
     the low-priority and high-priority queues.  If the value is 1
     (true), queued statements always go to the high-priority queue.

     This variable was added in MySQL 5.5.16.  It is available only if
     the thread pool plugin is enabled.  See *note thread-pool::

   * 
     'thread_pool_max_unused_threads'

     Property               Value
                            
     *Command-Line          '--thread-pool-max-unused-threads=#'
     Format*                

     *Introduced*           5.5.16
                            
     *System Variable*      'thread_pool_max_unused_threads'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '0'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '4096'

     The maximum permitted number of unused threads in the thread pool.
     This variable makes it possible to limit the amount of memory used
     by sleeping threads.

     A value of 0 (the default) means no limit on the number of sleeping
     threads.  A value of N where N is greater than 0 means 1 consumer
     thread and N1 reserve threads.  In this case, if a thread is
     ready to sleep but the number of sleeping threads is already at the
     maximum, the thread exits rather than going to sleep.

     A sleeping thread is either sleeping as a consumer thread or a
     reserve thread.  The thread pool permits one thread to be the
     consumer thread when sleeping.  If a thread goes to sleep and there
     is no existing consumer thread, it will sleep as a consumer thread.
     When a thread must be woken up, a consumer thread is selected if
     there is one.  A reserve thread is selected only when there is no
     consumer thread to wake up.

     This variable was added in MySQL 5.5.16.  It is available only if
     the thread pool plugin is enabled.  See *note thread-pool::

   * 
     'thread_pool_prio_kickup_timer'

     Property               Value
                            
     *Command-Line          '--thread-pool-prio-kickup-timer=#'
     Format*                

     *Introduced*           5.5.16
                            
     *System Variable*      'thread_pool_prio_kickup_timer'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '1000'
                            
     *Minimum Value*        '0'
                            
     *Maximum Value*        '4294967294'

     This variable affects statements waiting for execution in the
     low-priority queue.  The value is the number of milliseconds before
     a waiting statement is moved to the high-priority queue.  The
     default is 1000 (1 second).  The range of values is 0 to 2^32 
     2.

     This variable was added in MySQL 5.5.16.  It is available only if
     the thread pool plugin is enabled.  See *note thread-pool::

   * 
     'thread_pool_size'

     Property               Value
                            
     *Command-Line          '--thread-pool-size=#'
     Format*                

     *Introduced*           5.5.16
                            
     *System Variable*      'thread_pool_size'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Integer
                            
     *Default Value*        '16'
                            
     *Minimum Value*        '1'
                            
     *Maximum Value*        '64'

     The number of thread groups in the thread pool.  This is the most
     important parameter controlling thread pool performance.  It
     affects how many statements can execute simultaneously.  The
     default value is 16, with a range from 1 to 64 of permissible
     values.  If a value outside this range is specified, the thread
     pool plugin does not load and the server writes a message to the
     error log.

     This variable was added in MySQL 5.5.16.  It is available only if
     the thread pool plugin is enabled.  See *note thread-pool::

   * 
     'thread_pool_stall_limit'

     Property               Value
                            
     *Command-Line          '--thread-pool-stall-limit=#'
     Format*                

     *Introduced*           5.5.16
                            
     *System Variable*      'thread_pool_stall_limit'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '6'
                            
     *Minimum Value*        '4'
                            
     *Maximum Value*        '600'

     This variable affects executing statements.  The value is the
     amount of time a statement has to finish after starting to execute
     before it becomes defined as stalled, at which point the thread
     pool permits the thread group to begin executing another statement.
     The value is measured in 10 millisecond units, so a value of 6 (the
     default) means 60ms.  The range of values is 4 to 600 (40ms to 6s).
     Short wait values permit threads to start more quickly.  Short
     values are also better for avoiding deadlock situations.  Long wait
     values are useful for workloads that include long-running
     statements, to avoid starting too many new statements while the
     current ones execute.

     This variable was added in MySQL 5.5.16.  It is available only if
     the thread pool plugin is enabled.  See *note thread-pool::

   * 
     'thread_stack'

     Property               Value
                            
     *Command-Line          '--thread-stack=#'
     Format*                

     *System Variable*      'thread_stack'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Integer
                            
     *Default Value*        '262144'
     (64-bit platforms)     

     *Default Value*        '196608'
     (32-bit platforms)     

     *Minimum Value*        '131072'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms)     

     *Block Size*           '1024'

     The stack size for each thread.  Many of the limits detected by the
     'crash-me' test are dependent on this value.  See *note
     mysql-benchmarks::.  The default is large enough for normal
     operation.  If the thread stack size is too small, it limits the
     complexity of the SQL statements that the server can handle, the
     recursion depth of stored procedures, and other memory-consuming
     actions.

   * 
     'time_format'

     This variable is unused.

   * 
     'time_zone'

     Property               Value
                            
     *System Variable*      'time_zone'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 String
                            
     *Default Value*        'SYSTEM'
                            
     *Minimum Value*        '-12:59'
                            
     *Maximum Value*        '+13:00'

     The current time zone.  This variable is used to initialize the
     time zone for each client that connects.  By default, the initial
     value of this is ''SYSTEM'' (which means, 'use the value of
     'system_time_zone'').  The value can be specified explicitly at
     server startup with the '--default-time-zone' option.  See *note
     time-zone-support::.

     *Note*:

     If set to 'SYSTEM', every MySQL function call that requires a time
     zone calculation makes a system library call to determine the
     current system time zone.  This call may be protected by a global
     mutex, resulting in contention.

   * 
     'timed_mutexes'

     Property               Value
                            
     *Command-Line          '--timed-mutexes[={OFF|ON}]'
     Format*                

     *Deprecated*           5.5.39
                            
     *System Variable*      'timed_mutexes'
                            
     *Scope*                Global
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'OFF'

     This variable is deprecated; it has no use.  It will be removed in
     a future MySQL release.

   * 
     'timestamp'

     Property               Value
                            
     *System Variable*      'timestamp'
                            
     *Scope*                Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Numeric
                            
     *Default Value*        'UNIX_TIMESTAMP()'
                            
     *Minimum Value*        '1'
                            
     *Maximum Value*        '2147483647'

     Set the time for this client.  This is used to get the original
     timestamp if you use the binary log to restore rows.
     TIMESTAMP_VALUE should be a Unix epoch timestamp (a value like that
     returned by 'UNIX_TIMESTAMP()', not a value in ''YYYY-MM-DD
     HH:MM:SS'' format) or 'DEFAULT'.

     Setting 'timestamp' to a constant value causes it to retain that
     value until it is changed again.  Setting 'timestamp' to 'DEFAULT'
     causes its value to be the current date and time as of the time it
     is accessed.  The maximum value corresponds to ''2038-01-19
     03:14:07'' UTC, the same as for the *note 'TIMESTAMP': datetime.
     data type.

     'SET timestamp' affects the value returned by 'NOW()' but not by
     'SYSDATE()'.  This means that timestamp settings in the binary log
     have no effect on invocations of 'SYSDATE()'.  The server can be
     started with the '--sysdate-is-now' option to cause 'SYSDATE()' to
     be an alias for 'NOW()', in which case 'SET timestamp' affects both
     functions.

   * 
     'tmp_table_size'

     Property               Value
                            
     *Command-Line          '--tmp-table-size=#'
     Format*                

     *System Variable*      'tmp_table_size'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '16777216'
                            
     *Minimum Value*        '1024'
                            
     *Maximum Value*        '18446744073709551615'

     The maximum size of internal in-memory temporary tables.  This
     variable does not apply to user-created 'MEMORY' tables.

     The actual limit is determined from whichever of the values of
     'tmp_table_size' and 'max_heap_table_size' is smaller.  If an
     in-memory temporary table exceeds the limit, MySQL automatically
     converts it to an on-disk 'MyISAM' table.  Increase the value of
     'tmp_table_size' (and 'max_heap_table_size' if necessary) if you do
     many advanced 'GROUP BY' queries and you have lots of memory.

     You can compare the number of internal on-disk temporary tables
     created to the total number of internal temporary tables created by
     comparing the values of the 'Created_tmp_disk_tables' and
     'Created_tmp_tables' variables.

     See also *note internal-temporary-tables::.

   * 
     'tmpdir'

     Property               Value
                            
     *Command-Line          '--tmpdir=dir_name'
     Format*                

     *System Variable*      'tmpdir'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 Directory name

     The directory used for temporary files and temporary tables.  This
     variable can be set to a list of several paths that are used in
     round-robin fashion.  Paths should be separated by colon characters
     (':') on Unix and semicolon characters (';') on Windows.

     The multiple-directory feature can be used to spread the load
     between several physical disks.  If the MySQL server is acting as a
     replication slave, you should not set 'tmpdir' to point to a
     directory on a memory-based file system or to a directory that is
     cleared when the server host restarts.  A replication slave needs
     some of its temporary files to survive a machine restart so that it
     can replicate temporary tables or *note 'LOAD DATA': load-data.
     operations.  If files in the temporary file directory are lost when
     the server restarts, replication fails.  You can set the slave's
     temporary directory using the 'slave_load_tmpdir' variable.  In
     that case, the slave will not use the general 'tmpdir' value and
     you can set 'tmpdir' to a nonpermanent location.

   * 
     'transaction_alloc_block_size'

     Property               Value
                            
     *Command-Line          '--transaction-alloc-block-size=#'
     Format*                

     *System Variable*      'transaction_alloc_block_size'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '8192'
                            
     *Minimum Value*        '1024'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3, <= 5.5.42)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms,     
     <= 5.5.42)

     *Maximum Value* (>=    '131072'
     5.5.43)                

     *Block Size*           '1024'

     The amount in bytes by which to increase a per-transaction memory
     pool which needs memory.  See the description of
     'transaction_prealloc_size'.

   * 
     'transaction_prealloc_size'

     Property               Value
                            
     *Command-Line          '--transaction-prealloc-size=#'
     Format*                

     *System Variable*      'transaction_prealloc_size'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '4096'
                            
     *Minimum Value*        '1024'
                            
     *Maximum Value*        '18446744073709551615'
     (64-bit platforms,     
     >= 5.5.3, <= 5.5.42)

     *Maximum Value*        '18446744073709547520'
     (64-bit platforms,     
     <= 5.5.2)

     *Maximum Value*        '4294967295'
     (32-bit platforms,     
     <= 5.5.42)

     *Maximum Value* (>=    '131072'
     5.5.43)                

     *Block Size*           '1024'

     There is a per-transaction memory pool from which various
     transaction-related allocations take memory.  The initial size of
     the pool in bytes is 'transaction_prealloc_size'.  For every
     allocation that cannot be satisfied from the pool because it has
     insufficient memory available, the pool is increased by
     'transaction_alloc_block_size' bytes.  When the transaction ends,
     the pool is truncated to 'transaction_prealloc_size' bytes.

     By making 'transaction_prealloc_size' sufficiently large to contain
     all statements within a single transaction, you can avoid many
     'malloc()' calls.

   * 
     'tx_isolation'

     Property               Value
                            
     *System Variable*      'tx_isolation'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Enumeration
                            
     *Default Value*        'REPEATABLE-READ'
                            
     *Valid Values*         'READ-UNCOMMITTED' 'READ-COMMITTED'
                            'REPEATABLE-READ' 'SERIALIZABLE'

     The transaction isolation level.  The default is 'REPEATABLE-READ'.

     This variable can be set directly, or indirectly using the *note
     'SET TRANSACTION': set-transaction. statement.  See *note
     set-transaction::.  If you set 'tx_isolation' directly to an
     isolation level name that contains a space, the name should be
     enclosed within quotation marks, with the space replaced by a dash.
     For example:

          SET tx_isolation = 'READ-COMMITTED';

     The default transaction isolation level can also be set at startup
     using the '--transaction-isolation' server option.

   * 
     'unique_checks'

     Property               Value
                            
     *System Variable*      'unique_checks'
                            
     *Scope* (>= 5.5.3)     Global, Session
                            
     *Scope* (<= 5.5.2)     Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        'ON'

     If set to 1 (the default), uniqueness checks for secondary indexes
     in 'InnoDB' tables are performed.  If set to 0, storage engines are
     permitted to assume that duplicate keys are not present in input
     data.  If you know for certain that your data does not contain
     uniqueness violations, you can set this to 0 to speed up large
     table imports to 'InnoDB'.

     Setting this variable to 0 does not _require_ storage engines to
     ignore duplicate keys.  An engine is still permitted to check for
     them and issue duplicate-key errors if it detects them.

   * 
     'updatable_views_with_limit'

     Property               Value
                            
     *Command-Line          '--updatable-views-with-limit[={OFF|ON}]'
     Format*                

     *System Variable*      'updatable_views_with_limit'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Boolean
                            
     *Default Value*        '1'

     This variable controls whether updates to a view can be made when
     the view does not contain all columns of the primary key defined in
     the underlying table, if the update statement contains a 'LIMIT'
     clause.  (Such updates often are generated by GUI tools.)  An
     update is an *note 'UPDATE': update. or *note 'DELETE': delete.
     statement.  Primary key here means a 'PRIMARY KEY', or a 'UNIQUE'
     index in which no column can contain 'NULL'.

     The variable can have two values:

        * '1' or 'YES': Issue a warning only (not an error message).
          This is the default value.

        * '0' or 'NO': Prohibit the update.

   * 
     'version'

     The version number for the server.  The value might also include a
     suffix indicating server build or configuration information.
     '-log' indicates that one or more of the general log, slow query
     log, or binary log are enabled.  '-debug' indicates that the server
     was built with debugging support enabled.

   * 
     'version_comment'

     Property               Value
                            
     *System Variable*      'version_comment'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 String

     The 'CMake' configuration program has a 'COMPILATION_COMMENT'
     option that permits a comment to be specified when building MySQL.
     This variable contains the value of that comment.  See *note
     source-configuration-options::.

   * 
     'version_compile_machine'

     Property               Value
                            
     *System Variable*      'version_compile_machine'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 String

     The type of machine or architecture on which MySQL was built.

   * 
     'version_compile_os'

     Property               Value
                            
     *System Variable*      'version_compile_os'
                            
     *Scope*                Global
                            
     *Dynamic*              No
                            
     *Type*                 String

     The type of operating system on which MySQL was built.

   * 
     'wait_timeout'

     Property               Value
                            
     *Command-Line          '--wait-timeout=#'
     Format*                

     *System Variable*      'wait_timeout'
                            
     *Scope*                Global, Session
                            
     *Dynamic*              Yes
                            
     *Type*                 Integer
                            
     *Default Value*        '28800'
                            
     *Minimum Value*        '1'
                            
     *Maximum Value*        '31536000'
     (Other)                

     *Maximum Value*        '2147483'
     (Windows)

     The number of seconds the server waits for activity on a
     noninteractive connection before closing it.

     On thread startup, the session 'wait_timeout' value is initialized
     from the global 'wait_timeout' value or from the global
     'interactive_timeout' value, depending on the type of client (as
     defined by the 'CLIENT_INTERACTIVE' connect option to *note
     'mysql_real_connect()': mysql-real-connect.).  See also
     'interactive_timeout'.

   * 
     'warning_count'

     The number of errors, warnings, and notes that resulted from the
     last statement that generated messages.  This variable is read
     only.  See *note show-warnings::.


File: manual.info.tmp,  Node: using-system-variables,  Next: server-status-variables,  Prev: server-system-variables,  Up: mysqld-server

5.1.8 Using System Variables
----------------------------

* Menu:

* system-variable-privileges::   System Variable Privileges
* dynamic-system-variables::     Dynamic System Variables
* structured-system-variables::  Structured System Variables

The MySQL server maintains many system variables that configure its
operation.  *note server-system-variables::, describes the meaning of
these variables.  Each system variable has a default value.  System
variables can be set at server startup using options on the command line
or in an option file.  Most of them can be changed dynamically while the
server is running by means of the *note 'SET': set-variable. statement,
which enables you to modify operation of the server without having to
stop and restart it.  You can also use system variable values in
expressions.

Many system variables are built in.  System variables implemented by a
server plugin are exposed when the plugin is installed and have names
that begin with the plugin name.  For example, the 'audit_log' plugin
implements a system variable named 'audit_log_policy'.

There are two scopes in which system variables exist.  Global variables
affect the overall operation of the server.  Session variables affect
its operation for individual client connections.  A given system
variable can have both a global and a session value.  Global and session
system variables are related as follows:

   * When the server starts, it initializes each global variable to its
     default value.  These defaults can be changed by options specified
     on the command line or in an option file.  (See *note
     program-options::.)

   * The server also maintains a set of session variables for each
     client that connects.  The client's session variables are
     initialized at connect time using the current values of the
     corresponding global variables.  For example, a client's SQL mode
     is controlled by the session 'sql_mode' value, which is initialized
     when the client connects to the value of the global 'sql_mode'
     value.

     For some system variables, the session value is not initialized
     from the corresponding global value; if so, that is indicated in
     the variable description.

System variable values can be set globally at server startup by using
options on the command line or in an option file.  At startup, the
syntax for system variables is the same as for command options, so
within variable names, dashes and underscores may be used
interchangeably.  For example, '--general_log=ON' and '--general-log=ON'
are equivalent.

When you use a startup option to set a variable that takes a numeric
value, the value can be given with a suffix of 'K', 'M', or 'G' (either
uppercase or lowercase) to indicate a multiplier of 1024, 1024^2 or
1024^3; that is, units of kilobytes, megabytes, or gigabytes,
respectively.  Thus, the following command starts the server with an
'InnoDB' log file size of 16 megabytes and a maximum packet size of one
gigabyte:

     mysqld --innodb-log-file-size=16M --max-allowed-packet=1G

Within an option file, those variables are set like this:

     [mysqld]
     innodb_log_file_size=16M
     max_allowed_packet=1G

The lettercase of suffix letters does not matter; '16M' and '16m' are
equivalent, as are '1G' and '1g'.

To restrict the maximum value to which a system variable can be set at
runtime with the *note 'SET': set-variable. statement, specify this
maximum by using an option of the form '--maximum-VAR_NAME=VALUE' at
server startup.  For example, to prevent the value of
'innodb_log_file_size' from being increased to more than 32MB at
runtime, use the option '--maximum-innodb-log-file-size=32M'.

Many system variables are dynamic and can be changed at runtime by using
the *note 'SET': set-variable. statement.  For a list, see *note
dynamic-system-variables::.  To change a system variable with *note
'SET': set-variable, refer to it by name, optionally preceded by a
modifier.  At runtime, system variable names must be written using
underscores, not dashes.  The following examples briefly illustrate this
syntax:

   * Set a global system variable:

          SET GLOBAL max_connections = 1000;
          SET @@GLOBAL.max_connections = 1000;

   * Set a session system variable:

          SET SESSION sql_mode = 'TRADITIONAL';
          SET @@SESSION.sql_mode = 'TRADITIONAL';
          SET @@sql_mode = 'TRADITIONAL';

For complete details about *note 'SET': set-variable. syntax, see *note
set-variable::.  For a description of the privilege requirements for
setting system variables, see *note system-variable-privileges::

Suffixes for specifying a value multiplier can be used when setting a
variable at server startup, but not to set the value with *note 'SET':
set-variable. at runtime.  On the other hand, with *note 'SET':
set-variable. you can assign a variable's value using an expression,
which is not true when you set a variable at server startup.  For
example, the first of the following lines is legal at server startup,
but the second is not:

     shell> mysql --max_allowed_packet=16M
     shell> mysql --max_allowed_packet=16*1024*1024

Conversely, the second of the following lines is legal at runtime, but
the first is not:

     mysql> SET GLOBAL max_allowed_packet=16M;
     mysql> SET GLOBAL max_allowed_packet=16*1024*1024;

*Note*:

Some system variables can be enabled with the *note 'SET': set-variable.
statement by setting them to 'ON' or '1', or disabled by setting them to
'OFF' or '0'.  However, to set such a variable on the command line or in
an option file, you must set it to '1' or '0'; setting it to 'ON' or
'OFF' will not work.  For example, on the command line,
'--delay_key_write=1' works but '--delay_key_write=ON' does not.

To display system variable names and values, use the *note 'SHOW
VARIABLES': show-variables. statement:

     mysql> SHOW VARIABLES;
     +---------------------------------+-----------------------------------+
     | Variable_name                   | Value                             |
     +---------------------------------+-----------------------------------+
     | auto_increment_increment        | 1                                 |
     | auto_increment_offset           | 1                                 |
     | automatic_sp_privileges         | ON                                |
     | back_log                        | 50                                |
     | basedir                         | /home/mysql/                      |
     | binlog_cache_size               | 32768                             |
     | bulk_insert_buffer_size         | 8388608                           |
     | character_set_client            | utf8                              |
     | character_set_connection        | utf8                              |
     | character_set_database          | latin1                            |
     | character_set_filesystem        | binary                            |
     | character_set_results           | utf8                              |
     | character_set_server            | latin1                            |
     | character_set_system            | utf8                              |
     | character_sets_dir              | /home/mysql/share/mysql/charsets/ |
     | collation_connection            | utf8_general_ci                   |
     | collation_database              | latin1_swedish_ci                 |
     | collation_server                | latin1_swedish_ci                 |
     ...
     | innodb_additional_mem_pool_size | 1048576                           |
     | innodb_autoextend_increment     | 8                                 |
     | innodb_buffer_pool_size         | 8388608                           |
     | innodb_checksums                | ON                                |
     | innodb_commit_concurrency       | 0                                 |
     | innodb_concurrency_tickets      | 500                               |
     | innodb_data_file_path           | ibdata1:10M:autoextend            |
     | innodb_data_home_dir            |                                   |
     ...
     | version                         | 5.5.56-log                        |
     | version_comment                 | Source distribution               |
     | version_compile_machine         | i686                              |
     | version_compile_os              | suse-linux                        |
     | wait_timeout                    | 28800                             |
     +---------------------------------+-----------------------------------+

With a 'LIKE' clause, the statement displays only those variables that
match the pattern.  To obtain a specific variable name, use a 'LIKE'
clause as shown:

     SHOW VARIABLES LIKE 'max_join_size';
     SHOW SESSION VARIABLES LIKE 'max_join_size';

To get a list of variables whose name match a pattern, use the '%'
wildcard character in a 'LIKE' clause:

     SHOW VARIABLES LIKE '%size%';
     SHOW GLOBAL VARIABLES LIKE '%size%';

Wildcard characters can be used in any position within the pattern to be
matched.  Strictly speaking, because '_' is a wildcard that matches any
single character, you should escape it as '\_' to match it literally.
In practice, this is rarely necessary.

For *note 'SHOW VARIABLES': show-variables, if you specify neither
'GLOBAL' nor 'SESSION', MySQL returns 'SESSION' values.

The reason for requiring the 'GLOBAL' keyword when setting 'GLOBAL'-only
variables but not when retrieving them is to prevent problems in the
future:

   * Were a 'SESSION' variable to be removed that has the same name as a
     'GLOBAL' variable, a client with privileges sufficient to modify
     global variables might accidentally change the 'GLOBAL' variable
     rather than just the 'SESSION' variable for its own session.

   * Were a 'SESSION' variable to be added with the same name as a
     'GLOBAL' variable, a client that intends to change the 'GLOBAL'
     variable might find only its own 'SESSION' variable changed.


File: manual.info.tmp,  Node: system-variable-privileges,  Next: dynamic-system-variables,  Prev: using-system-variables,  Up: using-system-variables

5.1.8.1 System Variable Privileges
..................................

A system variable can have a global value that affects server operation
as a whole, a session value that affects only the current session, or
both.  To modify system variable runtime values, use the *note 'SET':
set-variable. statement.  See *note set-variable::.  This section
describes the privileges required to assign values to system variables
at runtime.

Setting a global system variable runtime value requires the 'SUPER'
privilege.

To set a session system variable runtime value, use the *note 'SET
SESSION': set-variable. statement.  In contrast to setting global
runtime values, setting session runtime values normally requires no
special privileges and can be done by any user to affect the current
session.  For some system variables, setting the session value may have
effects outside the current session and thus is a restricted operation
that can be done only by users who have the 'SUPER' privilege.  If a
session system variable is restricted in this way, the variable
description indicates that restriction.  Examples include
'binlog_format' and 'sql_log_bin'.  Setting the session value of these
variables affects binary logging for the current session, but may also
have wider implications for the integrity of server replication and
backups.


File: manual.info.tmp,  Node: dynamic-system-variables,  Next: structured-system-variables,  Prev: system-variable-privileges,  Up: using-system-variables

5.1.8.2 Dynamic System Variables
................................

Many server system variables are dynamic and can be set at runtime.  See
*note set-variable::.  For a description of the privilege requirements
for setting system variables, see *note system-variable-privileges::

The following table lists all dynamic system variables applicable within
'mysqld'.

The table lists each variable's data type and scope.  The last column
indicates whether the scope for each variable is Global, Session, or
both.  Please see the corresponding item descriptions for details on
setting and using the variables.  Where appropriate, direct links to
further information about the items are provided.

Variables that have a type of 'string' take a string value.  Variables
that have a type of 'numeric' take a numeric value.  Variables that have
a type of 'boolean' can be set to 0, 1, 'ON' or 'OFF'.  (If you set them
on the command line or in an option file, use the numeric values.)
Variables that are marked as 'enumeration' normally should be set to one
of the available values for the variable, but can also be set to the
number that corresponds to the desired enumeration value.  For
enumerated system variables, the first enumeration value corresponds to
0.  This differs from the *note 'ENUM': enum. data type used for table
columns, for which the first enumeration value corresponds to 1.

*Dynamic System Variable Summary*

Variable Name                 Variable       Variable
                              Type           Scope
                                             
audit_log_flush               Boolean        Global
                                             
audit_log_policy              Enumeration    Global
                                             
audit_log_rotate_on_size      Integer        Global
                                             
auto_increment_increment      Integer        Both
                                             
auto_increment_offset         Integer        Both
                                             
autocommit                    Boolean        Varies
                                             
automatic_sp_privileges       Boolean        Global
                                             
big_tables                    Boolean        Varies
                                             
binlog_cache_size             Integer        Global
                                             
binlog_direct_non_transactional_updatesBooleanBoth
                                             
binlog_format                 Enumeration    Both
                                             
binlog_stmt_cache_size        Integer        Global
                                             
bulk_insert_buffer_size       Integer        Both
                                             
character_set_client          String         Both
                                             
character_set_connection      String         Both
                                             
character_set_database        String         Both
                                             
character_set_filesystem      String         Both
                                             
character_set_results         String         Both
                                             
character_set_server          String         Both
                                             
collation_connection          String         Both
                                             
collation_database            String         Both
                                             
collation_server              String         Both
                                             
completion_type               Enumeration    Both
                                             
concurrent_insert             Enumeration    Global
                                             
connect_timeout               Integer        Global
                                             
debug                         String         Both
                                             
debug_sync                    String         Varies
                                             
default_storage_engine        Enumeration    Both
                                             
default_week_format           Integer        Both
                                             
delay_key_write               Enumeration    Global
                                             
delayed_insert_limit          Integer        Global
                                             
delayed_insert_timeout        Integer        Global
                                             
delayed_queue_size            Integer        Global
                                             
div_precision_increment       Integer        Both
                                             
engine_condition_pushdown     Boolean        Both
                                             
event_scheduler               Enumeration    Global
                                             
expire_logs_days              Integer        Global
                                             
flush                         Boolean        Global
                                             
flush_time                    Integer        Global
                                             
foreign_key_checks            Boolean        Varies
                                             
ft_boolean_syntax             String         Global
                                             
general_log                   Boolean        Global
                                             
general_log_file              File name      Global
                                             
group_concat_max_len          Integer        Both
                                             
identity                      Integer        Session
                                             
init_connect                  String         Global
                                             
init_slave                    String         Global
                                             
innodb_adaptive_flushing      Boolean        Global
                                             
innodb_adaptive_hash_index    Boolean        Global
                                             
innodb_autoextend_increment   Integer        Global
                                             
innodb_change_buffering       Enumeration    Global
                                             
innodb_change_buffering_debug Integer        Global
                                             
innodb_commit_concurrency     Integer        Global
                                             
innodb_concurrency_tickets    Integer        Global
                                             
innodb_fast_shutdown          Integer        Global
                                             
innodb_file_format            String         Global
                                             
innodb_file_format_check      Boolean        Global
                                             
innodb_file_format_max        String         Global
                                             
innodb_file_per_table         Boolean        Global
                                             
innodb_flush_log_at_trx_commitEnumeration    Global
                                             
innodb_io_capacity            Integer        Global
                                             
innodb_large_prefix           Boolean        Global
                                             
innodb_limit_optimistic_insert_debugInteger  Global
                                             
innodb_lock_wait_timeout      Integer        Both
                                             
innodb_max_dirty_pages_pct    Numeric        Global
                                             
innodb_max_purge_lag          Integer        Global
                                             
innodb_old_blocks_pct         Integer        Global
                                             
innodb_old_blocks_time        Integer        Global
                                             
innodb_print_all_deadlocks    Boolean        Global
                                             
innodb_purge_batch_size       Integer        Global
                                             
innodb_random_read_ahead      Boolean        Global
                                             
innodb_read_ahead_threshold   Integer        Global
                                             
innodb_replication_delay      Integer        Global
                                             
innodb_rollback_segments      Integer        Global
                                             
innodb_spin_wait_delay        Integer        Global
                                             
innodb_stats_method           Enumeration    Global
                                             
innodb_stats_on_metadata      Boolean        Global
                                             
innodb_stats_sample_pages     Integer        Global
                                             
innodb_strict_mode            Boolean        Both
                                             
innodb_support_xa             Boolean        Both
                                             
innodb_sync_spin_loops        Integer        Global
                                             
innodb_table_locks            Boolean        Both
                                             
innodb_thread_concurrency     Integer        Global
                                             
innodb_thread_sleep_delay     Integer        Global
                                             
innodb_trx_purge_view_update_only_debugBooleanGlobal
                                             
innodb_trx_rseg_n_slots_debug Integer        Global
                                             
insert_id                     Integer        Session
                                             
interactive_timeout           Integer        Both
                                             
join_buffer_size              Integer        Both
                                             
keep_files_on_create          Boolean        Both
                                             
key_buffer_size               Integer        Global
                                             
key_cache_age_threshold       Integer        Global
                                             
key_cache_block_size          Integer        Global
                                             
key_cache_division_limit      Integer        Global
                                             
last_insert_id                Integer        Session
                                             
lc_messages                   String         Both
                                             
lc_time_names                 String         Both
                                             
local_infile                  Boolean        Global
                                             
lock_wait_timeout             Integer        Both
                                             
log                           File name      Global
                                             
log_bin_trust_function_creatorsBoolean       Global
                                             
log_bin_trust_routine_creatorsBoolean        Global
                                             
log_output                    Set            Global
                                             
log_queries_not_using_indexes Boolean        Global
                                             
log_slow_queries              Boolean        Global
                                             
log_warnings                  Integer        Both
                                             
long_query_time               Numeric        Both
                                             
low_priority_updates          Boolean        Both
                                             
max_allowed_packet            Integer        Both
                                             
max_binlog_cache_size         Integer        Global
                                             
max_binlog_size               Integer        Global
                                             
max_binlog_stmt_cache_size    Integer        Global
                                             
max_connect_errors            Integer        Global
                                             
max_connections               Integer        Global
                                             
max_delayed_threads           Integer        Both
                                             
max_error_count               Integer        Both
                                             
max_heap_table_size           Integer        Both
                                             
max_insert_delayed_threads    Integer        Both
                                             
max_join_size                 Integer        Both
                                             
max_length_for_sort_data      Integer        Both
                                             
max_prepared_stmt_count       Integer        Global
                                             
max_relay_log_size            Integer        Global
                                             
max_seeks_for_key             Integer        Both
                                             
max_sort_length               Integer        Both
                                             
max_sp_recursion_depth        Integer        Both
                                             
max_tmp_tables                Integer        Both
                                             
max_user_connections          Integer        Both
                                             
max_write_lock_count          Integer        Global
                                             
min_examined_row_limit        Integer        Both
                                             
multi_range_count             Integer        Both
                                             
myisam_data_pointer_size      Integer        Global
                                             
myisam_max_sort_file_size     Integer        Global
                                             
myisam_repair_threads         Integer        Both
                                             
myisam_sort_buffer_size       Integer        Both
                                             
myisam_stats_method           Enumeration    Both
                                             
myisam_use_mmap               Boolean        Global
                                             
ndb_autoincrement_prefetch_sz Integer        Both
                                             
ndb_blob_read_batch_bytes     Integer        Both
                                             
ndb_blob_write_batch_bytes    Integer        Both
                                             
ndb_cache_check_time          Integer        Global
                                             
ndb_deferred_constraints      Integer        Both
                                             
ndb_deferred_constraints      Integer        Both
                                             
ndb_distribution              Enumeration    Global
                                             
ndb_distribution              Enumeration    Global
                                             
ndb_eventbuffer_max_alloc     Integer        Global
                                             
ndb_extra_logging             Integer        Global
                                             
ndb_force_send                Boolean        Both
                                             
ndb_index_stat_cache_entries  Integer        Both
                                             
ndb_index_stat_enable         Boolean        Both
                                             
ndb_index_stat_option         String         Both
                                             
ndb_index_stat_update_freq    Integer        Both
                                             
ndb_join_pushdown             Boolean        Both
                                             
ndb_log_bin                   Boolean        Both
                                             
ndb_log_binlog_index          Boolean        Global
                                             
ndb_log_empty_epochs          Boolean        Global
                                             
ndb_log_empty_epochs          Boolean        Global
                                             
ndb_log_empty_update          Boolean        Global
                                             
ndb_log_empty_update          Boolean        Global
                                             
ndb_log_update_as_write       Boolean        Global
                                             
ndb_log_updated_only          Boolean        Global
                                             
ndb_optimization_delay        Integer        Global
                                             
ndb_report_thresh_binlog_epoch_slipInteger   Global
                                             
ndb_report_thresh_binlog_mem_usageInteger    Global
                                             
ndb_table_no_logging          Boolean        Session
                                             
ndb_table_temporary           Boolean        Session
                                             
ndb_use_exact_count           Boolean        Both
                                             
ndb_use_transactions          Boolean        Both
                                             
ndbinfo_max_bytes             Integer        Both
                                             
ndbinfo_max_rows              Integer        Both
                                             
ndbinfo_offline               Boolean        Global
                                             
ndbinfo_show_hidden           Boolean        Both
                                             
ndbinfo_table_prefix          String         Both
                                             
net_buffer_length             Integer        Both
                                             
net_read_timeout              Integer        Both
                                             
net_retry_count               Integer        Both
                                             
net_write_timeout             Integer        Both
                                             
new                           Boolean        Both
                                             
old_alter_table               Boolean        Both
                                             
old_passwords                 Boolean        Both
                                             
optimizer_prune_level         Integer        Both
                                             
optimizer_search_depth        Integer        Both
                                             
optimizer_switch              Set            Both
                                             
preload_buffer_size           Integer        Both
                                             
profiling                     Boolean        Varies
                                             
profiling_history_size        Integer        Both
                                             
pseudo_slave_mode             Integer        Session
                                             
pseudo_thread_id              Integer        Session
                                             
query_alloc_block_size        Integer        Both
                                             
query_cache_limit             Integer        Global
                                             
query_cache_min_res_unit      Integer        Global
                                             
query_cache_size              Integer        Global
                                             
query_cache_type              Enumeration    Both
                                             
query_cache_wlock_invalidate  Boolean        Both
                                             
query_prealloc_size           Integer        Both
                                             
rand_seed1                    Integer        Session
                                             
rand_seed2                    Integer        Session
                                             
range_alloc_block_size        Integer        Both
                                             
read_buffer_size              Integer        Both
                                             
read_only                     Boolean        Global
                                             
read_rnd_buffer_size          Integer        Both
                                             
relay_log_purge               Boolean        Global
                                             
relay_log_recovery            Boolean        Global
                                             
rpl_recovery_rank             Integer        Global
                                             
rpl_semi_sync_master_enabled  Boolean        Global
                                             
rpl_semi_sync_master_timeout  Integer        Global
                                             
rpl_semi_sync_master_trace_levelInteger      Global
                                             
rpl_semi_sync_master_wait_no_slaveBoolean    Global
                                             
rpl_semi_sync_slave_enabled   Boolean        Global
                                             
rpl_semi_sync_slave_trace_levelInteger       Global
                                             
secure_auth                   Boolean        Global
                                             
server_id                     Integer        Global
                                             
slave_allow_batching          Boolean        Global
                                             
slave_compressed_protocol     Boolean        Global
                                             
slave_exec_mode               Enumeration    Global
                                             
slave_max_allowed_packet      Integer        Global
                                             
slave_net_timeout             Integer        Global
                                             
slave_transaction_retries     Integer        Global
                                             
slow_launch_time              Integer        Global
                                             
slow_query_log                Boolean        Global
                                             
slow_query_log_file           File name      Global
                                             
sort_buffer_size              Integer        Both
                                             
sql_auto_is_null              Boolean        Varies
                                             
sql_big_selects               Boolean        Varies
                                             
sql_big_tables                Boolean        Varies
                                             
sql_buffer_result             Boolean        Varies
                                             
sql_log_bin                   Boolean        Varies
                                             
sql_log_off                   Boolean        Varies
                                             
sql_log_update                Boolean        Session
                                             
sql_low_priority_updates      Boolean        Both
                                             
sql_max_join_size             Integer        Both
                                             
sql_mode                      Set            Both
                                             
sql_notes                     Boolean        Varies
                                             
sql_quote_show_create         Boolean        Varies
                                             
sql_safe_updates              Boolean        Varies
                                             
sql_select_limit              Integer        Both
                                             
sql_slave_skip_counter        Integer        Global
                                             
sql_warnings                  Boolean        Varies
                                             
storage_engine                Enumeration    Both
                                             
stored_program_cache          Integer        Global
                                             
sync_binlog                   Integer        Global
                                             
sync_frm                      Boolean        Global
                                             
sync_master_info              Integer        Global
                                             
sync_relay_log                Integer        Global
                                             
sync_relay_log_info           Integer        Global
                                             
table_definition_cache        Integer        Global
                                             
table_lock_wait_timeout       Integer        Global
                                             
table_open_cache              Integer        Global
                                             
table_type                    Enumeration    Both
                                             
thread_cache_size             Integer        Global
                                             
thread_pool_high_priority_connectionInteger  Both
                                             
thread_pool_max_unused_threadsInteger        Global
                                             
thread_pool_prio_kickup_timer Integer        Both
                                             
thread_pool_stall_limit       Integer        Global
                                             
time_zone                     String         Both
                                             
timed_mutexes                 Boolean        Global
                                             
timestamp                     Numeric        Session
                                             
tmp_table_size                Integer        Both
                                             
transaction_alloc_block_size  Integer        Both
                                             
transaction_allow_batching    Boolean        Session
                                             
transaction_prealloc_size     Integer        Both
                                             
tx_isolation                  Enumeration    Both
                                             
unique_checks                 Boolean        Varies
                                             
updatable_views_with_limit    Boolean        Both
                                             
wait_timeout                  Integer        Both
                              


File: manual.info.tmp,  Node: structured-system-variables,  Prev: dynamic-system-variables,  Up: using-system-variables

5.1.8.3 Structured System Variables
...................................

A structured variable differs from a regular system variable in two
respects:

   * Its value is a structure with components that specify server
     parameters considered to be closely related.

   * There might be several instances of a given type of structured
     variable.  Each one has a different name and refers to a different
     resource maintained by the server.

MySQL supports one structured variable type, which specifies parameters
governing the operation of key caches.  A key cache structured variable
has these components:

   * 'key_buffer_size'

   * 'key_cache_block_size'

   * 'key_cache_division_limit'

   * 'key_cache_age_threshold'

This section describes the syntax for referring to structured variables.
Key cache variables are used for syntax examples, but specific details
about how key caches operate are found elsewhere, in *note
myisam-key-cache::.

To refer to a component of a structured variable instance, you can use a
compound name in INSTANCE_NAME.COMPONENT_NAME format.  Examples:

     hot_cache.key_buffer_size
     hot_cache.key_cache_block_size
     cold_cache.key_cache_block_size

For each structured system variable, an instance with the name of
'default' is always predefined.  If you refer to a component of a
structured variable without any instance name, the 'default' instance is
used.  Thus, 'default.key_buffer_size' and 'key_buffer_size' both refer
to the same system variable.

Structured variable instances and components follow these naming rules:

   * For a given type of structured variable, each instance must have a
     name that is unique _within_ variables of that type.  However,
     instance names need not be unique _across_ structured variable
     types.  For example, each structured variable has an instance named
     'default', so 'default' is not unique across variable types.

   * The names of the components of each structured variable type must
     be unique across all system variable names.  If this were not true
     (that is, if two different types of structured variables could
     share component member names), it would not be clear which default
     structured variable to use for references to member names that are
     not qualified by an instance name.

   * If a structured variable instance name is not legal as an unquoted
     identifier, refer to it as a quoted identifier using backticks.
     For example, 'hot-cache' is not legal, but '`hot-cache`' is.

   * 'global', 'session', and 'local' are not legal instance names.
     This avoids a conflict with notation such as '@@GLOBAL.VAR_NAME'
     for referring to nonstructured system variables.

Currently, the first two rules have no possibility of being violated
because the only structured variable type is the one for key caches.
These rules will assume greater significance if some other type of
structured variable is created in the future.

With one exception, you can refer to structured variable components
using compound names in any context where simple variable names can
occur.  For example, you can assign a value to a structured variable
using a command-line option:

     shell> mysqld --hot_cache.key_buffer_size=64K

In an option file, use this syntax:

     [mysqld]
     hot_cache.key_buffer_size=64K

If you start the server with this option, it creates a key cache named
'hot_cache' with a size of 64KB in addition to the default key cache
that has a default size of 8MB.

Suppose that you start the server as follows:

     shell> mysqld --key_buffer_size=256K \
              --extra_cache.key_buffer_size=128K \
              --extra_cache.key_cache_block_size=2048

In this case, the server sets the size of the default key cache to
256KB. (You could also have written '--default.key_buffer_size=256K'.)
In addition, the server creates a second key cache named 'extra_cache'
that has a size of 128KB, with the size of block buffers for caching
table index blocks set to 2048 bytes.

The following example starts the server with three different key caches
having sizes in a 3:1:1 ratio:

     shell> mysqld --key_buffer_size=6M \
              --hot_cache.key_buffer_size=2M \
              --cold_cache.key_buffer_size=2M

Structured variable values may be set and retrieved at runtime as well.
For example, to set a key cache named 'hot_cache' to a size of 10MB, use
either of these statements:

     mysql> SET GLOBAL hot_cache.key_buffer_size = 10*1024*1024;
     mysql> SET @@GLOBAL.hot_cache.key_buffer_size = 10*1024*1024;

To retrieve the cache size, do this:

     mysql> SELECT @@GLOBAL.hot_cache.key_buffer_size;

However, the following statement does not work.  The variable is not
interpreted as a compound name, but as a simple string for a 'LIKE'
pattern-matching operation:

     mysql> SHOW GLOBAL VARIABLES LIKE 'hot_cache.key_buffer_size';

This is the exception to being able to use structured variable names
anywhere a simple variable name may occur.


File: manual.info.tmp,  Node: server-status-variables,  Next: sql-mode,  Prev: using-system-variables,  Up: mysqld-server

5.1.9 Server Status Variables
-----------------------------

The MySQL server maintains many status variables that provide
information about its operation.  You can view these variables and their
values by using the 'SHOW [GLOBAL | SESSION] STATUS' statement (see
*note show-status::).  The optional 'GLOBAL' keyword aggregates the
values over all connections, and 'SESSION' shows the values for the
current connection.

     mysql> SHOW GLOBAL STATUS;
     +-----------------------------------+------------+
     | Variable_name                     | Value      |
     +-----------------------------------+------------+
     | Aborted_clients                   | 0          |
     | Aborted_connects                  | 0          |
     | Bytes_received                    | 155372598  |
     | Bytes_sent                        | 1176560426 |
     ...
     | Connections                       | 30023      |
     | Created_tmp_disk_tables           | 0          |
     | Created_tmp_files                 | 3          |
     | Created_tmp_tables                | 2          |
     ...
     | Threads_created                   | 217        |
     | Threads_running                   | 88         |
     | Uptime                            | 1389872    |
     +-----------------------------------+------------+

Many status variables are reset to 0 by the 'FLUSH STATUS' statement.

This section provides a description of each status variable.  For a
status variable summary, see *note server-status-variable-reference::.

The status variables have the following meanings.  For meanings of
status variables specific to NDB Cluster, see *note
mysql-cluster-status-variables::.

   * 'Aborted_clients'

     The number of connections that were aborted because the client died
     without closing the connection properly.  See *note
     communication-errors::.

   * 'Aborted_connects'

     The number of failed attempts to connect to the MySQL server.  See
     *note communication-errors::.

   * 'Binlog_cache_disk_use'

     The number of transactions that used the binary log cache but that
     exceeded the value of 'binlog_cache_size' and used a temporary file
     to store changes from the transaction.

     In MySQL versions 5.5.3 through 5.5.8, this variable also included
     the number of nontransactional statements that caused the binary
     log transaction cache to be written to disk.  Beginning with MySQL
     5.5.9, the number of such nontransactional statements is tracked
     separately in the 'Binlog_stmt_cache_disk_use' status variable.

   * 'Binlog_cache_use'

     The number of transactions that used the binary log cache.

   * 'Binlog_stmt_cache_disk_use'

     The number of nontransaction statements that used the binary log
     statement cache but that exceeded the value of
     'binlog_stmt_cache_size' and used a temporary file to store those
     statements.

   * 'Binlog_stmt_cache_use'

     The number of nontransactional statements that used the binary log
     statement cache.

   * 'Bytes_received'

     The number of bytes received from all clients.

   * 'Bytes_sent'

     The number of bytes sent to all clients.

   * 'Com_XXX'

     The 'Com_XXX' statement counter variables indicate the number of
     times each XXX statement has been executed.  There is one status
     variable for each type of statement.  For example, 'Com_delete' and
     'Com_update' count *note 'DELETE': delete. and *note 'UPDATE':
     update. statements, respectively.  'Com_delete_multi' and
     'Com_update_multi' are similar but apply to *note 'DELETE': delete.
     and *note 'UPDATE': update. statements that use multiple-table
     syntax.

     If a query result is returned from query cache, the server
     increments the 'Qcache_hits' status variable, not 'Com_select'.
     See *note query-cache-status-and-maintenance::.

     All 'Com_stmt_XXX' variables are increased even if a prepared
     statement argument is unknown or an error occurred during
     execution.  In other words, their values correspond to the number
     of requests issued, not to the number of requests successfully
     completed.

     The 'Com_stmt_XXX' status variables are as follows:

        * 'Com_stmt_prepare'

        * 'Com_stmt_execute'

        * 'Com_stmt_fetch'

        * 'Com_stmt_send_long_data'

        * 'Com_stmt_reset'

        * 'Com_stmt_close'

     Those variables stand for prepared statement commands.  Their names
     refer to the 'COM_XXX' command set used in the network layer.  In
     other words, their values increase whenever prepared statement API
     calls such as 'mysql_stmt_prepare()', 'mysql_stmt_execute()', and
     so forth are executed.  However, 'Com_stmt_prepare',
     'Com_stmt_execute' and 'Com_stmt_close' also increase for *note
     'PREPARE': prepare, *note 'EXECUTE': execute, or *note 'DEALLOCATE
     PREPARE': deallocate-prepare, respectively.  Additionally, the
     values of the older statement counter variables 'Com_prepare_sql',
     'Com_execute_sql', and 'Com_dealloc_sql' increase for the *note
     'PREPARE': prepare, *note 'EXECUTE': execute, and *note 'DEALLOCATE
     PREPARE': deallocate-prepare. statements.  'Com_stmt_fetch' stands
     for the total number of network round-trips issued when fetching
     from cursors.

     'Com_stmt_reprepare' indicates the number of times statements were
     automatically reprepared by the server after metadata changes to
     tables or views referred to by the statement.  A reprepare
     operation increments 'Com_stmt_reprepare', and also
     'Com_stmt_prepare'.

   * 'Compression'

     Whether the client connection uses compression in the client/server
     protocol.

   * 'Connections'

     The number of connection attempts (successful or not) to the MySQL
     server.

   * 'Created_tmp_disk_tables'

     The number of internal on-disk temporary tables created by the
     server while executing statements.

     If an internal temporary table is created initially as an in-memory
     table but becomes too large, MySQL automatically converts it to an
     on-disk table.  The maximum size for in-memory temporary tables is
     the minimum of the 'tmp_table_size' and 'max_heap_table_size'
     values.  If 'Created_tmp_disk_tables' is large, you may want to
     increase the 'tmp_table_size' or 'max_heap_table_size' value to
     lessen the likelihood that internal temporary tables in memory will
     be converted to on-disk tables.

     You can compare the number of internal on-disk temporary tables
     created to the total number of internal temporary tables created by
     comparing the values of the 'Created_tmp_disk_tables' and
     'Created_tmp_tables' variables.

     See also *note internal-temporary-tables::.

   * 'Created_tmp_files'

     How many temporary files *note 'mysqld': mysqld. has created.

   * 'Created_tmp_tables'

     The number of internal temporary tables created by the server while
     executing statements.

     You can compare the number of internal on-disk temporary tables
     created to the total number of internal temporary tables created by
     comparing the values of the 'Created_tmp_disk_tables' and
     'Created_tmp_tables' variables.

     See also *note internal-temporary-tables::.

     Each invocation of the *note 'SHOW STATUS': show-status. statement
     uses an internal temporary table and increments the global
     'Created_tmp_tables' value.

   * 'Delayed_errors'

     The number of rows written with *note 'INSERT DELAYED':
     insert-delayed. for which some error occurred (probably 'duplicate
     key').

   * 'Delayed_insert_threads'

     The number of *note 'INSERT DELAYED': insert-delayed. handler
     threads in use.

   * 'Delayed_writes'

     The number of *note 'INSERT DELAYED': insert-delayed. rows written.

   * 'Flush_commands'

     The number of times the server flushes tables, whether because a
     user executed a 'FLUSH TABLES' statement or due to internal server
     operation.  It is also incremented by receipt of a 'COM_REFRESH'
     packet.  This is in contrast to 'Com_flush', which indicates how
     many 'FLUSH' statements have been executed, whether 'FLUSH TABLES',
     'FLUSH LOGS', and so forth.

   * 'Handler_commit'

     The number of internal *note 'COMMIT': commit. statements.

   * 'Handler_delete'

     The number of times that rows have been deleted from tables.

   * 'Handler_prepare'

     A counter for the prepare phase of two-phase commit operations.

   * 'Handler_read_first'

     The number of times the first entry in an index was read.  If this
     value is high, it suggests that the server is doing a lot of full
     index scans (for example, 'SELECT col1 FROM foo', assuming that
     'col1' is indexed).

   * 'Handler_read_key'

     The number of requests to read a row based on a key.  If this value
     is high, it is a good indication that your tables are properly
     indexed for your queries.

   * 'Handler_read_last'

     The number of requests to read the last key in an index.  With
     'ORDER BY', the server will issue a first-key request followed by
     several next-key requests, whereas with 'ORDER BY DESC', the server
     will issue a last-key request followed by several previous-key
     requests.

   * 'Handler_read_next'

     The number of requests to read the next row in key order.  This
     value is incremented if you are querying an index column with a
     range constraint or if you are doing an index scan.

   * 'Handler_read_prev'

     The number of requests to read the previous row in key order.  This
     read method is mainly used to optimize 'ORDER BY ... DESC'.

   * 'Handler_read_rnd'

     The number of requests to read a row based on a fixed position.
     This value is high if you are doing a lot of queries that require
     sorting of the result.  You probably have a lot of queries that
     require MySQL to scan entire tables or you have joins that do not
     use keys properly.

   * 'Handler_read_rnd_next'

     The number of requests to read the next row in the data file.  This
     value is high if you are doing a lot of table scans.  Generally
     this suggests that your tables are not properly indexed or that
     your queries are not written to take advantage of the indexes you
     have.

   * 'Handler_rollback'

     The number of requests for a storage engine to perform a rollback
     operation.

   * 'Handler_savepoint'

     The number of requests for a storage engine to place a savepoint.

   * 'Handler_savepoint_rollback'

     The number of requests for a storage engine to roll back to a
     savepoint.

   * 'Handler_update'

     The number of requests to update a row in a table.

   * 'Handler_write'

     The number of requests to insert a row in a table.

   * 'Innodb_buffer_pool_bytes_data'

     The total number of bytes in the 'InnoDB' buffer pool containing
     data.  The number includes both dirty and clean pages.  For more
     accurate memory usage calculations than with
     'Innodb_buffer_pool_pages_data', when compressed tables cause the
     buffer pool to hold pages of different sizes.

   * 'Innodb_buffer_pool_pages_data'

     The number of pages in the 'InnoDB' buffer pool containing data.
     The number includes both dirty and clean pages.  When using
     compressed tables, the reported 'Innodb_buffer_pool_pages_data'
     value may be larger than 'Innodb_buffer_pool_pages_total' (Bug
     #59550).

   * 'Innodb_buffer_pool_bytes_dirty'

     The total current number of bytes held in dirty pages in the
     'InnoDB' buffer pool.  For more accurate memory usage calculations
     than with 'Innodb_buffer_pool_pages_dirty', when compressed tables
     cause the buffer pool to hold pages of different sizes.

   * 'Innodb_buffer_pool_pages_dirty'

     The number of pages currently dirty.

   * 'Innodb_buffer_pool_pages_flushed'

     The number of buffer pool page-flush requests.

   * 'Innodb_buffer_pool_pages_free'

     The number of free pages.

   * 'Innodb_buffer_pool_pages_latched'

     The number of latched pages in 'InnoDB' buffer pool.  These are
     pages currently being read or written or that cannot be flushed or
     removed for some other reason.  Calculation of this variable is
     expensive, so it is available only when the 'UNIV_DEBUG' system is
     defined at server build time.

   * 'Innodb_buffer_pool_pages_misc'

     The number of pages that are busy because they have been allocated
     for administrative overhead such as row locks or the adaptive hash
     index.  This value can also be calculated as
     'Innodb_buffer_pool_pages_total' 
     'Innodb_buffer_pool_pages_free' 
     'Innodb_buffer_pool_pages_data'.  When using compressed tables,
     'Innodb_buffer_pool_pages_misc' may report an out-of-bounds value
     (Bug #59550).

   * 'Innodb_buffer_pool_pages_total'

     The total size of the 'InnoDB' buffer pool, in pages.  When using
     compressed tables, the reported 'Innodb_buffer_pool_pages_data'
     value may be larger than 'Innodb_buffer_pool_pages_total' (Bug
     #59550)

   * 'Innodb_buffer_pool_read_ahead'

     The number of pages read into the 'InnoDB' buffer pool by the
     read-ahead background thread.

   * 'Innodb_buffer_pool_read_ahead_evicted'

     The number of pages read into the 'InnoDB' buffer pool by the
     read-ahead background thread that were subsequently evicted without
     having been accessed by queries.

   * 'Innodb_buffer_pool_read_ahead_rnd'

     The number of 'random' read-aheads initiated by 'InnoDB'.  This
     happens when a query scans a large portion of a table but in random
     order.

   * 'Innodb_buffer_pool_read_requests'

     The number of logical read requests.

   * 'Innodb_buffer_pool_reads'

     The number of logical reads that 'InnoDB' could not satisfy from
     the buffer pool, and had to read directly from the disk.

   * 'Innodb_buffer_pool_wait_free'

     Normally, writes to the 'InnoDB' buffer pool happen in the
     background.  However, if it is necessary to read or create a page
     and no clean pages are available, it is also necessary to wait for
     pages to be flushed first.  This counter counts instances of these
     waits.  If the buffer pool size has been set properly, this value
     should be small.

   * 'Innodb_buffer_pool_write_requests'

     The number writes done to the 'InnoDB' buffer pool.

   * 'Innodb_data_fsyncs'

     The number of 'fsync()' operations so far.

   * 'Innodb_data_pending_fsyncs'

     The current number of pending 'fsync()' operations.

   * 'Innodb_data_pending_reads'

     The current number of pending reads.

   * 'Innodb_data_pending_writes'

     The current number of pending writes.

   * 'Innodb_data_read'

     The amount of data read since the server was started (in bytes).

   * 'Innodb_data_reads'

     The total number of data reads (OS file reads).

   * 'Innodb_data_writes'

     The total number of data writes.

   * 'Innodb_data_written'

     The amount of data written so far, in bytes.

   * 'Innodb_dblwr_pages_written'

     The number of pages that have been written for doublewrite
     operations.  See *note innodb-disk-io::.

   * 'Innodb_dblwr_writes'

     The number of doublewrite operations that have been performed.  See
     *note innodb-disk-io::.

   * 'Innodb_have_atomic_builtins'

     Indicates whether the server was built with atomic instructions.

   * 'Innodb_log_waits'

     The number of times that the log buffer was too small and a wait
     was required for it to be flushed before continuing.

   * 'Innodb_log_write_requests'

     The number of log write requests.

   * 'Innodb_log_writes'

     The number of physical writes to the log file.

   * 'Innodb_os_log_fsyncs'

     The number of 'fsync()' writes done to the log file.

   * 'Innodb_os_log_pending_fsyncs'

     The number of pending log file 'fsync()' operations.

   * 'Innodb_os_log_pending_writes'

     The number of pending log file writes.

   * 'Innodb_os_log_written'

     The number of bytes written to the log file.

   * 'Innodb_page_size'

     The compiled-in 'InnoDB' page size (default 16KB). Many values are
     counted in pages; the page size enables them to be easily converted
     to bytes.

   * 'Innodb_pages_created'

     The number of pages created.

   * 'Innodb_pages_read'

     The number of pages read from the 'InnoDB' buffer pool by
     operations on 'InnoDB' tables.

   * 'Innodb_pages_written'

     The number of pages written.

   * 'Innodb_row_lock_current_waits'

     The number of row locks currently being waited for.

   * 'Innodb_row_lock_time'

     The total time spent in acquiring row locks, in milliseconds.

   * 'Innodb_row_lock_time_avg'

     The average time to acquire a row lock, in milliseconds.

   * 'Innodb_row_lock_time_max'

     The maximum time to acquire a row lock, in milliseconds.

   * 'Innodb_row_lock_waits'

     The number of times a row lock had to be waited for.

   * 'Innodb_rows_deleted'

     The number of rows deleted from 'InnoDB' tables.

   * 'Innodb_rows_inserted'

     The number of rows inserted into 'InnoDB' tables.

   * 'Innodb_rows_read'

     The number of rows read from 'InnoDB' tables.

   * 'Innodb_rows_updated'

     The number of rows updated in 'InnoDB' tables.

   * 'Innodb_truncated_status_writes'

     The number of times output from the 'SHOW ENGINE INNODB STATUS' is
     truncated.  Monitoring applications that parse the output from this
     command can test this value before and after issuing the 'SHOW
     ENGINE' command, to confirm if the output is complete or not.

   * 'Key_blocks_not_flushed'

     The number of key blocks in the key cache that have changed but
     have not yet been flushed to disk.

   * 'Key_blocks_unused'

     The number of unused blocks in the key cache.  You can use this
     value to determine how much of the key cache is in use; see the
     discussion of 'key_buffer_size' in *note server-system-variables::.

   * 'Key_blocks_used'

     The number of used blocks in the key cache.  This value is a
     high-water mark that indicates the maximum number of blocks that
     have ever been in use at one time.

   * 'Key_read_requests'

     The number of requests to read a key block from the cache.

   * 'Key_reads'

     The number of physical reads of a key block from disk.  If
     'Key_reads' is large, then your 'key_buffer_size' value is probably
     too small.  The cache miss rate can be calculated as
     'Key_reads'/'Key_read_requests'.

   * 'Key_write_requests'

     The number of requests to write a key block to the cache.

   * 'Key_writes'

     The number of physical writes of a key block to disk.

   * 'Last_query_cost'

     The total cost of the last compiled query as computed by the query
     optimizer.  This is useful for comparing the cost of different
     query plans for the same query.  The default value of 0 means that
     no query has been compiled yet.  The default value is 0.
     'Last_query_cost' has session scope.

     'Last_query_cost' can be computed accurately only for simple,
     'flat' queries, but not for complex queries such as those
     containing subqueries or *note 'UNION': union.  For the latter, the
     value is set to 0.

   * 'Max_used_connections'

     The maximum number of connections that have been in use
     simultaneously since the server started.

   * 'Not_flushed_delayed_rows'

     The number of rows waiting to be written in *note 'INSERT DELAYED':
     insert-delayed. queues.

   * 'Open_files'

     The number of files that are open.  This count includes regular
     files opened by the server.  It does not include other types of
     files such as sockets or pipes.  Also, the count does not include
     files that storage engines open using their own internal functions
     rather than asking the server level to do so.

   * 'Open_streams'

     The number of streams that are open (used mainly for logging).

   * 'Open_table_definitions'

     The number of cached '.frm' files.

   * 'Open_tables'

     The number of tables that are open.

   * 'Opened_files'

     The number of files that have been opened with 'my_open()' (a
     'mysys' library function).  Parts of the server that open files
     without using this function do not increment the count.

   * 'Opened_table_definitions'

     The number of '.frm' files that have been cached.

   * 'Opened_tables'

     The number of tables that have been opened.  If 'Opened_tables' is
     big, your 'table_open_cache' value is probably too small.

   * 'Performance_schema_XXX'

     Performance Schema status variables are listed in *note
     performance-schema-status-variables::.  These variables provide
     information about instrumentation that could not be loaded or
     created due to memory constraints.

   * 'Prepared_stmt_count'

     The current number of prepared statements.  (The maximum number of
     statements is given by the 'max_prepared_stmt_count' system
     variable.)

   * 'Qcache_free_blocks'

     The number of free memory blocks in the query cache.

   * 'Qcache_free_memory'

     The amount of free memory for the query cache.

   * 'Qcache_hits'

     The number of query cache hits.

     The discussion at the beginning of this section indicates how to
     relate this statement-counting status variable to other such
     variables.

   * 'Qcache_inserts'

     The number of queries added to the query cache.

   * 'Qcache_lowmem_prunes'

     The number of queries that were deleted from the query cache
     because of low memory.

   * 'Qcache_not_cached'

     The number of noncached queries (not cacheable, or not cached due
     to the 'query_cache_type' setting).

   * 'Qcache_queries_in_cache'

     The number of queries registered in the query cache.

   * 'Qcache_total_blocks'

     The total number of blocks in the query cache.

   * 'Queries'

     The number of statements executed by the server.  This variable
     includes statements executed within stored programs, unlike the
     'Questions' variable.  It does not count 'COM_PING' or
     'COM_STATISTICS' commands.

     The discussion at the beginning of this section indicates how to
     relate this statement-counting status variable to other such
     variables.

   * 'Questions'

     The number of statements executed by the server.  This includes
     only statements sent to the server by clients and not statements
     executed within stored programs, unlike the 'Queries' variable.
     This variable does not count 'COM_PING', 'COM_STATISTICS',
     'COM_STMT_PREPARE', 'COM_STMT_CLOSE', or 'COM_STMT_RESET' commands.

     The discussion at the beginning of this section indicates how to
     relate this statement-counting status variable to other such
     variables.

   * 
     'Rpl_semi_sync_master_clients'

     The number of semisynchronous slaves.

     This variable is available only if the master-side semisynchronous
     replication plugin is installed.

   * 
     'Rpl_semi_sync_master_net_avg_wait_time'

     The average time in microseconds the master waited for a slave
     reply.

     This variable is available only if the master-side semisynchronous
     replication plugin is installed.

   * 
     'Rpl_semi_sync_master_net_wait_time'

     The total time in microseconds the master waited for slave replies.

     This variable is available only if the master-side semisynchronous
     replication plugin is installed.

   * 
     'Rpl_semi_sync_master_net_waits'

     The total number of times the master waited for slave replies.

     This variable is available only if the master-side semisynchronous
     replication plugin is installed.

   * 
     'Rpl_semi_sync_master_no_times'

     The number of times the master turned off semisynchronous
     replication.

     This variable is available only if the master-side semisynchronous
     replication plugin is installed.

   * 
     'Rpl_semi_sync_master_no_tx'

     The number of commits that were not acknowledged successfully by a
     slave.

     This variable is available only if the master-side semisynchronous
     replication plugin is installed.

   * 
     'Rpl_semi_sync_master_status'

     Whether semisynchronous replication currently is operational on the
     master.  The value is 'ON' if the plugin has been enabled and a
     commit acknowledgment has occurred.  It is 'OFF' if the plugin is
     not enabled or the master has fallen back to asynchronous
     replication due to commit acknowledgment timeout.

     This variable is available only if the master-side semisynchronous
     replication plugin is installed.

   * 
     'Rpl_semi_sync_master_timefunc_failures'

     The number of times the master failed when calling time functions
     such as 'gettimeofday()'.

     This variable is available only if the master-side semisynchronous
     replication plugin is installed.

   * 
     'Rpl_semi_sync_master_tx_avg_wait_time'

     The average time in microseconds the master waited for each
     transaction.

     This variable is available only if the master-side semisynchronous
     replication plugin is installed.

   * 
     'Rpl_semi_sync_master_tx_wait_time'

     The total time in microseconds the master waited for transactions.

     This variable is available only if the master-side semisynchronous
     replication plugin is installed.

   * 
     'Rpl_semi_sync_master_tx_waits'

     The total number of times the master waited for transactions.

     This variable is available only if the master-side semisynchronous
     replication plugin is installed.

   * 
     'Rpl_semi_sync_master_wait_pos_backtraverse'

     The total number of times the master waited for an event with
     binary coordinates lower than events waited for previously.  This
     can occur when the order in which transactions start waiting for a
     reply is different from the order in which their binary log events
     are written.

     This variable is available only if the master-side semisynchronous
     replication plugin is installed.

   * 
     'Rpl_semi_sync_master_wait_sessions'

     The number of sessions currently waiting for slave replies.

     This variable is available only if the master-side semisynchronous
     replication plugin is installed.

   * 
     'Rpl_semi_sync_master_yes_tx'

     The number of commits that were acknowledged successfully by a
     slave.

     This variable is available only if the master-side semisynchronous
     replication plugin is installed.

   * 
     'Rpl_semi_sync_slave_status'

     Whether semisynchronous replication currently is operational on the
     slave.  This is 'ON' if the plugin has been enabled and the slave
     I/O thread is running, 'OFF' otherwise.

     This variable is available only if the slave-side semisynchronous
     replication plugin is installed.

   * 
     'Rpl_status'

     The status of fail-safe replication (not implemented).  This
     variable is unused and is removed in MySQL 5.6.

   * 'Select_full_join'

     The number of joins that perform table scans because they do not
     use indexes.  If this value is not 0, you should carefully check
     the indexes of your tables.

   * 'Select_full_range_join'

     The number of joins that used a range search on a reference table.

   * 'Select_range'

     The number of joins that used ranges on the first table.  This is
     normally not a critical issue even if the value is quite large.

   * 'Select_range_check'

     The number of joins without keys that check for key usage after
     each row.  If this is not 0, you should carefully check the indexes
     of your tables.

   * 'Select_scan'

     The number of joins that did a full scan of the first table.

   * 'Slave_heartbeat_period'

     Shows the replication heartbeat interval (in seconds) on a
     replication slave.

   * 'Slave_open_temp_tables'

     The number of temporary tables that the slave SQL thread currently
     has open.  If the value is greater than zero, it is not safe to
     shut down the slave; see *note replication-features-temptables::.

   * 'Slave_received_heartbeats'

     This counter increments with each replication heartbeat received by
     a replication slave since the last time that the slave was
     restarted or reset, or a *note 'CHANGE MASTER TO':
     change-master-to. statement was issued.

   * 'Slave_retried_transactions'

     The total number of times since startup that the replication slave
     SQL thread has retried transactions.

   * 'Slave_running'

     This is 'ON' if this server is a replication slave that is
     connected to a replication master, and both the I/O and SQL threads
     are running; otherwise, it is 'OFF'.

   * 'Slow_launch_threads'

     The number of threads that have taken more than 'slow_launch_time'
     seconds to create.

   * 'Slow_queries'

     The number of queries that have taken more than 'long_query_time'
     seconds.  This counter increments regardless of whether the slow
     query log is enabled.  For information about that log, see *note
     slow-query-log::.

   * 'Sort_merge_passes'

     The number of merge passes that the sort algorithm has had to do.
     If this value is large, you should consider increasing the value of
     the 'sort_buffer_size' system variable.

   * 'Sort_range'

     The number of sorts that were done using ranges.

   * 'Sort_rows'

     The number of sorted rows.

   * 'Sort_scan'

     The number of sorts that were done by scanning the table.

   * 'Ssl_accept_renegotiates'

     The number of negotiates needed to establish the connection.

   * 'Ssl_accepts'

     The number of accepted SSL connections.

   * 'Ssl_callback_cache_hits'

     The number of callback cache hits.

   * 'Ssl_cipher'

     The current encryption cipher (empty for unencrypted connections).

   * 'Ssl_cipher_list'

     The list of possible SSL ciphers (empty for non-SSL connections).

   * 'Ssl_client_connects'

     The number of SSL connection attempts to an SSL-enabled master.

   * 'Ssl_connect_renegotiates'

     The number of negotiates needed to establish the connection to an
     SSL-enabled master.

   * 'Ssl_ctx_verify_depth'

     The SSL context verification depth (how many certificates in the
     chain are tested).

   * 'Ssl_ctx_verify_mode'

     The SSL context verification mode.

   * 'Ssl_default_timeout'

     The default SSL timeout.

   * 'Ssl_finished_accepts'

     The number of successful SSL connections to the server.

   * 'Ssl_finished_connects'

     The number of successful slave connections to an SSL-enabled
     master.

   * 'Ssl_session_cache_hits'

     The number of SSL session cache hits.

   * 'Ssl_session_cache_misses'

     The number of SSL session cache misses.

   * 'Ssl_session_cache_mode'

     The SSL session cache mode.

   * 'Ssl_session_cache_overflows'

     The number of SSL session cache overflows.

   * 'Ssl_session_cache_size'

     The SSL session cache size.

   * 'Ssl_session_cache_timeouts'

     The number of SSL session cache timeouts.

   * 'Ssl_sessions_reused'

     How many SSL connections were reused from the cache.

   * 'Ssl_used_session_cache_entries'

     How many SSL session cache entries were used.

   * 'Ssl_verify_depth'

     The verification depth for replication SSL connections.

   * 'Ssl_verify_mode'

     The verification mode used by the server for a connection that uses
     SSL. The value is a bitmask; bits are defined in the
     'openssl/ssl.h' header file:

          # define SSL_VERIFY_NONE                 0x00
          # define SSL_VERIFY_PEER                 0x01
          # define SSL_VERIFY_FAIL_IF_NO_PEER_CERT 0x02
          # define SSL_VERIFY_CLIENT_ONCE          0x04

     'SSL_VERIFY_PEER' indicates that the server asks for a client
     certificate.  If the client supplies one, the server performs
     verification and proceeds only if verification is successful.
     'SSL_VERIFY_CLIENT_ONCE' indicates that a request for the client
     certificate will be done only in the initial handshake.

   * 'Ssl_version'

     The SSL protocol version of the connection (for example, TLSv1).
     If the connection is not encrypted, the value is empty.

   * 'Table_locks_immediate'

     The number of times that a request for a table lock could be
     granted immediately.

   * 'Table_locks_waited'

     The number of times that a request for a table lock could not be
     granted immediately and a wait was needed.  If this is high and you
     have performance problems, you should first optimize your queries,
     and then either split your table or tables or use replication.

   * 'Tc_log_max_pages_used'

     For the memory-mapped implementation of the log that is used by
     *note 'mysqld': mysqld. when it acts as the transaction coordinator
     for recovery of internal XA transactions, this variable indicates
     the largest number of pages used for the log since the server
     started.  If the product of 'Tc_log_max_pages_used' and
     'Tc_log_page_size' is always significantly less than the log size,
     the size is larger than necessary and can be reduced.  (The size is
     set by the '--log-tc-size' option.  This variable is unused: It is
     unneeded for binary log-based recovery, and the memory-mapped
     recovery log method is not used unless the number of storage
     engines that are capable of two-phase commit and that support XA
     transactions is greater than one.  ('InnoDB' is the only applicable
     engine.)

   * 'Tc_log_page_size'

     The page size used for the memory-mapped implementation of the XA
     recovery log.  The default value is determined using
     'getpagesize()'.  This variable is unused for the same reasons as
     described for 'Tc_log_max_pages_used'.

   * 'Tc_log_page_waits'

     For the memory-mapped implementation of the recovery log, this
     variable increments each time the server was not able to commit a
     transaction and had to wait for a free page in the log.  If this
     value is large, you might want to increase the log size (with the
     '--log-tc-size' option).  For binary log-based recovery, this
     variable increments each time the binary log cannot be closed
     because there are two-phase commits in progress.  (The close
     operation waits until all such transactions are finished.)

   * 'Threads_cached'

     The number of threads in the thread cache.

   * 'Threads_connected'

     The number of currently open connections.

   * 'Threads_created'

     The number of threads created to handle connections.  If
     'Threads_created' is big, you may want to increase the
     'thread_cache_size' value.  The cache miss rate can be calculated
     as 'Threads_created'/'Connections'.

   * 'Threads_running'

     The number of threads that are not sleeping.

   * 'Uptime'

     The number of seconds that the server has been up.

   * 'Uptime_since_flush_status'

     The number of seconds since the most recent 'FLUSH STATUS'
     statement.


File: manual.info.tmp,  Node: sql-mode,  Next: ipv6-support,  Prev: server-status-variables,  Up: mysqld-server

5.1.10 Server SQL Modes
-----------------------

The MySQL server can operate in different SQL modes, and can apply these
modes differently for different clients, depending on the value of the
'sql_mode' system variable.  DBAs can set the global SQL mode to match
site server operating requirements, and each application can set its
session SQL mode to its own requirements.

Modes affect the SQL syntax MySQL supports and the data validation
checks it performs.  This makes it easier to use MySQL in different
environments and to use MySQL together with other database servers.

   * *note sql-mode-setting::

   * *note sql-mode-important::

   * *note sql-mode-full::

   * *note sql-mode-combo::

   * *note sql-mode-strict::

For answers to questions often asked about server SQL modes in MySQL,
see *note faqs-sql-modes::.

When working with 'InnoDB' tables, consider also the
'innodb_strict_mode' system variable.  It enables additional error
checks for 'InnoDB' tables.

*Setting the SQL Mode*

The default SQL mode is empty (no modes set).

To set the SQL mode at server startup, use the '--sql-mode="MODES"'
option on the command line, or 'sql-mode="MODES"' in an option file such
as 'my.cnf' (Unix operating systems) or 'my.ini' (Windows).  MODES is a
list of different modes separated by commas.  To clear the SQL mode
explicitly, set it to an empty string using '--sql-mode=""' on the
command line, or 'sql-mode=""' in an option file.

*Note*:

MySQL installation programs may configure the SQL mode during the
installation process.  If the SQL mode differs from the default or from
what you expect, check for a setting in an option file that the server
reads at startup.

To change the SQL mode at runtime, set the global or session 'sql_mode'
system variable using a *note 'SET': set-variable. statement:

     SET GLOBAL sql_mode = 'MODES';
     SET SESSION sql_mode = 'MODES';

Setting the 'GLOBAL' variable requires the 'SUPER' privilege and affects
the operation of all clients that connect from that time on.  Setting
the 'SESSION' variable affects only the current client.  Each client can
change its session 'sql_mode' value at any time.

To determine the current global or session 'sql_mode' setting, select
its value:

     SELECT @@GLOBAL.sql_mode;
     SELECT @@SESSION.sql_mode;

*Important*:

SQL mode and user-defined partitioning

Changing the server SQL mode after creating and inserting data into
partitioned tables can cause major changes in the behavior of such
tables, and could lead to loss or corruption of data.  It is strongly
recommended that you never change the SQL mode once you have created
tables employing user-defined partitioning.

When replicating partitioned tables, differing SQL modes on the master
and slave can also lead to problems.  For best results, you should
always use the same server SQL mode on the master and slave.

For more information, see *note partitioning-limitations::.

*The Most Important SQL Modes*

The most important 'sql_mode' values are probably these:

   * 
     'ANSI'

     This mode changes syntax and behavior to conform more closely to
     standard SQL. It is one of the special combination modes listed at
     the end of this section.

   * 
     'STRICT_TRANS_TABLES'

     If a value could not be inserted as given into a transactional
     table, abort the statement.  For a nontransactional table, abort
     the statement if the value occurs in a single-row statement or the
     first row of a multiple-row statement.  More details are given
     later in this section.

   * 
     'TRADITIONAL'

     Make MySQL behave like a 'traditional' SQL database system.  A
     simple description of this mode is 'give an error instead of a
     warning' when inserting an incorrect value into a column.  It is
     one of the special combination modes listed at the end of this
     section.

     *Note*:

     With 'TRADITIONAL' mode enabled, an *note 'INSERT': insert. or
     *note 'UPDATE': update. aborts as soon as an error occurs.  If you
     are using a nontransactional storage engine, this may not be what
     you want because data changes made prior to the error may not be
     rolled back, resulting in a 'partially done' update.

When this manual refers to 'strict mode,' it means a mode with either or
both 'STRICT_TRANS_TABLES' or 'STRICT_ALL_TABLES' enabled.

*Full List of SQL Modes*

The following list describes all supported SQL modes:

   * 
     'ALLOW_INVALID_DATES'

     Do not perform full checking of dates.  Check only that the month
     is in the range from 1 to 12 and the day is in the range from 1 to
     31.  This may be useful for Web applications that obtain year,
     month, and day in three different fields and store exactly what the
     user inserted, without date validation.  This mode applies to *note
     'DATE': datetime. and *note 'DATETIME': datetime. columns.  It does
     not apply *note 'TIMESTAMP': datetime. columns, which always
     require a valid date.

     With 'ALLOW_INVALID_DATES' disabled, the server requires that month
     and day values be legal, and not merely in the range 1 to 12 and 1
     to 31, respectively.  With strict mode disabled, invalid dates such
     as ''2004-04-31'' are converted to ''0000-00-00'' and a warning is
     generated.  With strict mode enabled, invalid dates generate an
     error.  To permit such dates, enable 'ALLOW_INVALID_DATES'.

   * 
     'ANSI_QUOTES'

     Treat '"' as an identifier quote character (like the '`' quote
     character) and not as a string quote character.  You can still use
     '`' to quote identifiers with this mode enabled.  With
     'ANSI_QUOTES' enabled, you cannot use double quotation marks to
     quote literal strings because they are interpreted as identifiers.

   * 
     'ERROR_FOR_DIVISION_BY_ZERO'

     The 'ERROR_FOR_DIVISION_BY_ZERO' mode affects handling of division
     by zero, which includes 'MOD(N,0)'.  For data-change operations
     (*note 'INSERT': insert, *note 'UPDATE': update.), its effect also
     depends on whether strict SQL mode is enabled.

        * If this mode is not enabled, division by zero inserts 'NULL'
          and produces no warning.

        * If this mode is enabled, division by zero inserts 'NULL' and
          produces a warning.

        * If this mode and strict mode are enabled, division by zero
          produces an error, unless 'IGNORE' is given as well.  For
          'INSERT IGNORE' and 'UPDATE IGNORE', division by zero inserts
          'NULL' and produces a warning.

     For *note 'SELECT': select, division by zero returns 'NULL'.
     Enabling 'ERROR_FOR_DIVISION_BY_ZERO' causes a warning to be
     produced as well, regardless of whether strict mode is enabled.

   * 
     'HIGH_NOT_PRECEDENCE'

     The precedence of the 'NOT' operator is such that expressions such
     as 'NOT a BETWEEN b AND c' are parsed as 'NOT (a BETWEEN b AND c)'.
     In some older versions of MySQL, the expression was parsed as '(NOT
     a) BETWEEN b AND c'.  The old higher-precedence behavior can be
     obtained by enabling the 'HIGH_NOT_PRECEDENCE' SQL mode.

          mysql> SET sql_mode = '';
          mysql> SELECT NOT 1 BETWEEN -5 AND 5;
                  -> 0
          mysql> SET sql_mode = 'HIGH_NOT_PRECEDENCE';
          mysql> SELECT NOT 1 BETWEEN -5 AND 5;
                  -> 1

   * 
     'IGNORE_SPACE'

     Permit spaces between a function name and the '(' character.  This
     causes built-in function names to be treated as reserved words.  As
     a result, identifiers that are the same as function names must be
     quoted as described in *note identifiers::.  For example, because
     there is a 'COUNT()' function, the use of 'count' as a table name
     in the following statement causes an error:

          mysql> CREATE TABLE count (i INT);
          ERROR 1064 (42000): You have an error in your SQL syntax

     The table name should be quoted:

          mysql> CREATE TABLE `count` (i INT);
          Query OK, 0 rows affected (0.00 sec)

     The 'IGNORE_SPACE' SQL mode applies to built-in functions, not to
     user-defined functions or stored functions.  It is always
     permissible to have spaces after a UDF or stored function name,
     regardless of whether 'IGNORE_SPACE' is enabled.

     For further discussion of 'IGNORE_SPACE', see *note
     function-resolution::.

   * 
     'NO_AUTO_CREATE_USER'

     Prevent the *note 'GRANT': grant. statement from automatically
     creating new users if it would otherwise do so, unless
     authentication information is specified.  The statement must
     specify a nonempty password using 'IDENTIFIED BY' or an
     authentication plugin using 'IDENTIFIED WITH'.

   * 
     'NO_AUTO_VALUE_ON_ZERO'

     'NO_AUTO_VALUE_ON_ZERO' affects handling of 'AUTO_INCREMENT'
     columns.  Normally, you generate the next sequence number for the
     column by inserting either 'NULL' or '0' into it.
     'NO_AUTO_VALUE_ON_ZERO' suppresses this behavior for '0' so that
     only 'NULL' generates the next sequence number.

     This mode can be useful if '0' has been stored in a table's
     'AUTO_INCREMENT' column.  (Storing '0' is not a recommended
     practice, by the way.)  For example, if you dump the table with
     *note 'mysqldump': mysqldump. and then reload it, MySQL normally
     generates new sequence numbers when it encounters the '0' values,
     resulting in a table with contents different from the one that was
     dumped.  Enabling 'NO_AUTO_VALUE_ON_ZERO' before reloading the dump
     file solves this problem.  For this reason, *note 'mysqldump':
     mysqldump. automatically includes in its output a statement that
     enables 'NO_AUTO_VALUE_ON_ZERO'.

   * 
     'NO_BACKSLASH_ESCAPES'

     Disable the use of the backslash character ('\') as an escape
     character within strings and identifiers.  With this mode enabled,
     backslash becomes an ordinary character like any other.

   * 
     'NO_DIR_IN_CREATE'

     When creating a table, ignore all 'INDEX DIRECTORY' and 'DATA
     DIRECTORY' directives.  This option is useful on slave replication
     servers.

   * 
     'NO_ENGINE_SUBSTITUTION'

     Control automatic substitution of the default storage engine when a
     statement such as *note 'CREATE TABLE': create-table. or *note
     'ALTER TABLE': alter-table. specifies a storage engine that is
     disabled or not compiled in.

     Because storage engines can be pluggable at runtime, unavailable
     engines are treated the same way:

     With 'NO_ENGINE_SUBSTITUTION' disabled, for *note 'CREATE TABLE':
     create-table. the default engine is used and a warning occurs if
     the desired engine is unavailable.  For *note 'ALTER TABLE':
     alter-table, a warning occurs and the table is not altered.

     With 'NO_ENGINE_SUBSTITUTION' enabled, an error occurs and the
     table is not created or altered if the desired engine is
     unavailable.

   * 
     'NO_FIELD_OPTIONS'

     Do not print MySQL-specific column options in the output of *note
     'SHOW CREATE TABLE': show-create-table.  This mode is used by *note
     'mysqldump': mysqldump. in portability mode.

   * 
     'NO_KEY_OPTIONS'

     Do not print MySQL-specific index options in the output of *note
     'SHOW CREATE TABLE': show-create-table.  This mode is used by *note
     'mysqldump': mysqldump. in portability mode.

   * 
     'NO_TABLE_OPTIONS'

     Do not print MySQL-specific table options (such as 'ENGINE') in the
     output of *note 'SHOW CREATE TABLE': show-create-table.  This mode
     is used by *note 'mysqldump': mysqldump. in portability mode.

   * 
     'NO_UNSIGNED_SUBTRACTION'

     Subtraction between integer values, where one is of type
     'UNSIGNED', produces an unsigned result by default.  Prior to MySQL
     5.5.5, if the result would otherwise have been negative, it becomes
     the maximum integer value:

          mysql> SET sql_mode = '';
          mysql> SELECT CAST(0 AS UNSIGNED) - 1;
          +-------------------------+
          | CAST(0 AS UNSIGNED) - 1 |
          +-------------------------+
          |    18446744073709551615 |
          +-------------------------+

     As of MySQL 5.5.5, if the result would otherwise have been
     negative, an error results:

          mysql> SET sql_mode = '';
          Query OK, 0 rows affected (0.00 sec)

          mysql> SELECT CAST(0 AS UNSIGNED) - 1;
          ERROR 1690 (22003): BIGINT UNSIGNED value is out of range in '(cast(0 as unsigned) - 1)'

     If the 'NO_UNSIGNED_SUBTRACTION' SQL mode is enabled, the result is
     negative:

          mysql> SET sql_mode = 'NO_UNSIGNED_SUBTRACTION';
          mysql> SELECT CAST(0 AS UNSIGNED) - 1;
          +-------------------------+
          | CAST(0 AS UNSIGNED) - 1 |
          +-------------------------+
          |                      -1 |
          +-------------------------+

     If the result of such an operation is used to update an 'UNSIGNED'
     integer column, the result is clipped to the maximum value for the
     column type, or clipped to 0 if 'NO_UNSIGNED_SUBTRACTION' is
     enabled.  With strict SQL mode enabled, an error occurs and the
     column remains unchanged.

     When 'NO_UNSIGNED_SUBTRACTION' is enabled, the subtraction result
     is signed, _even if any operand is unsigned_.  For example, compare
     the type of column 'c2' in table 't1' with that of column 'c2' in
     table 't2':


          mysql> SET sql_mode='';
          mysql> CREATE TABLE test (c1 BIGINT UNSIGNED NOT NULL);
          mysql> CREATE TABLE t1 SELECT c1 - 1 AS c2 FROM test;
          mysql> DESCRIBE t1;
          +-------+---------------------+------+-----+---------+-------+
          | Field | Type                | Null | Key | Default | Extra |
          +-------+---------------------+------+-----+---------+-------+
          | c2    | bigint(21) unsigned | NO   |     | 0       |       |
          +-------+---------------------+------+-----+---------+-------+

          mysql> SET sql_mode='NO_UNSIGNED_SUBTRACTION';
          mysql> CREATE TABLE t2 SELECT c1 - 1 AS c2 FROM test;
          mysql> DESCRIBE t2;
          +-------+------------+------+-----+---------+-------+
          | Field | Type       | Null | Key | Default | Extra |
          +-------+------------+------+-----+---------+-------+
          | c2    | bigint(21) | NO   |     | 0       |       |
          +-------+------------+------+-----+---------+-------+

     This means that 'BIGINT UNSIGNED' is not 100% usable in all
     contexts.  See *note cast-functions::.

   * 
     'NO_ZERO_DATE'

     The 'NO_ZERO_DATE' mode affects whether the server permits
     ''0000-00-00'' as a valid date.  Its effect also depends on whether
     strict SQL mode is enabled.

        * If this mode is not enabled, ''0000-00-00'' is permitted and
          inserts produce no warning.

        * If this mode is enabled, ''0000-00-00'' is permitted and
          inserts produce a warning.

        * If this mode and strict mode are enabled, ''0000-00-00'' is
          not permitted and inserts produce an error, unless 'IGNORE' is
          given as well.  For 'INSERT IGNORE' and 'UPDATE IGNORE',
          ''0000-00-00'' is permitted and inserts produce a warning.

   * 
     'NO_ZERO_IN_DATE'

     The 'NO_ZERO_IN_DATE' mode affects whether the server permits dates
     in which the year part is nonzero but the month or day part is 0.
     (This mode affects dates such as ''2010-00-01'' or ''2010-01-00'',
     but not ''0000-00-00''.  To control whether the server permits
     ''0000-00-00'', use the 'NO_ZERO_DATE' mode.)  The effect of
     'NO_ZERO_IN_DATE' also depends on whether strict SQL mode is
     enabled.

        * If this mode is not enabled, dates with zero parts are
          permitted and inserts produce no warning.

        * If this mode is enabled, dates with zero parts are inserted as
          ''0000-00-00'' and produce a warning.

        * If this mode and strict mode are enabled, dates with zero
          parts are not permitted and inserts produce an error, unless
          'IGNORE' is given as well.  For 'INSERT IGNORE' and 'UPDATE
          IGNORE', dates with zero parts are inserted as ''0000-00-00''
          and produce a warning.

   * 
     'ONLY_FULL_GROUP_BY'

     Reject queries for which the select list or 'HAVING' condition
     refer to nonaggregated columns that are not named in the 'GROUP BY'
     clause.

     A MySQL extension to standard SQL permits references in the
     'HAVING' clause to aliased expressions in the select list.
     Enabling 'ONLY_FULL_GROUP_BY' disables this extension, thus
     requiring the 'HAVING' clause to be written using unaliased
     expressions.

     For additional discussion and examples, see *note
     group-by-handling::.

   * 
     'PAD_CHAR_TO_FULL_LENGTH'

     By default, trailing spaces are trimmed from *note 'CHAR': char.
     column values on retrieval.  If 'PAD_CHAR_TO_FULL_LENGTH' is
     enabled, trimming does not occur and retrieved *note 'CHAR': char.
     values are padded to their full length.  This mode does not apply
     to *note 'VARCHAR': char. columns, for which trailing spaces are
     retained on retrieval.


          mysql> CREATE TABLE t1 (c1 CHAR(10));
          Query OK, 0 rows affected (0.37 sec)

          mysql> INSERT INTO t1 (c1) VALUES('xy');
          Query OK, 1 row affected (0.01 sec)

          mysql> SET sql_mode = '';
          Query OK, 0 rows affected (0.00 sec)

          mysql> SELECT c1, CHAR_LENGTH(c1) FROM t1;
          +------+-----------------+
          | c1   | CHAR_LENGTH(c1) |
          +------+-----------------+
          | xy   |               2 |
          +------+-----------------+
          1 row in set (0.00 sec)

          mysql> SET sql_mode = 'PAD_CHAR_TO_FULL_LENGTH';
          Query OK, 0 rows affected (0.00 sec)

          mysql> SELECT c1, CHAR_LENGTH(c1) FROM t1;
          +------------+-----------------+
          | c1         | CHAR_LENGTH(c1) |
          +------------+-----------------+
          | xy         |              10 |
          +------------+-----------------+
          1 row in set (0.00 sec)

   * 
     'PIPES_AS_CONCAT'

     Treat '||' as a string concatenation operator (same as 'CONCAT()')
     rather than as a synonym for 'OR'.

   * 
     'REAL_AS_FLOAT'

     Treat *note 'REAL': floating-point-types. as a synonym for *note
     'FLOAT': floating-point-types.  By default, MySQL treats *note
     'REAL': floating-point-types. as a synonym for *note 'DOUBLE':
     floating-point-types.

   * 
     'STRICT_ALL_TABLES'

     Enable strict SQL mode for all storage engines.  Invalid data
     values are rejected.  For details, see *note sql-mode-strict::.

   * 
     'STRICT_TRANS_TABLES'

     Enable strict SQL mode for transactional storage engines, and when
     possible for nontransactional storage engines.  For details, see
     *note sql-mode-strict::.

*Combination SQL Modes*

The following special modes are provided as shorthand for combinations
of mode values from the preceding list.

   * 
     'ANSI'

     Equivalent to 'REAL_AS_FLOAT', 'PIPES_AS_CONCAT', 'ANSI_QUOTES',
     'IGNORE_SPACE'.

     'ANSI' mode also causes the server to return an error for queries
     where a set function S with an outer reference 'S(OUTER_REF)'
     cannot be aggregated in the outer query against which the outer
     reference has been resolved.  This is such a query:

          SELECT * FROM t1 WHERE t1.a IN (SELECT MAX(t1.b) FROM t2 WHERE ...);

     Here, 'MAX(t1.b)' cannot aggregated in the outer query because it
     appears in the 'WHERE' clause of that query.  Standard SQL requires
     an error in this situation.  If 'ANSI' mode is not enabled, the
     server treats 'S(OUTER_REF)' in such queries the same way that it
     would interpret 'S(CONST)'.

     See *note compatibility::.

   * 
     'DB2'

     Equivalent to 'PIPES_AS_CONCAT', 'ANSI_QUOTES', 'IGNORE_SPACE',
     'NO_KEY_OPTIONS', 'NO_TABLE_OPTIONS', 'NO_FIELD_OPTIONS'.

   * 
     'MAXDB'

     Equivalent to 'PIPES_AS_CONCAT', 'ANSI_QUOTES', 'IGNORE_SPACE',
     'NO_KEY_OPTIONS', 'NO_TABLE_OPTIONS', 'NO_FIELD_OPTIONS',
     'NO_AUTO_CREATE_USER'.

   * 
     'MSSQL'

     Equivalent to 'PIPES_AS_CONCAT', 'ANSI_QUOTES', 'IGNORE_SPACE',
     'NO_KEY_OPTIONS', 'NO_TABLE_OPTIONS', 'NO_FIELD_OPTIONS'.

   * 
     'MYSQL323'

     Equivalent to 'MYSQL323', 'HIGH_NOT_PRECEDENCE'.  This means
     'HIGH_NOT_PRECEDENCE' plus some *note 'SHOW CREATE TABLE':
     show-create-table. behaviors specific to 'MYSQL323':

        * *note 'TIMESTAMP': datetime. column display does not include
          'DEFAULT' or 'ON UPDATE' attributes.

        * String column display does not include character set and
          collation attributes.  For *note 'CHAR': char. and *note
          'VARCHAR': char. columns, if the collation is binary, 'BINARY'
          is appended to the column type.

        * The 'ENGINE=ENGINE_NAME' table option displays as
          'TYPE=ENGINE_NAME'.

        * For *note 'MEMORY': memory-storage-engine. tables, the storage
          engine is displayed as 'HEAP'.

   * 
     'MYSQL40'

     Equivalent to 'MYSQL40', 'HIGH_NOT_PRECEDENCE'.  This means
     'HIGH_NOT_PRECEDENCE' plus some behaviors specific to 'MYSQL40'.
     These are the same as for 'MYSQL323', except that *note 'SHOW
     CREATE TABLE': show-create-table. does not display 'HEAP' as the
     storage engine for *note 'MEMORY': memory-storage-engine. tables.

   * 
     'ORACLE'

     Equivalent to 'PIPES_AS_CONCAT', 'ANSI_QUOTES', 'IGNORE_SPACE',
     'NO_KEY_OPTIONS', 'NO_TABLE_OPTIONS', 'NO_FIELD_OPTIONS',
     'NO_AUTO_CREATE_USER'.

   * 
     'POSTGRESQL'

     Equivalent to 'PIPES_AS_CONCAT', 'ANSI_QUOTES', 'IGNORE_SPACE',
     'NO_KEY_OPTIONS', 'NO_TABLE_OPTIONS', 'NO_FIELD_OPTIONS'.

   * 
     'TRADITIONAL'

     Equivalent to 'STRICT_TRANS_TABLES', 'STRICT_ALL_TABLES',
     'NO_ZERO_IN_DATE', 'NO_ZERO_DATE', 'ERROR_FOR_DIVISION_BY_ZERO',
     'NO_AUTO_CREATE_USER', and 'NO_ENGINE_SUBSTITUTION'.

*Strict SQL Mode*

Strict mode controls how MySQL handles invalid or missing values in
data-change statements such as *note 'INSERT': insert. or *note
'UPDATE': update.  A value can be invalid for several reasons.  For
example, it might have the wrong data type for the column, or it might
be out of range.  A value is missing when a new row to be inserted does
not contain a value for a non-'NULL' column that has no explicit
'DEFAULT' clause in its definition.  (For a 'NULL' column, 'NULL' is
inserted if the value is missing.)

If strict mode is not in effect, MySQL inserts adjusted values for
invalid or missing values and produces warnings (see *note
show-warnings::).  In strict mode, you can produce this behavior by
using *note 'INSERT IGNORE': insert. or *note 'UPDATE IGNORE': update.

For statements such as *note 'SELECT': select. that do not change data,
invalid values generate a warning in strict mode, not an error.

Strict mode does not affect whether foreign key constraints are checked.
'foreign_key_checks' can be used for that.  (See *note
server-system-variables::.)

Strict SQL mode is in effect if either 'STRICT_ALL_TABLES' or
'STRICT_TRANS_TABLES' is enabled, although the effects of these modes
differ somewhat:

   * For transactional tables, an error occurs for invalid or missing
     values in a data-change statement when either 'STRICT_ALL_TABLES'
     or 'STRICT_TRANS_TABLES' is enabled.  The statement is aborted and
     rolled back.

   * For nontransactional tables, the behavior is the same for either
     mode if the bad value occurs in the first row to be inserted or
     updated: The statement is aborted and the table remains unchanged.
     If the statement inserts or modifies multiple rows and the bad
     value occurs in the second or later row, the result depends on
     which strict mode is enabled:

        * For 'STRICT_ALL_TABLES', MySQL returns an error and ignores
          the rest of the rows.  However, because the earlier rows have
          been inserted or updated, the result is a partial update.  To
          avoid this, use single-row statements, which can be aborted
          without changing the table.

        * For 'STRICT_TRANS_TABLES', MySQL converts an invalid value to
          the closest valid value for the column and inserts the
          adjusted value.  If a value is missing, MySQL inserts the
          implicit default value for the column data type.  In either
          case, MySQL generates a warning rather than an error and
          continues processing the statement.  Implicit defaults are
          described in *note data-type-defaults::.

Strict mode also affects handling of division by zero, zero dates, and
zeros in dates, in conjunction with the 'ERROR_FOR_DIVISION_BY_ZERO',
'NO_ZERO_DATE', and 'NO_ZERO_IN_DATE' modes.  For details, see the
descriptions of those modes.


File: manual.info.tmp,  Node: ipv6-support,  Next: time-zone-support,  Prev: sql-mode,  Up: mysqld-server

5.1.11 IPv6 Support
-------------------

* Menu:

* ipv6-system-support::          Verifying System Support for IPv6
* ipv6-server-config::           Configuring the MySQL Server to Permit IPv6 Connections
* ipv6-local-connections::       Connecting Using the IPv6 Local Host Address
* ipv6-remote-connections::      Connecting Using IPv6 Nonlocal Host Addresses
* ipv6-brokers::                 Obtaining an IPv6 Address from a Broker

Support for IPv6 includes these capabilities:

   * MySQL Server can accept TCP/IP connections from clients connecting
     over IPv6.  For example, this command connects over IPv6 to the
     MySQL server on the local host:

          shell> mysql -h ::1

     To use this capability, two things must be true:

        * Your system must be configured to support IPv6.  See *note
          ipv6-system-support::.

        * The default MySQL server configuration permits only IPv4
          connections, so the server must be configured for IPv6
          connections.  To permit IPv6 connections in addition to or
          instead of IPv4 connections, start the server with an
          appropriate '--bind-address' option.  See *note
          server-system-variables::.

   * MySQL account names permit IPv6 addresses to enable DBAs to specify
     privileges for clients that connect to the server over IPv6.  See
     *note account-names::.  IPv6 addresses can be specified in account
     names in statements such as *note 'CREATE USER': create-user, *note
     'GRANT': grant, and *note 'REVOKE': revoke.  For example:

          mysql> CREATE USER 'bill'@'::1' IDENTIFIED BY 'secret';
          mysql> GRANT SELECT ON mydb.* TO 'bill'@'::1';

The following sections describe how to set up MySQL so that clients can
connect to the server over IPv6.


File: manual.info.tmp,  Node: ipv6-system-support,  Next: ipv6-server-config,  Prev: ipv6-support,  Up: ipv6-support

5.1.11.1 Verifying System Support for IPv6
..........................................

Before MySQL Server can accept IPv6 connections, the operating system on
your server host must support IPv6.  As a simple test to determine
whether that is true, try this command:

     shell> ping6 ::1
     16 bytes from ::1, icmp_seq=0 hlim=64 time=0.171 ms
     16 bytes from ::1, icmp_seq=1 hlim=64 time=0.077 ms
     ...

To produce a description of your system's network interfaces, invoke
'ifconfig -a' and look for IPv6 addresses in the output.

If your host does not support IPv6, consult your system documentation
for instructions on enabling it.  It might be that you need only
reconfigure an existing network interface to add an IPv6 address.  Or a
more extensive change might be needed, such as rebuilding the kernel
with IPv6 options enabled.

These links may be helpful in setting up IPv6 on various platforms:

   * Windows XP (http://support.microsoft.com/kb/2478747)

   * Gentoo Linux (http://www.gentoo.org/doc/en/ipv6.xml)

   * Ubuntu Linux (https://wiki.ubuntu.com/IPv6)

   * Linux (Generic) (http://www.tldp.org/HOWTO/Linux+IPv6-HOWTO/)

   * macOS (https://support.apple.com/en-us/HT202237)


File: manual.info.tmp,  Node: ipv6-server-config,  Next: ipv6-local-connections,  Prev: ipv6-system-support,  Up: ipv6-support

5.1.11.2 Configuring the MySQL Server to Permit IPv6 Connections
................................................................

The MySQL server listens on a single network socket for TCP/IP
connections.  This socket is bound to a single address, but it is
possible for an address to map onto multiple network interfaces.  To
specify an address, use the '--bind-address=ADDR' option at server
startup, where ADDR is an IPv4 or IPv6 address or a host name.  For
details, see the '--bind-address' description in *note server-options::.


File: manual.info.tmp,  Node: ipv6-local-connections,  Next: ipv6-remote-connections,  Prev: ipv6-server-config,  Up: ipv6-support

5.1.11.3 Connecting Using the IPv6 Local Host Address
.....................................................

The following procedure shows how to configure MySQL to permit IPv6
connections by clients that connect to the local server using the '::1'
local host address.  The instructions given here assume that your system
supports IPv6.

  1. Start the MySQL server with an appropriate '--bind-address' option
     to permit it to accept IPv6 connections.  For example, put the
     following lines in the server option file and restart the server:

          [mysqld]
          bind-address = ::

     Alternatively, you can bind the server to '::1', but that makes the
     server more restrictive for TCP/IP connections.  It accepts only
     IPv6 connections for that single address and rejects IPv4
     connections.  For more information, see the '--bind-address'
     description in *note server-options::.

  2. As an administrator, connect to the server and create an account
     for a local user who will connect from the '::1' local IPv6 host
     address:

          mysql> CREATE USER 'ipv6user'@'::1' IDENTIFIED BY 'ipv6pass';

     For the permitted syntax of IPv6 addresses in account names, see
     *note account-names::.  In addition to the *note 'CREATE USER':
     create-user. statement, you can issue *note 'GRANT': grant.
     statements that give specific privileges to the account, although
     that is not necessary for the remaining steps in this procedure.

  3. Invoke the *note 'mysql': mysql. client to connect to the server
     using the new account:

          shell> mysql -h ::1 -u ipv6user -pipv6pass

  4. Try some simple statements that show connection information:

          mysql> STATUS
          ...
          Connection:   ::1 via TCP/IP
          ...

          mysql> SELECT CURRENT_USER();
          +----------------+
          | CURRENT_USER() |
          +----------------+
          | ipv6user@::1   |
          +----------------+


File: manual.info.tmp,  Node: ipv6-remote-connections,  Next: ipv6-brokers,  Prev: ipv6-local-connections,  Up: ipv6-support

5.1.11.4 Connecting Using IPv6 Nonlocal Host Addresses
......................................................

The following procedure shows how to configure MySQL to permit IPv6
connections by remote clients.  It is similar to the preceding procedure
for local clients, but the server and client hosts are distinct and each
has its own nonlocal IPv6 address.  The example uses these addresses:

     Server host: 2001:db8:0:f101::1
     Client host: 2001:db8:0:f101::2

These addresses are chosen from the nonroutable address range
recommended by IANA
(http://www.iana.org/assignments/ipv6-unicast-address-assignments/ipv6-unicast-address-assignments.xml)
for documentation purposes and suffice for testing on your local
network.  To accept IPv6 connections from clients outside the local
network, the server host must have a public address.  If your network
provider assigns you an IPv6 address, you can use that.  Otherwise,
another way to obtain an address is to use an IPv6 broker; see *note
ipv6-brokers::.

  1. Start the MySQL server with an appropriate '--bind-address' option
     to permit it to accept IPv6 connections.  For example, put the
     following lines in the server option file and restart the server:

          [mysqld]
          bind-address = ::

     Alternatively, you can bind the server to '2001:db8:0:f101::1', but
     that makes the server more restrictive for TCP/IP connections.  It
     accepts only IPv6 connections for that single address and rejects
     IPv4 connections.  For more information, see the '--bind-address'
     description in *note server-options::.

  2. On the server host ('2001:db8:0:f101::1'), create an account for a
     user who will connect from the client host ('2001:db8:0:f101::2'):

          mysql> CREATE USER 'remoteipv6user'@'2001:db8:0:f101::2' IDENTIFIED BY 'remoteipv6pass';

  3. On the client host ('2001:db8:0:f101::2'), invoke the *note
     'mysql': mysql. client to connect to the server using the new
     account:

          shell> mysql -h 2001:db8:0:f101::1 -u remoteipv6user -premoteipv6pass

  4. Try some simple statements that show connection information:

          mysql> STATUS
          ...
          Connection:   2001:db8:0:f101::1 via TCP/IP
          ...

          mysql> SELECT CURRENT_USER();
          +-----------------------------------+
          | CURRENT_USER()                    |
          +-----------------------------------+
          | remoteipv6user@2001:db8:0:f101::2 |
          +-----------------------------------+


File: manual.info.tmp,  Node: ipv6-brokers,  Prev: ipv6-remote-connections,  Up: ipv6-support

5.1.11.5 Obtaining an IPv6 Address from a Broker
................................................

If you do not have a public IPv6 address that enables your system to
communicate over IPv6 outside your local network, you can obtain one
from an IPv6 broker.  The Wikipedia IPv6 Tunnel Broker page
(http://en.wikipedia.org/wiki/List_of_IPv6_tunnel_brokers) lists several
brokers and their features, such as whether they provide static
addresses and the supported routing protocols.

After configuring your server host to use a broker-supplied IPv6
address, start the MySQL server with an appropriate '--bind-address'
option to permit the server to accept IPv6 connections.  For example,
put the following lines in the server option file and restart the
server:

     [mysqld]
     bind-address = ::

Alternatively, you can bind the server to the specific IPv6 address
provided by the broker, but that makes the server more restrictive for
TCP/IP connections.  It accepts only IPv6 connections for that single
address and rejects IPv4 connections.  For more information, see the
'--bind-address' description in *note server-options::.  In addition, if
the broker allocates dynamic addresses, the address provided for your
system might change the next time you connect to the broker.  If so, any
accounts you create that name the original address become invalid.  To
bind to a specific address but avoid this change-of-address problem, you
may be able to arrange with the broker for a static IPv6 address.

The following example shows how to use Freenet6 as the broker and the
'gogoc' IPv6 client package on Gentoo Linux.

  1. Create an account at Freenet6 by visiting this URL and signing up:

          <http://gogonet.gogo6.com>

  2. After creating the account, go to this URL, sign in, and create a
     user ID and password for the IPv6 broker:

          <http://gogonet.gogo6.com/page/freenet6-registration>

  3. As 'root', install 'gogoc':

          shell> emerge gogoc

  4. Edit '/etc/gogoc/gogoc.conf' to set the 'userid' and 'password'
     values.  For example:

          userid=gogouser
          passwd=gogopass

  5. Start 'gogoc':

          shell> /etc/init.d/gogoc start

     To start 'gogoc' each time your system boots, execute this command:

          shell> rc-update add gogoc default

  6. Use 'ping6' to try to ping a host:

          shell> ping6 ipv6.google.com

  7. To see your IPv6 address:

          shell> ifconfig tun


File: manual.info.tmp,  Node: time-zone-support,  Next: server-side-help-support,  Prev: ipv6-support,  Up: mysqld-server

5.1.12 MySQL Server Time Zone Support
-------------------------------------

This section describes the time zone settings maintained by MySQL, how
to load the system tables required for named time support, how to stay
current with time zone changes, and how to enable leap-second support.

   * *note time-zone-variables::

   * *note time-zone-installation::

   * *note time-zone-upgrades::

   * *note time-zone-leap-seconds::

For information about time zone settings in replication setups, please
see *note replication-features::.

*Time Zone Variables*

MySQL Server maintains several time zone settings:

   * The system time zone.  When the server starts, it attempts to
     determine the time zone of the host machine automatically and uses
     it to set the 'system_time_zone' system variable.  The value does
     not change thereafter.

     To explicitly specify the system time zone for MySQL Server at
     startup, set the 'TZ' environment variable before you start *note
     'mysqld': mysqld.  If you start the server using *note
     'mysqld_safe': mysqld-safe, its '--timezone' option provides
     another way to set the system time zone.  The permissible values
     for 'TZ' and '--timezone' are system dependent.  Consult your
     operating system documentation to see what values are acceptable.

   * The server current time zone.  The global 'time_zone' system
     variable indicates the time zone the server currently is operating
     in.  The initial 'time_zone' value is ''SYSTEM'', which indicates
     that the server time zone is the same as the system time zone.

     *Note*:

     If set to 'SYSTEM', every MySQL function call that requires a time
     zone calculation makes a system library call to determine the
     current system time zone.  This call may be protected by a global
     mutex, resulting in contention.

     The initial global server time zone value can be specified
     explicitly at startup with the '--default-time-zone' option on the
     command line, or you can use the following line in an option file:

          default-time-zone='TIMEZONE'

     If you have the 'SUPER' privilege, you can set the global server
     time zone value at runtime with this statement:

          SET GLOBAL time_zone = TIMEZONE;

   * Per-session time zones.  Each client that connects has its own
     session time zone setting, given by the session 'time_zone'
     variable.  Initially, the session variable takes its value from the
     global 'time_zone' variable, but the client can change its own time
     zone with this statement:

          SET time_zone = TIMEZONE;

The session time zone setting affects display and storage of time values
that are zone-sensitive.  This includes the values displayed by
functions such as 'NOW()' or 'CURTIME()', and values stored in and
retrieved from *note 'TIMESTAMP': datetime. columns.  Values for *note
'TIMESTAMP': datetime. columns are converted from the session time zone
to UTC for storage, and from UTC to the session time zone for retrieval.

The session time zone setting does not affect values displayed by
functions such as 'UTC_TIMESTAMP()' or values in *note 'DATE': datetime,
*note 'TIME': time, or *note 'DATETIME': datetime. columns.  Nor are
values in those data types stored in UTC; the time zone applies for them
only when converting from *note 'TIMESTAMP': datetime. values.  If you
want locale-specific arithmetic for *note 'DATE': datetime, *note
'TIME': time, or *note 'DATETIME': datetime. values, convert them to
UTC, perform the arithmetic, and then convert back.

The current global and session time zone values can be retrieved like
this:

     SELECT @@GLOBAL.time_zone, @@SESSION.time_zone;

TIMEZONE values can be given in several formats, none of which are
case-sensitive:

   * As the value ''SYSTEM'', indicating that the server time zone is
     the same as the system time zone.

   * As a string indicating an offset from UTC of the form '[H]H:MM',
     prefixed with a '+' or '-', such as ''+10:00'', ''-6:00'', or
     ''+05:30''.  A leading zero can optionally be used for hours values
     less than 10; MySQL prepends a leading zero when storing and
     retriving the value in such cases.  MySQL converts ''-00:00'' or
     ''-0:00'' to ''+00:00''.

     A time zone offset must be in the range ''-12:59'' to ''+13:00'',
     inclusive.

   * As a named time zone, such as ''Europe/Helsinki'', ''US/Eastern'',
     or ''MET''.  Named time zones can be used only if the time zone
     information tables in the 'mysql' database have been created and
     populated.

*Populating the Time Zone Tables*

Several tables in the 'mysql' system database exist to store time zone
information (see *note system-schema::).  The MySQL installation
procedure creates the time zone tables, but does not load them.  To do
so manually, use the following instructions.

*Note*:

Loading the time zone information is not necessarily a one-time
operation because the information changes occasionally.  When such
changes occur, applications that use the old rules become out of date
and you may find it necessary to reload the time zone tables to keep the
information used by your MySQL server current.  See *note
time-zone-upgrades::.

If your system has its own _zoneinfo_ database (the set of files
describing time zones), use the *note 'mysql_tzinfo_to_sql':
mysql-tzinfo-to-sql. program to load the time zone tables.  Examples of
such systems are Linux, macOS, FreeBSD, and Solaris.  One likely
location for these files is the '/usr/share/zoneinfo' directory.  If
your system has no zoneinfo database, you can use a downloadable
package, as described later in this section.

To load the time zone tables from the command line, pass the zoneinfo
directory path name to *note 'mysql_tzinfo_to_sql': mysql-tzinfo-to-sql.
and send the output into the *note 'mysql': mysql. program.  For
example:

     mysql_tzinfo_to_sql /usr/share/zoneinfo | mysql -u root -p mysql

The *note 'mysql': mysql. command shown here assumes that you connect to
the server using an account such as 'root' that has privileges for
modifying tables in the 'mysql' system database.  Adjust the connection
parameters as required.

*note 'mysql_tzinfo_to_sql': mysql-tzinfo-to-sql. reads your system's
time zone files and generates SQL statements from them.  *note 'mysql':
mysql. processes those statements to load the time zone tables.

*note 'mysql_tzinfo_to_sql': mysql-tzinfo-to-sql. also can be used to
load a single time zone file or generate leap second information:

   * To load a single time zone file TZ_FILE that corresponds to a time
     zone name TZ_NAME, invoke *note 'mysql_tzinfo_to_sql':
     mysql-tzinfo-to-sql. like this:

          mysql_tzinfo_to_sql TZ_FILE TZ_NAME | mysql -u root -p mysql

     With this approach, you must execute a separate command to load the
     time zone file for each named zone that the server needs to know
     about.

   * If your time zone must account for leap seconds, initialize leap
     second information like this, where TZ_FILE is the name of your
     time zone file:

          mysql_tzinfo_to_sql --leap TZ_FILE | mysql -u root -p mysql

After running *note 'mysql_tzinfo_to_sql': mysql-tzinfo-to-sql, restart
the server so that it does not continue to use any previously cached
time zone data.

If your system has no zoneinfo database (for example, Windows), you can
use a package that is available for download at the MySQL Developer
Zone:

     <https://dev.mysql.com/downloads/timezones.html>

*Warning*:

Do _not_ use a downloadable time zone package if your system has a
zoneinfo database.  Use the *note 'mysql_tzinfo_to_sql':
mysql-tzinfo-to-sql. utility instead.  Otherwise, you may cause a
difference in datetime handling between MySQL and other applications on
your system.

You can use either a package that contains SQL statements to populate
your existing time zone tables, or a package that contains pre-built
'MyISAM' time zone tables to replace your existing tables:

   * To use a time zone package that contains SQL statements, download
     and unpack it, then load the unpacked file contents into your
     existing time zone tables:

          mysql -u root -p mysql < FILE_NAME

     Then restart the server.

   * To use a time zone package that contains '.frm', '.MYD', and '.MYI'
     files for the 'MyISAM' time zone tables, download and unpack it.
     These table files are part of the 'mysql' database, so you should
     place the files in the 'mysql' subdirectory of your MySQL server's
     data directory.  Stop the server before doing this and restart it
     afterward.

*Staying Current with Time Zone Changes*

When time zone rules change, applications that use the old rules become
out of date.  To stay current, it is necessary to make sure that your
system uses current time zone information is used.  For MySQL, there are
multiple factors to consider in staying current:

   * The operating system time affects the value that the MySQL server
     uses for times if its time zone is set to 'SYSTEM'.  Make sure that
     your operating system is using the latest time zone information.
     For most operating systems, the latest update or service pack
     prepares your system for the time changes.  Check the website for
     your operating system vendor for an update that addresses the time
     changes.

   * If you replace the system's '/etc/localtime' time zone file with a
     version that uses rules differing from those in effect at *note
     'mysqld': mysqld. startup, restart *note 'mysqld': mysqld. so that
     it uses the updated rules.  Otherwise, *note 'mysqld': mysqld.
     might not notice when the system changes its time.

   * If you use named time zones with MySQL, make sure that the time
     zone tables in the 'mysql' database are up to date:

        * If your system has its own zoneinfo database, reload the MySQL
          time zone tables whenever the zoneinfo database is updated.

        * For systems that do not have their own zoneinfo database,
          check the MySQL Developer Zone for updates.  When a new update
          is available, download it and use it to replace the content of
          your current time zone tables.

     For instructions for both methods, see *note
     time-zone-installation::.  *note 'mysqld': mysqld. caches time zone
     information that it looks up, so after updating the time zone
     tables, restart *note 'mysqld': mysqld. to make sure that it does
     not continue to serve outdated time zone data.

If you are uncertain whether named time zones are available, for use
either as the server's time zone setting or by clients that set their
own time zone, check whether your time zone tables are empty.  The
following query determines whether the table that contains time zone
names has any rows:

     mysql> SELECT COUNT(*) FROM mysql.time_zone_name;
     +----------+
     | COUNT(*) |
     +----------+
     |        0 |
     +----------+

A count of zero indicates that the table is empty.  In this case, no
applications currently are using named time zones, and you need not
update the tables (unless you want to enable named time zone support).
A count greater than zero indicates that the table is not empty and that
its contents are available to be used for named time zone support.  In
this case, be sure to reload your time zone tables so that applications
that use named time zones will obtain correct query results.

To check whether your MySQL installation is updated properly for a
change in Daylight Saving Time rules, use a test like the one following.
The example uses values that are appropriate for the 2007 DST 1-hour
change that occurs in the United States on March 11 at 2 a.m.

The test uses this query:

     SELECT
       CONVERT_TZ('2007-03-11 2:00:00','US/Eastern','US/Central') AS time1,
       CONVERT_TZ('2007-03-11 3:00:00','US/Eastern','US/Central') AS time2;

The two time values indicate the times at which the DST change occurs,
and the use of named time zones requires that the time zone tables be
used.  The desired result is that both queries return the same result
(the input time, converted to the equivalent value in the 'US/Central'
time zone).

Before updating the time zone tables, you see an incorrect result like
this:

     +---------------------+---------------------+
     | time1               | time2               |
     +---------------------+---------------------+
     | 2007-03-11 01:00:00 | 2007-03-11 02:00:00 |
     +---------------------+---------------------+

After updating the tables, you should see the correct result:

     +---------------------+---------------------+
     | time1               | time2               |
     +---------------------+---------------------+
     | 2007-03-11 01:00:00 | 2007-03-11 01:00:00 |
     +---------------------+---------------------+

*Time Zone Leap Second Support*

Leap second values are returned with a time part that ends with
':59:59'.  This means that a function such as 'NOW()' can return the
same value for two or three consecutive seconds during the leap second.
It remains true that literal temporal values having a time part that
ends with ':59:60' or ':59:61' are considered invalid.

If it is necessary to search for *note 'TIMESTAMP': datetime. values one
second before the leap second, anomalous results may be obtained if you
use a comparison with ''YYYY-MM-DD HH:MM:SS'' values.  The following
example demonstrates this.  It changes the session time zone to UTC so
there is no difference between internal *note 'TIMESTAMP': datetime.
values (which are in UTC) and displayed values (which have time zone
correction applied).


     mysql> CREATE TABLE t1 (
              a INT,
              ts TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
              PRIMARY KEY (ts)
            );
     Query OK, 0 rows affected (0.01 sec)

     mysql> -- change to UTC
     mysql> SET time_zone = '+00:00';
     Query OK, 0 rows affected (0.00 sec)

     mysql> -- Simulate NOW() = '2008-12-31 23:59:59'
     mysql> SET timestamp = 1230767999;
     Query OK, 0 rows affected (0.00 sec)

     mysql> INSERT INTO t1 (a) VALUES (1);
     Query OK, 1 row affected (0.00 sec)

     mysql> -- Simulate NOW() = '2008-12-31 23:59:60'
     mysql> SET timestamp = 1230768000;
     Query OK, 0 rows affected (0.00 sec)

     mysql> INSERT INTO t1 (a) VALUES (2);
     Query OK, 1 row affected (0.00 sec)

     mysql> -- values differ internally but display the same
     mysql> SELECT a, ts, UNIX_TIMESTAMP(ts) FROM t1;
     +------+---------------------+--------------------+
     | a    | ts                  | UNIX_TIMESTAMP(ts) |
     +------+---------------------+--------------------+
     |    1 | 2008-12-31 23:59:59 |         1230767999 |
     |    2 | 2008-12-31 23:59:59 |         1230768000 |
     +------+---------------------+--------------------+
     2 rows in set (0.00 sec)

     mysql> -- only the non-leap value matches
     mysql> SELECT * FROM t1 WHERE ts = '2008-12-31 23:59:59';
     +------+---------------------+
     | a    | ts                  |
     +------+---------------------+
     |    1 | 2008-12-31 23:59:59 |
     +------+---------------------+
     1 row in set (0.00 sec)

     mysql> -- the leap value with seconds=60 is invalid
     mysql> SELECT * FROM t1 WHERE ts = '2008-12-31 23:59:60';
     Empty set, 2 warnings (0.00 sec)

To work around this, you can use a comparison based on the UTC value
actually stored in the column, which has the leap second correction
applied:

     mysql> -- selecting using UNIX_TIMESTAMP value return leap value
     mysql> SELECT * FROM t1 WHERE UNIX_TIMESTAMP(ts) = 1230768000;
     +------+---------------------+
     | a    | ts                  |
     +------+---------------------+
     |    2 | 2008-12-31 23:59:59 |
     +------+---------------------+
     1 row in set (0.00 sec)


File: manual.info.tmp,  Node: server-side-help-support,  Next: server-shutdown,  Prev: time-zone-support,  Up: mysqld-server

5.1.13 Server-Side Help Support
-------------------------------

MySQL Server supports a *note 'HELP': help. statement that returns
information from the MySQL Reference Manual (see *note help::).  This
information is stored in several tables in the 'mysql' database (see
*note system-schema::).  Proper operation of the *note 'HELP': help.
statement requires that these help tables be initialized.

For a new installation of MySQL using a binary or source distribution on
Unix, help-table content initialization occurs when you initialize the
data directory (see *note data-directory-initialization::).  For an RPM
distribution on Linux or binary distribution on Windows, content
initialization occurs as part of the MySQL installation process.

For a MySQL upgrade using a binary distribution, help-table content is
not upgraded automatically, but you can upgrade it manually.  Locate the
'fill_help_tables.sql' file in the 'share' or 'share/mysql' directory.
Change location into that directory and process the file with the *note
'mysql': mysql. client as follows (enter the command on one line):

     mysql -u root -p
       --init-command="SET sql_log_bin=OFF"
       mysql < fill_help_tables.sql

The command shown here assumes that you connect to the server using an
account such as 'root' that has privileges for modifying tables in the
'mysql' database.  Adjust the connection parameters as required.

If you are working with Git and a MySQL development source tree, the
source tree contains only a 'stub' version of 'fill_help_tables.sql'.
To obtain a non-stub copy, use one from a source or binary distribution.

*Note*:

Each MySQL series has its own series-specific reference manual, so
help-table content is series specific as well.  This has implications
for replication because help-table content should match the MySQL
series.  If you load MySQL 5.5 help content into a MySQL 5.5 master
server, it does not make sense to replicate that content to a slave
server from a different MySQL series and for which that content is not
appropriate.  For this reason, as you upgrade individual servers in a
replication scenario, you should upgrade each server's help tables,
using the instructions given earlier.


File: manual.info.tmp,  Node: server-shutdown,  Prev: server-side-help-support,  Up: mysqld-server

5.1.14 The Server Shutdown Process
----------------------------------

The server shutdown process takes place as follows:

  1. The shutdown process is initiated.

     This can occur initiated several ways.  For example, a user with
     the 'SHUTDOWN' privilege can execute a *note 'mysqladmin shutdown':
     mysqladmin. command.  *note 'mysqladmin': mysqladmin. can be used
     on any platform supported by MySQL. Other operating system-specific
     shutdown initiation methods are possible as well: The server shuts
     down on Unix when it receives a 'SIGTERM' signal.  A server running
     as a service on Windows shuts down when the services manager tells
     it to.

  2. The server creates a shutdown thread if necessary.

     Depending on how shutdown was initiated, the server might create a
     thread to handle the shutdown process.  If shutdown was requested
     by a client, a shutdown thread is created.  If shutdown is the
     result of receiving a 'SIGTERM' signal, the signal thread might
     handle shutdown itself, or it might create a separate thread to do
     so.  If the server tries to create a shutdown thread and cannot
     (for example, if memory is exhausted), it issues a diagnostic
     message that appears in the error log:

          Error: Can't create thread to kill server

  3. The server stops accepting new connections.

     To prevent new activity from being initiated during shutdown, the
     server stops accepting new client connections by closing the
     handlers for the network interfaces to which it normally listens
     for connections: the TCP/IP port, the Unix socket file, the Windows
     named pipe, and shared memory on Windows.

  4. The server terminates current activity.

     For each thread associated with a client connection, the server
     breaks the connection to the client and marks the thread as killed.
     Threads die when they notice that they are so marked.  Threads for
     idle connections die quickly.  Threads that currently are
     processing statements check their state periodically and take
     longer to die.  For additional information about thread
     termination, see *note kill::, in particular for the instructions
     about killed *note 'REPAIR TABLE': repair-table. or *note 'OPTIMIZE
     TABLE': optimize-table. operations on 'MyISAM' tables.

     For threads that have an open transaction, the transaction is
     rolled back.  If a thread is updating a nontransactional table, an
     operation such as a multiple-row *note 'UPDATE': update. or *note
     'INSERT': insert. may leave the table partially updated because the
     operation can terminate before completion.

     If the server is a master replication server, it treats threads
     associated with currently connected slaves like other client
     threads.  That is, each one is marked as killed and exits when it
     next checks its state.

     If the server is a slave replication server, it stops the I/O and
     SQL threads, if they are active, before marking client threads as
     killed.  The SQL thread is permitted to finish its current
     statement (to avoid causing replication problems), and then stops.
     If the SQL thread is in the middle of a transaction at this point,
     the server waits until the current replication event group (if any)
     has finished executing, or until the user issues a *note 'KILL
     QUERY': kill. or *note 'KILL CONNECTION': kill. statement.  See
     also *note stop-slave::.

     If the slave is updating a nontransactional table when it is
     forcibly killed, the slave's data may become inconsistent with the
     master.

  5. The server shuts down or closes storage engines.

     At this stage, the server flushes the table cache and closes all
     open tables.

     Each storage engine performs any actions necessary for tables that
     it manages.  For example, 'MyISAM' flushes any pending index writes
     for a table.  'InnoDB' flushes its buffer pool to disk (unless
     'innodb_fast_shutdown' is 2), writes the current LSN to the
     tablespace, and terminates its own internal threads.

  6. The server exits.


File: manual.info.tmp,  Node: data-directory,  Next: system-schema,  Prev: mysqld-server,  Up: server-administration

5.2 The MySQL Data Directory
============================

Information managed by the MySQL server is stored under a directory
known as the data directory.  The following list briefly describes the
items typically found in the data directory, with cross references for
additional information:

   * Data directory subdirectories.  Each subdirectory of the data
     directory is a database directory and corresponds to a database
     managed by the server.  All MySQL installations have certain
     standard databases:

        * The 'mysql' directory corresponds to the 'mysql' system
          database, which contains information required by the MySQL
          server as it runs.  See *note system-schema::.

        * The 'performance_schema' directory corresponds to the
          Performance Schema, which provides information used to inspect
          the internal execution of the server at runtime.  See *note
          performance-schema::.

        * The 'ndbinfo' directory corresponds to the 'ndbinfo' database
          that stores information specific to NDB Cluster (present only
          for installations built to include NDB Cluster).  See *note
          mysql-cluster-ndbinfo::.

     Other subdirectories correspond to databases created by users or
     applications.

     *Note*:

     *note 'INFORMATION_SCHEMA': information-schema. is a standard
     database, but its implementation uses no corresponding database
     directory.

   * Log files written by the server.  See *note server-logs::.

   * 'InnoDB' tablespace and log files.  See *note
     innodb-storage-engine::.

   * The server process ID file (while the server is running).

Some items in the preceding list can be relocated elsewhere by
reconfiguring the server.  In addition, the '--datadir' option enables
the location of the data directory itself to be changed.  For a given
MySQL installation, check the server configuration to determine whether
items have been moved.


File: manual.info.tmp,  Node: system-schema,  Next: server-logs,  Prev: data-directory,  Up: server-administration

5.3 The mysql System Database
=============================

The 'mysql' database is the system database.  It contains tables that
store information required by the MySQL server as it runs.

Tables in the 'mysql' database fall into these categories:

   * *note system-schema-grant-tables::

   * *note system-schema-object-tables::

   * *note system-schema-log-tables::

   * *note system-schema-help-tables::

   * *note system-schema-time-zone-tables::

   * *note system-schema-replication-tables::

   * *note system-schema-miscellaneous-tables::

The remainder of this section enumerates the tables in each category,
with cross references for additional information.  System tables use the
'MyISAM' storage engine.

*Warning*:

Do _not_ convert MySQL system tables in the 'mysql' database from
'MyISAM' to 'InnoDB' tables.  This is an unsupported operation.  If you
do this, MySQL does not restart until you restore the old system tables
from a backup or regenerate them by reinitializing the data directory
(see *note data-directory-initialization::).

*Grant System Tables*

These system tables contain grant information about user accounts and
the privileges held by them:

   * 'user': User accounts, global privileges, and other nonprivilege
     columns.

   * 'db': Database-level privileges.

   * 'host': Obsolete.

   * 'tables_priv': Table-level privileges.

   * 'columns_priv': Column-level privileges.

   * 'procs_priv': Stored procedure and function privileges.

   * 'proxies_priv': Proxy-user privileges.

For more information about the structure, contents, and purpose of the
grant tables, see *note grant-tables::.

*Object Information System Tables*

These system tables contain information about stored programs,
user-defined functions, and server-side plugins:

   * 'event': Information about Event Scheduler events.  See *note
     event-scheduler::.  The server loads events listed in this table
     during its startup sequence, unless started with the
     '--skip-grant-tables' option.

   * 'func': Information about user-defined functions (UDFs).  See *note
     adding-functions::.  The server loads UDFs listed in this table
     during its startup sequence, unless started with the
     '--skip-grant-tables' option.

   * 'plugin': Information about server-side plugins.  See *note
     plugin-loading::, and *note plugin-api::.  The server loads plugins
     listed in this table during its startup sequence, unless started
     with the '--skip-grant-tables' option.

   * 'proc': Information about stored procedures and functions.  See
     *note stored-routines::.

*Log System Tables*

The server uses these system tables for logging:

   * 
     'general_log': The general query log table.

   * 
     'slow_log': The slow query log table.

Log tables use the 'CSV' storage engine.

For more information, see *note server-logs::.

*Server-Side Help System Tables*

These system tables contain server-side help information:

   * 
     'help_category': Information about help categories.

   * 
     'help_keyword': Keywords associated with help topics.

   * 
     'help_relation': Mappings between help keywords and topics.

   * 
     'help_topic': Help topic contents.

For more information, see *note server-side-help-support::.

*Time Zone System Tables*

These system tables contain time zone information:

   * 
     'time_zone': Time zone IDs and whether they use leap seconds.

   * 
     'time_zone_leap_second': When leap seconds occur.

   * 
     'time_zone_name': Mappings between time zone IDs and names.

   * 
     'time_zone_transition', 'time_zone_transition_type': Time zone
     descriptions.

For more information, see *note time-zone-support::.

*Replication System Tables*

The server uses the 'ndb_binlog_index' system table to store binary log
information for NDB Cluster replication.  See *note
mysql-cluster-replication-schema::.

*Miscellaneous System Tables*

Other system tables do not fall into the preceding categories:

   * 
     'servers': Used by the 'FEDERATED' storage engine.  See *note
     federated-create-server::.


File: manual.info.tmp,  Node: server-logs,  Next: server-plugins,  Prev: system-schema,  Up: server-administration

5.4 MySQL Server Logs
=====================

* Menu:

* log-destinations::             Selecting General Query Log and Slow Query Log Output Destinations
* error-log::                    The Error Log
* query-log::                    The General Query Log
* binary-log::                   The Binary Log
* slow-query-log::               The Slow Query Log
* ddl-log::                      The DDL Log
* log-file-maintenance::         Server Log Maintenance

MySQL Server has several logs that can help you find out what activity
is taking place.

Log Type               Information Written to Log
                       
Error log              Problems encountered starting, running, or
                       stopping *note 'mysqld': mysqld.
                       
General query log      Established client connections and statements
                       received from clients
                       
Binary log             Statements that change data (also used for
                       replication)
                       
Relay log              Data changes received from a replication master
                       server
                       
Slow query log         Queries that took more than 'long_query_time'
                       seconds to execute
                       
DDL log (metadata      Metadata operations performed by DDL statements
log)

By default, no logs are enabled, except the error log on Windows.  (The
DDL log is always created when required, and has no user-configurable
options; see *note ddl-log::.)  The following log-specific sections
provide information about the server options that enable logging.

By default, the server writes files for all enabled logs in the data
directory.  You can force the server to close and reopen the log files
(or in some cases switch to a new log file) by flushing the logs.  Log
flushing occurs when you issue a 'FLUSH LOGS' statement; execute *note
'mysqladmin': mysqladmin. with a 'flush-logs' or 'refresh' argument; or
execute *note 'mysqldump': mysqldump. with a '--flush-logs' or
'--master-data' option.  See *note flush::, *note mysqladmin::, and
*note mysqldump::.  In addition, the binary log is flushed when its size
reaches the value of the 'max_binlog_size' system variable.

You can control the general query and slow query logs during runtime.
You can enable or disable logging, or change the log file name.  You can
tell the server to write general query and slow query entries to log
tables, log files, or both.  For details, see *note log-destinations::,
*note query-log::, and *note slow-query-log::.

The relay log is used only on slave replication servers, to hold data
changes from the master server that must also be made on the slave.  For
discussion of relay log contents and configuration, see *note
slave-logs-relaylog::.

For information about log maintenance operations such as expiration of
old log files, see *note log-file-maintenance::.

For information about keeping logs secure, see *note password-logging::.


File: manual.info.tmp,  Node: log-destinations,  Next: error-log,  Prev: server-logs,  Up: server-logs

5.4.1 Selecting General Query Log and Slow Query Log Output Destinations
------------------------------------------------------------------------

MySQL Server provides flexible control over the destination of output
written to the general query log and the slow query log, if those logs
are enabled.  Possible destinations for log entries are log files or the
'general_log' and 'slow_log' tables in the 'mysql' system database.
File output, table output, or both can be selected.

   * *note log-destinations-startup::

   * *note log-destinations-runtime::

   * *note log-destinations-tables::

*Log Control at Server Startup*

The 'log_output' system variable specifies the destination for log
output.  Setting this variable does not in itself enable the logs; they
must be enabled separately.

   * If 'log_output' is not specified at startup, the default logging
     destination is 'FILE'.

   * If 'log_output' is specified at startup, its value is a list one or
     more comma-separated words chosen from 'TABLE' (log to tables),
     'FILE' (log to files), or 'NONE' (do not log to tables or files).
     'NONE', if present, takes precedence over any other specifiers.

The 'general_log' system variable controls logging to the general query
log for the selected log destinations.  If specified at server startup,
'general_log' takes an optional argument of 1 or 0 to enable or disable
the log.  To specify a file name other than the default for file
logging, set the 'general_log_file' variable.  Similarly, the
'slow_query_log' variable controls logging to the slow query log for the
selected destinations and setting 'slow_query_log_file' specifies a file
name for file logging.  If either log is enabled, the server opens the
corresponding log file and writes startup messages to it.  However,
further logging of queries to the file does not occur unless the 'FILE'
log destination is selected.

Examples:

   * To write general query log entries to the log table and the log
     file, use '--log_output=TABLE,FILE' to select both log destinations
     and '--general_log' to enable the general query log.

   * To write general and slow query log entries only to the log tables,
     use '--log_output=TABLE' to select tables as the log destination
     and '--general_log' and '--slow_query_log' to enable both logs.

   * To write slow query log entries only to the log file, use
     '--log_output=FILE' to select files as the log destination and
     '--slow_query_log' to enable the slow query log.  In this case,
     because the default log destination is 'FILE', you could omit the
     'log_output' setting.

*Log Control at Runtime*

The system variables associated with log tables and files enable runtime
control over logging:

   * The 'log_output' variable indicates the current logging
     destination.  It can be modified at runtime to change the
     destination.

   * The 'general_log' and 'slow_query_log' variables indicate whether
     the general query log and slow query log are enabled ('ON') or
     disabled ('OFF').  You can set these variables at runtime to
     control whether the logs are enabled.

   * The 'general_log_file' and 'slow_query_log_file' variables indicate
     the names of the general query log and slow query log files.  You
     can set these variables at server startup or at runtime to change
     the names of the log files.

   * To disable or enable general query logging for the current session,
     set the session 'sql_log_off' variable to 'ON' or 'OFF'.  (This
     assumes that the general query log itself is enabled.)

*Log Table Benefits and Characteristics*

The use of tables for log output offers the following benefits:

   * Log entries have a standard format.  To display the current
     structure of the log tables, use these statements:

          SHOW CREATE TABLE mysql.general_log;
          SHOW CREATE TABLE mysql.slow_log;

   * Log contents are accessible through SQL statements.  This enables
     the use of queries that select only those log entries that satisfy
     specific criteria.  For example, to select log contents associated
     with a particular client (which can be useful for identifying
     problematic queries from that client), it is easier to do this
     using a log table than a log file.

   * Logs are accessible remotely through any client that can connect to
     the server and issue queries (if the client has the appropriate log
     table privileges).  It is not necessary to log in to the server
     host and directly access the file system.

The log table implementation has the following characteristics:

   * In general, the primary purpose of log tables is to provide an
     interface for users to observe the runtime execution of the server,
     not to interfere with its runtime execution.

   * *note 'CREATE TABLE': create-table, *note 'ALTER TABLE':
     alter-table, and *note 'DROP TABLE': drop-table. are valid
     operations on a log table.  For *note 'ALTER TABLE': alter-table.
     and *note 'DROP TABLE': drop-table, the log table cannot be in use
     and must be disabled, as described later.

   * By default, the log tables use the 'CSV' storage engine that writes
     data in comma-separated values format.  For users who have access
     to the '.CSV' files that contain log table data, the files are easy
     to import into other programs such as spreadsheets that can process
     CSV input.

     The log tables can be altered to use the 'MyISAM' storage engine.
     You cannot use *note 'ALTER TABLE': alter-table. to alter a log
     table that is in use.  The log must be disabled first.  No engines
     other than 'CSV' or 'MyISAM' are legal for the log tables.

   * To disable logging so that you can alter (or drop) a log table, you
     can use the following strategy.  The example uses the general query
     log; the procedure for the slow query log is similar but uses the
     'slow_log' table and 'slow_query_log' system variable.

          SET @old_log_state = @@GLOBAL.general_log;
          SET GLOBAL general_log = 'OFF';
          ALTER TABLE mysql.general_log ENGINE = MyISAM;
          SET GLOBAL general_log = @old_log_state;

   * *note 'TRUNCATE TABLE': truncate-table. is a valid operation on a
     log table.  It can be used to expire log entries.

   * *note 'RENAME TABLE': rename-table. is a valid operation on a log
     table.  You can atomically rename a log table (to perform log
     rotation, for example) using the following strategy:

          USE mysql;
          DROP TABLE IF EXISTS general_log2;
          CREATE TABLE general_log2 LIKE general_log;
          RENAME TABLE general_log TO general_log_backup, general_log2 TO general_log;

   * *note 'CHECK TABLE': check-table. is a valid operation on a log
     table.

   * *note 'LOCK TABLES': lock-tables. cannot be used on a log table.

   * *note 'INSERT': insert, *note 'DELETE': delete, and *note 'UPDATE':
     update. cannot be used on a log table.  These operations are
     permitted only internally to the server itself.

   * 'FLUSH TABLES WITH READ LOCK' and the state of the 'read_only'
     system variable have no effect on log tables.  The server can
     always write to the log tables.

   * Entries written to the log tables are not written to the binary log
     and thus are not replicated to slave servers.

   * To flush the log tables or log files, use 'FLUSH TABLES' or 'FLUSH
     LOGS', respectively.

   * Partitioning of log tables is not permitted.

   * Before MySQL 5.5.25, *note 'mysqldump': mysqldump. does not dump
     the 'general_log' or 'slow_query_log' tables for dumps of the
     'mysql' database.  As of 5.5.25, the dump includes statements to
     recreate those tables so that they are not missing after reloading
     the dump file.  Log table contents are not dumped.


File: manual.info.tmp,  Node: error-log,  Next: query-log,  Prev: log-destinations,  Up: server-logs

5.4.2 The Error Log
-------------------

* Menu:

* error-log-windows::            Error Logging on Windows
* error-log-unix::               Error Logging on Unix and Unix-Like Systems
* error-log-syslog::             Error Logging to the System Log
* error-log-filtering::          Error Log Filtering
* error-log-rotation::           Error Log File Flushing and Renaming

This section discusses how to configure the MySQL server for logging of
diagnostic messages to the error log.  For information about selecting
the error message character set or language, see *note charset-errors::,
or *note error-message-language::.

The error log contains a record of *note 'mysqld': mysqld. startup and
shutdown times.  It also contains diagnostic messages such as errors,
warnings, and notes that occur during server startup and shutdown, and
while the server is running.  For example, if *note 'mysqld': mysqld.
notices that a table needs to be automatically checked or repaired, it
writes a message to the error log.

On some operating systems, the error log contains a stack trace if *note
'mysqld': mysqld. exits abnormally.  The trace can be used to determine
where *note 'mysqld': mysqld. exited.  See *note porting::.

If used to start *note 'mysqld': mysqld, *note 'mysqld_safe':
mysqld-safe. may write messages to the error log.  For example, when
*note 'mysqld_safe': mysqld-safe. notices abnormal *note 'mysqld':
mysqld. exits, it restarts *note 'mysqld': mysqld. and writes a 'mysqld
restarted' message to the error log.

The following sections discuss aspects of configuring error logging.  In
the discussion, 'console' means 'stderr', the standard error output.
This is your terminal or console window unless the standard error output
has been redirected to a different destination.

The server interprets options that determine where to write error
messages somewhat differently for Windows and Unix systems.  Be sure to
configure error logging using the information appropriate to your
platform.


File: manual.info.tmp,  Node: error-log-windows,  Next: error-log-unix,  Prev: error-log,  Up: error-log

5.4.2.1 Error Logging on Windows
................................

On Windows, *note 'mysqld': mysqld. uses the '--log-error',
'--pid-file', and '--console' options to determine whether *note
'mysqld': mysqld. writes the error log to the console or a file, and, if
to a file, the file name:

   * If '--console' is given, *note 'mysqld': mysqld. writes the error
     log to the console, unless '--log-error' is also given.
     '--log-error' takes precedence over '--console' if both are given.

   * If '--log-error' is not given, or is given without naming a file,
     *note 'mysqld': mysqld. writes the error log to a file named
     'HOST_NAME.err' in the data directory, unless the '--pid-file'
     option is specified.  In that case, the file name is the PID file
     base name with a suffix of '.err' in the data directory.

   * If '--log-error' is given to name a file, *note 'mysqld': mysqld.
     writes the error log to that file (with an '.err' suffix added if
     the name has no suffix), located under the data directory unless an
     absolute path name is given to specify a different location.

If the server writes the error log to a file, the 'log_error' system
variable indicates the error log file name.

In addition, the server by default writes events and error messages to
the Windows Event Log within the Application log:

   * Entries marked as 'Error', 'Warning', and 'Note' are written to the
     Event Log, but not messages such as information statements from
     individual storage engines.

   * Event Log entries have a source of 'MySQL'.

   * You cannot disable writing information to the Windows Event Log.


File: manual.info.tmp,  Node: error-log-unix,  Next: error-log-syslog,  Prev: error-log-windows,  Up: error-log

5.4.2.2 Error Logging on Unix and Unix-Like Systems
...................................................

On Unix and Unix-like systems, *note 'mysqld': mysqld. uses the
'--log-error' option to determine whether *note 'mysqld': mysqld. writes
the error log to the console or a file, and, if to a file, the file
name:

   * If '--log-error' is not given, *note 'mysqld': mysqld. writes the
     error log to the console.

   * If '--log-error' is given without naming a file, *note 'mysqld':
     mysqld. writes the error log to a file named 'HOST_NAME.err' in the
     data directory.

   * If '--log-error' is given to name a file, *note 'mysqld': mysqld.
     writes the error log to that file (with an '.err' suffix added if
     the name has no suffix), located under the data directory unless an
     absolute path name is given to specify a different location.

   * If '--log-error' is given in an option file in a '[mysqld]',
     '[server]', or '[mysqld_safe]' section, *note 'mysqld_safe':
     mysqld-safe. finds and uses the option, and passes it to *note
     'mysqld': mysqld.

*Note*:

It is common for Yum or APT package installations to configure an error
log file location under '/var/log' with an option like
'log-error=/var/log/mysqld.log' in a server configuration file.
Removing the file name from the option causes the 'HOST_NAME.err' file
in the data directory to be used.

If the server writes the error log to a file, the 'log_error' system
variable indicates the error log file name.


File: manual.info.tmp,  Node: error-log-syslog,  Next: error-log-filtering,  Prev: error-log-unix,  Up: error-log

5.4.2.3 Error Logging to the System Log
.......................................

If you use *note 'mysqld_safe': mysqld-safe. to start *note 'mysqld':
mysqld, *note 'mysqld_safe': mysqld-safe. arranges for *note 'mysqld':
mysqld. to write error messages to a log file or to 'syslog'.  *note
'mysqld_safe': mysqld-safe. has three error-logging options, '--syslog',
'--skip-syslog', and '--log-error'.  The default with no logging options
or with '--skip-syslog' is to use the default log file.  To explicitly
specify use of an error log file, specify '--log-error=FILE_NAME' to
*note 'mysqld_safe': mysqld-safe, which then arranges for *note
'mysqld': mysqld. to write messages to a log file.  To use 'syslog'
instead, specify the '--syslog' option.


File: manual.info.tmp,  Node: error-log-filtering,  Next: error-log-rotation,  Prev: error-log-syslog,  Up: error-log

5.4.2.4 Error Log Filtering
...........................

The '--log-warnings' option or 'log_warnings' system variable controls
warning logging to the error log.  The default value is enabled (1).  To
disable warning logging, set '--log-warnings' or 'log_warnings' to 0.
If the value is greater than 1, aborted connections are written to the
error log, and access-denied errors for new connection attempts are
written.  See *note communication-errors::.


File: manual.info.tmp,  Node: error-log-rotation,  Prev: error-log-filtering,  Up: error-log

5.4.2.5 Error Log File Flushing and Renaming
............................................

If you flush the error log using 'FLUSH ERROR LOGS', 'FLUSH LOGS', or
*note 'mysqladmin flush-logs': mysqladmin, the server closes and reopens
any error log file to which it is writing.  To rename an error log file,
do so manually before flushing.  Flushing the logs then opens a new file
with the original file name.  For example, assuming a log file name of
'HOST_NAME.err', to rename the file and create a new one, use the
following commands:

     mv HOST_NAME.err HOST_NAME.err-old
     mysqladmin flush-logs
     mv HOST_NAME.err-old BACKUP-DIRECTORY

On Windows, use 'rename' rather than 'mv'.

If the location of the error log file is not writable by the server, the
log-flushing operation fails to create a new log file.  For example, on
Linux, the server might write the error log to the '/var/log/mysqld.log'
file, where the '/var/log' directory is owned by 'root' and is not
writable by *note 'mysqld': mysqld.  For information about handling this
case, see *note log-file-maintenance::.

If the server is not writing to a named error log file, no error log
file renaming occurs when the error log is flushed.


File: manual.info.tmp,  Node: query-log,  Next: binary-log,  Prev: error-log,  Up: server-logs

5.4.3 The General Query Log
---------------------------

The general query log is a general record of what *note 'mysqld':
mysqld. is doing.  The server writes information to this log when
clients connect or disconnect, and it logs each SQL statement received
from clients.  The general query log can be very useful when you suspect
an error in a client and want to know exactly what the client sent to
*note 'mysqld': mysqld.

*note 'mysqld': mysqld. writes statements to the query log in the order
that it receives them, which might differ from the order in which they
are executed.  This logging order is in contrast with that of the binary
log, for which statements are written after they are executed but before
any locks are released.  In addition, the query log may contain
statements that only select data while such statements are never written
to the binary log.

When using statement-based binary logging on a replication master
server, statements received by its slaves are written to the query log
of each slave.  Statements are written to the query log of the master
server if a client reads events with the *note 'mysqlbinlog':
mysqlbinlog. utility and passes them to the server.

However, when using row-based binary logging, updates are sent as row
changes rather than SQL statements, and thus these statements are never
written to the query log when 'binlog_format' is 'ROW'.  A given update
also might not be written to the query log when this variable is set to
'MIXED', depending on the statement used.  See *note
replication-sbr-rbr::, for more information.

By default, the general query log is disabled.  To specify the initial
general query log state explicitly, use '--general_log[={0|1}]'.  With
no argument or an argument of 1, '--general_log' enables the log.  With
an argument of 0, this option disables the log.  To specify a log file
name, use '--general_log_file=FILE_NAME'.  To specify the log
destination, use the 'log_output' system variable (as described in *note
log-destinations::).  The older options to enable the general query log,
'--log' and '-l', are deprecated.

If you specify no name for the general query log file, the default name
is 'HOST_NAME.log'.  The server creates the file in the data directory
unless an absolute path name is given to specify a different directory.

To disable or enable the general query log or change the log file name
at runtime, use the global 'general_log' and 'general_log_file' system
variables.  Set 'general_log' to 0 (or 'OFF') to disable the log or to 1
(or 'ON') to enable it.  Set 'general_log_file' to specify the name of
the log file.  If a log file already is open, it is closed and the new
file is opened.

When the general query log is enabled, the server writes output to any
destinations specified by the 'log_output' system variable.  If you
enable the log, the server opens the log file and writes startup
messages to it.  However, further logging of queries to the file does
not occur unless the 'FILE' log destination is selected.  If the
destination is 'NONE', the server writes no queries even if the general
log is enabled.  Setting the log file name has no effect on logging if
the log destination value does not contain 'FILE'.

Server restarts and log flushing do not cause a new general query log
file to be generated (although flushing closes and reopens it).  To
rename the file and create a new one, use the following commands:

     shell> mv HOST_NAME.log HOST_NAME-old.log
     shell> mysqladmin flush-logs
     shell> mv HOST_NAME-old.log BACKUP-DIRECTORY

On Windows, use 'rename' rather than 'mv'.

You can also rename the general query log file at runtime by disabling
the log:

     SET GLOBAL general_log = 'OFF';

With the log disabled, rename the log file externally (for example, from
the command line).  Then enable the log again:

     SET GLOBAL general_log = 'ON';

This method works on any platform and does not require a server restart.

To disable or enable general query logging for the current session, set
the session 'sql_log_off' variable to 'ON' or 'OFF'.  (This assumes that
the general query log itself is enabled.)

The general query log should be protected because logged statements
might contain passwords.  See *note password-logging::.


File: manual.info.tmp,  Node: binary-log,  Next: slow-query-log,  Prev: query-log,  Up: server-logs

5.4.4 The Binary Log
--------------------

* Menu:

* binary-log-formats::           Binary Logging Formats
* binary-log-setting::           Setting The Binary Log Format
* binary-log-mixed::             Mixed Binary Logging Format
* binary-log-mysql-database::    Logging Format for Changes to mysql Database Tables

The binary log contains 'events' that describe database changes such as
table creation operations or changes to table data.  It also contains
events for statements that potentially could have made changes (for
example, a *note 'DELETE': delete. which matched no rows), unless
row-based logging is used.  The binary log also contains information
about how long each statement took that updated data.  The binary log
has two important purposes:

   * For replication, the binary log on a master replication server
     provides a record of the data changes to be sent to slave servers.
     The master server sends the events contained in its binary log to
     its slaves, which execute those events to make the same data
     changes that were made on the master.  See *note
     replication-implementation::.

   * Certain data recovery operations require use of the binary log.
     After a backup has been restored, the events in the binary log that
     were recorded after the backup was made are re-executed.  These
     events bring databases up to date from the point of the backup.
     See *note point-in-time-recovery::.

The binary log is not used for statements such as *note 'SELECT':
select. or *note 'SHOW': show. that do not modify data.  To log all
statements (for example, to identify a problem query), use the general
query log.  See *note query-log::.

Running a server with binary logging enabled makes performance slightly
slower.  However, the benefits of the binary log in enabling you to set
up replication and for restore operations generally outweigh this minor
performance decrement.

The binary log should be protected because logged statements might
contain passwords.  See *note password-logging::.

The following discussion describes some of the server options and
variables that affect the operation of binary logging.  For a complete
list, see *note replication-options-binary-log::.

To enable the binary log, start the server with the
'--log-bin[=BASE_NAME]' option.  If no BASE_NAME value is given, the
default name is the value of the '--pid-file' option (which by default
is the name of host machine) followed by '-bin'.  If the base name is
given, the server writes the file in the data directory unless the base
name is given with a leading absolute path name to specify a different
directory.  It is recommended that you specify a base name explicitly
rather than using the default of the host name; see *note
known-issues::, for the reason.

If you supply an extension in the log name (for example,
'--log-bin=BASE_NAME.EXTENSION'), the extension is silently removed and
ignored.

*note 'mysqld': mysqld. appends a numeric extension to the binary log
base name to generate binary log file names.  The number increases each
time the server creates a new log file, thus creating an ordered series
of files.  The server creates a new file in the series each time it
starts or flushes the logs.  The server also creates a new binary log
file automatically after the current log's size reaches
'max_binlog_size'.  A binary log file may become larger than
'max_binlog_size' if you are using large transactions because a
transaction is written to the file in one piece, never split between
files.

To keep track of which binary log files have been used, *note 'mysqld':
mysqld. also creates a binary log index file that contains the names of
the binary log files.  By default, this has the same base name as the
binary log file, with the extension ''.index''.  You can change the name
of the binary log index file with the '--log-bin-index[=FILE_NAME]'
option.  You should not manually edit this file while *note 'mysqld':
mysqld. is running; doing so would confuse *note 'mysqld': mysqld.

The term 'binary log file' generally denotes an individual numbered file
containing database events.  The term 'binary log' collectively denotes
the set of numbered binary log files plus the index file.

A client that has privileges sufficient to set restricted session system
variables (see *note system-variable-privileges::) can disable binary
logging of its own statements by using a *note 'SET sql_log_bin=OFF':
set-sql-log-bin. statement.

The format of the events recorded in the binary log is dependent on the
binary logging format.  Three format types are supported, row-based
logging, statement-based logging and mixed-base logging.  The binary
logging format used depends on the MySQL version.  For general
descriptions of the logging formats, see *note binary-log-formats::.
For detailed information about the format of the binary log, see MySQL
Internals: The Binary Log
(https://dev.mysql.com/doc/internals/en/binary-log.html).

The server evaluates the '--binlog-do-db' and '--binlog-ignore-db'
options in the same way as it does the '--replicate-do-db' and
'--replicate-ignore-db' options.  For information about how this is
done, see *note replication-rules-db-options::.

If you are replicating from an NDB Cluster to a standalone MySQL Server,
you should be aware that the *note 'NDB': mysql-cluster. storage engine
uses default values for some binary logging options (including options
specific to 'NDB' such as '--ndb-log-update-as-write') that differ from
those used by other storage engines.  If not corrected for, these
differences can lead to divergence of the master's and slave's binary
logs.  For more information, see *note
mysql-cluster-replication-ndb-to-non-ndb::.  In particular, if you are
using a nontransactional storage engine such as *note 'MyISAM':
myisam-storage-engine. on the slave, see *note
mysql-cluster-replication-ndb-to-nontransactional::.

A replication slave server by default does not write to its own binary
log any data modifications that are received from the replication
master.  To log these modifications, start the slave with the
'--log-slave-updates' option in addition to the '--log-bin' option (see
*note replication-options-slave::).  This is done when a slave is also
to act as a master to other slaves in chained replication.

You can delete all binary log files with the *note 'RESET MASTER':
reset-master. statement, or a subset of them with *note 'PURGE BINARY
LOGS': purge-binary-logs.  See *note reset::, and *note
purge-binary-logs::.

If you are using replication, you should not delete old binary log files
on the master until you are sure that no slave still needs to use them.
For example, if your slaves never run more than three days behind, once
a day you can execute *note 'mysqladmin flush-logs': mysqladmin. on the
master and then remove any logs that are more than three days old.  You
can remove the files manually, but it is preferable to use *note 'PURGE
BINARY LOGS': purge-binary-logs, which also safely updates the binary
log index file for you (and which can take a date argument).  See *note
purge-binary-logs::.

You can display the contents of binary log files with the *note
'mysqlbinlog': mysqlbinlog. utility.  This can be useful when you want
to reprocess statements in the log for a recovery operation.  For
example, you can update a MySQL server from the binary log as follows:

     shell> mysqlbinlog LOG_FILE | mysql -h SERVER_NAME

*note 'mysqlbinlog': mysqlbinlog. also can be used to display
replication slave relay log file contents because they are written using
the same format as binary log files.  For more information on the *note
'mysqlbinlog': mysqlbinlog. utility and how to use it, see *note
mysqlbinlog::.  For more information about the binary log and recovery
operations, see *note point-in-time-recovery::.

Binary logging is done immediately after a statement or transaction
completes but before any locks are released or any commit is done.  This
ensures that the log is logged in commit order.

Updates to nontransactional tables are stored in the binary log
immediately after execution.

Within an uncommitted transaction, all updates (*note 'UPDATE': update,
*note 'DELETE': delete, or *note 'INSERT': insert.) that change
transactional tables such as 'InnoDB' tables are cached until a *note
'COMMIT': commit. statement is received by the server.  At that point,
*note 'mysqld': mysqld. writes the entire transaction to the binary log
before the *note 'COMMIT': commit. is executed.

Modifications to nontransactional tables cannot be rolled back.  If a
transaction that is rolled back includes modifications to
nontransactional tables, the entire transaction is logged with a *note
'ROLLBACK': commit. statement at the end to ensure that the
modifications to those tables are replicated.

When a thread that handles the transaction starts, it allocates a buffer
of 'binlog_cache_size' to buffer statements.  If a statement is bigger
than this, the thread opens a temporary file to store the transaction.
The temporary file is deleted when the thread ends.

The 'Binlog_cache_use' status variable shows the number of transactions
that used this buffer (and possibly a temporary file) for storing
statements.  The 'Binlog_cache_disk_use' status variable shows how many
of those transactions actually had to use a temporary file.  These two
variables can be used for tuning 'binlog_cache_size' to a large enough
value that avoids the use of temporary files.

The 'max_binlog_cache_size' system variable (default 4GB, which is also
the maximum) can be used to restrict the total size used to cache a
multiple-statement transaction.  If a transaction is larger than this
many bytes, it fails and rolls back.  The minimum value is 4096.

If you are using the binary log and row based logging, concurrent
inserts are converted to normal inserts for 'CREATE ... SELECT' or *note
'INSERT ... SELECT': insert-select. statements.  This is done to ensure
that you can re-create an exact copy of your tables by applying the log
during a backup operation.  If you are using statement-based logging,
the original statement is written to the log.

The binary log format has some known limitations that can affect
recovery from backups.  See *note replication-features::.

Binary logging for stored programs is done as described in *note
stored-programs-logging::.

Note that the binary log format differs in MySQL 5.5 from previous
versions of MySQL, due to enhancements in replication.  See *note
replication-compatibility::.

Writes to the binary log file and binary log index file are handled in
the same way as writes to 'MyISAM' tables.  See *note full-disk::.

By default, the binary log is not synchronized to disk at each write.
So if the operating system or machine (not only the MySQL server)
crashes, there is a chance that the last statements of the binary log
are lost.  To prevent this, you can make the binary log be synchronized
to disk after every N writes to the binary log, with the 'sync_binlog'
system variable.  See *note server-system-variables::.  1 is the safest
value for 'sync_binlog', but also the slowest.  Even with 'sync_binlog'
set to 1, there is still the chance of an inconsistency between the
table content and binary log content in case of a crash.  For example,
if you are using 'InnoDB' tables and the MySQL server processes a *note
'COMMIT': commit. statement, it writes the whole transaction to the
binary log and then commits this transaction into 'InnoDB'.  If the
server crashes between those two operations, the transaction is rolled
back by 'InnoDB' at restart but still exists in the binary log.  To
resolve this, you should set '--innodb_support_xa' to 1.  Although this
option is related to the support of XA transactions in InnoDB, it also
ensures that the binary log and InnoDB data files are synchronized.

For this option to provide a greater degree of safety, the MySQL server
should also be configured to synchronize the binary log and the 'InnoDB'
logs to disk at every transaction.  The 'InnoDB' logs are synchronized
by default, and 'sync_binlog=1' can be used to synchronize the binary
log.  The effect of this option is that at restart after a crash, after
doing a rollback of transactions, the MySQL server scans the latest
binary log file to collect transaction XID values and calculate the last
valid position in the binary log file.  The MySQL server then tells
'InnoDB' to complete any prepared transactions that were successfully
written to the to the binary log, and truncates the binary log to the
last valid position.  This ensures that the binary log reflects the
exact data of 'InnoDB' tables, and so, that the slave remains in
synchrony with the master (not receiving a statement which has been
rolled back).

If the MySQL server discovers at crash recovery that the binary log is
shorter than it should have been, it lacks at least one successfully
committed 'InnoDB' transaction.  This should not happen if
'sync_binlog=1' and the disk/file system do an actual sync when they are
requested to (some do not), so the server prints an error message 'The
binary log FILE_NAME is shorter than its expected size'.  In this case,
this binary log is not correct and replication should be restarted from
a fresh snapshot of the master's data.

The session values of the following system variables are written to the
binary log and honored by the replication slave when parsing the binary
log:

   * 'sql_mode' (except that the 'NO_DIR_IN_CREATE' mode is not
     replicated; see *note replication-features-variables::)

   * 'foreign_key_checks'

   * 'unique_checks'

   * 'character_set_client'

   * 'collation_connection'

   * 'collation_database'

   * 'collation_server'

   * 'sql_auto_is_null'


File: manual.info.tmp,  Node: binary-log-formats,  Next: binary-log-setting,  Prev: binary-log,  Up: binary-log

5.4.4.1 Binary Logging Formats
..............................

The server uses several logging formats to record information in the
binary log.  The exact format employed depends on the version of MySQL
being used.  There are three logging formats:

   * Replication capabilities in MySQL originally were based on
     propagation of SQL statements from master to slave.  This is called
     _statement-based logging_.  You can cause this format to be used by
     starting the server with '--binlog-format=STATEMENT'.

   * In _row-based logging_, the master writes events to the binary log
     that indicate how individual table rows are affected.  You can
     cause the server to use row-based logging by starting it with
     '--binlog-format=ROW'.

   * A third option is also available: _mixed logging_.  With mixed
     logging, statement-based logging is used by default, but the
     logging mode switches automatically to row-based in certain cases
     as described below.  You can cause MySQL to use mixed logging
     explicitly by starting *note 'mysqld': mysqld. with the option
     '--binlog-format=MIXED'.

In MySQL 5.5, the default binary logging format is 'STATEMENT'.

The logging format can also be set or limited by the storage engine
being used.  This helps to eliminate issues when replicating certain
statements between a master and slave which are using different storage
engines.

With statement-based replication, there may be issues with replicating
nondeterministic statements.  In deciding whether or not a given
statement is safe for statement-based replication, MySQL determines
whether it can guarantee that the statement can be replicated using
statement-based logging.  If MySQL cannot make this guarantee, it marks
the statement as potentially unreliable and issues the warning,
'Statement may not be safe to log in statement format'.

You can avoid these issues by using MySQL's row-based replication
instead.


File: manual.info.tmp,  Node: binary-log-setting,  Next: binary-log-mixed,  Prev: binary-log-formats,  Up: binary-log

5.4.4.2 Setting The Binary Log Format
.....................................

You can select the binary logging format explicitly by starting the
MySQL server with '--binlog-format=TYPE'.  The supported values for TYPE
are:

   * 'STATEMENT' causes logging to be statement based.

   * 'ROW' causes logging to be row based.

   * 'MIXED' causes logging to use mixed format.

In MySQL 5.5, the default binary logging format is 'STATEMENT'.  This
includes MySQL NDB Cluster 7.2.1 and later MySQL NDB Cluster 7.2
releases, which are based on MySQL 5.5.

The logging format also can be switched at runtime.  Set the global
value of the 'binlog_format' system variable to specify the format for
clients that connect subsequent to the change:

     mysql> SET GLOBAL binlog_format = 'STATEMENT';
     mysql> SET GLOBAL binlog_format = 'ROW';
     mysql> SET GLOBAL binlog_format = 'MIXED';

An individual client can control the logging format for its own
statements by setting the session value of 'binlog_format':

     mysql> SET SESSION binlog_format = 'STATEMENT';
     mysql> SET SESSION binlog_format = 'ROW';
     mysql> SET SESSION binlog_format = 'MIXED';

*Note*:

Each MySQL Server can set its own and only its own binary logging format
(true whether 'binlog_format' is set with global or session scope).
This means that changing the logging format on a replication master does
not cause a slave to change its logging format to match.  (When using
'STATEMENT' mode, the 'binlog_format' system variable is not replicated;
when using 'MIXED' or 'ROW' logging mode, it is replicated but is
ignored by the slave.)  Changing the binary logging format on the master
while replication is ongoing, or without also changing it on the slave
can cause replication to fail with errors such as 'Error executing row
event: 'Cannot execute statement: impossible to write to binary log
since statement is in row format and BINLOG_FORMAT = STATEMENT.''

Changing the global 'binlog_format' value requires privileges sufficient
to set global system variables.  Changing the session 'binlog_format'
value requires privileges sufficient to set restricted session system
variables.  See *note system-variable-privileges::.

There are several reasons why a client might want to set binary logging
on a per-session basis:

   * A session that makes many small changes to the database might want
     to use row-based logging.

   * A session that performs updates that match many rows in the 'WHERE'
     clause might want to use statement-based logging because it will be
     more efficient to log a few statements than many rows.

   * Some statements require a lot of execution time on the master, but
     result in just a few rows being modified.  It might therefore be
     beneficial to replicate them using row-based logging.

There are exceptions when you cannot switch the replication format at
runtime:

   * From within a stored function or a trigger

   * If the *note 'NDBCLUSTER': mysql-cluster. storage engine is enabled

   * If the session is currently in row-based replication mode and has
     open temporary tables

Trying to switch the format in any of these cases results in an error.

If you are using *note 'InnoDB': innodb-storage-engine. tables and the
transaction isolation level is 'READ COMMITTED' or 'READ UNCOMMITTED',
only row-based logging can be used.  It is _possible_ to change the
logging format to 'STATEMENT', but doing so at runtime leads very
rapidly to errors because 'InnoDB' can no longer perform inserts.

Switching the replication format at runtime is not recommended when any
temporary tables exist, because temporary tables are logged only when
using statement-based replication, whereas with row-based replication
they are not logged.  With mixed replication, temporary tables are
usually logged; exceptions happen with user-defined functions (UDFs) and
with the 'UUID()' function.

With the binary log format set to 'ROW', many changes are written to the
binary log using the row-based format.  Some changes, however, still use
the statement-based format.  Examples include all DDL (data definition
language) statements such as *note 'CREATE TABLE': create-table, *note
'ALTER TABLE': alter-table, or *note 'DROP TABLE': drop-table.

The '--binlog-row-event-max-size' option is available for servers that
are capable of row-based replication.  Rows are stored into the binary
log in chunks having a size in bytes not exceeding the value of this
option.  The value must be a multiple of 256.  The default value is
1024.

*Warning*:

When using _statement-based logging_ for replication, it is possible for
the data on the master and slave to become different if a statement is
designed in such a way that the data modification is _nondeterministic_;
that is, it is left to the will of the query optimizer.  In general,
this is not a good practice even outside of replication.  For a detailed
explanation of this issue, see *note known-issues::.


File: manual.info.tmp,  Node: binary-log-mixed,  Next: binary-log-mysql-database,  Prev: binary-log-setting,  Up: binary-log

5.4.4.3 Mixed Binary Logging Format
...................................

When running in 'MIXED' logging format, the server automatically
switches from statement-based to row-based logging under the following
conditions:

   * When a DML statement updates an *note 'NDBCLUSTER': mysql-cluster.
     table.

   * When a function contains 'UUID()'.

   * When one or more tables with 'AUTO_INCREMENT' columns are updated
     and a trigger or stored function is invoked.  Like all other unsafe
     statements, this generates a warning if 'binlog_format =
     STATEMENT'.

     For more information, see *note
     replication-features-auto-increment::.

   * When any *note 'INSERT DELAYED': insert-delayed. is executed.

   * When the body of a view requires row-based replication, the
     statement creating the view also uses it.  For example, this occurs
     when the statement creating a view uses the 'UUID()' function.

   * When a call to a UDF is involved.

   * If a statement is logged by row and the session that executed the
     statement has any temporary tables, logging by row is used for all
     subsequent statements (except for those accessing temporary tables)
     until all temporary tables in use by that session are dropped.

     This is true whether or not any temporary tables are actually
     logged.

     Temporary tables cannot be logged using row-based format; thus,
     once row-based logging is used, all subsequent statements using
     that table are unsafe.  The server approximates this condition by
     treating all statements executed during the session as unsafe until
     the session no longer holds any temporary tables.

   * When 'FOUND_ROWS()' or 'ROW_COUNT()' is used.  (Bug #12092, Bug
     #30244)

   * When 'USER()', 'CURRENT_USER()', or 'CURRENT_USER' is used.  (Bug
     #28086)

   * When a statement refers to one or more system variables.  (Bug
     #31168)

     Exception

     The following system variables, when used with session scope
     (only), do not cause the logging format to switch:

        * 'auto_increment_increment'

        * 'auto_increment_offset'

        * 'character_set_client'

        * 'character_set_connection'

        * 'character_set_database'

        * 'character_set_server'

        * 'collation_connection'

        * 'collation_database'

        * 'collation_server'

        * 'foreign_key_checks'

        * 'identity'

        * 'last_insert_id'

        * 'lc_time_names'

        * 'pseudo_thread_id'

        * 'sql_auto_is_null'

        * 'time_zone'

        * 'timestamp'

        * 'unique_checks'

     For information about determining system variable scope, see *note
     using-system-variables::.

     For information about how replication treats 'sql_mode', see *note
     replication-features-variables::.

   * When one of the tables involved is a log table in the 'mysql'
     database.

   * When the 'LOAD_FILE()' function is used.  (Bug #39701)

*Note*:

A warning is generated if you try to execute a statement using
statement-based logging that should be written using row-based logging.
The warning is shown both in the client (in the output of *note 'SHOW
WARNINGS': show-warnings.) and through the *note 'mysqld': mysqld. error
log.  A warning is added to the *note 'SHOW WARNINGS': show-warnings.
table each time such a statement is executed.  However, only the first
statement that generated the warning for each client session is written
to the error log to prevent flooding the log.

In addition to the decisions above, individual engines can also
determine the logging format used when information in a table is
updated.  The logging capabilities of an individual engine can be
defined as follows:

   * If an engine supports row-based logging, the engine is said to be
     _row-logging capable_.

   * If an engine supports statement-based logging, the engine is said
     to be _statement-logging capable_.

A given storage engine can support either or both logging formats.  The
following table lists the formats supported by each engine.

Storage Engine                       Row Logging        Statement
                                     Supported          Logging
                                                        Supported
                                                        
'ARCHIVE'                            Yes                Yes
                                                        
'BLACKHOLE'                          Yes                Yes
                                                        
'CSV'                                Yes                Yes
                                                        
'EXAMPLE'                            Yes                No
                                                        
'FEDERATED'                          Yes                Yes
                                                        
'HEAP'                               Yes                Yes
                                                        
'InnoDB'                             Yes                Yes when the
                                                        transaction
                                                        isolation level
                                                        is 'REPEATABLE
                                                        READ' or
                                                        'SERIALIZABLE';
                                                        No otherwise.
                                                        
'MyISAM'                             Yes                Yes
                                                        
'MERGE'                              Yes                Yes
                                                        
*note 'NDBCLUSTER': mysql-cluster.   Yes                No
                                     

Whether a statement is to be logged and the logging mode to be used is
determined according to the type of statement (safe, unsafe, or binary
injected), the binary logging format ('STATEMENT', 'ROW', or 'MIXED'),
and the logging capabilities of the storage engine (statement capable,
row capable, both, or neither).  (Binary injection refers to logging a
change that must be logged using 'ROW' format.)

Statements may be logged with or without a warning; failed statements
are not logged, but generate errors in the log.  This is shown in the
following decision table.  *Type*, *binlog_format*, *SLC*, and *RLC*
columns outline the conditions, and *Error / Warning* and *Logged as*
columns represent the corresponding actions.  *SLC* stands for
'statement-logging capable', and *RLC* stands for 'row-logging capable'.

Type    'binlog_format'    SLC     RLC     Error /        Logged as
                                           Warning        
                                           
*       '*'                No      No      'Error:        '-'
                                           Cannot         
                                           execute
                                           statement':
                                           Binary
                                           logging is
                                           impossible
                                           since at
                                           least one
                                           engine is
                                           involved
                                           that is both
                                           row-incapable
                                           and
                                           statement-incapable.
                                           
Safe    'STATEMENT'        Yes     No      -              'STATEMENT'
                                                          
Safe    'MIXED'            Yes     No      -              'STATEMENT'
                                                          
Safe    'ROW'              Yes     No      'Error:        '-'
                                           Cannot         
                                           execute
                                           statement':
                                           Binary
                                           logging is
                                           impossible
                                           since
                                           'BINLOG_FORMAT
                                           = ROW' and
                                           at least one
                                           table uses a
                                           storage
                                           engine that
                                           is not
                                           capable of
                                           row-based
                                           logging.
                                           
Unsafe  'STATEMENT'        Yes     No      'Warning:      'STATEMENT'
                                           Unsafe         
                                           statement
                                           binlogged in
                                           statement
                                           format',
                                           since
                                           'BINLOG_FORMAT
                                           = STATEMENT'
                                           
Unsafe  'MIXED'            Yes     No      'Error:        '-'
                                           Cannot         
                                           execute
                                           statement':
                                           Binary
                                           logging of
                                           an unsafe
                                           statement is
                                           impossible
                                           when the
                                           storage
                                           engine is
                                           limited to
                                           statement-based
                                           logging,
                                           even if
                                           'BINLOG_FORMAT
                                           = MIXED'.
                                           
Unsafe  'ROW'              Yes     No      'Error:        -
                                           Cannot         
                                           execute
                                           statement':
                                           Binary
                                           logging is
                                           impossible
                                           since
                                           'BINLOG_FORMAT
                                           = ROW' and
                                           at least one
                                           table uses a
                                           storage
                                           engine that
                                           is not
                                           capable of
                                           row-based
                                           logging.
                                           
Row     'STATEMENT'        Yes     No      'Error:        -
Injection                                  Cannot         
                                           execute row
                                           injection':
                                           Binary
                                           logging is
                                           not possible
                                           since at
                                           least one
                                           table uses a
                                           storage
                                           engine that
                                           is not
                                           capable of
                                           row-based
                                           logging.
                                           
Row     'MIXED'            Yes     No      'Error:        -
Injection                                  Cannot         
                                           execute row
                                           injection':
                                           Binary
                                           logging is
                                           not possible
                                           since at
                                           least one
                                           table uses a
                                           storage
                                           engine that
                                           is not
                                           capable of
                                           row-based
                                           logging.
                                           
Row     'ROW'              Yes     No      'Error:        -
Injection                                  Cannot         
                                           execute row
                                           injection':
                                           Binary
                                           logging is
                                           not possible
                                           since at
                                           least one
                                           table uses a
                                           storage
                                           engine that
                                           is not
                                           capable of
                                           row-based
                                           logging.
                                           
Safe    'STATEMENT'        No      Yes     'Error:        '-'
                                           Cannot         
                                           execute
                                           statement':
                                           Binary
                                           logging is
                                           impossible
                                           since
                                           'BINLOG_FORMAT
                                           = STATEMENT'
                                           and at least
                                           one table
                                           uses a
                                           storage
                                           engine that
                                           is not
                                           capable of
                                           statement-based
                                           logging.
                                           
Safe    'MIXED'            No      Yes     -              'ROW'
                                                          
Safe    'ROW'              No      Yes     -              'ROW'
                                                          
Unsafe  'STATEMENT'        No      Yes     'Error:        -
                                           Cannot         
                                           execute
                                           statement':
                                           Binary
                                           logging is
                                           impossible
                                           since
                                           'BINLOG_FORMAT
                                           = STATEMENT'
                                           and at least
                                           one table
                                           uses a
                                           storage
                                           engine that
                                           is not
                                           capable of
                                           statement-based
                                           logging.
                                           
Unsafe  'MIXED'            No      Yes     -              'ROW'
                                                          
Unsafe  'ROW'              No      Yes     -              'ROW'
                                                          
Row     'STATEMENT'        No      Yes     'Error:        '-'
Injection                                  Cannot         
                                           execute row
                                           injection':
                                           Binary
                                           logging is
                                           not possible
                                           since
                                           'BINLOG_FORMAT
                                           =
                                           STATEMENT'.
                                           
Row     'MIXED'            No      Yes     -              'ROW'
Injection                                                 

Row     'ROW'              No      Yes     -              'ROW'
Injection                                                 

Safe    'STATEMENT'        Yes     Yes     -              'STATEMENT'
                                                          
Safe    'MIXED'            Yes     Yes     -              'STATEMENT'
                                                          
Safe    'ROW'              Yes     Yes     -              'ROW'
                                                          
Unsafe  'STATEMENT'        Yes     Yes     'Warning:      'STATEMENT'
                                           Unsafe         
                                           statement
                                           binlogged in
                                           statement
                                           format'
                                           since
                                           'BINLOG_FORMAT
                                           =
                                           STATEMENT'.
                                           
Unsafe  'MIXED'            Yes     Yes     -              'ROW'
                                                          
Unsafe  'ROW'              Yes     Yes     -              'ROW'
                                                          
Row     'STATEMENT'        Yes     Yes     'Error:        -
Injection                                  Cannot         
                                           execute row
                                           injection':
                                           Binary
                                           logging is
                                           not possible
                                           because
                                           'BINLOG_FORMAT
                                           =
                                           STATEMENT'.
                                           
Row     'MIXED'            Yes     Yes     -              'ROW'
Injection                                                 

Row     'ROW'              Yes     Yes     -              'ROW'
Injection                                  

When a warning is produced by the determination, a standard MySQL
warning is produced (and is available using *note 'SHOW WARNINGS':
show-warnings.).  The information is also written to the *note 'mysqld':
mysqld. error log.  Only one error for each error instance per client
connection is logged to prevent flooding the log.  The log message
includes the SQL statement that was attempted.

If a slave server was started with '--log-warnings' enabled, the slave
prints messages to the error log to provide information about its
status, such as the binary log and relay log coordinates where it starts
its job, when it is switching to another relay log, when it reconnects
after a disconnect, and so forth.


File: manual.info.tmp,  Node: binary-log-mysql-database,  Prev: binary-log-mixed,  Up: binary-log

5.4.4.4 Logging Format for Changes to mysql Database Tables
...........................................................

The contents of the grant tables in the 'mysql' database can be modified
directly (for example, with *note 'INSERT': insert. or *note 'DELETE':
delete.) or indirectly (for example, with *note 'GRANT': grant. or *note
'CREATE USER': create-user.).  Statements that affect 'mysql' database
tables are written to the binary log using the following rules:

   * Data manipulation statements that change data in 'mysql' database
     tables directly are logged according to the setting of the
     'binlog_format' system variable.  This pertains to statements such
     as *note 'INSERT': insert, *note 'UPDATE': update, *note 'DELETE':
     delete, *note 'REPLACE': replace, *note 'DO': do, *note 'LOAD
     DATA': load-data, *note 'SELECT': select, and *note 'TRUNCATE
     TABLE': truncate-table.

   * Statements that change the 'mysql' database indirectly are logged
     as statements regardless of the value of 'binlog_format'.  This
     pertains to statements such as *note 'GRANT': grant, *note
     'REVOKE': revoke, *note 'SET PASSWORD': set-password, *note 'RENAME
     USER': rename-user, 'CREATE' (all forms except *note 'CREATE TABLE
     ... SELECT': create-table.), 'ALTER' (all forms), and 'DROP' (all
     forms).

*note 'CREATE TABLE ... SELECT': create-table. is a combination of data
definition and data manipulation.  The *note 'CREATE TABLE':
create-table. part is logged using statement format and the *note
'SELECT': select. part is logged according to the value of
'binlog_format'.


File: manual.info.tmp,  Node: slow-query-log,  Next: ddl-log,  Prev: binary-log,  Up: server-logs

5.4.5 The Slow Query Log
------------------------

The slow query log consists of SQL statements that take more than
'long_query_time' seconds to execute and require at least
'min_examined_row_limit' rows to be examined.  The slow query log can be
used to find queries that take a long time to execute and are therefore
candidates for optimization.  However, examining a long slow query log
can be a time-consuming task.  To make this easier, you can use the
*note 'mysqldumpslow': mysqldumpslow. command to process a slow query
log file and summarize its contents.  See *note mysqldumpslow::.

The time to acquire the initial locks is not counted as execution time.
*note 'mysqld': mysqld. writes a statement to the slow query log after
it has been executed and after all locks have been released, so log
order might differ from execution order.

The slow query log should be protected because logged statements might
contain passwords.  See *note password-logging::.

   * *note slow-query-log-parameters::

   * *note slow-query-log-contents::

*Slow Query Log Parameters*

The minimum and default values of 'long_query_time' are 0 and 10,
respectively.  The value can be specified to a resolution of
microseconds.  For logging to a file, times are written including the
microseconds part.  For logging to tables, only integer times are
written; the microseconds part is ignored.

By default, administrative statements are not logged, nor are queries
that do not use indexes for lookups.  This behavior can be changed using
'--log-slow-admin-statements' and 'log_queries_not_using_indexes', as
described later.

By default, the slow query log is disabled.  To specify the initial slow
query log state explicitly, use '--slow_query_log[={0|1}]'.  With no
argument or an argument of 1, '--slow_query_log' enables the log.  With
an argument of 0, this option disables the log.  To specify a log file
name, use '--slow_query_log_file=FILE_NAME'.  To specify the log
destination, use the 'log_output' system variable (as described in *note
log-destinations::).  The older system variable to enable the slow query
log file, 'log_slow_queries', is deprecated.

If you specify no name for the slow query log file, the default name is
'HOST_NAME-slow.log'.  The server creates the file in the data directory
unless an absolute path name is given to specify a different directory.

To disable or enable the slow query log or change the log file name at
runtime, use the global 'slow_query_log' and 'slow_query_log_file'
system variables.  Set 'slow_query_log' to 0 to disable the log or to 1
to enable it.  Set 'slow_query_log_file' to specify the name of the log
file.  If a log file already is open, it is closed and the new file is
opened.

The server writes less information to the slow query log if you use the
'--log-short-format' option.

To include slow administrative statements in the slow query log, use the
'--log-slow-admin-statements' server option.  Administrative statements
include *note 'ALTER TABLE': alter-table, *note 'ANALYZE TABLE':
analyze-table, *note 'CHECK TABLE': check-table, *note 'CREATE INDEX':
create-index, *note 'DROP INDEX': drop-index, *note 'OPTIMIZE TABLE':
optimize-table, and *note 'REPAIR TABLE': repair-table.

To include queries that do not use indexes for row lookups in the
statements written to the slow query log, enable the
'log_queries_not_using_indexes' system variable.  (Even with that
variable enabled, the server does not log queries that would not benefit
from the presence of an index due to the table having fewer than two
rows.)  When queries that do not use an index are logged, the slow query
log may grow quickly.

The server uses the controlling parameters in the following order to
determine whether to write a query to the slow query log:

  1. The query must either not be an administrative statement, or
     '--log-slow-admin-statements' must have been specified.

  2. The query must have taken at least 'long_query_time' seconds, or
     'log_queries_not_using_indexes' must be enabled and the query used
     no indexes for row lookups.

  3. The query must have examined at least 'min_examined_row_limit'
     rows.

The server does not log queries handled by the query cache.

By default, a replication slave does not write replicated queries to the
slow query log.  To change this, use the '--log-slow-slave-statements'
server option.

*Slow Query Log Contents*

When the slow query log is enabled, the server writes output to any
destinations specified by the 'log_output' system variable.  If you
enable the log, the server opens the log file and writes startup
messages to it.  However, further logging of queries to the file does
not occur unless the 'FILE' log destination is selected.  If the
destination is 'NONE', the server writes no queries even if the slow
query log is enabled.  Setting the log file name has no effect on
logging if 'FILE' is not selected as an output destination.

If the slow query log is enabled and 'FILE' is selected as an output
destination, each statement written to the log is preceded by a line
that begins with a '#' character and has these fields (with all fields
on a single line):

   * 'Query_time: DURATION'

     The statement execution time in seconds.

   * 'Lock_time: DURATION'

     The time to acquire locks in seconds.

   * 'Rows_sent: N'

     The number of rows sent to the client.

   * 'Rows_examined: '

     The number of rows examined by the server layer (not counting any
     processing internal to storage engines).

Each statement written to the slow query log file is preceded by a *note
'SET': set-variable. statement that includes a timestamp indicating when
the slow statement was logged (which occurs after the statement finishes
executing).


File: manual.info.tmp,  Node: ddl-log,  Next: log-file-maintenance,  Prev: slow-query-log,  Up: server-logs

5.4.6 The DDL Log
-----------------

The DDL log, or metadata log, records metadata operations generated by
data definition statements such as *note 'DROP TABLE': drop-table. and
*note 'ALTER TABLE': alter-table.  MySQL uses this log to recover from
crashes occurring in the middle of a metadata operation.  When executing
the statement 'DROP TABLE t1, t2', we need to ensure that both 't1' and
't2' are dropped, and that each table drop is complete.  Another example
of this type of SQL statement is *note 'ALTER TABLE t3 DROP PARTITION
p2': alter-table-partition-operations, where we must make certain that
the partition is completely dropped and that its definition is removed
from the list of partitions for table 't3'.

A record of metadata operations such as those just described are written
to the file 'ddl_log.log', in the MySQL data directory.  This is a
binary file; it is not intended to be human-readable, and you should not
attempt to modify its contents in any way.

'ddl_log.log' is not created until it is actually needed for recording
metadata statements, and is removed following a successful start of
*note 'mysqld': mysqld.  Thus, it is possible for this file not to be
present on a MySQL server that is functioning in a completely normal
manner.

Currently, 'ddl_log.log' can hold up to 1048573 entries, equivalent to 4
GB in size.  Once this limit is exceeded, you must rename or remove the
file before it is possible to execute any additional DDL statements.
This is a known issue which we are working to resolve (Bug #83708).

There are no user-configurable server options or variables associated
with this file.


File: manual.info.tmp,  Node: log-file-maintenance,  Prev: ddl-log,  Up: server-logs

5.4.7 Server Log Maintenance
----------------------------

As described in *note server-logs::, MySQL Server can create several
different log files to help you see what activity is taking place.
However, you must clean up these files regularly to ensure that the logs
do not take up too much disk space.

When using MySQL with logging enabled, you may want to back up and
remove old log files from time to time and tell MySQL to start logging
to new files.  See *note backup-methods::.

On a Linux (Red Hat) installation, you can use the 'mysql-log-rotate'
script for log maintenance.  If you installed MySQL from an RPM
distribution, this script should have been installed automatically.  Be
careful with this script if you are using the binary log for
replication.  You should not remove binary logs until you are certain
that their contents have been processed by all slaves.

On other systems, you must install a short script yourself that you
start from 'cron' (or its equivalent) for handling log files.

For the binary log, you can set the 'expire_logs_days' system variable
to expire binary log files automatically after a given number of days
(see *note server-system-variables::).  If you are using replication,
you should set the variable no lower than the maximum number of days
your slaves might lag behind the master.  To remove binary logs on
demand, use the *note 'PURGE BINARY LOGS': purge-binary-logs. statement
(see *note purge-binary-logs::).

To force MySQL to start using new log files, flush the logs.  Log
flushing occurs when you execute a 'FLUSH LOGS' statement or a *note
'mysqladmin flush-logs': mysqladmin, *note 'mysqladmin refresh':
mysqladmin, *note 'mysqldump --flush-logs': mysqldump, or *note
'mysqldump --master-data': mysqldump. command.  See *note flush::, *note
mysqladmin::, and *note mysqldump::.  In addition, the server flushes
the binary log automatically when current binary log file size reaches
the value of the 'max_binlog_size' system variable.

'FLUSH LOGS' supports optional modifiers to enable selective flushing of
individual logs (for example, 'FLUSH BINARY LOGS').  See *note flush::.

A log-flushing operation has the following effects:

   * If binary logging is enabled, the server closes the current binary
     log file and opens a new log file with the next sequence number.

   * If general query logging or slow query logging to a log file is
     enabled, the server closes and reopens the log file.

   * If the server was started with the '--log-error' option to cause
     the error log to be written to a file, the server closes and
     reopens the log file.

Execution of log-flushing statements or commands requires connecting to
the server using an account that has the 'RELOAD' privilege.  On Unix
and Unix-like systems, another way to flush the logs is to send a
'SIGHUP' signal to the server, which can be done by 'root' or the
account that owns the server process.  Signals enable log flushing to be
performed without having to connect to the server.  However, 'SIGHUP'
has additional effects other than log flushing that might be
undesirable.  For details, see *note unix-signal-response::.

As mentioned previously, flushing the binary log creates a new binary
log file, whereas flushing the general query log, slow query log, or
error log just closes and reopens the log file.  For the latter logs, to
cause a new log file to be created on Unix, rename the current log file
first before flushing it.  At flush time, the server opens the new log
file with the original name.  For example, if the general query log,
slow query log, and error log files are named 'mysql.log',
'mysql-slow.log', and 'err.log', you can use a series of commands like
this from the command line:

     cd MYSQL-DATA-DIRECTORY
     mv mysql.log mysql.log.old
     mv mysql-slow.log mysql-slow.log.old
     mv err.log err.log.old
     mysqladmin flush-logs

On Windows, use 'rename' rather than 'mv'.

At this point, you can make a backup of 'mysql.log.old',
'mysql-slow.log.old', and 'err.log.old', then remove them from disk.

To rename the general query log or slow query log at runtime, first
connect to the server and disable the log:

     SET GLOBAL general_log = 'OFF';
     SET GLOBAL slow_query_log = 'OFF';

With the logs disabled, rename the log files externally (for example,
from the command line).  Then enable the logs again:

     SET GLOBAL general_log = 'ON';
     SET GLOBAL slow_query_log = 'ON';

This method works on any platform and does not require a server restart.

*Note*:

For the server to recreate a given log file after you have renamed the
file externally, the file location must be writable by the server.  This
may not always be the case.  For example, on Linux, the server might
write the error log as '/var/log/mysqld.log', where '/var/log' is owned
by 'root' and not writable by *note 'mysqld': mysqld.  In this case,
log-flushing operations fail to create a new log file.

To handle this situation, you must manually create the new log file with
the proper ownership after renaming the original log file.  For example,
execute these commands as 'root':

     mv /var/log/mysqld.log /var/log/mysqld.log.old
     install -omysql -gmysql -m0644 /dev/null /var/log/mysqld.log


File: manual.info.tmp,  Node: server-plugins,  Next: server-udfs,  Prev: server-logs,  Up: server-administration

5.5 MySQL Server Plugins
========================

* Menu:

* plugin-loading::               Installing and Uninstalling Plugins
* obtaining-plugin-information::  Obtaining Server Plugin Information
* thread-pool::                  MySQL Enterprise Thread Pool

MySQL supports a plugin API that enables creation of server components.
Plugins can be loaded at server startup, or loaded and unloaded at
runtime without restarting the server.  The components supported by this
interface include, but are not limited to, storage engines,
'INFORMATION_SCHEMA' tables, full-text parser plugins, partitioning
support, and server extensions.

MySQL distributions include several plugins that implement server
extensions:

   * Plugins for authenticating attempts by clients to connect to MySQL
     Server.  Plugins are available for several authentication
     protocols.  See *note pluggable-authentication::.

   * Semisynchronous replication plugins implement an interface to
     replication capabilities that permit the master to proceed as long
     as at least one slave has responded to each transaction.  See *note
     replication-semisync::.

   * MySQL Enterprise Edition includes a thread pool plugin that manages
     connection threads to increase server performance by efficiently
     managing statement execution threads for large numbers of client
     connections.  See *note thread-pool::.

   * MySQL Enterprise Edition includes an audit plugin for monitoring
     and logging of connection and query activity.  See *note
     audit-log::.

The following sections describe how to install and uninstall plugins,
and how to determine at runtime which plugins are installed and obtain
information about them.  For information about writing plugins, see
*note plugin-api::.


File: manual.info.tmp,  Node: plugin-loading,  Next: obtaining-plugin-information,  Prev: server-plugins,  Up: server-plugins

5.5.1 Installing and Uninstalling Plugins
-----------------------------------------

Server plugins must be loaded into the server before they can be used.
MySQL supports plugin loading at server startup and runtime.  It is also
possible to control the activation state of loaded plugins at startup,
and to unload them at runtime.

While a plugin is loaded, information about it is available from the
*note 'INFORMATION_SCHEMA.PLUGINS': plugins-table. table and the *note
'SHOW PLUGINS': show-plugins. statement.  See *note
obtaining-plugin-information::.

   * *note server-plugin-installing::

   * *note server-plugin-activating::

   * *note server-plugin-uninstalling::

*Installing Plugins*

Before a server plugin can be used, it must be installed using one of
the following methods.  In the descriptions, PLUGIN_NAME stands for a
plugin name such as 'innodb' or 'csv'.

*Built-in plugins:*

A built-in plugin is known by the server automatically.  Normally, the
server enables the plugin at startup.  Some built-in plugins permit this
to be changed with the '--PLUGIN_NAME[=ACTIVATION_STATE]' option.

*Plugins registered in the 'mysql.plugin' system table:*

The 'plugin' table in the 'mysql' system database serves as a registry
of plugins (other than built-in plugins, which need not be registered).
At startup, the server loads each plugin listed in the table.  Normally,
for a plugin loaded from the 'mysql.plugin' table, the server also
enables the plugin.  This can be changed with the
'--PLUGIN_NAME[=ACTIVATION_STATE]' option.

If the server is started with the '--skip-grant-tables' option, it does
not consult the 'mysql.plugin' table and does not load the plugins
listed there.

*Plugins named with the '--plugin-load' option:*

A plugin located in a plugin library file can be loaded at server
startup with the '--plugin-load' option.  Normally, for a plugin loaded
at startup, the server also enables the plugin.  This can be changed
with the '--PLUGIN_NAME[=ACTIVATION_STATE]' option.

The value of each plugin-loading option is a semicolon-separated list of
NAME'='PLUGIN_LIBRARY and PLUGIN_LIBRARY values.  Each NAME is the name
of a plugin to load, and PLUGIN_LIBRARY is the name of the library file
that contains the plugin code.  If a plugin library is named without any
preceding plugin name, the server loads all plugins in the library.  The
server looks for plugin library files in the directory named by the
'plugin_dir' system variable.

Plugin-loading options do not register any plugin in the 'mysql.plugin'
table.  For subsequent restarts, the server loads the plugin again only
if '--plugin-load' is given again.  That is, the option produces a
one-time plugin-installation operation that persists for a single server
invocation.

'--plugin-load' enables plugins to be loaded even when
'--skip-grant-tables' is given (which causes the server to ignore the
'mysql.plugin' table).  '--plugin-load' also enables plugins to be
loaded at startup under configurations when plugins cannot be loaded at
runtime.

*Plugins installed with the *note 'INSTALL PLUGIN': install-plugin.
statement:*

A plugin located in a plugin library file can be loaded at runtime with
the *note 'INSTALL PLUGIN': install-plugin. statement.  The statement
also registers the plugin in the 'mysql.plugin' table to cause the
server to load it on subsequent restarts.  For this reason, *note
'INSTALL PLUGIN': install-plugin. requires the 'INSERT' privilege for
the 'mysql.plugin' table.

The plugin library file base name depends on your platform.  Common
suffixes are '.so' for Unix and Unix-like systems, '.dll' for Windows.

Example: The '--plugin-load' option installs a plugin at server startup.
To install a plugin named 'myplugin' from a plugin library file named
'somepluglib.so', use these lines in a 'my.cnf' file:

     [mysqld]
     plugin-load=myplugin=somepluglib.so

In this case, the plugin is not registered in 'mysql.plugin'.
Restarting the server without the '--plugin-load' option causes the
plugin not to be loaded at startup.

Alternatively, the *note 'INSTALL PLUGIN': install-plugin. statement
causes the server to load the plugin code from the library file at
runtime:

     INSTALL PLUGIN myplugin SONAME 'somepluglib.so';

*note 'INSTALL PLUGIN': install-plugin. also causes 'permanent' plugin
registration: The plugin is listed in the 'mysql.plugin' table to ensure
that the server loads it on subsequent restarts.

Many plugins can be loaded either at server startup or at runtime.
However, if a plugin is designed such that it must be loaded and
initialized during server startup, attempts to load it at runtime using
*note 'INSTALL PLUGIN': install-plugin. produce an error:

     mysql> INSTALL PLUGIN myplugin SONAME 'somepluglib.so';
     ERROR 1721 (HY000): Plugin 'myplugin' is marked as not dynamically
     installable. You have to stop the server to install it.

In this case, you must use '--plugin-load'.

Many plugins can be loaded either at server startup or at runtime.
However, if a plugin is designed such that it must be loaded and
initialized during server startup, use '--plugin-load' rather than *note
'INSTALL PLUGIN': install-plugin.

If a plugin is named both using a '--plugin-load' option and (as a
result of an earlier *note 'INSTALL PLUGIN': install-plugin. statement)
in the 'mysql.plugin' table, the server starts but writes these messages
to the error log:

     [ERROR] Function 'PLUGIN_NAME' already exists
     [Warning] Couldn't load plugin named 'PLUGIN_NAME'
     with soname 'PLUGIN_OBJECT_FILE'.

*Controlling Plugin Activation State*

If the server knows about a plugin when it starts (for example, because
the plugin is named using a '--plugin-load' option or is registered in
the 'mysql.plugin' table), the server loads and enables the plugin by
default.  It is possible to control activation state for such a plugin
using a '--PLUGIN_NAME[=ACTIVATION_STATE]' startup option, where
PLUGIN_NAME is the name of the plugin to affect, such as 'innodb' or
'csv'.  As with other options, dashes and underscores are
interchangeable in option names.  Also, activation state values are not
case-sensitive.  For example, '--my_plugin=ON' and '--my-plugin=on' are
equivalent.

   * '--PLUGIN_NAME=OFF'

     Tells the server to disable the plugin.  This may not be possible
     for certain built-in plugins, such as 'mysql_native_password'.

   * '--PLUGIN_NAME[=ON]'

     Tells the server to enable the plugin.  (Specifying the option as
     '--PLUGIN_NAME' without a value has the same effect.)  If the
     plugin fails to initialize, the server runs with the plugin
     disabled.

   * '--PLUGIN_NAME=FORCE'

     Tells the server to enable the plugin, but if plugin initialization
     fails, the server does not start.  In other words, this option
     forces the server to run with the plugin enabled or not at all.

   * '--PLUGIN_NAME=FORCE_PLUS_PERMANENT'

     Like 'FORCE', but in addition prevents the plugin from being
     unloaded at runtime.  If a user attempts to do so with *note
     'UNINSTALL PLUGIN': uninstall-plugin, an error occurs.  This value
     is available as of MySQL 5.5.7.

Plugin activation states are visible in the 'LOAD_OPTION' column of the
*note 'INFORMATION_SCHEMA.PLUGINS': plugins-table. table.

Suppose that 'CSV', 'BLACKHOLE', and 'ARCHIVE' are built-in pluggable
storage engines and that you want the server to load them at startup,
subject to these conditions: The server is permitted to run if 'CSV'
initialization fails, must require that 'BLACKHOLE' initialization
succeeds, and should disable 'ARCHIVE'.  To accomplish that, use these
lines in an option file:

     [mysqld]
     csv=ON
     blackhole=FORCE
     archive=OFF

The '--enable-PLUGIN_NAME' option format is a synonym for
'--PLUGIN_NAME=ON'.  The '--disable-PLUGIN_NAME' and
'--skip-PLUGIN_NAME' option formats are synonyms for
'--PLUGIN_NAME=OFF'.

Before MySQL 5.1.36, plugin options are boolean options (see *note
option-modifiers::).  That is, any of these options enable the plugin:

     --PLUGIN_NAME
     --PLUGIN_NAME=1
     --enable-PLUGIN_NAME

And these options disable the plugin:

     --PLUGIN_NAME=0
     --disable-PLUGIN_NAME
     --skip-PLUGIN_NAME

If you upgrade to MySQL 5.5 from a version older than 5.1.36 and
previously used options of the form '--PLUGIN_NAME=0' or
'--PLUGIN_NAME=1', the equivalent options are now '--PLUGIN_NAME=OFF'
and '--PLUGIN_NAME=ON', respectively.  You also have the choice of
requiring plugins to start successfully by using '--PLUGIN_NAME=FORCE'
or '--PLUGIN_NAME=FORCE_PLUS_PERMANENT'.

If a plugin is disabled, either explicitly with 'OFF' or implicitly
because it was enabled with 'ON' but failed to initialize, aspects of
server operation that require the plugin will change.  For example, if
the plugin implements a storage engine, existing tables for the storage
engine become inaccessible, and attempts to create new tables for the
storage engine result in tables that use the default storage engine
unless the 'NO_ENGINE_SUBSTITUTION' SQL mode is enabled to cause an
error to occur instead.

Disabling a plugin may require adjustment to other options.  For
example, if you start the server using '--skip-innodb' to disable *note
'InnoDB': innodb-storage-engine, other 'innodb_XXX' options likely will
need to be omitted at startup.  In addition, because *note 'InnoDB':
innodb-storage-engine. is the default storage engine, it will not start
unless you also change the 'default_storage_engine' system variable to
set the default to some other available engine.

*Uninstalling Plugins*

At runtime, the *note 'UNINSTALL PLUGIN': uninstall-plugin. statement
disables and uninstalls a plugin known to the server.  The statement
unloads the plugin and removes it from the 'mysql.plugin' system table,
if it is registered there.  For this reason, *note 'UNINSTALL PLUGIN':
uninstall-plugin. statement requires the 'DELETE' privilege for the
'mysql.plugin' table.  With the plugin no longer registered in the
table, the server does not load the plugin automatically for subsequent
restarts.

*note 'UNINSTALL PLUGIN': uninstall-plugin. can unload a plugin
regardless of whether it was loaded at runtime with *note 'INSTALL
PLUGIN': install-plugin. or at startup with a plugin-loading option,
subject to these conditions:

   * It cannot unload plugins that are built in to the server.  These
     can be identified as those that have a library name of 'NULL' in
     the output from *note 'INFORMATION_SCHEMA.PLUGINS': plugins-table.
     or *note 'SHOW PLUGINS': show-plugins.

   * It cannot unload plugins for which the server was started with
     '--PLUGIN_NAME=FORCE_PLUS_PERMANENT', which prevents plugin
     unloading at runtime.  These can be identified from the
     'LOAD_OPTION' column of the *note 'INFORMATION_SCHEMA.PLUGINS':
     plugins-table. table.

To uninstall a plugin that currently is loaded at server startup with a
plugin-loading option, use this procedure.

  1. Remove any options related to the plugin from the 'my.cnf' file.

  2. Restart the server.

  3. Plugins normally are installed using either a plugin-loading option
     at startup or with *note 'INSTALL PLUGIN': install-plugin. at
     runtime, but not both.  However, removing options for a plugin from
     the 'my.cnf' file may not be sufficient to uninstall it if at some
     point *note 'INSTALL PLUGIN': install-plugin. has also been used.
     If the plugin still appears in the output from *note
     'INFORMATION_SCHEMA.PLUGINS': plugins-table. or *note 'SHOW
     PLUGINS': show-plugins, use *note 'UNINSTALL PLUGIN':
     uninstall-plugin. to remove it from the 'mysql.plugin' table.  Then
     restart the server again.


File: manual.info.tmp,  Node: obtaining-plugin-information,  Next: thread-pool,  Prev: plugin-loading,  Up: server-plugins

5.5.2 Obtaining Server Plugin Information
-----------------------------------------

There are several ways to determine which plugins are installed in the
server:

   * The *note 'INFORMATION_SCHEMA.PLUGINS': plugins-table. table
     contains a row for each loaded plugin.  Any that have a
     'PLUGIN_LIBRARY' value of 'NULL' are built in and cannot be
     unloaded.

          mysql> SELECT * FROM INFORMATION_SCHEMA.PLUGINS\G
          *************************** 1. row ***************************
                     PLUGIN_NAME: binlog
                  PLUGIN_VERSION: 1.0
                   PLUGIN_STATUS: ACTIVE
                     PLUGIN_TYPE: STORAGE ENGINE
             PLUGIN_TYPE_VERSION: 50158.0
                  PLUGIN_LIBRARY: NULL
          PLUGIN_LIBRARY_VERSION: NULL
                   PLUGIN_AUTHOR: MySQL AB
              PLUGIN_DESCRIPTION: This is a pseudo storage engine to represent the binlog in a transaction
                  PLUGIN_LICENSE: GPL
                     LOAD_OPTION: FORCE
          ...
          *************************** 10. row ***************************
                     PLUGIN_NAME: InnoDB
                  PLUGIN_VERSION: 1.0
                   PLUGIN_STATUS: ACTIVE
                     PLUGIN_TYPE: STORAGE ENGINE
             PLUGIN_TYPE_VERSION: 50158.0
                  PLUGIN_LIBRARY: ha_innodb_plugin.so
          PLUGIN_LIBRARY_VERSION: 1.0
                   PLUGIN_AUTHOR: Innobase Oy
              PLUGIN_DESCRIPTION: Supports transactions, row-level locking,
                                  and foreign keys
                  PLUGIN_LICENSE: GPL
                     LOAD_OPTION: ON
          ...

   * The *note 'SHOW PLUGINS': show-plugins. statement displays a row
     for each loaded plugin.  Any that have a 'Library' value of 'NULL'
     are built in and cannot be unloaded.

          mysql> SHOW PLUGINS\G
          *************************** 1. row ***************************
             Name: binlog
           Status: ACTIVE
             Type: STORAGE ENGINE
          Library: NULL
          License: GPL
          ...
          *************************** 10. row ***************************
             Name: InnoDB
           Status: ACTIVE
             Type: STORAGE ENGINE
          Library: ha_innodb_plugin.so
          License: GPL
          ...

   * The 'mysql.plugin' table shows which plugins have been registered
     with *note 'INSTALL PLUGIN': install-plugin.  The table contains
     only plugin names and library file names, so it does not provide as
     much information as the *note 'PLUGINS': plugins-table. table or
     the *note 'SHOW PLUGINS': show-plugins. statement.


File: manual.info.tmp,  Node: thread-pool,  Prev: obtaining-plugin-information,  Up: server-plugins

5.5.3 MySQL Enterprise Thread Pool
----------------------------------

* Menu:

* thread-pool-components::       Thread Pool Components
* thread-pool-installation::     Thread Pool Installation
* thread-pool-operation::        Thread Pool Operation
* thread-pool-tuning::           Thread Pool Tuning

*Note*:

MySQL Enterprise Thread Pool is an extension included in MySQL
Enterprise Edition, a commercial product.  To learn more about
commercial products, <https://www.mysql.com/products/>.

As of MySQL 5.5.16, MySQL Enterprise Edition includes MySQL Enterprise
Thread Pool, implemented using a server plugin.  The default
thread-handling model in MySQL Server executes statements using one
thread per client connection.  As more clients connect to the server and
execute statements, overall performance degrades.  The thread pool
plugin provides an alternative thread-handling model designed to reduce
overhead and improve performance.  The plugin implements a thread pool
that increases server performance by efficiently managing statement
execution threads for large numbers of client connections.

The thread pool addresses several problems of the model that uses one
thread per connection:

   * Too many thread stacks make CPU caches almost useless in highly
     parallel execution workloads.  The thread pool promotes thread
     stack reuse to minimize the CPU cache footprint.

   * With too many threads executing in parallel, context switching
     overhead is high.  This also presents a challenging task to the
     operating system scheduler.  The thread pool controls the number of
     active threads to keep the parallelism within the MySQL server at a
     level that it can handle and that is appropriate for the server
     host on which MySQL is executing.

   * Too many transactions executing in parallel increases resource
     contention.  In *note 'InnoDB': innodb-storage-engine, this
     increases the time spent holding central mutexes.  The thread pool
     controls when transactions start to ensure that not too many
     execute in parallel.

*Additional Resources*

*note faqs-thread-pool::


File: manual.info.tmp,  Node: thread-pool-components,  Next: thread-pool-installation,  Prev: thread-pool,  Up: thread-pool

5.5.3.1 Thread Pool Components
..............................

The thread pool feature comprises these components:

   * A plugin library file implements a plugin for the thread pool code
     as well as several associated monitoring tables that provide
     information about thread pool operation.

     For a detailed description of how the thread pool works, see *note
     thread-pool-operation::.

     The 'INFORMATION_SCHEMA' tables are named *note 'TP_THREAD_STATE':
     tp-thread-state-table, *note 'TP_THREAD_GROUP_STATE':
     tp-thread-group-state-table, and *note 'TP_THREAD_GROUP_STATS':
     tp-thread-group-stats-table.  These tables provide information
     about thread pool operation.  For more information, see *note
     thread-pool-i_s-tables::.

   * Several system variables are related to the thread pool.  The
     'thread_handling' system variable has a value of
     'loaded-dynamically' when the server successfully loads the thread
     pool plugin.

     The other related variables are implemented by the thread pool
     plugin; they are not available unless it is enabled:

        * 'thread_pool_algorithm': The concurrency algorithm to use for
          scheduling.

        * 'thread_pool_high_priority_connection': How to schedule
          statement execution for a session.

        * 'thread_pool_prio_kickup_timer': How long before the thread
          pool moves a statement awaiting execution from the
          low-priority queue to the high-priority queue.

        * 'thread_pool_max_unused_threads': How many sleeping threads to
          permit.

        * 'thread_pool_size': The number of thread groups in the thread
          pool.  This is the most important parameter controlling thread
          pool performance.

        * 'thread_pool_stall_limit': The time before an executing
          statement is considered to be stalled.

     If any variable implemented by the plugin is set to an illegal
     value at startup, plugin initialization fails and the plugin does
     not load.

     For information about setting thread pool parameters, see *note
     thread-pool-tuning::.

   * The Performance Schema has instruments that expose information
     about the thread pool and may be used to investigate operational
     performance.  To identify them, use this query:

          SELECT * FROM performance_schema.setup_instruments
          WHERE NAME LIKE '%thread_pool%';

     For more information, see *note performance-schema::.


File: manual.info.tmp,  Node: thread-pool-installation,  Next: thread-pool-operation,  Prev: thread-pool-components,  Up: thread-pool

5.5.3.2 Thread Pool Installation
................................

This section describes how to install MySQL Enterprise Thread Pool.  For
general information about installing plugins, see *note
plugin-loading::.

To be usable by the server, the plugin library file must be located in
the MySQL plugin directory (the directory named by the 'plugin_dir'
system variable).  If necessary, configure the plugin directory location
by setting the value of 'plugin_dir' at server startup.

The plugin library file base name is 'thread_pool'.  The file name
suffix differs per platform (for example, '.so' for Unix and Unix-like
systems, '.dll' for Windows).

To enable thread pool capability, load the plugins to be used by
starting the server with the '--plugin-load' option.  For example, if
you name just the plugin library file, the server loads all plugins that
it contains (that is, the thread pool plugin and all the
'INFORMATION_SCHEMA' tables).  To do this, put these lines in the server
'my.cnf' file (adjust the '.so' suffix for your platform as necessary):

     [mysqld]
     plugin-load=thread_pool.so

That is equivalent to loading all thread pool plugins by naming them
individually:

     [mysqld]
     plugin-load=thread_pool=thread_pool.so;tp_thread_state=thread_pool.so;tp_thread_group_state=thread_pool.so;tp_thread_group_stats=thread_pool.so

If desired, you can load individual plugins from the library file.  To
load the thread pool plugin but not the 'INFORMATION_SCHEMA' tables, use
an option like this:

     [mysqld]
     plugin-load=thread_pool=thread_pool.so

To load the thread pool plugin and only the *note 'TP_THREAD_STATE':
tp-thread-state-table. 'INFORMATION_SCHEMA' table, use an option like
this:

     [mysqld]
     plugin-load=thread_pool=thread_pool.so;tp_thread_state=thread_pool.so

*Note*:

If you do not load all the 'INFORMATION_SCHEMA' tables, some or all
MySQL Enterprise Monitor thread pool graphs will be empty.

To verify plugin installation, examine the *note
'INFORMATION_SCHEMA.PLUGINS': plugins-table. table or use the *note
'SHOW PLUGINS': show-plugins. statement (see *note
obtaining-plugin-information::).  For example:

     mysql> SELECT PLUGIN_NAME, PLUGIN_STATUS
            FROM INFORMATION_SCHEMA.PLUGINS
            WHERE PLUGIN_NAME LIKE 'thread%' OR PLUGIN_NAME LIKE 'tp%';
     +-----------------------+---------------+
     | PLUGIN_NAME           | PLUGIN_STATUS |
     +-----------------------+---------------+
     | thread_pool           | ACTIVE        |
     | TP_THREAD_STATE       | ACTIVE        |
     | TP_THREAD_GROUP_STATE | ACTIVE        |
     | TP_THREAD_GROUP_STATS | ACTIVE        |
     +-----------------------+---------------+

If the server loads the thread pool plugin successfully, it sets the
'thread_handling' system variable to 'loaded-dynamically'.

If a plugin failed to initialize, check the server error log for
diagnostic messages.


File: manual.info.tmp,  Node: thread-pool-operation,  Next: thread-pool-tuning,  Prev: thread-pool-installation,  Up: thread-pool

5.5.3.3 Thread Pool Operation
.............................

The thread pool consists of a number of thread groups, each of which
manages a set of client connections.  As connections are established,
the thread pool assigns them to thread groups in round-robin fashion.

The number of thread groups is configurable using the 'thread_pool_size'
system variable.  The default number of groups is 16.  For guidelines on
setting this variable, see *note thread-pool-tuning::.

The maximum number of threads per group is 4096 (or 4095 on some systems
where one thread is used internally).

The thread pool separates connections and threads, so there is no fixed
relationship between connections and the threads that execute statements
received from those connections.  This differs from the default
thread-handling model that associates one thread with one connection
such that a given thread executes all statements from its connection.

The thread pool tries to ensure a maximum of one thread executing in
each group at any time, but sometimes permits more threads to execute
temporarily for best performance.  The algorithm works in the following
manner:

   * Each thread group has a listener thread that listens for incoming
     statements from the connections assigned to the group.  When a
     statement arrives, the thread group either begins executing it
     immediately or queues it for later execution:

        * Immediate execution occurs if the statement is the only one
          received and no statements are queued or currently executing.

        * Queuing occurs if the statement cannot begin executing
          immediately.

   * If immediate execution occurs, execution is performed by the
     listener thread.  (This means that temporarily no thread in the
     group is listening.)  If the statement finishes quickly, the
     executing thread returns to listening for statements.  Otherwise,
     the thread pool considers the statement stalled and starts another
     thread as a listener thread (creating it if necessary).  To ensure
     that no thread group becomes blocked by stalled statements, the
     thread pool has a background thread that regularly monitors thread
     group states.

     By using the listening thread to execute a statement that can begin
     immediately, there is no need to create an additional thread if the
     statement finishes quickly.  This ensures the most efficient
     execution possible in the case of a low number of concurrent
     threads.

     When the thread pool plugin starts, it creates one thread per group
     (the listener thread), plus the background thread.  Additional
     threads are created as necessary to execute statements.

   * The value of the 'thread_pool_stall_limit' system variable
     determines the meaning of 'finishes quickly' in the previous item.
     The default time before threads are considered stalled is 60ms but
     can be set to a maximum of 6s.  This parameter is configurable to
     enable you to strike a balance appropriate for the server work
     load.  Short wait values permit threads to start more quickly.
     Short values are also better for avoiding deadlock situations.
     Long wait values are useful for workloads that include long-running
     statements, to avoid starting too many new statements while the
     current ones execute.

   * The thread pool focuses on limiting the number of concurrent
     short-running statements.  Before an executing statement reaches
     the stall time, it prevents other statements from beginning to
     execute.  If the statement executes past the stall time, it is
     permitted to continue but no longer prevents other statements from
     starting.  In this way, the thread pool tries to ensure that in
     each thread group there is never more than one short-running
     statement, although there might be multiple long-running
     statements.  It is undesirable to let long-running statements
     prevent other statements from executing because there is no limit
     on the amount of waiting that might be necessary.  For example, on
     a replication master, a thread that is sending binary log events to
     a slave effectively runs forever.

   * A statement becomes blocked if it encounters a disk I/O operation
     or a user level lock (row lock or table lock).  The block would
     cause the thread group to become unused, so there are callbacks to
     the thread pool to ensure that the thread pool can immediately
     start a new thread in this group to execute another statement.
     When a blocked thread returns, the thread pool permits it to
     restart immediately.

   * There are two queues, a high-priority queue and a low-priority
     queue.  The first statement in a transaction goes to the
     low-priority queue.  Any following statements for the transaction
     go to the high-priority queue if the transaction is ongoing
     (statements for it have begun executing), or to the low-priority
     queue otherwise.  Queue assignment can be affected by enabling the
     'thread_pool_high_priority_connection' system variable, which
     causes all queued statements for a session to go into the
     high-priority queue.

     Statements for a nontransactional storage engine, or a
     transactional engine if 'autocommit' is enabled, are treated as
     low-priority statements because in this case each statement is a
     transaction.  Thus, given a mix of statements for 'InnoDB' and
     'MyISAM' tables, the thread pool prioritizes those for 'InnoDB'
     over those for 'MyISAM' unless 'autocommit' is enabled.  With
     'autocommit' enabled, all statements will be low priority.

   * When the thread group selects a queued statement for execution, it
     first looks in the high-priority queue, then in the low-priority
     queue.  If a statement is found, it is removed from its queue and
     begins to execute.

   * If a statement stays in the low-priority queue too long, the thread
     pool moves to the high-priority queue.  The value of the
     'thread_pool_prio_kickup_timer' system variable controls the time
     before movement.  For each thread group, a maximum of one statement
     per 10ms or 100 per second will be moved from the low-priority
     queue to the high-priority queue.

   * The thread pool reuses the most active threads to obtain a much
     better use of CPU caches.  This is a small adjustment that has a
     great impact on performance.

   * While a thread executes a statement from a user connection,
     Performance Schema instrumentation accounts thread activity to the
     user connection.  Otherwise, Performance Schema accounts activity
     to the thread pool.

Here are examples of conditions under which a thread group might have
multiple threads started to execute statements:

   * One thread begins executing a statement, but runs long enough to be
     considered stalled.  The thread group permits another thread to
     begin executing another statement even through the first thread is
     still executing.

   * One thread begins executing a statement, then becomes blocked and
     reports this back to the thread pool.  The thread group permits
     another thread to begin executing another statement.

   * One thread begins executing a statement, becomes blocked, but does
     not report back that it is blocked because the block does not occur
     in code that has been instrumented with thread pool callbacks.  In
     this case, the thread appears to the thread group to be still
     running.  If the block lasts long enough for the statement to be
     considered stalled, the group permits another thread to begin
     executing another statement.

The thread pool is designed to be scalable across an increasing number
of connections.  It is also designed to avoid deadlocks that can arise
from limiting the number of actively executing statements.  It is
important that threads that do not report back to the thread pool do not
prevent other statements from executing and thus cause the thread pool
to become deadlocked.  Examples of such statements follow:

   * Long-running statements.  These would lead to all resources used by
     only a few statements and they could prevent all others from
     accessing the server.

   * Binary log dump threads that read the binary log and send it to
     slaves.  This is a kind of long-running 'statement' that runs for a
     very long time, and that should not prevent other statements from
     executing.

   * Statements blocked on a row lock, table lock, sleep, or any other
     blocking activity that has not been reported back to the thread
     pool by MySQL Server or a storage engine.

In each case, to prevent deadlock, the statement is moved to the stalled
category when it does not complete quickly, so that the thread group can
permit another statement to begin executing.  With this design, when a
thread executes or becomes blocked for an extended time, the thread pool
moves the thread to the stalled category and for the rest of the
statement's execution, it does not prevent other statements from
executing.

The maximum number of threads that can occur is the sum of
'max_connections' and 'thread_pool_size'.  This can happen in a
situation where all connections are in execution mode and an extra
thread is created per group to listen for more statements.  This is not
necessarily a state that happens often, but it is theoretically
possible.


File: manual.info.tmp,  Node: thread-pool-tuning,  Prev: thread-pool-operation,  Up: thread-pool

5.5.3.4 Thread Pool Tuning
..........................

This section provides guidelines on setting thread pool system variables
for best performance, measured using a metric such as transactions per
second.

'thread_pool_size' is the most important parameter controlling thread
pool performance.  It can be set only at server startup.  Our experience
in testing the thread pool indicates the following:

   * If the primary storage engine is *note 'InnoDB':
     innodb-storage-engine, the optimal 'thread_pool_size' setting is
     likely to be between 16 and 36, with the most common optimal values
     tending to be from 24 to 36.  We have not seen any situation where
     the setting has been optimal beyond 36.  There may be special cases
     where a value smaller than 16 is optimal.

     For workloads such as DBT2 and Sysbench, the optimum for *note
     'InnoDB': innodb-storage-engine. seems to be usually around 36.
     For very write-intensive workloads, the optimal setting can
     sometimes be lower.

   * If the primary storage engine is *note 'MyISAM':
     myisam-storage-engine, the 'thread_pool_size' setting should be
     fairly low.  Optimal performance is often seen with values from 4
     to 8.  Higher values tend to have a slightly negative but not
     dramatic impact on performance.

Another system variable, 'thread_pool_stall_limit', is important for
handling of blocked and long-running statements.  If all calls that
block the MySQL Server are reported to the thread pool, it would always
know when execution threads are blocked.  However, this may not always
be true.  For example, blocks could occur in code that has not been
instrumented with thread pool callbacks.  For such cases, the thread
pool must be able to identify threads that appear to be blocked.  This
is done by means of a timeout, the length of which can be tuned using
the 'thread_pool_stall_limit' system variable.  This parameter ensures
that the server does not become completely blocked.  The value of
'thread_pool_stall_limit' has an upper limit of 6 seconds to prevent the
risk of a deadlocked server.

'thread_pool_stall_limit' also enables the thread pool to handle
long-running statements.  If a long-running statement was permitted to
block a thread group, all other connections assigned to the group would
be blocked and unable to start execution until the long-running
statement completed.  In the worst case, this could take hours or even
days.

The value of 'thread_pool_stall_limit' should be chosen such that
statements that execute longer than its value are considered stalled.
Stalled statements generate a lot of extra overhead since they involve
extra context switches and in some cases even extra thread creations.
On the other hand, setting the 'thread_pool_stall_limit' parameter too
high means that long-running statements will block a number of
short-running statements for longer than necessary.  Short wait values
permit threads to start more quickly.  Short values are also better for
avoiding deadlock situations.  Long wait values are useful for workloads
that include long-running statements, to avoid starting too many new
statements while the current ones execute.

Suppose a server executes a workload where 99.9% of the statements
complete within 100ms even when the server is loaded, and the remaining
statements take between 100ms and 2 hours fairly evenly spread.  In this
case, it would make sense to set 'thread_pool_stall_limit' to 10
(meaning 100ms).  The default value of 60ms is suitable for servers that
primarily execute very simple statements.

The 'thread_pool_stall_limit' parameter can be changed at runtime to
enable you to strike a balance appropriate for the server work load.
Assuming that the 'TP_THREAD_GROUP_STATS' table is enabled, you can use
the following query to determine the fraction of executed statements
that stalled:

     SELECT SUM(STALLED_QUERIES_EXECUTED) / SUM(QUERIES_EXECUTED)
     FROM INFORMATION_SCHEMA.TP_THREAD_GROUP_STATS;

This number should be as low as possible.  To decrease the likelihood of
statements stalling, increase the value of 'thread_pool_stall_limit'.

When a statement arrives, what is the maximum time it can be delayed
before it actually starts executing?  Suppose that the following
conditions apply:

   * There are 200 statements queued in the low-priority queue.

   * There are 10 statements queued in the high-priority queue.

   * 'thread_pool_prio_kickup_timer' is set to 10000 (10 seconds).

   * 'thread_pool_stall_limit' is set to 100 (1 second).

In the worst case, the 10 high-priority statements represent 10
transactions that continue executing for a long time.  Thus, in the
worst case, no statements will be moved to the high-priority queue
because it will always already contain statements awaiting execution.
After 10 seconds, the new statement is eligible to be moved to the
high-priority queue.  However, before it can be moved, all the
statements before it must be moved as well.  This could take another 2
seconds because a maximum of 100 statements per second are moved to the
high-priority queue.  Now when the statement reaches the high-priority
queue, there could potentially be many long-running statements ahead of
it.  In the worst case, every one of those will become stalled and it
will take 1 second for each statement before the next statement is
retrieved from the high-priority queue.  Thus, in this scenario, it will
take 222 seconds before the new statement starts executing.

This example shows a worst case for an application.  How to handle it
depends on the application.  If the application has high requirements
for the response time, it should most likely throttle users at a higher
level itself.  Otherwise, it can use the thread pool configuration
parameters to set some kind of a maximum waiting time.


File: manual.info.tmp,  Node: server-udfs,  Next: multiple-servers,  Prev: server-plugins,  Up: server-administration

5.6 MySQL Server User-Defined Functions
=======================================

* Menu:

* udf-loading::                  Installing and Uninstalling User-Defined Functions
* obtaining-udf-information::    Obtaining User-Defined Function Information

MySQL Server enables user-defined functions (UDFs) to be created and
loaded into the server to extend server capabilities.  Server
capabilities can be implemented in whole or in part using UDFs.  In
addition, you can write your own UDFs.

The following sections describe how to install and uninstall UDFs, and
how to determine at runtime which UDFs are installed and obtain
information about them.  For information about writing UDFs, see *note
adding-functions::.


File: manual.info.tmp,  Node: udf-loading,  Next: obtaining-udf-information,  Prev: server-udfs,  Up: server-udfs

5.6.1 Installing and Uninstalling User-Defined Functions
--------------------------------------------------------

User-defined functions (UDFs) must be loaded into the server before they
can be used.  MySQL supports UDF loading at runtime.

To load a UDF, use the *note 'CREATE FUNCTION': create-function.
statement.  For example:

     CREATE FUNCTION metaphon
       RETURNS STRING
       SONAME 'udf_example.so';

The UDF file base name depends on your platform.  Common suffixes are
'.so' for Unix and Unix-like systems, '.dll' for Windows.

While a UDF is loaded, information about it is available from the
'mysql.func' system table.  See *note obtaining-udf-information::.

*note 'CREATE FUNCTION': create-function. also registers the UDF in the
'mysql.func' system table to cause the server to load it on subsequent
restarts.  For this reason, *note 'CREATE FUNCTION': create-function.
requires the 'INSERT' privilege for the 'mysql' system database.

To remove a UDF, use the *note 'DROP FUNCTION': drop-function.
statement.  For example:

     DROP FUNCTION metaphon;

*note 'DROP FUNCTION': drop-function. unloads the UDF and removes it
from the 'mysql.func' system table.  For this reason, *note 'DROP
FUNCTION': drop-function. requires the 'DELETE' privilege for the
'mysql' system database.  With the UDF no longer registered in the
table, the server does not load the UDF automatically for subsequent
restarts.

You cannnot use *note 'CREATE FUNCTION': create-function. to reinstall a
function that has previously been installed.  To reinstall a function,
first remove it with *note 'DROP FUNCTION': drop-function, then install
it again with *note 'CREATE FUNCTION': create-function.  You would need
to do this, for example, if you upgrade to a new version of MySQL that
provides an updated implementation of the function, or you recompile a
new version of a function that you have written.  Otherwise, the server
continues to use the old version.

If the server is started with the '--skip-grant-tables' option, it does
not consult the 'mysql.func' table and does not load the UDFs listed
there.


File: manual.info.tmp,  Node: obtaining-udf-information,  Prev: udf-loading,  Up: server-udfs

5.6.2 Obtaining User-Defined Function Information
-------------------------------------------------

The 'func' table in the 'mysql' system database shows which UDFs have
been registered with *note 'CREATE FUNCTION': create-function.:

     SELECT * FROM mysql.func;

The 'func' table has these columns:

   * 'name'

     The UDF name as referred to in SQL statements.

   * 'ret'

     The UDF return value type.  Permitted values are 0 ('STRING'), 1
     ('REAL'), 2 ('INTEGER'), 3 ('ROW'), or 4 ('DECIMAL').

   * 'dl'

     The name of the UDF library file containing the executable UDF
     code.  The file is located in the directory named by the
     'plugin_dir' system variable.

   * 'type'

     The UDF type, either 'function' (scalar) or 'aggregate'.


File: manual.info.tmp,  Node: multiple-servers,  Next: dba-dtrace-server,  Prev: server-udfs,  Up: server-administration

5.7 Running Multiple MySQL Instances on One Machine
===================================================

* Menu:

* multiple-data-directories::    Setting Up Multiple Data Directories
* multiple-windows-servers::     Running Multiple MySQL Instances on Windows
* multiple-unix-servers::        Running Multiple MySQL Instances on Unix
* multiple-server-clients::      Using Client Programs in a Multiple-Server Environment

In some cases, you might want to run multiple instances of MySQL on a
single machine.  You might want to test a new MySQL release while
leaving an existing production setup undisturbed.  Or you might want to
give different users access to different *note 'mysqld': mysqld. servers
that they manage themselves.  (For example, you might be an Internet
Service Provider that wants to provide independent MySQL installations
for different customers.)

It is possible to use a different MySQL server binary per instance, or
use the same binary for multiple instances, or any combination of the
two approaches.  For example, you might run a server from MySQL 5.1 and
one from MySQL 5.5, to see how different versions handle a given
workload.  Or you might run multiple instances of the current production
version, each managing a different set of databases.

Whether or not you use distinct server binaries, each instance that you
run must be configured with unique values for several operating
parameters.  This eliminates the potential for conflict between
instances.  Parameters can be set on the command line, in option files,
or by setting environment variables.  See *note program-options::.  To
see the values used by a given instance, connect to it and execute a
*note 'SHOW VARIABLES': show-variables. statement.

The primary resource managed by a MySQL instance is the data directory.
Each instance should use a different data directory, the location of
which is specified using the '--datadir=DIR_NAME' option.  For methods
of configuring each instance with its own data directory, and warnings
about the dangers of failing to do so, see *note
multiple-data-directories::.

In addition to using different data directories, several other options
must have different values for each server instance:

   * '--port=PORT_NUM'

     '--port' controls the port number for TCP/IP connections.
     Alternatively, if the host has multiple network addresses, you can
     use '--bind-address' to cause each server to listen to a different
     address.

   * '--socket={FILE_NAME|PIPE_NAME}'

     '--socket' controls the Unix socket file path on Unix or the
     named-pipe name on Windows.  On Windows, it is necessary to specify
     distinct pipe names only for those servers configured to permit
     named-pipe connections.

   * '--shared-memory-base-name=NAME'

     This option is used only on Windows.  It designates the
     shared-memory name used by a Windows server to permit clients to
     connect using shared memory.  It is necessary to specify distinct
     shared-memory names only for those servers configured to permit
     shared-memory connections.

   * '--pid-file=FILE_NAME'

     This option indicates the path name of the file in which the server
     writes its process ID.

If you use the following log file options, their values must differ for
each server:

   * '--general_log_file=FILE_NAME'

   * '--log-bin[=FILE_NAME]'

   * '--slow_query_log_file=FILE_NAME'

   * '--log-error[=FILE_NAME]'

For further discussion of log file options, see *note server-logs::.

To achieve better performance, you can specify the following option
differently for each server, to spread the load between several physical
disks:

   * '--tmpdir=DIR_NAME'

Having different temporary directories also makes it easier to determine
which MySQL server created any given temporary file.

If you have multiple MySQL installations in different locations, you can
specify the base directory for each installation with the
'--basedir=DIR_NAME' option.  This causes each instance to automatically
use a different data directory, log files, and PID file because the
default for each of those parameters is relative to the base directory.
In that case, the only other options you need to specify are the
'--socket' and '--port' options.  Suppose that you install different
versions of MySQL using 'tar' file binary distributions.  These install
in different locations, so you can start the server for each
installation using the command 'bin/mysqld_safe' under its corresponding
base directory.  *note 'mysqld_safe': mysqld-safe. determines the proper
'--basedir' option to pass to *note 'mysqld': mysqld, and you need
specify only the '--socket' and '--port' options to *note 'mysqld_safe':
mysqld-safe.

As discussed in the following sections, it is possible to start
additional servers by specifying appropriate command options or by
setting environment variables.  However, if you need to run multiple
servers on a more permanent basis, it is more convenient to use option
files to specify for each server those option values that must be unique
to it.  The '--defaults-file' option is useful for this purpose.


File: manual.info.tmp,  Node: multiple-data-directories,  Next: multiple-windows-servers,  Prev: multiple-servers,  Up: multiple-servers

5.7.1 Setting Up Multiple Data Directories
------------------------------------------

Each MySQL Instance on a machine should have its own data directory.
The location is specified using the '--datadir=DIR_NAME' option.

There are different methods of setting up a data directory for a new
instance:

   * Create a new data directory.

   * Copy an existing data directory.

The following discussion provides more detail about each method.

*Warning*:

Normally, you should never have two servers that update data in the same
databases.  This may lead to unpleasant surprises if your operating
system does not support fault-free system locking.  If (despite this
warning) you run multiple servers using the same data directory and they
have logging enabled, you must use the appropriate options to specify
log file names that are unique to each server.  Otherwise, the servers
try to log to the same files.

Even when the preceding precautions are observed, this kind of setup
works only with 'MyISAM' and 'MERGE' tables, and not with any of the
other storage engines.  Also, this warning against sharing a data
directory among servers always applies in an NFS environment.
Permitting multiple MySQL servers to access a common data directory over
NFS is a _very bad idea_.  The primary problem is that NFS is the speed
bottleneck.  It is not meant for such use.  Another risk with NFS is
that you must devise a way to ensure that two or more servers do not
interfere with each other.  Usually NFS file locking is handled by the
'lockd' daemon, but at the moment there is no platform that performs
locking 100% reliably in every situation.

*Create a New Data Directory*

With this method, the data directory will be in the same state as when
you first install MySQL. It will have the default set of MySQL accounts
and no user data.

On Unix, initialize the data directory.  See *note postinstallation::.

On Windows, the data directory is included in the MySQL distribution:

   * MySQL Zip archive distributions for Windows contain an unmodified
     data directory.  You can unpack such a distribution into a
     temporary location, then copy it 'data' directory to where you are
     setting up the new instance.

   * As of MySQL 5.5.5, Windows MSI package installers create and set up
     the data directory that the installed server will use, but also
     create a pristine 'template' data directory named 'data' under the
     installation directory.  After an installation has been performed
     using an MSI package, the template data directory can be copied to
     set up additional MySQL instances.

*Copy an Existing Data Directory*

With this method, any MySQL accounts or user data present in the data
directory are carried over to the new data directory.

  1. Stop the existing MySQL instance using the data directory.  This
     must be a clean shutdown so that the instance flushes any pending
     changes to disk.

  2. Copy the data directory to the location where the new data
     directory should be.

  3. Copy the 'my.cnf' or 'my.ini' option file used by the existing
     instance.  This serves as a basis for the new instance.

  4. Modify the new option file so that any pathnames referring to the
     original data directory refer to the new data directory.  Also,
     modify any other options that must be unique per instance, such as
     the TCP/IP port number and the log files.  For a list of parameters
     that must be unique per instance, see *note multiple-servers::.

  5. Start the new instance, telling it to use the new option file.


File: manual.info.tmp,  Node: multiple-windows-servers,  Next: multiple-unix-servers,  Prev: multiple-data-directories,  Up: multiple-servers

5.7.2 Running Multiple MySQL Instances on Windows
-------------------------------------------------

* Menu:

* multiple-windows-command-line-servers::  Starting Multiple MySQL Instances at the Windows Command Line
* multiple-windows-services::    Starting Multiple MySQL Instances as Windows Services

You can run multiple servers on Windows by starting them manually from
the command line, each with appropriate operating parameters, or by
installing several servers as Windows services and running them that
way.  General instructions for running MySQL from the command line or as
a service are given in *note windows-installation::.  The following
sections describe how to start each server with different values for
those options that must be unique per server, such as the data
directory.  These options are listed in *note multiple-servers::.


File: manual.info.tmp,  Node: multiple-windows-command-line-servers,  Next: multiple-windows-services,  Prev: multiple-windows-servers,  Up: multiple-windows-servers

5.7.2.1 Starting Multiple MySQL Instances at the Windows Command Line
.....................................................................

The procedure for starting a single MySQL server manually from the
command line is described in *note windows-start-command-line::.  To
start multiple servers this way, you can specify the appropriate options
on the command line or in an option file.  It is more convenient to
place the options in an option file, but it is necessary to make sure
that each server gets its own set of options.  To do this, create an
option file for each server and tell the server the file name with a
'--defaults-file' option when you run it.

Suppose that you want to run one instance of *note 'mysqld': mysqld. on
port 3307 with a data directory of 'C:\mydata1', and another instance on
port 3308 with a data directory of 'C:\mydata2'.  Use this procedure:

  1. Make sure that each data directory exists, including its own copy
     of the 'mysql' database that contains the grant tables.

  2. Create two option files.  For example, create one file named
     'C:\my-opts1.cnf' that looks like this:

          [mysqld]
          datadir = C:/mydata1
          port = 3307

     Create a second file named 'C:\my-opts2.cnf' that looks like this:

          [mysqld]
          datadir = C:/mydata2
          port = 3308

  3. Use the '--defaults-file' option to start each server with its own
     option file:

          C:\> C:\mysql\bin\mysqld --defaults-file=C:\my-opts1.cnf
          C:\> C:\mysql\bin\mysqld --defaults-file=C:\my-opts2.cnf

     Each server starts in the foreground (no new prompt appears until
     the server exits later), so you will need to issue those two
     commands in separate console windows.

To shut down the servers, connect to each using the appropriate port
number:

     C:\> C:\mysql\bin\mysqladmin --port=3307 --host=127.0.0.1 --user=root --password shutdown
     C:\> C:\mysql\bin\mysqladmin --port=3308 --host=127.0.0.1 --user=root --password shutdown

Servers configured as just described permit clients to connect over
TCP/IP. If your version of Windows supports named pipes and you also
want to permit named-pipe connections, specify options that enable the
named pipe and specify its name.  Each server that supports named-pipe
connections must use a unique pipe name.  For example, the
'C:\my-opts1.cnf' file might be written like this:

     [mysqld]
     datadir = C:/mydata1
     port = 3307
     enable-named-pipe
     socket = mypipe1

Modify 'C:\my-opts2.cnf' similarly for use by the second server.  Then
start the servers as described previously.

A similar procedure applies for servers that you want to permit
shared-memory connections.  Enable such connections by starting the
server with the 'shared_memory' system variable enabled and specify a
unique shared-memory name for each server by setting the
'shared_memory_base_name' system variable.


File: manual.info.tmp,  Node: multiple-windows-services,  Prev: multiple-windows-command-line-servers,  Up: multiple-windows-servers

5.7.2.2 Starting Multiple MySQL Instances as Windows Services
.............................................................

On Windows, a MySQL server can run as a Windows service.  The procedures
for installing, controlling, and removing a single MySQL service are
described in *note windows-start-service::.

To set up multiple MySQL services, you must make sure that each instance
uses a different service name in addition to the other parameters that
must be unique per instance.

For the following instructions, suppose that you want to run the *note
'mysqld': mysqld. server from two different versions of MySQL that are
installed at 'C:\mysql-5.1.55' and 'C:\mysql-5.5.62', respectively.
(This might be the case if you are running 5.1.55 as your production
server, but also want to conduct tests using 5.5.62.)

To install MySQL as a Windows service, use the '--install' or
'--install-manual' option.  For information about these options, see
*note windows-start-service::.

Based on the preceding information, you have several ways to set up
multiple services.  The following instructions describe some examples.
Before trying any of them, shut down and remove any existing MySQL
services.

   * *Approach 1:* Specify the options for all services in one of the
     standard option files.  To do this, use a different service name
     for each server.  Suppose that you want to run the 5.1.55 *note
     'mysqld': mysqld. using the service name of 'mysqld1' and the
     5.5.62 *note 'mysqld': mysqld. using the service name 'mysqld2'.
     In this case, you can use the '[mysqld1]' group for 5.1.55 and the
     '[mysqld2]' group for 5.5.62.  For example, you can set up
     'C:\my.cnf' like this:

          # options for mysqld1 service
          [mysqld1]
          basedir = C:/mysql-5.1.55
          port = 3307
          enable-named-pipe
          socket = mypipe1

          # options for mysqld2 service
          [mysqld2]
          basedir = C:/mysql-5.5.62
          port = 3308
          enable-named-pipe
          socket = mypipe2

     Install the services as follows, using the full server path names
     to ensure that Windows registers the correct executable program for
     each service:

          C:\> C:\mysql-5.1.55\bin\mysqld --install mysqld1
          C:\> C:\mysql-5.5.62\bin\mysqld --install mysqld2

     To start the services, use the services manager, or 'NET START' or
     'SC START' with the appropriate service names:

          C:\> SC START mysqld1
          C:\> SC START mysqld2

     To stop the services, use the services manager, or use 'NET STOP'
     or 'SC STOP' with the appropriate service names:

          C:\> SC STOP mysqld1
          C:\> SC STOP mysqld2

   * *Approach 2:* Specify options for each server in separate files and
     use '--defaults-file' when you install the services to tell each
     server what file to use.  In this case, each file should list
     options using a '[mysqld]' group.

     With this approach, to specify options for the 5.1.55 *note
     'mysqld': mysqld, create a file 'C:\my-opts1.cnf' that looks like
     this:

          [mysqld]
          basedir = C:/mysql-5.1.55
          port = 3307
          enable-named-pipe
          socket = mypipe1

     For the 5.5.62 *note 'mysqld': mysqld, create a file
     'C:\my-opts2.cnf' that looks like this:

          [mysqld]
          basedir = C:/mysql-5.5.62
          port = 3308
          enable-named-pipe
          socket = mypipe2

     Install the services as follows (enter each command on a single
     line):

          C:\> C:\mysql-5.1.55\bin\mysqld --install mysqld1
                     --defaults-file=C:\my-opts1.cnf
          C:\> C:\mysql-5.5.62\bin\mysqld --install mysqld2
                     --defaults-file=C:\my-opts2.cnf

     When you install a MySQL server as a service and use a
     '--defaults-file' option, the service name must precede the option.

     After installing the services, start and stop them the same way as
     in the preceding example.

To remove multiple services, use 'SC DELETE MYSQLD_SERVICE_NAME' for
each one.  Alternatively, use *note 'mysqld --remove': mysqld. for each
one, specifying a service name following the '--remove' option.  If the
service name is the default ('MySQL'), you can omit it when using *note
'mysqld --remove': mysqld.


File: manual.info.tmp,  Node: multiple-unix-servers,  Next: multiple-server-clients,  Prev: multiple-windows-servers,  Up: multiple-servers

5.7.3 Running Multiple MySQL Instances on Unix
----------------------------------------------

One way is to run multiple MySQL instances on Unix is to compile
different servers with different default TCP/IP ports and Unix socket
files so that each one listens on different network interfaces.
Compiling in different base directories for each installation also
results automatically in a separate, compiled-in data directory, log
file, and PID file location for each server.

Assume that an existing 5.1 server is configured for the default TCP/IP
port number (3306) and Unix socket file ('/tmp/mysql.sock').  To
configure a new 5.5.62 server to have different operating parameters,
use a 'CMake' command something like this:

     shell> cmake . -DMYSQL_TCP_PORT=PORT_NUMBER \
                  -DMYSQL_UNIX_ADDR=FILE_NAME \
                  -DCMAKE_INSTALL_PREFIX=/usr/local/mysql-5.5.62

Here, PORT_NUMBER and FILE_NAME must be different from the default
TCP/IP port number and Unix socket file path name, and the
'CMAKE_INSTALL_PREFIX' value should specify an installation directory
different from the one under which the existing MySQL installation is
located.

If you have a MySQL server listening on a given port number, you can use
the following command to find out what operating parameters it is using
for several important configurable variables, including the base
directory and Unix socket file name:

     shell> mysqladmin --host=HOST_NAME --port=PORT_NUMBER variables

With the information displayed by that command, you can tell what option
values _not_ to use when configuring an additional server.

If you specify 'localhost' as the host name, *note 'mysqladmin':
mysqladmin. defaults to using a Unix socket file connection rather than
TCP/IP. To explicitly specify the connection protocol, use the
'--protocol={TCP|SOCKET|PIPE|MEMORY}' option.

You need not compile a new MySQL server just to start with a different
Unix socket file and TCP/IP port number.  It is also possible to use the
same server binary and start each invocation of it with different
parameter values at runtime.  One way to do so is by using command-line
options:

     shell> mysqld_safe --socket=FILE_NAME --port=PORT_NUMBER

To start a second server, provide different '--socket' and '--port'
option values, and pass a '--datadir=DIR_NAME' option to *note
'mysqld_safe': mysqld-safe. so that the server uses a different data
directory.

Alternatively, put the options for each server in a different option
file, then start each server using a '--defaults-file' option that
specifies the path to the appropriate option file.  For example, if the
option files for two server instances are named
'/usr/local/mysql/my.cnf' and '/usr/local/mysql/my.cnf2', start the
servers like this: command:

     shell> mysqld_safe --defaults-file=/usr/local/mysql/my.cnf
     shell> mysqld_safe --defaults-file=/usr/local/mysql/my.cnf2

Another way to achieve a similar effect is to use environment variables
to set the Unix socket file name and TCP/IP port number:

     shell> MYSQL_UNIX_PORT=/tmp/mysqld-new.sock
     shell> MYSQL_TCP_PORT=3307
     shell> export MYSQL_UNIX_PORT MYSQL_TCP_PORT
     shell> mysql_install_db --user=mysql
     shell> mysqld_safe --datadir=/path/to/datadir &

This is a quick way of starting a second server to use for testing.  The
nice thing about this method is that the environment variable settings
apply to any client programs that you invoke from the same shell.  Thus,
connections for those clients are automatically directed to the second
server.

*note environment-variables::, includes a list of other environment
variables you can use to affect MySQL programs.

On Unix, the *note 'mysqld_multi': mysqld-multi. script provides another
way to start multiple servers.  See *note mysqld-multi::.


File: manual.info.tmp,  Node: multiple-server-clients,  Prev: multiple-unix-servers,  Up: multiple-servers

5.7.4 Using Client Programs in a Multiple-Server Environment
------------------------------------------------------------

To connect with a client program to a MySQL server that is listening to
different network interfaces from those compiled into your client, you
can use one of the following methods:

   * Start the client with '--host=HOST_NAME' '--port=PORT_NUMBER' to
     connect using TCP/IP to a remote server, with '--host=127.0.0.1'
     '--port=PORT_NUMBER' to connect using TCP/IP to a local server, or
     with '--host=localhost' '--socket=FILE_NAME' to connect to a local
     server using a Unix socket file or a Windows named pipe.

   * Start the client with '--protocol=TCP' to connect using TCP/IP,
     '--protocol=SOCKET' to connect using a Unix socket file,
     '--protocol=PIPE' to connect using a named pipe, or
     '--protocol=MEMORY' to connect using shared memory.  For TCP/IP
     connections, you may also need to specify '--host' and '--port'
     options.  For the other types of connections, you may need to
     specify a '--socket' option to specify a Unix socket file or
     Windows named-pipe name, or a '--shared-memory-base-name' option to
     specify the shared-memory name.  Shared-memory connections are
     supported only on Windows.

   * 
     On Unix, set the 'MYSQL_UNIX_PORT' and 'MYSQL_TCP_PORT' environment
     variables to point to the Unix socket file and TCP/IP port number
     before you start your clients.  If you normally use a specific
     socket file or port number, you can place commands to set these
     environment variables in your '.login' file so that they apply each
     time you log in.  See *note environment-variables::.

   * Specify the default Unix socket file and TCP/IP port number in the
     '[client]' group of an option file.  For example, you can use
     'C:\my.cnf' on Windows, or the '.my.cnf' file in your home
     directory on Unix.  See *note option-files::.

   * In a C program, you can specify the socket file or port number
     arguments in the *note 'mysql_real_connect()': mysql-real-connect.
     call.  You can also have the program read option files by calling
     *note 'mysql_options()': mysql-options.  See *note
     c-api-functions::.

   * If you are using the Perl 'DBD::mysql' module, you can read options
     from MySQL option files.  For example:

          $dsn = "DBI:mysql:test;mysql_read_default_group=client;"
                  . "mysql_read_default_file=/usr/local/mysql/data/my.cnf";
          $dbh = DBI->connect($dsn, $user, $password);

     See *note apis-perl::.

     Other programming interfaces may provide similar capabilities for
     reading option files.


File: manual.info.tmp,  Node: dba-dtrace-server,  Prev: multiple-servers,  Up: server-administration

5.8 Tracing mysqld Using DTrace
===============================

* Menu:

* dba-dtrace-mysqld-ref::        mysqld DTrace Probe Reference

The DTrace probes in the MySQL server are designed to provide
information about the execution of queries within MySQL and the
different areas of the system being utilized during that process.  The
organization and triggering of the probes means that the execution of an
entire query can be monitored with one level of probes ('query-start'
and 'query-done') but by monitoring other probes you can get
successively more detailed information about the execution of the query
in terms of the locks used, sort methods and even row-by-row and
storage-engine level execution information.

The DTrace probes are organized so that you can follow the entire query
process, from the point of connection from a client, through the query
execution, row-level operations, and back out again.  You can think of
the probes as being fired within a specific sequence during a typical
client connect/execute/disconnect sequence, as shown in the following
figure.

FIGURE GOES HERE: DTrace Probe Sequence

Global information is provided in the arguments to the DTrace probes at
various levels.  Global information, that is, the connection ID and
user/host and where relevant the query string, is provided at key levels
('connection-start', 'command-start', 'query-start', and
'query-exec-start').  As you go deeper into the probes, it is assumed
either you are only interested in the individual executions (row-level
probes provide information on the database and table name only), or that
you will combine the row-level probes with the notional parent probes to
provide the information about a specific query.  Examples of this will
be given as the format and arguments of each probe are provided.

MySQL includes support for DTrace probes on these platforms:

   * Solaris 10 Update 5 (Solaris 5/08) on SPARC, x86 and x86_64
     platforms

   * OS X 10.4 and higher

Enabling the probes should be automatic on these platforms.  To
explicitly enable or disable the probes during building, use the
'-DENABLE_DTRACE=1' or '-DENABLE_DTRACE=0' option to 'CMake'.

If a non-Solaris platform includes DTrace support, building *note
'mysqld': mysqld. on that platform will include DTrace support.

*Additional Resources*

   * For more information on DTrace and writing DTrace scripts, read the
     DTrace User Guide (http://docs.oracle.com/cd/E19253-01/819-5488/).

   * For an introduction to DTrace, see the MySQL Dev Zone article
     Getting started with DTracing MySQL
     (http://dev.mysql.com/tech-resources/articles/mysql-cluster-7.2.html).


File: manual.info.tmp,  Node: dba-dtrace-mysqld-ref,  Prev: dba-dtrace-server,  Up: dba-dtrace-server

5.8.1 mysqld DTrace Probe Reference
-----------------------------------

* Menu:

* dba-dtrace-ref-connection::    Connection Probes
* dba-dtrace-ref-command::       Command Probes
* dba-dtrace-ref-query::         Query Probes
* dba-dtrace-ref-query-parsing::  Query Parsing Probes
* dba-dtrace-ref-querycache::    Query Cache Probes
* dba-dtrace-ref-queryexec::     Query Execution Probes
* dba-dtrace-ref-rowlevel::      Row-Level Probes
* dba-dtrace-ref-readrow::       Read Row Probes
* dba-dtrace-ref-index::         Index Probes
* dba-dtrace-ref-lock::          Lock Probes
* dba-dtrace-ref-filesort::      Filesort Probes
* dba-dtrace-ref-statement::     Statement Probes
* dba-dtrace-ref-network::       Network Probes
* dba-dtrace-ref-keycache::      Keycache Probes

MySQL supports the following static probes, organized into groups of
functionality.

*MySQL DTrace Probes*

Group          Probes
               
*note Connection: dba-dtrace-ref-connection.'connection-start', 'connection-done'
               
*note Command: dba-dtrace-ref-command.'command-start', 'command-done'
               
*note Query: dba-dtrace-ref-query.'query-start', 'query-done'
               
*note Query Parsing: dba-dtrace-ref-query-parsing.'query-parse-start', 'query-parse-done'
               
*note Query Cache: dba-dtrace-ref-querycache.'query-cache-hit', 'query-cache-miss'
               
*note Query Execution: dba-dtrace-ref-queryexec.'query-exec-start', 'query-exec-done'
               
*note Row Level: dba-dtrace-ref-rowlevel.'insert-row-start', 'insert-row-done'
               
               'update-row-start', 'update-row-done'
               
               'delete-row-start', 'delete-row-done'
               
*note Row Reads: dba-dtrace-ref-readrow.'read-row-start', 'read-row-done'
               
*note Index Reads: dba-dtrace-ref-index.'index-read-row-start', 'index-read-row-done'
               
*note Lock: dba-dtrace-ref-lock.'handler-rdlock-start', 'handler-rdlock-done'
               
               'handler-wrlock-start', 'handler-wrlock-done'
               
               'handler-unlock-start', 'handler-unlock-done'
               
*note Filesort: dba-dtrace-ref-filesort.'filesort-start', 'filesort-done'
               
*note Statement: dba-dtrace-ref-statement.'select-start', 'select-done'
               
               'insert-start', 'insert-done'
               
               'insert-select-start', 'insert-select-done'
               
               'update-start', 'update-done'
               
               'multi-update-start', 'multi-update-done'
               
               'delete-start', 'delete-done'
               
               'multi-delete-start', 'multi-delete-done'
               
*note Network: dba-dtrace-ref-network.'net-read-start', 'net-read-done', 'net-write-start',
               'net-write-done'
               
*note Keycache: dba-dtrace-ref-keycache.'keycache-read-start', 'keycache-read-block',
               'keycache-read-done', 'keycache-read-hit',
               'keycache-read-miss', 'keycache-write-start',
               'keycache-write-block', 'keycache-write-done'

*Note*:

When extracting the argument data from the probes, each argument is
available as 'argN', starting with 'arg0'.  To identify each argument
within the definitions they are provided with a descriptive name, but
you must access the information using the corresponding 'argN'
parameter.


File: manual.info.tmp,  Node: dba-dtrace-ref-connection,  Next: dba-dtrace-ref-command,  Prev: dba-dtrace-mysqld-ref,  Up: dba-dtrace-mysqld-ref

5.8.1.1 Connection Probes
.........................

The 'connection-start' and 'connection-done' probes enclose a connection
from a client, regardless of whether the connection is through a socket
or network connection.

     connection-start(connectionid, user, host)
     connection-done(status, connectionid)

   * 'connection-start': Triggered after a connection and successful
     login/authentication have been completed by a client.  The
     arguments contain the connection information:

        * 'connectionid': An 'unsigned long' containing the connection
          ID. This is the same as the process ID shown as the 'Id' value
          in the output from *note 'SHOW PROCESSLIST': show-processlist.

        * 'user': The username used when authenticating.  The value will
          be blank for the anonymous user.

        * 'host': The host of the client connection.  For a connection
          made using Unix sockets, the value will be blank.

   * 'connection-done': Triggered just as the connection to the client
     has been closed.  The arguments are:

        * 'status': The status of the connection when it was closed.  A
          logout operation will have a value of 0; any other termination
          of the connection has a nonzero value.

        * 'connectionid': The connection ID of the connection that was
          closed.

The following D script will quantify and summarize the average duration
of individual connections, and provide a count, dumping the information
every 60 seconds:

     #!/usr/sbin/dtrace -s

     mysql*:::connection-start
     {
       self->start = timestamp;
     }

     mysql*:::connection-done
     /self->start/
     {
       @ = quantize(((timestamp - self->start)/1000000));
       self->start = 0;
     }

     tick-60s
     {
       printa(@);
     }

When executed on a server with a large number of clients you might see
output similar to this:

       1  57413                        :tick-60s

                value  ------------- Distribution ------------- count
                   -1 |                                         0
                    0 |@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ 30011
                    1 |                                         59
                    2 |                                         5
                    4 |                                         20
                    8 |                                         29
                   16 |                                         18
                   32 |                                         27
                   64 |                                         30
                  128 |                                         11
                  256 |                                         10
                  512 |                                         1
                 1024 |                                         6
                 2048 |                                         8
                 4096 |                                         9
                 8192 |                                         8
                16384 |                                         2
                32768 |                                         1
                65536 |                                         1
               131072 |                                         0
               262144 |                                         1
               524288 |                                         0


File: manual.info.tmp,  Node: dba-dtrace-ref-command,  Next: dba-dtrace-ref-query,  Prev: dba-dtrace-ref-connection,  Up: dba-dtrace-mysqld-ref

5.8.1.2 Command Probes
......................

The command probes are executed before and after a client command is
executed, including any SQL statement that might be executed during that
period.  Commands include operations such as the initialization of the
DB, use of the 'COM_CHANGE_USER' operation (supported by the MySQL
protocol), and manipulation of prepared statements.  Many of these
commands are used only by the MySQL client API from various connectors
such as PHP and Java.

     command-start(connectionid, command, user, host)
     command-done(status)

   * 'command-start': Triggered when a command is submitted to the
     server.

        * 'connectionid': The connection ID of the client executing the
          command.

        * 'command': An integer representing the command that was
          executed.  Possible values are shown in the following table.

          Value   Name           Description
                                 
          00      COM_SLEEP      Internal thread state
                                 
          01      COM_QUIT       Close connection
                                 
          02      COM_INIT_DB    Select database ('USE ...')
                                 
          03      COM_QUERY      Execute a query
                                 
          04      COM_FIELD_LIST Get a list of fields
                                 
          05      COM_CREATE_DB  Create a database (deprecated)
                                 
          06      COM_DROP_DB    Drop a database (deprecated)
                                 
          07      COM_REFRESH    Refresh connection
                                 
          08      COM_SHUTDOWN   Shutdown server
                                 
          09      COM_STATISTICS Get statistics
                                 
          10      COM_PROCESS_INFOGet processes
                                 (*note 'SHOW PROCESSLIST': show-processlist.)
                                 
          11      COM_CONNECT    Initialize connection
                                 
          12      COM_PROCESS_KILLKill process
                                 
          13      COM_DEBUG      Get debug information
                                 
          14      COM_PING       Ping
                                 
          15      COM_TIME       Internal thread state
                                 
          16      COM_DELAYED_INSERTInternal thread state
                                 
          17      COM_CHANGE_USERChange user
                                 
          18      COM_BINLOG_DUMPUsed by a replication slave or
                                 *note 'mysqlbinlog': mysqlbinlog. to initiate a
                                 binary log read
                                 
          19      COM_TABLE_DUMP Used by a replication slave to get the master
                                 table information
                                 
          20      COM_CONNECT_OUTUsed by a replication slave to log a connection
                                 to the server
                                 
          21      COM_REGISTER_SLAVEUsed by a replication slave during registration
                                 
          22      COM_STMT_PREPAREPrepare a statement
                                 
          23      COM_STMT_EXECUTEExecute a statement
                                 
          24      COM_STMT_SEND_LONG_DATAUsed by a client when requesting extended data
                                 
          25      COM_STMT_CLOSE Close a prepared statement
                                 
          26      COM_STMT_RESET Reset a prepared statement
                                 
          27      COM_SET_OPTION Set a server option
                                 
          28      COM_STMT_FETCH Fetch a prepared statement
                  

        * 'user': The user executing the command.

        * 'host': The client host.

   * 'command-done': Triggered when the command execution completes.
     The 'status' argument contains 0 if the command executed
     successfully, or 1 if the statement was terminated before normal
     completion.

The 'command-start' and 'command-done' probes are best used when
combined with the statement probes to get an idea of overall execution
time.


File: manual.info.tmp,  Node: dba-dtrace-ref-query,  Next: dba-dtrace-ref-query-parsing,  Prev: dba-dtrace-ref-command,  Up: dba-dtrace-mysqld-ref

5.8.1.3 Query Probes
....................

The 'query-start' and 'query-done' probes are triggered when a specific
query is received by the server and when the query has been completed
and the information has been successfully sent to the client.

     query-start(query, connectionid, database, user, host)
     query-done(status)

   * 'query-start': Triggered after the query string has been received
     from the client.  The arguments are:

        * 'query': The full text of the submitted query.

        * 'connectionid': The connection ID of the client that submitted
          the query.  The connection ID equals the connection ID
          returned when the client first connects and the 'Id' value in
          the output from *note 'SHOW PROCESSLIST': show-processlist.

        * 'database': The database name on which the query is being
          executed.

        * 'user': The username used to connect to the server.

        * 'host': The hostname of the client.

   * 'query-done': Triggered once the query has been executed and the
     information has been returned to the client.  The probe includes a
     single argument, 'status', which returns 0 when the query is
     successfully executed and 1 if there was an error.

You can get a simple report of the execution time for each query using
the following D script:

     #!/usr/sbin/dtrace -s

     #pragma D option quiet

     dtrace:::BEGIN
     {
        printf("%-20s %-20s %-40s %-9s\n", "Who", "Database", "Query", "Time(ms)");
     }

     mysql*:::query-start
     {
        self->query = copyinstr(arg0);
        self->connid = arg1;
        self->db    = copyinstr(arg2);
        self->who   = strjoin(copyinstr(arg3),strjoin("@",copyinstr(arg4)));
        self->querystart = timestamp;
     }

     mysql*:::query-done
     {
        printf("%-20s %-20s %-40s %-9d\n",self->who,self->db,self->query,
               (timestamp - self->querystart) / 1000000);
     }

When executing the above script you should get a basic idea of the
execution time of your queries:

     shell> ./query.d
     Who                  Database             Query                                    Time(ms)
     root@localhost       test                 select * from t1 order by i limit 10     0
     root@localhost       test                 set global query_cache_size=0            0
     root@localhost       test                 select * from t1 order by i limit 10     776
     root@localhost       test                 select * from t1 order by i limit 10     773
     root@localhost       test                 select * from t1 order by i desc limit 10 795


File: manual.info.tmp,  Node: dba-dtrace-ref-query-parsing,  Next: dba-dtrace-ref-querycache,  Prev: dba-dtrace-ref-query,  Up: dba-dtrace-mysqld-ref

5.8.1.4 Query Parsing Probes
............................

The query parsing probes are triggered before the original SQL statement
is parsed and when the parsing of the statement and determination of the
execution model required to process the statement has been completed:

     query-parse-start(query)
     query-parse-done(status)

   * 'query-parse-start': Triggered just before the statement is parsed
     by the MySQL query parser.  The single argument, 'query', is a
     string containing the full text of the original query.

   * 'query-parse-done': Triggered when the parsing of the original
     statement has been completed.  The 'status' is an integer
     describing the status of the operation.  A '0' indicates that the
     query was successfully parsed.  A '1' indicates that the parsing of
     the query failed.

For example, you could monitor the execution time for parsing a given
query using the following D script:

     #!/usr/sbin/dtrace -s

     #pragma D option quiet

     mysql*:::query-parse-start
     {
        self->parsestart = timestamp;
        self->parsequery = copyinstr(arg0);
     }

     mysql*:::query-parse-done
     /arg0 == 0/
     {
        printf("Parsing %s: %d microseconds\n", self->parsequery,((timestamp - self->parsestart)/1000));
     }

     mysql*:::query-parse-done
     /arg0 != 0/
     {
        printf("Error parsing %s: %d microseconds\n", self->parsequery,((timestamp - self->parsestart)/1000));
     }

In the above script a predicate is used on 'query-parse-done' so that
different output is generated based on the status value of the probe.

When running the script and monitoring the execution:

     shell> ./query-parsing.d
     Error parsing select from t1 join (t2) on (t1.i = t2.i) order by t1.s,t1.i limit 10: 36 ms
     Parsing select * from t1 join (t2) on (t1.i = t2.i) order by t1.s,t1.i limit 10: 176 ms


File: manual.info.tmp,  Node: dba-dtrace-ref-querycache,  Next: dba-dtrace-ref-queryexec,  Prev: dba-dtrace-ref-query-parsing,  Up: dba-dtrace-mysqld-ref

5.8.1.5 Query Cache Probes
..........................

The query cache probes are fired when executing any query.  The
'query-cache-hit' query is triggered when a query exists in the query
cache and can be used to return the query cache information.  The
arguments contain the original query text and the number of rows
returned from the query cache for the query.  If the query is not within
the query cache, or the query cache is not enabled, then the
'query-cache-miss' probe is triggered instead.

     query-cache-hit(query, rows)
     query-cache-miss(query)

   * 'query-cache-hit': Triggered when the query has been found within
     the query cache.  The first argument, 'query', contains the
     original text of the query.  The second argument, 'rows', is an
     integer containing the number of rows in the cached query.

   * 'query-cache-miss': Triggered when the query is not found within
     the query cache.  The first argument, 'query', contains the
     original text of the query.

The query cache probes are best combined with a probe on the main query
so that you can determine the differences in times between using or not
using the query cache for specified queries.  For example, in the
following D script, the query and query cache information are combined
into the information output during monitoring:

     #!/usr/sbin/dtrace -s

     #pragma D option quiet

     dtrace:::BEGIN
     {
        printf("%-20s %-20s %-40s %2s %-9s\n", "Who", "Database", "Query", "QC", "Time(ms)");
     }

     mysql*:::query-start
     {
        self->query = copyinstr(arg0);
        self->connid = arg1;
        self->db    = copyinstr(arg2);
        self->who   = strjoin(copyinstr(arg3),strjoin("@",copyinstr(arg4)));
        self->querystart = timestamp;
        self->qc = 0;
     }

     mysql*:::query-cache-hit
     {
        self->qc = 1;
     }

     mysql*:::query-cache-miss
     {
        self->qc = 0;
     }

     mysql*:::query-done
     {
        printf("%-20s %-20s %-40s %-2s %-9d\n",self->who,self->db,self->query,(self->qc ? "Y" : "N"),
               (timestamp - self->querystart) / 1000000);
     }

When executing the script you can see the effects of the query cache.
Initially the query cache is disabled.  If you set the query cache size
and then execute the query multiple times you should see that the query
cache is being used to return the query data:

     shell> ./query-cache.d
     root@localhost       test                 select * from t1 order by i limit 10     N  1072
     root@localhost                            set global query_cache_size=262144       N  0
     root@localhost       test                 select * from t1 order by i limit 10     N  781
     root@localhost       test                 select * from t1 order by i limit 10     Y  0


File: manual.info.tmp,  Node: dba-dtrace-ref-queryexec,  Next: dba-dtrace-ref-rowlevel,  Prev: dba-dtrace-ref-querycache,  Up: dba-dtrace-mysqld-ref

5.8.1.6 Query Execution Probes
..............................

The query execution probe is triggered when the actual execution of the
query starts, after the parsing and checking the query cache but before
any privilege checks or optimization.  By comparing the difference
between the start and done probes you can monitor the time actually
spent servicing the query (instead of just handling the parsing and
other elements of the query).

     query-exec-start(query, connectionid, database, user, host, exec_type)
     query-exec-done(status)

     *Note*:

     The information provided in the arguments for 'query-start' and
     'query-exec-start' are almost identical and designed so that you
     can choose to monitor either the entire query process (using
     'query-start') or only the execution (using 'query-exec-start')
     while exposing the core information about the user, client, and
     query being executed.

   * 'query-exec-start': Triggered when the execution of a individual
     query is started.  The arguments are:

        * 'query': The full text of the submitted query.

        * 'connectionid': The connection ID of the client that submitted
          the query.  The connection ID equals the connection ID
          returned when the client first connects and the 'Id' value in
          the output from *note 'SHOW PROCESSLIST': show-processlist.

        * 'database': The database name on which the query is being
          executed.

        * 'user': The username used to connect to the server.

        * 'host': The hostname of the client.

        * 'exec_type': The type of execution.  Execution types are
          determined based on the contents of the query and where it was
          submitted.  The values for each type are shown in the
          following table.

          Value   Description
                  
          0       Executed query from sql_parse, top-level query.
                  
          1       Executed prepared statement
                  
          2       Executed cursor statement
                  
          3       Executed query in stored procedure

   * 'query-exec-done': Triggered when the execution of the query has
     completed.  The probe includes a single argument, 'status', which
     returns 0 when the query is successfully executed and 1 if there
     was an error.


File: manual.info.tmp,  Node: dba-dtrace-ref-rowlevel,  Next: dba-dtrace-ref-readrow,  Prev: dba-dtrace-ref-queryexec,  Up: dba-dtrace-mysqld-ref

5.8.1.7 Row-Level Probes
........................

The '*row-{start,done}' probes are triggered each time a row operation
is pushed down to a storage engine.  For example, if you execute an
*note 'INSERT': insert. statement with 100 rows of data, then the
'insert-row-start' and 'insert-row-done' probes will be triggered 100
times each, for each row insert.

     insert-row-start(database, table)
     insert-row-done(status)

     update-row-start(database, table)
     update-row-done(status)

     delete-row-start(database, table)
     delete-row-done(status)

   * 'insert-row-start': Triggered before a row is inserted into a
     table.

   * 'insert-row-done': Triggered after a row is inserted into a table.

   * 'update-row-start': Triggered before a row is updated in a table.

   * 'update-row-done': Triggered before a row is updated in a table.

   * 'delete-row-start': Triggered before a row is deleted from a table.

   * 'delete-row-done': Triggered before a row is deleted from a table.

The arguments supported by the probes are consistent for the
corresponding 'start' and 'done' probes in each case:

   * 'database': The database name.

   * 'table': The table name.

   * 'status': The status; 0 for success or 1 for failure.

Because the row-level probes are triggered for each individual row
access, these probes can be triggered many thousands of times each
second, which may have a detrimental effect on both the monitoring
script and MySQL. The DTrace environment should limit the triggering on
these probes to prevent the performance being adversely affected.
Either use the probes sparingly, or use counter or aggregation functions
to report on these probes and then provide a summary when the script
terminates or as part of a 'query-done' or 'query-exec-done' probes.

The following example script summarizes the duration of each row
operation within a larger query:

     #!/usr/sbin/dtrace -s

     #pragma D option quiet

     dtrace:::BEGIN
     {
        printf("%-2s %-10s %-10s %9s %9s %-s \n",
               "St", "Who", "DB", "ConnID", "Dur ms", "Query");
     }

     mysql*:::query-start
     {
        self->query = copyinstr(arg0);
        self->who   = strjoin(copyinstr(arg3),strjoin("@",copyinstr(arg4)));
        self->db    = copyinstr(arg2);
        self->connid = arg1;
        self->querystart = timestamp;
        self->rowdur = 0;
     }

     mysql*:::query-done
     {
        this->elapsed = (timestamp - self->querystart) /1000000;
        printf("%2d %-10s %-10s %9d %9d %s\n",
               arg0, self->who, self->db,
               self->connid, this->elapsed, self->query);
     }

     mysql*:::query-done
     / self->rowdur /
     {
        printf("%34s %9d %s\n", "", (self->rowdur/1000000), "-> Row ops");
     }

     mysql*:::insert-row-start
     {
        self->rowstart = timestamp;
     }

     mysql*:::delete-row-start
     {
        self->rowstart = timestamp;
     }

     mysql*:::update-row-start
     {
        self->rowstart = timestamp;
     }

     mysql*:::insert-row-done
     {
        self->rowdur += (timestamp-self->rowstart);
     }

     mysql*:::delete-row-done
     {
        self->rowdur += (timestamp-self->rowstart);
     }

     mysql*:::update-row-done
     {
        self->rowdur += (timestamp-self->rowstart);
     }

Running the above script with a query that inserts data into a table,
you can monitor the exact time spent performing the raw row insertion:

     St Who        DB            ConnID    Dur ms Query
      0 @localhost test              13     20767 insert into t1(select * from t2)
                                             4827 -> Row ops


File: manual.info.tmp,  Node: dba-dtrace-ref-readrow,  Next: dba-dtrace-ref-index,  Prev: dba-dtrace-ref-rowlevel,  Up: dba-dtrace-mysqld-ref

5.8.1.8 Read Row Probes
.......................

The read row probes are triggered at a storage engine level each time a
row read operation occurs.  These probes are specified within each
storage engine (as opposed to the '*row-start' probes which are in the
storage engine interface).  These probes can therefore be used to
monitor individual storage engine row-level operations and performance.
Because these probes are triggered around the storage engine row read
interface, they may be hit a significant number of times during a basic
query.

     read-row-start(database, table, scan_flag)
     read-row-done(status)

   * 'read-row-start': Triggered when a row is read by the storage
     engine from the specified 'database' and 'table'.  The 'scan_flag'
     is set to 1 (true) when the read is part of a table scan (that is,
     a sequential read), or 0 (false) when the read is of a specific
     record.

   * 'read-row-done': Triggered when a row read operation within a
     storage engine completes.  The 'status' returns 0 on success, or a
     positive value on failure.


File: manual.info.tmp,  Node: dba-dtrace-ref-index,  Next: dba-dtrace-ref-lock,  Prev: dba-dtrace-ref-readrow,  Up: dba-dtrace-mysqld-ref

5.8.1.9 Index Probes
....................

The index probes are triggered each time a row is read using one of the
indexes for the specified table.  The probe is triggered within the
corresponding storage engine for the table.

     index-read-row-start(database, table)
     index-read-row-done(status)

   * 'index-read-row-start': Triggered when a row is read by the storage
     engine from the specified 'database' and 'table'.

   * 'index-read-row-done': Triggered when an indexed row read operation
     within a storage engine completes.  The 'status' returns 0 on
     success, or a positive value on failure.


File: manual.info.tmp,  Node: dba-dtrace-ref-lock,  Next: dba-dtrace-ref-filesort,  Prev: dba-dtrace-ref-index,  Up: dba-dtrace-mysqld-ref

5.8.1.10 Lock Probes
....................

The lock probes are called whenever an external lock is requested by
MySQL for a table using the corresponding lock mechanism on the table as
defined by the table's engine type.  There are three different types of
lock, the read lock, write lock, and unlock operations.  Using the
probes you can determine the duration of the external locking routine
(that is, the time taken by the storage engine to implement the lock,
including any time waiting for another lock to become free) and the
total duration of the lock/unlock process.

     handler-rdlock-start(database, table)
     handler-rdlock-done(status)

     handler-wrlock-start(database, table)
     handler-wrlock-done(status)

     handler-unlock-start(database, table)
     handler-unlock-done(status)

   * 'handler-rdlock-start': Triggered when a read lock is requested on
     the specified 'database' and 'table'.

   * 'handler-wrlock-start': Triggered when a write lock is requested on
     the specified 'database' and 'table'.

   * 'handler-unlock-start': Triggered when an unlock request is made on
     the specified 'database' and 'table'.

   * 'handler-rdlock-done': Triggered when a read lock request
     completes.  The 'status' is 0 if the lock operation succeeded, or
     '>0' on failure.

   * 'handler-wrlock-done': Triggered when a write lock request
     completes.  The 'status' is 0 if the lock operation succeeded, or
     '>0' on failure.

   * 'handler-unlock-done': Triggered when an unlock request completes.
     The 'status' is 0 if the unlock operation succeeded, or '>0' on
     failure.

You can use arrays to monitor the locking and unlocking of individual
tables and then calculate the duration of the entire table lock using
the following script:

     #!/usr/sbin/dtrace -s

     #pragma D option quiet

     mysql*:::handler-rdlock-start
     {
        self->rdlockstart = timestamp;
        this->lockref = strjoin(copyinstr(arg0),strjoin("@",copyinstr(arg1)));
        self->lockmap[this->lockref] = self->rdlockstart;
        printf("Start: Lock->Read   %s.%s\n",copyinstr(arg0),copyinstr(arg1));
     }

     mysql*:::handler-wrlock-start
     {
        self->wrlockstart = timestamp;
        this->lockref = strjoin(copyinstr(arg0),strjoin("@",copyinstr(arg1)));
        self->lockmap[this->lockref] = self->rdlockstart;
        printf("Start: Lock->Write  %s.%s\n",copyinstr(arg0),copyinstr(arg1));
     }

     mysql*:::handler-unlock-start
     {
        self->unlockstart = timestamp;
        this->lockref = strjoin(copyinstr(arg0),strjoin("@",copyinstr(arg1)));
        printf("Start: Lock->Unlock %s.%s (%d ms lock duration)\n",
               copyinstr(arg0),copyinstr(arg1),
               (timestamp - self->lockmap[this->lockref])/1000000);
     }

     mysql*:::handler-rdlock-done
     {
        printf("End:   Lock->Read   %d ms\n",
               (timestamp - self->rdlockstart)/1000000);
     }

     mysql*:::handler-wrlock-done
     {
        printf("End:   Lock->Write  %d ms\n",
               (timestamp - self->wrlockstart)/1000000);
     }

     mysql*:::handler-unlock-done
     {
        printf("End:   Lock->Unlock %d ms\n",
               (timestamp - self->unlockstart)/1000000);
     }

When executed, you should get information both about the duration of the
locking process itself, and of the locks on a specific table:

     Start: Lock->Read   test.t2
     End:   Lock->Read   0 ms
     Start: Lock->Unlock test.t2 (25743 ms lock duration)
     End:   Lock->Unlock 0 ms
     Start: Lock->Read   test.t2
     End:   Lock->Read   0 ms
     Start: Lock->Unlock test.t2 (1 ms lock duration)
     End:   Lock->Unlock 0 ms
     Start: Lock->Read   test.t2
     End:   Lock->Read   0 ms
     Start: Lock->Unlock test.t2 (1 ms lock duration)
     End:   Lock->Unlock 0 ms
     Start: Lock->Read   test.t2
     End:   Lock->Read   0 ms


File: manual.info.tmp,  Node: dba-dtrace-ref-filesort,  Next: dba-dtrace-ref-statement,  Prev: dba-dtrace-ref-lock,  Up: dba-dtrace-mysqld-ref

5.8.1.11 Filesort Probes
........................

The filesort probes are triggered whenever a filesort operation is
applied to a table.  For more information on filesort and the conditions
under which it occurs, see *note order-by-optimization::.

     filesort-start(database, table)
     filesort-done(status, rows)

   * 'filesort-start': Triggered when the filesort operation starts on a
     table.  The two arguments to the probe, 'database' and 'table',
     will identify the table being sorted.

   * 'filesort-done': Triggered when the filesort operation completes.
     Two arguments are supplied, the 'status' (0 for success, 1 for
     failure), and the number of rows sorted during the filesort
     process.

An example of this is in the following script, which tracks the duration
of the filesort process in addition to the duration of the main query:

     #!/usr/sbin/dtrace -s

     #pragma D option quiet

     dtrace:::BEGIN
     {
        printf("%-2s %-10s %-10s %9s %18s %-s \n",
               "St", "Who", "DB", "ConnID", "Dur microsec", "Query");
     }

     mysql*:::query-start
     {
        self->query = copyinstr(arg0);
        self->who   = strjoin(copyinstr(arg3),strjoin("@",copyinstr(arg4)));
        self->db    = copyinstr(arg2);
        self->connid = arg1;
        self->querystart = timestamp;
        self->filesort = 0;
        self->fsdb = "";
        self->fstable = "";
     }

     mysql*:::filesort-start
     {
       self->filesort = timestamp;
       self->fsdb = copyinstr(arg0);
       self->fstable = copyinstr(arg1);
     }

     mysql*:::filesort-done
     {
        this->elapsed = (timestamp - self->filesort) /1000;
        printf("%2d %-10s %-10s %9d %18d Filesort on %s\n",
               arg0, self->who, self->fsdb,
               self->connid, this->elapsed, self->fstable);
     }

     mysql*:::query-done
     {
        this->elapsed = (timestamp - self->querystart) /1000;
        printf("%2d %-10s %-10s %9d %18d %s\n",
               arg0, self->who, self->db,
               self->connid, this->elapsed, self->query);
     }

Executing a query on a large table with an 'ORDER BY' clause that
triggers a filesort, and then creating an index on the table and then
repeating the same query, you can see the difference in execution speed:

     St Who        DB            ConnID       Dur microsec Query
      0 @localhost test              14           11335469 Filesort on t1
      0 @localhost test              14           11335787 select * from t1 order by i limit 100
      0 @localhost test              14          466734378 create index t1a on t1 (i)
      0 @localhost test              14              26472 select * from t1 order by i limit 100


File: manual.info.tmp,  Node: dba-dtrace-ref-statement,  Next: dba-dtrace-ref-network,  Prev: dba-dtrace-ref-filesort,  Up: dba-dtrace-mysqld-ref

5.8.1.12 Statement Probes
.........................

The individual statement probes are provided to give specific
information about different statement types.  For the start probes the
string of the query is provided as a the only argument.  Depending on
the statement type, the information provided by the corresponding done
probe will differ.  For all done probes the status of the operation ('0'
for success, '>0' for failure) is provided.  For *note 'SELECT': select,
*note 'INSERT': insert, *note 'INSERT ... (SELECT FROM ...)': insert,
*note 'DELETE': delete, and *note 'DELETE FROM t1,t2': delete.
operations the number of rows affected is returned.

For *note 'UPDATE': update. and *note 'UPDATE t1,t2 ...': update.
statements the number of rows matched and the number of rows actually
changed is provided.  This is because the number of rows actually
matched by the corresponding 'WHERE' clause, and the number of rows
changed can differ.  MySQL does not update the value of a row if the
value already matches the new setting.

     select-start(query)
     select-done(status,rows)

     insert-start(query)
     insert-done(status,rows)

     insert-select-start(query)
     insert-select-done(status,rows)

     update-start(query)
     update-done(status,rowsmatched,rowschanged)

     multi-update-start(query)
     multi-update-done(status,rowsmatched,rowschanged)

     delete-start(query)
     delete-done(status,rows)

     multi-delete-start(query)
     multi-delete-done(status,rows)

   * 'select-start': Triggered before a *note 'SELECT': select.
     statement.

   * 'select-done': Triggered at the end of a *note 'SELECT': select.
     statement.

   * 'insert-start': Triggered before a *note 'INSERT': insert.
     statement.

   * 'insert-done': Triggered at the end of an *note 'INSERT': insert.
     statement.

   * 'insert-select-start': Triggered before an *note 'INSERT ...
     SELECT': insert. statement.

   * 'insert-select-done': Triggered at the end of an *note 'INSERT ...
     SELECT': insert. statement.

   * 'update-start': Triggered before an *note 'UPDATE': update.
     statement.

   * 'update-done': Triggered at the end of an *note 'UPDATE': update.
     statement.

   * 'multi-update-start': Triggered before an *note 'UPDATE': update.
     statement involving multiple tables.

   * 'multi-update-done': Triggered at the end of an *note 'UPDATE':
     update. statement involving multiple tables.

   * 'delete-start': Triggered before a *note 'DELETE': delete.
     statement.

   * 'delete-done': Triggered at the end of a *note 'DELETE': delete.
     statement.

   * 'multi-delete-start': Triggered before a *note 'DELETE': delete.
     statement involving multiple tables.

   * 'multi-delete-done': Triggered at the end of a *note 'DELETE':
     delete. statement involving multiple tables.

The arguments for the statement probes are:

   * 'query': The query string.

   * 'status': The status of the query.  '0' for success, and '>0' for
     failure.

   * 'rows': The number of rows affected by the statement.  This returns
     the number rows found for *note 'SELECT': select, the number of
     rows deleted for *note 'DELETE': delete, and the number of rows
     successfully inserted for *note 'INSERT': insert.

   * 'rowsmatched': The number of rows matched by the 'WHERE' clause of
     an *note 'UPDATE': update. operation.

   * 'rowschanged': The number of rows actually changed during an *note
     'UPDATE': update. operation.

You use these probes to monitor the execution of these statement types
without having to monitor the user or client executing the statements.
A simple example of this is to track the execution times:

     #!/usr/sbin/dtrace -s

     #pragma D option quiet

     dtrace:::BEGIN
     {
        printf("%-60s %-8s %-8s %-8s\n", "Query", "RowsU", "RowsM", "Dur (ms)");
     }

     mysql*:::update-start, mysql*:::insert-start,
     mysql*:::delete-start, mysql*:::multi-delete-start,
     mysql*:::multi-delete-done, mysql*:::select-start,
     mysql*:::insert-select-start, mysql*:::multi-update-start
     {
         self->query = copyinstr(arg0);
         self->querystart = timestamp;
     }

     mysql*:::insert-done, mysql*:::select-done,
     mysql*:::delete-done, mysql*:::multi-delete-done, mysql*:::insert-select-done
     / self->querystart /
     {
         this->elapsed = ((timestamp - self->querystart)/1000000);
         printf("%-60s %-8d %-8d %d\n",
                self->query,
                0,
                arg1,
                this->elapsed);
         self->querystart = 0;
     }

     mysql*:::update-done, mysql*:::multi-update-done
     / self->querystart /
     {
         this->elapsed = ((timestamp - self->querystart)/1000000);
         printf("%-60s %-8d %-8d %d\n",
                self->query,
                arg1,
                arg2,
                this->elapsed);
         self->querystart = 0;
     }

When executed you can see the basic execution times and rows matches:

     Query                                                        RowsU    RowsM    Dur (ms)
     select * from t2                                             0        275      0
     insert into t2 (select * from t2)                            0        275      9
     update t2 set i=5 where i > 75                               110      110      8
     update t2 set i=5 where i < 25                               254      134      12
     delete from t2 where i < 5                                   0        0        0

Another alternative is to use the aggregation functions in DTrace to
aggregate the execution time of individual statements together:

     #!/usr/sbin/dtrace -s

     #pragma D option quiet

     mysql*:::update-start, mysql*:::insert-start,
     mysql*:::delete-start, mysql*:::multi-delete-start,
     mysql*:::multi-delete-done, mysql*:::select-start,
     mysql*:::insert-select-start, mysql*:::multi-update-start
     {
         self->querystart = timestamp;
     }

     mysql*:::select-done
     {
             @statements["select"] = sum(((timestamp - self->querystart)/1000000));
     }

     mysql*:::insert-done, mysql*:::insert-select-done
     {
             @statements["insert"] = sum(((timestamp - self->querystart)/1000000));
     }

     mysql*:::update-done, mysql*:::multi-update-done
     {
             @statements["update"] = sum(((timestamp - self->querystart)/1000000));
     }

     mysql*:::delete-done, mysql*:::multi-delete-done
     {
             @statements["delete"] = sum(((timestamp - self->querystart)/1000000));
     }

     tick-30s
     {
             printa(@statements);
     }

The script just shown aggregates the times spent doing each operation,
which could be used to help benchmark a standard suite of tests.

      delete                                                            0
       update                                                            0
       insert                                                           23
       select                                                         2484

       delete                                                            0
       update                                                            0
       insert                                                           39
       select                                                        10744

       delete                                                            0
       update                                                           26
       insert                                                           56
       select                                                        10944

       delete                                                            0
       update                                                           26
       insert                                                         2287
       select                                                        15985


File: manual.info.tmp,  Node: dba-dtrace-ref-network,  Next: dba-dtrace-ref-keycache,  Prev: dba-dtrace-ref-statement,  Up: dba-dtrace-mysqld-ref

5.8.1.13 Network Probes
.......................

The network probes monitor the transfer of information from the MySQL
server and clients of all types over the network.  The probes are
defined as follows:

     net-read-start()
     net-read-done(status, bytes)
     net-write-start(bytes)
     net-write-done(status)

   * 'net-read-start': Triggered when a network read operation is
     started.

   * 'net-read-done': Triggered when the network read operation
     completes.  The 'status' is an 'integer' representing the return
     status for the operation, '0' for success and '1' for failure.  The
     'bytes' argument is an integer specifying the number of bytes read
     during the process.

   * 'net-start-bytes': Triggered when data is written to a network
     socket.  The single argument, 'bytes', specifies the number of
     bytes written to the network socket.

   * 'net-write-done': Triggered when the network write operation has
     completed.  The single argument, 'status', is an integer
     representing the return status for the operation, '0' for success
     and '1' for failure.

You can use the network probes to monitor the time spent reading from
and writing to network clients during execution.  The following D script
provides an example of this.  Both the cumulative time for the read or
write is calculated, and the number of bytes.  Note that the dynamic
variable size has been increased (using the 'dynvarsize' option) to cope
with the rapid firing of the individual probes for the network
reads/writes.

     #!/usr/sbin/dtrace -s

     #pragma D option quiet
     #pragma D option dynvarsize=4m

     dtrace:::BEGIN
     {
        printf("%-2s %-30s %-10s %9s %18s %-s \n",
               "St", "Who", "DB", "ConnID", "Dur microsec", "Query");
     }

     mysql*:::query-start
     {
        self->query = copyinstr(arg0);
        self->who   = strjoin(copyinstr(arg3),strjoin("@",copyinstr(arg4)));
        self->db    = copyinstr(arg2);
        self->connid = arg1;
        self->querystart = timestamp;
        self->netwrite = 0;
        self->netwritecum = 0;
        self->netwritebase = 0;
        self->netread = 0;
        self->netreadcum = 0;
        self->netreadbase = 0;
     }

     mysql*:::net-write-start
     {
        self->netwrite += arg0;
        self->netwritebase = timestamp;
     }

     mysql*:::net-write-done
     {
        self->netwritecum += (timestamp - self->netwritebase);
        self->netwritebase = 0;
     }

     mysql*:::net-read-start
     {
        self->netreadbase = timestamp;
     }

     mysql*:::net-read-done
     {
        self->netread += arg1;
        self->netreadcum += (timestamp - self->netreadbase);
        self->netreadbase = 0;
     }

     mysql*:::query-done
     {
        this->elapsed = (timestamp - self->querystart) /1000000;
        printf("%2d %-30s %-10s %9d %18d %s\n",
               arg0, self->who, self->db,
               self->connid, this->elapsed, self->query);
        printf("Net read: %d bytes (%d ms) write: %d bytes (%d ms)\n",
                    self->netread, (self->netreadcum/1000000),
                    self->netwrite, (self->netwritecum/1000000));
     }

When executing the above script on a machine with a remote client, you
can see that approximately a third of the time spent executing the query
is related to writing the query results back to the client.

     St Who                            DB            ConnID       Dur microsec Query
      0 root@::ffff:198.51.100.108      test              31               3495 select * from t1 limit 1000000
     Net read: 0 bytes (0 ms) write: 10000075 bytes (1220 ms)


File: manual.info.tmp,  Node: dba-dtrace-ref-keycache,  Prev: dba-dtrace-ref-network,  Up: dba-dtrace-mysqld-ref

5.8.1.14 Keycache Probes
........................

The keycache probes are triggered when using the index key cache used
with the MyISAM storage engine.  Probes exist to monitor when data is
read into the keycache, cached key data is written from the cache into a
cached file, or when accessing the keycache.

Keycache usage indicates when data is read or written from the index
files into the cache, and can be used to monitor how efficient the
memory allocated to the keycache is being used.  A high number of
keycache reads across a range of queries may indicate that the keycache
is too small for size of data being accessed.

     keycache-read-start(filepath, bytes, mem_used, mem_free)
     keycache-read-block(bytes)
     keycache-read-hit()
     keycache-read-miss()
     keycache-read-done(mem_used, mem_free)
     keycache-write-start(filepath, bytes, mem_used, mem_free)
     keycache-write-block(bytes)
     keycache-write-done(mem_used, mem_free)

When reading data from the index files into the keycache, the process
first initializes the read operation (indicated by
'keycache-read-start'), then loads blocks of data
('keycache-read-block'), and then the read block is either matches the
data being identified ('keycache-read-hit') or more data needs to be
read ('keycache-read-miss').  Once the read operation has completed,
reading stops with the 'keycache-read-done'.

Data will be read from the index file into the keycache only when the
specified key is not already within the keycache.

   * 'keycache-read-start': Triggered when the keycache read operation
     is started.  Data is read from the specified 'filepath', reading
     the specified number of 'bytes'.  The 'mem_used' and 'mem_avail'
     indicate memory currently used by the keycache and the amount of
     memory available within the keycache.

   * 'keycache-read-block': Triggered when the keycache reads a block of
     data, of the specified number of 'bytes', from the index file into
     the keycache.

   * 'keycache-read-hit': Triggered when the block of data read from the
     index file matches the key data requested.

   * 'keycache-read-miss': Triggered when the block of data read from
     the index file does not match the key data needed.

   * 'keycache-read-done': Triggered when the keycache read operation
     has completed.  The 'mem_used' and 'mem_avail' indicate memory
     currently used by the keycache and the amount of memory available
     within the keycache.

Keycache writes occur when the index information is updated during an
'INSERT', 'UPDATE', or 'DELETE' operation, and the cached key
information is flushed back to the index file.

   * 'keycache-write-start': Triggered when the keycache write operation
     is started.  Data is written to the specified 'filepath', reading
     the specified number of 'bytes'.  The 'mem_used' and 'mem_avail'
     indicate memory currently used by the keycache and the amount of
     memory available within the keycache.

   * 'keycache-write-block': Triggered when the keycache writes a block
     of data, of the specified number of 'bytes', to the index file from
     the keycache.

   * 'keycache-write-done': Triggered when the keycache write operation
     has completed.  The 'mem_used' and 'mem_avail' indicate memory
     currently used by the keycache and the amount of memory available
     within the keycache.


File: manual.info.tmp,  Node: security,  Next: backup-and-recovery,  Prev: server-administration,  Up: Top

6 Security
**********

* Menu:

* general-security-issues::      General Security Issues
* access-control::               Access Control and Account Management
* encrypted-connections::        Using Encrypted Connections
* security-plugins::             Security Plugins

When thinking about security within a MySQL installation, you should
consider a wide range of possible topics and how they affect the
security of your MySQL server and related applications:

   * General factors that affect security.  These include choosing good
     passwords, not granting unnecessary privileges to users, ensuring
     application security by preventing SQL injections and data
     corruption, and others.  See *note general-security-issues::.

   * Security of the installation itself.  The data files, log files,
     and the all the application files of your installation should be
     protected to ensure that they are not readable or writable by
     unauthorized parties.  For more information, see *note
     postinstallation::.

   * Access control and security within the database system itself,
     including the users and databases granted with access to the
     databases, views and stored programs in use within the database.
     For more information, see *note access-control::.

   * The features offered by security-related plugins.  See *note
     security-plugins::.

   * Network security of MySQL and your system.  The security is related
     to the grants for individual users, but you may also wish to
     restrict MySQL so that it is available only locally on the MySQL
     server host, or to a limited set of other hosts.

   * Ensure that you have adequate and appropriate backups of your
     database files, configuration and log files.  Also be sure that you
     have a recovery solution in place and test that you are able to
     successfully recover the information from your backups.  See *note
     backup-and-recovery::.


File: manual.info.tmp,  Node: general-security-issues,  Next: access-control,  Prev: security,  Up: security

6.1 General Security Issues
===========================

* Menu:

* security-guidelines::          Security Guidelines
* password-security::            Keeping Passwords Secure
* security-against-attack::      Making MySQL Secure Against Attackers
* security-options::             Security-Related mysqld Options and Variables
* changing-mysql-user::          How to Run MySQL as a Normal User
* load-data-local::              Security Issues with LOAD DATA LOCAL
* secure-client-programming::    Client Programming Security Guidelines

This section describes general security issues to be aware of and what
you can do to make your MySQL installation more secure against attack or
misuse.  For information specifically about the access control system
that MySQL uses for setting up user accounts and checking database
access, see *note postinstallation::.

For answers to some questions that are often asked about MySQL Server
security issues, see *note faqs-security::.


File: manual.info.tmp,  Node: security-guidelines,  Next: password-security,  Prev: general-security-issues,  Up: general-security-issues

6.1.1 Security Guidelines
-------------------------

Anyone using MySQL on a computer connected to the Internet should read
this section to avoid the most common security mistakes.

In discussing security, it is necessary to consider fully protecting the
entire server host (not just the MySQL server) against all types of
applicable attacks: eavesdropping, altering, playback, and denial of
service.  We do not cover all aspects of availability and fault
tolerance here.

MySQL uses security based on Access Control Lists (ACLs) for all
connections, queries, and other operations that users can attempt to
perform.  There is also support for SSL-encrypted connections between
MySQL clients and servers.  Many of the concepts discussed here are not
specific to MySQL at all; the same general ideas apply to almost all
applications.

When running MySQL, follow these guidelines:

   * *Do not ever give anyone (except MySQL 'root' accounts) access to
     the 'user' table in the 'mysql' system database!*  This is
     critical.

   * Learn how the MySQL access privilege system works (see *note
     access-control::).  Use the *note 'GRANT': grant. and *note
     'REVOKE': revoke. statements to control access to MySQL. Do not
     grant more privileges than necessary.  Never grant privileges to
     all hosts.

     Checklist:

        * Try 'mysql -u root'.  If you are able to connect successfully
          to the server without being asked for a password, anyone can
          connect to your MySQL server as the MySQL 'root' user with
          full privileges!  Review the MySQL installation instructions,
          paying particular attention to the information about setting a
          'root' password.  See *note default-privileges::.

        * Use the *note 'SHOW GRANTS': show-grants. statement to check
          which accounts have access to what.  Then use the *note
          'REVOKE': revoke. statement to remove those privileges that
          are not necessary.

   * Do not store cleartext passwords in your database.  If your
     computer becomes compromised, the intruder can take the full list
     of passwords and use them.  Instead, use 'SHA2()' or some other
     one-way hashing function and store the hash value.

     To prevent password recovery using rainbow tables, do not use these
     functions on a plain password; instead, choose some string to be
     used as a salt, and use hash(hash(password)+salt) values.

   * Do not choose passwords from dictionaries.  Special programs exist
     to break passwords.  Even passwords like 'xfish98' are very bad.
     Much better is 'duag98' which contains the same word 'fish' but
     typed one key to the left on a standard QWERTY keyboard.  Another
     method is to use a password that is taken from the first characters
     of each word in a sentence (for example, 'Four score and seven
     years ago' results in a password of 'Fsasya').  The password is
     easy to remember and type, but difficult to guess for someone who
     does not know the sentence.  In this case, you can additionally
     substitute digits for the number words to obtain the phrase '4
     score and 7 years ago', yielding the password '4sa7ya' which is
     even more difficult to guess.

   * Invest in a firewall.  This protects you from at least 50% of all
     types of exploits in any software.  Put MySQL behind the firewall
     or in a demilitarized zone (DMZ).

     Checklist:

        * Try to scan your ports from the Internet using a tool such as
          'nmap'.  MySQL uses port 3306 by default.  This port should
          not be accessible from untrusted hosts.  As a simple way to
          check whether your MySQL port is open, try the following
          command from some remote machine, where SERVER_HOST is the
          host name or IP address of the host on which your MySQL server
          runs:

               shell> telnet SERVER_HOST 3306

          If 'telnet' hangs or the connection is refused, the port is
          blocked, which is how you want it to be.  If you get a
          connection and some garbage characters, the port is open, and
          should be closed on your firewall or router, unless you really
          have a good reason to keep it open.

   * Applications that access MySQL should not trust any data entered by
     users, and should be written using proper defensive programming
     techniques.  See *note secure-client-programming::.

   * Do not transmit plain (unencrypted) data over the Internet.  This
     information is accessible to everyone who has the time and ability
     to intercept it and use it for their own purposes.  Instead, use an
     encrypted protocol such as SSL or SSH. MySQL supports internal SSL
     connections.  Another technique is to use SSH port-forwarding to
     create an encrypted (and compressed) tunnel for the communication.

   * Learn to use the 'tcpdump' and 'strings' utilities.  In most cases,
     you can check whether MySQL data streams are unencrypted by issuing
     a command like the following:

          shell> tcpdump -l -i eth0 -w - src or dst port 3306 | strings

     This works under Linux and should work with small modifications
     under other systems.

     *Warning*:

     If you do not see cleartext data, this does not always mean that
     the information actually is encrypted.  If you need high security,
     consult with a security expert.


File: manual.info.tmp,  Node: password-security,  Next: security-against-attack,  Prev: security-guidelines,  Up: general-security-issues

6.1.2 Keeping Passwords Secure
------------------------------

* Menu:

* password-security-user::       End-User Guidelines for Password Security
* password-security-admin::      Administrator Guidelines for Password Security
* password-logging::             Passwords and Logging
* password-hashing::             Password Hashing in MySQL
* application-password-use::     Implications of Password Hashing Changes in MySQL 4.1 for Application Programs

Passwords occur in several contexts within MySQL. The following sections
provide guidelines that enable end users and administrators to keep
these passwords secure and avoid exposing them.  There is also a
discussion of how MySQL uses password hashing internally.


File: manual.info.tmp,  Node: password-security-user,  Next: password-security-admin,  Prev: password-security,  Up: password-security

6.1.2.1 End-User Guidelines for Password Security
.................................................

MySQL users should use the following guidelines to keep passwords
secure.

When you run a client program to connect to the MySQL server, it is
inadvisable to specify your password in a way that exposes it to
discovery by other users.  The methods you can use to specify your
password when you run client programs are listed here, along with an
assessment of the risks of each method.  In short, the safest methods
are to have the client program prompt for the password or to specify the
password in a properly protected option file.

   * 
     Use a '--password=PASSWORD' or '-pPASSWORD' option on the command
     line.  For example:

          shell> mysql -u francis -pfrank DB_NAME

     *Warning*:

     This is convenient _but insecure_.  On some systems, your password
     becomes visible to system status programs such as 'ps' that may be
     invoked by other users to display command lines.  MySQL clients
     typically overwrite the command-line password argument with zeros
     during their initialization sequence.  However, there is still a
     brief interval during which the value is visible.  Also, on some
     systems this overwriting strategy is ineffective and the password
     remains visible to 'ps'.  (SystemV Unix systems and perhaps others
     are subject to this problem.)

     If your operating environment is set up to display your current
     command in the title bar of your terminal window, the password
     remains visible as long as the command is running, even if the
     command has scrolled out of view in the window content area.

   * Use the '--password' or '-p' option on the command line with no
     password value specified.  In this case, the client program
     solicits the password interactively:

          shell> mysql -u francis -p DB_NAME
          Enter password: ********

     The '*' characters indicate where you enter your password.  The
     password is not displayed as you enter it.

     It is more secure to enter your password this way than to specify
     it on the command line because it is not visible to other users.
     However, this method of entering a password is suitable only for
     programs that you run interactively.  If you want to invoke a
     client from a script that runs noninteractively, there is no
     opportunity to enter the password from the keyboard.  On some
     systems, you may even find that the first line of your script is
     read and interpreted (incorrectly) as your password.

   * Store your password in an option file.  For example, on Unix, you
     can list your password in the '[client]' section of the '.my.cnf'
     file in your home directory:

          [client]
          password=PASSWORD

     To keep the password safe, the file should not be accessible to
     anyone but yourself.  To ensure this, set the file access mode to
     '400' or '600'.  For example:

          shell> chmod 600 .my.cnf

     To name from the command line a specific option file containing the
     password, use the '--defaults-file=FILE_NAME' option, where
     'file_name' is the full path name to the file.  For example:

          shell> mysql --defaults-file=/home/francis/mysql-opts

     *note option-files::, discusses option files in more detail.

   * Store your password in the 'MYSQL_PWD' environment variable.  See
     *note environment-variables::.

     This method of specifying your MySQL password must be considered
     _extremely insecure_ and should not be used.  Some versions of 'ps'
     include an option to display the environment of running processes.
     On some systems, if you set 'MYSQL_PWD', your password is exposed
     to any other user who runs 'ps'.  Even on systems without such a
     version of 'ps', it is unwise to assume that there are no other
     methods by which users can examine process environments.

On Unix, the *note 'mysql': mysql. client writes a record of executed
statements to a history file (see *note mysql-logging::).  By default,
this file is named '.mysql_history' and is created in your home
directory.  Passwords can be written as plain text in SQL statements
such as *note 'CREATE USER': create-user, *note 'GRANT': grant, and
*note 'SET PASSWORD': set-password, so if you use these statements, they
are logged in the history file.  To keep this file safe, use a
restrictive access mode, the same way as described earlier for the
'.my.cnf' file.

If your command interpreter is configured to maintain a history, any
file in which the commands are saved will contain MySQL passwords
entered on the command line.  For example, 'bash' uses
'~/.bash_history'.  Any such file should have a restrictive access mode.


File: manual.info.tmp,  Node: password-security-admin,  Next: password-logging,  Prev: password-security-user,  Up: password-security

6.1.2.2 Administrator Guidelines for Password Security
......................................................

Database administrators should use the following guidelines to keep
passwords secure.

MySQL stores passwords for user accounts in the 'mysql.user' system
table.  Access to this table should never be granted to any
nonadministrative accounts.

A user who has access to modify the plugin directory (the value of the
'plugin_dir' system variable) or the 'my.cnf' file that specifies the
plugin directory location can replace plugins and modify the
capabilities provided by plugins, including authentication plugins.

Files such as log files to which passwords might be written should be
protected.  See *note password-logging::.


File: manual.info.tmp,  Node: password-logging,  Next: password-hashing,  Prev: password-security-admin,  Up: password-security

6.1.2.3 Passwords and Logging
.............................

Passwords can be written as plain text in SQL statements such as *note
'CREATE USER': create-user, *note 'GRANT': grant, *note 'SET PASSWORD':
set-password, and statements that invoke the 'PASSWORD()' function.  If
such statements are logged by the MySQL server as written, passwords in
them become visible to anyone with access to the logs.  This applies to
the general query log, the slow query log, and the binary log (see *note
server-logs::).

Contents of the audit log file produced by the audit log plugin are not
encrypted.  For security reasons, this file should be written to a
directory accessible only to the MySQL server and users with a
legitimate reason to view the log.  See *note audit-log-security::.

To guard log files against unwarranted exposure, locate them in a
directory that restricts access to the server and the database
administrator.  If the server logs to tables in the 'mysql' database,
grant access to those tables only to the database administrator.

Replication slaves store the password for the replication master in the
'master.info' file.  Restrict this file to be accessible only to the
database administrator.

Use a restricted access mode to protect database backups that include
log tables or log files containing passwords.


File: manual.info.tmp,  Node: password-hashing,  Next: application-password-use,  Prev: password-logging,  Up: password-security

6.1.2.4 Password Hashing in MySQL
.................................

*Note*:

The information in this section applies only for accounts that use the
'mysql_native_password' or 'mysql_old_password' authentication plugins.

MySQL lists user accounts in the 'user' table of the 'mysql' database.
Each MySQL account can be assigned a password, although the 'user' table
does not store the cleartext version of the password, but a hash value
computed from it.

MySQL uses passwords in two phases of client/server communication:

   * When a client attempts to connect to the server, there is an
     initial authentication step in which the client must present a
     password that has a hash value matching the hash value stored in
     the 'user' table for the account the client wants to use.

   * After the client connects, it can (if it has sufficient privileges)
     set or change the password hash for accounts listed in the 'user'
     table.  The client can do this by using the 'PASSWORD()' function
     to generate a password hash, or by using a password-generating
     statement (*note 'CREATE USER': create-user, *note 'GRANT': grant,
     or *note 'SET PASSWORD': set-password.).

In other words, the server _checks_ hash values during authentication
when a client first attempts to connect.  The server _generates_ hash
values if a connected client invokes the 'PASSWORD()' function or uses a
password-generating statement to set or change a password.

Password hashing methods in MySQL have the history described following.
These changes are illustrated by changes in the result from the
'PASSWORD()' function that computes password hash values and in the
structure of the 'user' table where passwords are stored.

*The Original (Pre-4.1) Hashing Method*

The original hashing method produced a 16-byte string.  Such hashes look
like this:

     mysql> SELECT PASSWORD('mypass');
     +--------------------+
     | PASSWORD('mypass') |
     +--------------------+
     | 6f8c114b58f2ce9e   |
     +--------------------+

To store account passwords, the 'Password' column of the 'user' table
was at this point 16 bytes long.

*The 4.1 Hashing Method*

MySQL 4.1 introduced password hashing that provided better security and
reduced the risk of passwords being intercepted.  There were several
aspects to this change:

   * Different format of password values produced by the 'PASSWORD()'
     function

   * Widening of the 'Password' column

   * Control over the default hashing method

   * Control over the permitted hashing methods for clients attempting
     to connect to the server

The changes in MySQL 4.1 took place in two stages:

   * MySQL 4.1.0 used a preliminary version of the 4.1 hashing method.
     This method was short lived and the following discussion says
     nothing more about it.

   * In MySQL 4.1.1, the hashing method was modified to produce a longer
     41-byte hash value:

          mysql> SELECT PASSWORD('mypass');
          +-------------------------------------------+
          | PASSWORD('mypass')                        |
          +-------------------------------------------+
          | *6C8989366EAF75BB670AD8EA7A7FC1176A95CEF4 |
          +-------------------------------------------+

     The longer password hash format has better cryptographic
     properties, and client authentication based on long hashes is more
     secure than that based on the older short hashes.

     To accommodate longer password hashes, the 'Password' column in the
     'user' table was changed at this point to be 41 bytes, its current
     length.

     A widened 'Password' column can store password hashes in both the
     pre-4.1 and 4.1 formats.  The format of any given hash value can be
     determined two ways:

        * The length: 4.1 and pre-4.1 hashes are 41 and 16 bytes,
          respectively.

        * Password hashes in the 4.1 format always begin with a '*'
          character, whereas passwords in the pre-4.1 format never do.

     To permit explicit generation of pre-4.1 password hashes, two
     additional changes were made:

        * The 'OLD_PASSWORD()' function was added, which returns hash
          values in the 16-byte format.

        * For compatibility purposes, the 'old_passwords' system
          variable was added, to enable DBAs and applications control
          over the hashing method.  The default 'old_passwords' value of
          0 causes hashing to use the 4.1 method (41-byte hash values),
          but setting 'old_passwords=1' causes hashing to use the
          pre-4.1 method.  In this case, 'PASSWORD()' produces 16-byte
          values and is equivalent to 'OLD_PASSWORD()'

     To permit DBAs control over how clients are permitted to connect,
     the 'secure_auth' system variable was added.  Starting the server
     with this variable disabled or enabled permits or prohibits clients
     to connect using the older pre-4.1 password hashing method.  Before
     MySQL 5.6.5, 'secure_auth' is disabled by default.  As of 5.6.5,
     'secure_auth' is enabled by default to promote a more secure
     default configuration.  (DBAs can disable it at their discretion,
     but this is not recommended.)

     In addition, the *note 'mysql': mysql. client supports a
     '--secure-auth' option that is analogous to 'secure_auth', but from
     the client side.  It can be used to prevent connections to less
     secure accounts that use pre-4.1 password hashing.  This option is
     disabled by default before MySQL 5.6.7, enabled thereafter.

*Compatibility Issues Related to Hashing Methods*

The widening of the 'Password' column in MySQL 4.1 from 16 bytes to 41
bytes affects installation or upgrade operations as follows:

   * If you perform a new installation of MySQL, the 'Password' column
     is made 41 bytes long automatically.

   * Upgrades from MySQL 4.1 or later to current versions of MySQL
     should not give rise to any issues in regard to the 'Password'
     column because both versions use the same column length and
     password hashing method.

   * For upgrades from a pre-4.1 release to 4.1 or later, you must
     upgrade the system tables after upgrading.  (See *note
     mysql-upgrade::.)

The 4.1 hashing method is understood only by MySQL 4.1 (and higher)
servers and clients, which can result in some compatibility problems.  A
4.1 or higher client can connect to a pre-4.1 server, because the client
understands both the pre-4.1 and 4.1 password hashing methods.  However,
a pre-4.1 client that attempts to connect to a 4.1 or higher server may
run into difficulties.  For example, a 4.0 *note 'mysql': mysql. client
may fail with the following error message:

     shell> mysql -h localhost -u root
     Client does not support authentication protocol requested
     by server; consider upgrading MySQL client

This phenomenon also occurs for attempts to use the older PHP 'mysql'
extension after upgrading to MySQL 4.1 or higher.  (See Common Problems
with MySQL and PHP
(https://dev.mysql.com/doc/apis-php/en/apis-php-problems.html).)

The following discussion describes the differences between the pre-4.1
and 4.1 hashing methods, and what you should do if you upgrade your
server but need to maintain backward compatibility with pre-4.1 clients.
(However, permitting connections by old clients is not recommended and
should be avoided if possible.)  Additional information can be found in
*note old-client::.  This information is of particular importance to PHP
programmers migrating MySQL databases from versions older than 4.1 to
4.1 or higher.

The differences between short and long password hashes are relevant both
for how the server uses passwords during authentication and for how it
generates password hashes for connected clients that perform
password-changing operations.

The way in which the server uses password hashes during authentication
is affected by the width of the 'Password' column:

   * If the column is short, only short-hash authentication is used.

   * If the column is long, it can hold either short or long hashes, and
     the server can use either format:

        * Pre-4.1 clients can connect, but because they know only about
          the pre-4.1 hashing method, they can authenticate only using
          accounts that have short hashes.

        * 4.1 and later clients can authenticate using accounts that
          have short or long hashes.

Even for short-hash accounts, the authentication process is actually a
bit more secure for 4.1 and later clients than for older clients.  In
terms of security, the gradient from least to most secure is:

   * Pre-4.1 client authenticating with short password hash

   * 4.1 or later client authenticating with short password hash

   * 4.1 or later client authenticating with long password hash

The way in which the server generates password hashes for connected
clients is affected by the width of the 'Password' column and by the
'old_passwords' system variable.  A 4.1 or later server generates long
hashes only if certain conditions are met: The 'Password' column must be
wide enough to hold long values and 'old_passwords' must not be set to
1.

Those conditions apply as follows:

   * The 'Password' column must be wide enough to hold long hashes (41
     bytes).  If the column has not been updated and still has the
     pre-4.1 width of 16 bytes, the server notices that long hashes
     cannot fit into it and generates only short hashes when a client
     performs password-changing operations using the 'PASSWORD()'
     function or a password-generating statement.  This is the behavior
     that occurs if you have upgraded from a version of MySQL older than
     4.1 to 4.1 or later but have not yet run the *note 'mysql_upgrade':
     mysql-upgrade. program to widen the 'Password' column.

   * If the 'Password' column is wide, it can store either short or long
     password hashes.  In this case, the 'PASSWORD()' function and
     password-generating statements generate long hashes unless the
     server was started with the 'old_passwords' system variable set to
     1 to force the server to generate short password hashes instead.

The purpose of the 'old_passwords' system variable is to permit backward
compatibility with pre-4.1 clients under circumstances where the server
would otherwise generate long password hashes.  The option does not
affect authentication (4.1 and later clients can still use accounts that
have long password hashes), but it does prevent creation of a long
password hash in the 'user' table as the result of a password-changing
operation.  Were that permitted to occur, the account could no longer be
used by pre-4.1 clients.  With 'old_passwords' disabled, the following
undesirable scenario is possible:

   * An old pre-4.1 client connects to an account that has a short
     password hash.

   * The client changes its own password.  With 'old_passwords'
     disabled, this results in the account having a long password hash.

   * The next time the old client attempts to connect to the account, it
     cannot, because the account has a long password hash that requires
     the 4.1 hashing method during authentication.  (Once an account has
     a long password hash in the user table, only 4.1 and later clients
     can authenticate for it because pre-4.1 clients do not understand
     long hashes.)

This scenario illustrates that, if you must support older pre-4.1
clients, it is problematic to run a 4.1 or higher server without
'old_passwords' set to 1.  By running the server with 'old_passwords=1',
password-changing operations do not generate long password hashes and
thus do not cause accounts to become inaccessible to older clients.
(Those clients cannot inadvertently lock themselves out by changing
their password and ending up with a long password hash.)

The downside of 'old_passwords=1' is that any passwords created or
changed use short hashes, even for 4.1 or later clients.  Thus, you lose
the additional security provided by long password hashes.  To create an
account that has a long hash (for example, for use by 4.1 clients) or to
change an existing account to use a long password hash, an administrator
can set the session value of 'old_passwords' set to 0 while leaving the
global value set to 1:


     mysql> SET @@SESSION.old_passwords = 0;
     Query OK, 0 rows affected (0.00 sec)

     mysql> SELECT @@SESSION.old_passwords, @@GLOBAL.old_passwords;
     +-------------------------+------------------------+
     | @@SESSION.old_passwords | @@GLOBAL.old_passwords |
     +-------------------------+------------------------+
     |                       0 |                      1 |
     +-------------------------+------------------------+
     1 row in set (0.00 sec)

     mysql> CREATE USER 'newuser'@'localhost' IDENTIFIED BY 'newpass';
     Query OK, 0 rows affected (0.03 sec)

     mysql> SET PASSWORD FOR 'existinguser'@'localhost' = PASSWORD('existingpass');
     Query OK, 0 rows affected (0.00 sec)

The following scenarios are possible in MySQL 4.1 or later.  The factors
are whether the 'Password' column is short or long, and, if long,
whether the server is started with 'old_passwords' enabled or disabled.

*Scenario 1:* Short 'Password' column in user table:

   * Only short hashes can be stored in the 'Password' column.

   * The server uses only short hashes during client authentication.

   * For connected clients, password hash-generating operations
     involving the 'PASSWORD()' function or password-generating
     statements use short hashes exclusively.  Any change to an
     account's password results in that account having a short password
     hash.

   * The value of 'old_passwords' is irrelevant because with a short
     'Password' column, the server generates only short password hashes
     anyway.

This scenario occurs when a pre-4.1 MySQL installation has been upgraded
to 4.1 or later but *note 'mysql_upgrade': mysql-upgrade. has not been
run to upgrade the system tables in the 'mysql' database.  (This is not
a recommended configuration because it does not permit use of more
secure 4.1 password hashing.)

*Scenario 2:* Long 'Password' column; server started with
'old_passwords=1':

   * Short or long hashes can be stored in the 'Password' column.

   * 4.1 and later clients can authenticate for accounts that have short
     or long hashes.

   * Pre-4.1 clients can authenticate only for accounts that have short
     hashes.

   * For connected clients, password hash-generating operations
     involving the 'PASSWORD()' function or password-generating
     statements use short hashes exclusively.  Any change to an
     account's password results in that account having a short password
     hash.

In this scenario, newly created accounts have short password hashes
because 'old_passwords=1' prevents generation of long hashes.  Also, if
you create an account with a long hash before setting 'old_passwords' to
1, changing the account's password while 'old_passwords=1' results in
the account being given a short password, causing it to lose the
security benefits of a longer hash.

To create a new account that has a long password hash, or to change the
password of any existing account to use a long hash, first set the
session value of 'old_passwords' set to 0 while leaving the global value
set to 1, as described previously.

In this scenario, the server has an up to date 'Password' column, but is
running with the default password hashing method set to generate pre-4.1
hash values.  This is not a recommended configuration but may be useful
during a transitional period in which pre-4.1 clients and passwords are
upgraded to 4.1 or later.  When that has been done, it is preferable to
run the server with 'old_passwords=0' and 'secure_auth=1'.

*Scenario 3:* Long 'Password' column; server started with
'old_passwords=0':

   * Short or long hashes can be stored in the 'Password' column.

   * 4.1 and later clients can authenticate using accounts that have
     short or long hashes.

   * Pre-4.1 clients can authenticate only using accounts that have
     short hashes.

   * For connected clients, password hash-generating operations
     involving the 'PASSWORD()' function or password-generating
     statements use long hashes exclusively.  A change to an account's
     password results in that account having a long password hash.

As indicated earlier, a danger in this scenario is that it is possible
for accounts that have a short password hash to become inaccessible to
pre-4.1 clients.  A change to such an account's password made using the
'PASSWORD()' function or a password-generating statement results in the
account being given a long password hash.  From that point on, no
pre-4.1 client can connect to the server using that account.  The client
must upgrade to 4.1 or later.

If this is a problem, you can change a password in a special way.  For
example, normally you use *note 'SET PASSWORD': set-password. as follows
to change an account password:

     SET PASSWORD FOR 'SOME_USER'@'SOME_HOST' = PASSWORD('PASSWORD');

To change the password but create a short hash, use the 'OLD_PASSWORD()'
function instead:

     SET PASSWORD FOR 'SOME_USER'@'SOME_HOST' = OLD_PASSWORD('PASSWORD');

'OLD_PASSWORD()' is useful for situations in which you explicitly want
to generate a short hash.

The disadvantages for each of the preceding scenarios may be summarized
as follows:

In scenario 1, you cannot take advantage of longer hashes that provide
more secure authentication.

In scenario 2, 'old_passwords=1' prevents accounts with short hashes
from becoming inaccessible, but password-changing operations cause
accounts with long hashes to revert to short hashes unless you take care
to change the session value of 'old_passwords' to 0 first.

In scenario 3, accounts with short hashes become inaccessible to pre-4.1
clients if you change their passwords without explicitly using
'OLD_PASSWORD()'.

The best way to avoid compatibility problems related to short password
hashes is to not use them:

   * Upgrade all client programs to MySQL 4.1 or later.

   * Run the server with 'old_passwords=0'.

   * Reset the password for any account with a short password hash to
     use a long password hash.

   * For additional security, run the server with 'secure_auth=1'.


File: manual.info.tmp,  Node: application-password-use,  Prev: password-hashing,  Up: password-security

6.1.2.5 Implications of Password Hashing Changes in MySQL 4.1 for Application Programs
......................................................................................

An upgrade to MySQL version 4.1 or later can cause compatibility issues
for applications that use 'PASSWORD()' to generate passwords for their
own purposes.  Applications really should not do this, because
'PASSWORD()' should be used only to manage passwords for MySQL accounts.
But some applications use 'PASSWORD()' for their own purposes anyway.

If you upgrade to 4.1 or later from a pre-4.1 version of MySQL and run
the server under conditions where it generates long password hashes, an
application using 'PASSWORD()' for its own passwords breaks.  The
recommended course of action in such cases is to modify the application
to use another function, such as 'SHA2()', 'SHA1()', or 'MD5()', to
produce hashed values.  If that is not possible, you can use the
'OLD_PASSWORD()' function, which is provided for generate short hashes
in the old format.  However, you should note that 'OLD_PASSWORD()' may
one day no longer be supported.

If the server is running with 'old_passwords=1', it generates short
hashes and 'OLD_PASSWORD()' is equivalent to 'PASSWORD()'.

PHP programmers migrating their MySQL databases from version 4.0 or
lower to version 4.1 or higher should see MySQL and PHP
(https://dev.mysql.com/doc/apis-php/en/).


File: manual.info.tmp,  Node: security-against-attack,  Next: security-options,  Prev: password-security,  Up: general-security-issues

6.1.3 Making MySQL Secure Against Attackers
-------------------------------------------

When you connect to a MySQL server, you should use a password.  The
password is not transmitted as cleartext over the connection.  Password
handling during the client connection sequence was upgraded in MySQL
4.1.1 to be very secure.  If you are still using pre-4.1.1-style
passwords, the encryption algorithm is not as strong as the newer
algorithm.  With some effort, a clever attacker who can sniff the
traffic between the client and the server can crack the password.  (See
*note password-hashing::, for a discussion of the different password
handling methods.)

All other information is transferred as text, and can be read by anyone
who is able to watch the connection.  If the connection between the
client and the server goes through an untrusted network, and you are
concerned about this, you can use the compressed protocol to make
traffic much more difficult to decipher.  You can also use MySQL's
internal SSL support to make the connection even more secure.  See *note
encrypted-connections::.  Alternatively, use SSH to get an encrypted
TCP/IP connection between a MySQL server and a MySQL client.  You can
find an Open Source SSH client at <http://www.openssh.org/>, and a
comparison of both Open Source and Commercial SSH clients at
<http://en.wikipedia.org/wiki/Comparison_of_SSH_clients>.

To make a MySQL system secure, you should strongly consider the
following suggestions:

   * Require all MySQL accounts to have a password.  A client program
     does not necessarily know the identity of the person running it.
     It is common for client/server applications that the user can
     specify any user name to the client program.  For example, anyone
     can use the *note 'mysql': mysql. program to connect as any other
     person simply by invoking it as 'mysql -u OTHER_USER DB_NAME' if
     OTHER_USER has no password.  If all accounts have a password,
     connecting using another user's account becomes much more
     difficult.

     For a discussion of methods for setting passwords, see *note
     assigning-passwords::.

   * Make sure that the only Unix user account with read or write
     privileges in the database directories is the account that is used
     for running *note 'mysqld': mysqld.

   * Never run the MySQL server as the Unix 'root' user.  This is
     extremely dangerous, because any user with the 'FILE' privilege is
     able to cause the server to create files as 'root' (for example,
     '~root/.bashrc').  To prevent this, *note 'mysqld': mysqld. refuses
     to run as 'root' unless that is specified explicitly using the
     '--user=root' option.

     *note 'mysqld': mysqld. can (and should) be run as an ordinary,
     unprivileged user instead.  You can create a separate Unix account
     named 'mysql' to make everything even more secure.  Use this
     account only for administering MySQL. To start *note 'mysqld':
     mysqld. as a different Unix user, add a 'user' option that
     specifies the user name in the '[mysqld]' group of the 'my.cnf'
     option file where you specify server options.  For example:

          [mysqld]
          user=mysql

     This causes the server to start as the designated user whether you
     start it manually or by using *note 'mysqld_safe': mysqld-safe. or
     *note 'mysql.server': mysql-server.  For more details, see *note
     changing-mysql-user::.

     Running *note 'mysqld': mysqld. as a Unix user other than 'root'
     does not mean that you need to change the 'root' user name in the
     'user' table.  _User names for MySQL accounts have nothing to do
     with user names for Unix accounts_.

   * Do not grant the 'FILE' privilege to nonadministrative users.  Any
     user that has this privilege can write a file anywhere in the file
     system with the privileges of the *note 'mysqld': mysqld. daemon.
     This includes the server's data directory containing the files that
     implement the privilege tables.  To make 'FILE'-privilege
     operations a bit safer, files generated with *note 'SELECT ... INTO
     OUTFILE': select-into. do not overwrite existing files and are
     writable by everyone.

     The 'FILE' privilege may also be used to read any file that is
     world-readable or accessible to the Unix user that the server runs
     as.  With this privilege, you can read any file into a database
     table.  This could be abused, for example, by using *note 'LOAD
     DATA': load-data. to load '/etc/passwd' into a table, which then
     can be displayed with *note 'SELECT': select.

     To limit the location in which files can be read and written, set
     the 'secure_file_priv' system to a specific directory.  See *note
     server-system-variables::.

   * Do not grant the 'PROCESS' or 'SUPER' privilege to
     nonadministrative users.  The output of *note 'mysqladmin
     processlist': mysqladmin. and *note 'SHOW PROCESSLIST':
     show-processlist. shows the text of any statements currently being
     executed, so any user who is permitted to see the server process
     list might be able to see statements issued by other users such as
     'UPDATE user SET password=PASSWORD('not_secure')'.

     *note 'mysqld': mysqld. reserves an extra connection for users who
     have the 'SUPER' privilege, so that a MySQL 'root' user can log in
     and check server activity even if all normal connections are in
     use.

     The 'SUPER' privilege can be used to terminate client connections,
     change server operation by changing the value of system variables,
     and control replication servers.

   * Do not permit the use of symlinks to tables.  (This capability can
     be disabled with the '--skip-symbolic-links' option.)  This is
     especially important if you run *note 'mysqld': mysqld. as 'root',
     because anyone that has write access to the server's data directory
     then could delete any file in the system!  See *note
     symbolic-links-to-tables::.

   * Stored programs and views should be written using the security
     guidelines discussed in *note stored-objects-security::.

   * If you do not trust your DNS, you should use IP addresses rather
     than host names in the grant tables.  In any case, you should be
     very careful about creating grant table entries using host name
     values that contain wildcards.

   * If you want to restrict the number of connections permitted to a
     single account, you can do so by setting the 'max_user_connections'
     variable in *note 'mysqld': mysqld.  The *note 'GRANT': grant.
     statement also supports resource control options for limiting the
     extent of server use permitted to an account.  See *note grant::.

   * If the plugin directory is writable by the server, it may be
     possible for a user to write executable code to a file in the
     directory using *note 'SELECT ... INTO DUMPFILE': select.  This can
     be prevented by making 'plugin_dir' read only to the server or by
     setting 'secure_file_priv' to a directory where *note 'SELECT':
     select. writes can be made safely.


File: manual.info.tmp,  Node: security-options,  Next: changing-mysql-user,  Prev: security-against-attack,  Up: general-security-issues

6.1.4 Security-Related mysqld Options and Variables
---------------------------------------------------

The following table shows *note 'mysqld': mysqld. options and system
variables that affect security.  For descriptions of each of these, see
*note server-options::, and *note server-system-variables::.

*Security Option and Variable Summary*

Name           Cmd-Line    Option      System      Status      Var Scope   Dynamic
                           File        Var         Var                     
                                                   
allow-suspicious-udfsYes   Yes                                             
                           
automatic_sp_privilegesYes Yes         Yes                     Global      Yes
                                                                           
chroot         Yes         Yes                                             
                           
des-key-file   Yes         Yes                                             
                           
local_infile   Yes         Yes         Yes                     Global      Yes
                                                                           
old_passwords  Yes         Yes         Yes                     Both        Yes
                                                                           
safe-show-databaseYes      Yes                                             
                           
safe-user-createYes        Yes                                             
                           
secure_auth    Yes         Yes         Yes                     Global      Yes
                                                                           
secure_file_privYes        Yes         Yes                     Global      No
                                                                           
skip-grant-tablesYes       Yes                                             
                           
skip_name_resolveYes       Yes         Yes                     Global      No
                                                                           
skip_networkingYes         Yes         Yes                     Global      No
                                                                           
skip_show_databaseYes      Yes         Yes                     Global      No
                                                               


File: manual.info.tmp,  Node: changing-mysql-user,  Next: load-data-local,  Prev: security-options,  Up: general-security-issues

6.1.5 How to Run MySQL as a Normal User
---------------------------------------

On Windows, you can run the server as a Windows service using a normal
user account.

On Linux, for installations performed using a MySQL repository, RPM
packages, or Debian packages, the MySQL server *note 'mysqld': mysqld.
should be started by the local 'mysql' operating system user.  Starting
by another operating system user is not supported by the init scripts
that are included as part of the installation.

On Unix (or Linux for installations performed using 'tar' or 'tar.gz'
packages) , the MySQL server *note 'mysqld': mysqld. can be started and
run by any user.  However, you should avoid running the server as the
Unix 'root' user for security reasons.  To change *note 'mysqld':
mysqld. to run as a normal unprivileged Unix user USER_NAME, you must do
the following:

  1. Stop the server if it is running (use *note 'mysqladmin shutdown':
     mysqladmin.).

  2. Change the database directories and files so that USER_NAME has
     privileges to read and write files in them (you might need to do
     this as the Unix 'root' user):

          shell> chown -R USER_NAME /PATH/TO/MYSQL/DATADIR

     If you do not do this, the server will not be able to access
     databases or tables when it runs as USER_NAME.

     If directories or files within the MySQL data directory are
     symbolic links, 'chown -R' might not follow symbolic links for you.
     If it does not, you will also need to follow those links and change
     the directories and files they point to.

  3. Start the server as user USER_NAME.  Another alternative is to
     start *note 'mysqld': mysqld. as the Unix 'root' user and use the
     '--user=USER_NAME' option.  *note 'mysqld': mysqld. starts, then
     switches to run as the Unix user USER_NAME before accepting any
     connections.

  4. To start the server as the given user automatically at system
     startup time, specify the user name by adding a 'user' option to
     the '[mysqld]' group of the '/etc/my.cnf' option file or the
     'my.cnf' option file in the server's data directory.  For example:

          [mysqld]
          user=USER_NAME

If your Unix machine itself is not secured, you should assign passwords
to the MySQL 'root' accounts in the grant tables.  Otherwise, any user
with a login account on that machine can run the *note 'mysql': mysql.
client with a '--user=root' option and perform any operation.  (It is a
good idea to assign passwords to MySQL accounts in any case, but
especially so when other login accounts exist on the server host.)  See
*note default-privileges::.


File: manual.info.tmp,  Node: load-data-local,  Next: secure-client-programming,  Prev: changing-mysql-user,  Up: general-security-issues

6.1.6 Security Issues with LOAD DATA LOCAL
------------------------------------------

The *note 'LOAD DATA': load-data. statement can load a file located on
the server host, or, if the 'LOCAL' keyword is specified, on the client
host.

There are two potential security issues with the 'LOCAL' version of
*note 'LOAD DATA': load-data.:

   * The transfer of the file from the client host to the server host is
     initiated by the MySQL server.  In theory, a patched server could
     be built that would tell the client program to transfer a file of
     the server's choosing rather than the file named by the client in
     the *note 'LOAD DATA': load-data. statement.  Such a server could
     access any file on the client host to which the client user has
     read access.  (A patched server could in fact reply with a
     file-transfer request to any statement, not just *note 'LOAD DATA
     LOCAL': load-data, so a more fundamental issue is that clients
     should not connect to untrusted servers.)

   * In a Web environment where the clients are connecting from a Web
     server, a user could use *note 'LOAD DATA LOCAL': load-data. to
     read any files that the Web server process has read access to
     (assuming that a user could run any statement against the SQL
     server).  In this environment, the client with respect to the MySQL
     server actually is the Web server, not a remote program being run
     by users who connect to the Web server.

To avoid *note 'LOAD DATA': load-data. issues, clients should avoid
using 'LOCAL'.  To avoid connecting to untrusted servers, clients can
establish a secure connection and verify the server identity by
connecting using the '--ssl-verify-server-cert' option and the
appropriate CA certificate.

To enable adminstrators and applications to manage the local data
loading capability, 'LOCAL' configuration works like this:

   * On the server side:

        * The 'local_infile' system variable controls server-side
          'LOCAL' capability.  Depending on the 'local_infile' setting,
          the server refuses or permits local data loading by clients
          that have 'LOCAL' enabled on the client side.  By default,
          'local_infile' is enabled.

        * To explicitly cause the server to refuse or permit *note 'LOAD
          DATA LOCAL': load-data. statements (regardless of how client
          programs and libraries are configured at build time or
          runtime), start *note 'mysqld': mysqld. with 'local_infile'
          disabled or enabled, respectively.  'local_infile' can also be
          set at runtime.

   * On the client side:

        * The 'ENABLED_LOCAL_INFILE' 'CMake' option controls the
          compiled-in default 'LOCAL' capability for the MySQL client
          library.  Clients that make no explicit arrangements therefore
          have 'LOCAL' capability disabled or enabled according to the
          'ENABLED_LOCAL_INFILE' setting specified at MySQL build time.

          By default, the client library in MySQL binary distributions
          is compiled with 'ENABLED_LOCAL_INFILE' enabled.  If you
          compile MySQL from source, configure it with
          'ENABLED_LOCAL_INFILE' disabled or enabled based on whether
          clients that make no explicit arrangements should have 'LOCAL'
          capability disabled or enabled, respectively.

        * Client programs that use the C API can control load data
          loading explicitly by invoking *note 'mysql_options()':
          mysql-options. to disable or enable the
          'MYSQL_OPT_LOCAL_INFILE' option.  See *note mysql-options::.

        * For the *note 'mysql': mysql. client, local data loading is
          disabled by default.  To disable or enable it explicitly, use
          the '--local-infile=0' or '--local-infile[=1]' option.

        * For the *note 'mysqlimport': mysqlimport. client, local data
          loading is disabled by default.  To disable or enable it
          explicitly, use the '--local=0' or '--local[=1]' option.

        * If you use *note 'LOAD DATA LOCAL': load-data. in Perl scripts
          or other programs that read the '[client]' group from option
          files, you can add an 'local-infile' option setting to that
          group.  To prevent problems for programs that do not
          understand this option, specify it using the *note 'loose-':
          option-modifiers. prefix:

               [client]
               loose-local-infile=0

          or:

               [client]
               loose-local-infile=1

        * In all cases, successful use of a 'LOCAL' load operation by a
          client also requires that the server permits it.

If 'LOCAL' capability is disabled, on either the server or client side,
a client that attempts to issue a *note 'LOAD DATA LOCAL': load-data.
statement receives the following error message:

     ERROR 1148: The used command is not allowed with this MySQL version


File: manual.info.tmp,  Node: secure-client-programming,  Prev: load-data-local,  Up: general-security-issues

6.1.7 Client Programming Security Guidelines
--------------------------------------------

Applications that access MySQL should not trust any data entered by
users, who can try to trick your code by entering special or escaped
character sequences in Web forms, URLs, or whatever application you have
built.  Be sure that your application remains secure if a user enters
something like '; DROP DATABASE mysql;'.  This is an extreme example,
but large security leaks and data loss might occur as a result of
hackers using similar techniques, if you do not prepare for them.

A common mistake is to protect only string data values.  Remember to
check numeric data as well.  If an application generates a query such as
'SELECT * FROM table WHERE ID=234' when a user enters the value '234',
the user can enter the value '234 OR 1=1' to cause the application to
generate the query 'SELECT * FROM table WHERE ID=234 OR 1=1'.  As a
result, the server retrieves every row in the table.  This exposes every
row and causes excessive server load.  The simplest way to protect from
this type of attack is to use single quotation marks around the numeric
constants: 'SELECT * FROM table WHERE ID='234''.  If the user enters
extra information, it all becomes part of the string.  In a numeric
context, MySQL automatically converts this string to a number and strips
any trailing nonnumeric characters from it.

Sometimes people think that if a database contains only publicly
available data, it need not be protected.  This is incorrect.  Even if
it is permissible to display any row in the database, you should still
protect against denial of service attacks (for example, those that are
based on the technique in the preceding paragraph that causes the server
to waste resources).  Otherwise, your server becomes unresponsive to
legitimate users.

Checklist:

   * Enable strict SQL mode to tell the server to be more restrictive of
     what data values it accepts.  See *note sql-mode::.

   * Try to enter single and double quotation marks (''' and '"') in all
     of your Web forms.  If you get any kind of MySQL error, investigate
     the problem right away.

   * Try to modify dynamic URLs by adding '%22' ('"'), '%23' ('#'), and
     '%27' (''') to them.

   * Try to modify data types in dynamic URLs from numeric to character
     types using the characters shown in the previous examples.  Your
     application should be safe against these and similar attacks.

   * Try to enter characters, spaces, and special symbols rather than
     numbers in numeric fields.  Your application should remove them
     before passing them to MySQL or else generate an error.  Passing
     unchecked values to MySQL is very dangerous!

   * Check the size of data before passing it to MySQL.

   * Have your application connect to the database using a user name
     different from the one you use for administrative purposes.  Do not
     give your applications any access privileges they do not need.

Many application programming interfaces provide a means of escaping
special characters in data values.  Properly used, this prevents
application users from entering values that cause the application to
generate statements that have a different effect than you intend:

   * MySQL C API: Use the *note 'mysql_real_escape_string()':
     mysql-real-escape-string. API call.

   * MySQL++: Use the 'escape' and 'quote' modifiers for query streams.

   * PHP: Use either the 'mysqli' or 'pdo_mysql' extensions, and not the
     older 'ext/mysql' extension.  The preferred API's support the
     improved MySQL authentication protocol and passwords, as well as
     prepared statements with placeholders.  See also Choosing an API
     (https://dev.mysql.com/doc/apis-php/en/apis-php-mysqlinfo.api.choosing.html).

     If the older 'ext/mysql' extension must be used, then for escaping
     use the *note 'mysql_real_escape_string()':
     mysql-real-escape-string. function and not *note
     'mysql_escape_string()': mysql-escape-string. or 'addslashes()'
     because only *note 'mysql_real_escape_string()':
     mysql-real-escape-string. is character set-aware; the other
     functions can be 'bypassed' when using (invalid) multibyte
     character sets.

   * Perl DBI: Use placeholders or the 'quote()' method.

   * Ruby DBI: Use placeholders or the 'quote()' method.

   * Java JDBC: Use a 'PreparedStatement' object and placeholders.

Other programming interfaces might have similar capabilities.


File: manual.info.tmp,  Node: access-control,  Next: encrypted-connections,  Prev: general-security-issues,  Up: security

6.2 Access Control and Account Management
=========================================

* Menu:

* user-names::                   Account User Names and Passwords
* privileges-provided::          Privileges Provided by MySQL
* grant-tables::                 Grant Tables
* account-names::                Specifying Account Names
* connection-access::            Access Control, Stage 1: Connection Verification
* request-access::               Access Control, Stage 2: Request Verification
* creating-accounts::            Adding Accounts, Assigning Privileges, and Dropping Accounts
* privilege-changes::            When Privilege Changes Take Effect
* assigning-passwords::          Assigning Account Passwords
* pluggable-authentication::     Pluggable Authentication
* proxy-users::                  Proxy Users
* user-resources::               Setting Account Resource Limits
* problems-connecting::          Troubleshooting Problems Connecting to MySQL
* account-activity-auditing::    SQL-Based Account Activity Auditing

MySQL enables the creation of accounts that permit client users to
connect to the server and access data managed by the server.  The
primary function of the MySQL privilege system is to authenticate a user
who connects from a given host and to associate that user with
privileges on a database such as *note 'SELECT': select, *note 'INSERT':
insert, *note 'UPDATE': update, and *note 'DELETE': delete.  Additional
functionality includes the ability to grant privileges for
administrative operations.

To control which users can connect, each account can be assigned
authentication credentials such as a password.  The user interface to
MySQL accounts consists of SQL statements such as *note 'CREATE USER':
create-user, *note 'GRANT': grant, and *note 'REVOKE': revoke.  See
*note account-management-statements::.

The MySQL privilege system ensures that all users may perform only the
operations permitted to them.  As a user, when you connect to a MySQL
server, your identity is determined by _the host from which you connect_
and _the user name you specify_.  When you issue requests after
connecting, the system grants privileges according to your identity and
_what you want to do_.

MySQL considers both your host name and user name in identifying you
because there is no reason to assume that a given user name belongs to
the same person on all hosts.  For example, the user 'joe' who connects
from 'office.example.com' need not be the same person as the user 'joe'
who connects from 'home.example.com'.  MySQL handles this by enabling
you to distinguish users on different hosts that happen to have the same
name: You can grant one set of privileges for connections by 'joe' from
'office.example.com', and a different set of privileges for connections
by 'joe' from 'home.example.com'.  To see what privileges a given
account has, use the *note 'SHOW GRANTS': show-grants. statement.  For
example:

     SHOW GRANTS FOR 'joe'@'office.example.com';
     SHOW GRANTS FOR 'joe'@'home.example.com';

Internally, the server stores privilege information in the grant tables
of the 'mysql' system database.  The MySQL server reads the contents of
these tables into memory when it starts and bases access-control
decisions on the in-memory copies of the grant tables.

MySQL access control involves two stages when you run a client program
that connects to the server:

*Stage 1:* The server accepts or rejects the connection based on your
identity and whether you can verify your identity by supplying the
correct password.

*Stage 2:* Assuming that you can connect, the server checks each
statement you issue to determine whether you have sufficient privileges
to perform it.  For example, if you try to select rows from a table in a
database or drop a table from the database, the server verifies that you
have the 'SELECT' privilege for the table or the 'DROP' privilege for
the database.

For a more detailed description of what happens during each stage, see
*note connection-access::, and *note request-access::.  For help in
diagnosing privilege-related problems, see *note problems-connecting::.

If your privileges are changed (either by yourself or someone else)
while you are connected, those changes do not necessarily take effect
immediately for the next statement that you issue.  For details about
the conditions under which the server reloads the grant tables, see
*note privilege-changes::.

There are some things that you cannot do with the MySQL privilege
system:

   * You cannot explicitly specify that a given user should be denied
     access.  That is, you cannot explicitly match a user and then
     refuse the connection.

   * You cannot specify that a user has privileges to create or drop
     tables in a database but not to create or drop the database itself.

   * A password applies globally to an account.  You cannot associate a
     password with a specific object such as a database, table, or
     routine.


File: manual.info.tmp,  Node: user-names,  Next: privileges-provided,  Prev: access-control,  Up: access-control

6.2.1 Account User Names and Passwords
--------------------------------------

MySQL stores accounts in the 'user' table of the 'mysql' system
database.  An account is defined in terms of a user name and the client
host or hosts from which the user can connect to the server.  For
information about account representation in the 'user' table, see *note
grant-tables::.

An account may also have authentication credentials such as a password.
The credentials are handled by the account authentication plugin.  MySQL
supports multiple authentication plugins.  Some of them use built-in
authentication methods, whereas others enable authentication using
external authentication methods.  See *note pluggable-authentication::.

There are several distinctions between the way user names and passwords
are used by MySQL and your operating system:

   * User names, as used by MySQL for authentication purposes, have
     nothing to do with user names (login names) as used by Windows or
     Unix.  On Unix, most MySQL clients by default try to log in using
     the current Unix user name as the MySQL user name, but that is for
     convenience only.  The default can be overridden easily, because
     client programs permit any user name to be specified with a '-u' or
     '--user' option.  This means that anyone can attempt to connect to
     the server using any user name, so you cannot make a database
     secure in any way unless all MySQL accounts have passwords.  Anyone
     who specifies a user name for an account that has no password can
     connect successfully to the server.

   * MySQL user names are up to 16 characters long.  Operating system
     user names may have a different maximum length.

     *Warning*:

     The MySQL user name length limit is hardcoded in MySQL servers and
     clients, and trying to circumvent it by modifying the definitions
     of the tables in the 'mysql' database _does not work_.

     You should never alter the structure of tables in the 'mysql'
     database in any manner whatsoever except by means of the procedure
     that is described in *note upgrading::.  Attempting to redefine
     MySQL's system tables in any other fashion results in undefined and
     unsupported behavior.  The server is free to ignore rows that
     become malformed as a result of such modifications.

   * To authenticate client connections for accounts that use built-in
     authentication methods, the server uses passwords stored in the
     'user' table.  These passwords are distinct from passwords for
     logging in to your operating system.  There is no necessary
     connection between the 'external' password you use to log in to a
     Windows or Unix machine and the password you use to access the
     MySQL server on that machine.

     If the server authenticates a client using some other plugin, the
     authentication method that the plugin implements may or may not use
     a password stored in the 'user' table.  In this case, it is
     possible that an external password is also used to authenticate to
     the MySQL server.

   * Passwords stored in the 'user' table are encrypted using
     plugin-specific algorithms.  For information about MySQL native
     password hashing, see *note password-hashing::.

   * If the user name and password contain only ASCII characters, it is
     possible to connect to the server regardless of character set
     settings.  To enable connections when the user name or password
     contain non-ASCII characters, client applications should call the
     *note 'mysql_options()': mysql-options. C API function with the
     'MYSQL_SET_CHARSET_NAME' option and appropriate character set name
     as arguments.  This causes authentication to take place using the
     specified character set.  Otherwise, authentication fails unless
     the server default character set is the same as the encoding in the
     authentication defaults.

     Standard MySQL client programs support a '--default-character-set'
     option that causes *note 'mysql_options()': mysql-options. to be
     called as just described.  In addition, character set autodetection
     is supported as described in *note charset-connection::.  For
     programs that use a connector that is not based on the C API, the
     connector may provide an equivalent to *note 'mysql_options()':
     mysql-options. that can be used instead.  Check the connector
     documentation.

     The preceding notes do not apply for 'ucs2', 'utf16', and 'utf32',
     which are not permitted as client character sets.

The MySQL installation process populates the grant tables with an
initial account or accounts.  The names and access privileges for these
accounts are described in *note default-privileges::, which also
discusses how to assign passwords to them.  Thereafter, you normally set
up, modify, and remove MySQL accounts using statements such as *note
'CREATE USER': create-user, *note 'DROP USER': drop-user, *note 'GRANT':
grant, and *note 'REVOKE': revoke.  See *note creating-accounts::, and
*note account-management-statements::.

To connect to a MySQL server with a command-line client, specify user
name and password options as necessary for the account that you want to
use:

     shell> mysql --user=finley --password DB_NAME

If you prefer short options, the command looks like this:

     shell> mysql -u finley -p DB_NAME

If you omit the password value following the '--password' or '-p' option
on the command line (as just shown), the client prompts for one.
Alternatively, the password can be specified on the command line:

     shell> mysql --user=finley --password=PASSWORD DB_NAME
     shell> mysql -u finley -pPASSWORD DB_NAME

If you use the '-p' option, there must be _no space_ between '-p' and
the following password value.

Specifying a password on the command line should be considered insecure.
See *note password-security-user::.  To avoid giving the password on the
command line, use an option file.  See *note option-files::.

For additional information about specifying user names, passwords, and
other connection parameters, see *note connecting::.


File: manual.info.tmp,  Node: privileges-provided,  Next: grant-tables,  Prev: user-names,  Up: access-control

6.2.2 Privileges Provided by MySQL
----------------------------------

The privileges granted to a MySQL account determine which operations the
account can perform.  MySQL privileges differ in the contexts in which
they apply and at different levels of operation:

   * Administrative privileges enable users to manage operation of the
     MySQL server.  These privileges are global because they are not
     specific to a particular database.

   * Database privileges apply to a database and to all objects within
     it.  These privileges can be granted for specific databases, or
     globally so that they apply to all databases.

   * Privileges for database objects such as tables, indexes, views, and
     stored routines can be granted for specific objects within a
     database, for all objects of a given type within a database (for
     example, all tables in a database), or globally for all objects of
     a given type in all databases.

Information about account privileges is stored in the grant tables in
the 'mysql' system database.  For a description of the structure and
contents of these tables, see *note grant-tables::.  The MySQL server
reads the contents of the grant tables into memory when it starts, and
reloads them under the circumstances indicated in *note
privilege-changes::.  The server bases access-control decisions on the
in-memory copies of the grant tables.

*Important*:

Some MySQL releases introduce changes to the grant tables to add new
privileges or features.  To make sure that you can take advantage of any
new capabilities, update your grant tables to the current structure
whenever you upgrade MySQL. See *note upgrading::.

The following sections summarize the available privileges, provide more
detailed descriptions of each privilege, and offer usage guidelines.

   * *note privileges-provided-summary::

   * *note privileges-provided-static::

   * *note privileges-provided-guidelines::

*Summary of Available Privileges*

The following table shows the privilege names used in *note 'GRANT':
grant. and *note 'REVOKE': revoke. statements, along with the column
name associated with each privilege in the grant tables and the context
in which the privilege applies.

*Permissible Privileges for GRANT and REVOKE*

Privilege              Grant Table Column       Context
                                                
'ALL [PRIVILEGES]'     Synonym for 'all         Server administration
                       privileges'              
                       
'ALTER'                'Alter_priv'             Tables
                                                
'ALTER ROUTINE'        'Alter_routine_priv'     Stored routines
                                                
'CREATE'               'Create_priv'            Databases, tables, or
                                                indexes
                                                
'CREATE ROUTINE'       'Create_routine_priv'    Stored routines
                                                
'CREATE TABLESPACE'    'Create_tablespace_priv' Server administration
                                                
'CREATE TEMPORARY      'Create_tmp_table_priv'  Tables
TABLES'                                         

'CREATE USER'          'Create_user_priv'       Server administration
                                                
'CREATE VIEW'          'Create_view_priv'       Views
                                                
'DELETE'               'Delete_priv'            Tables
                                                
'DROP'                 'Drop_priv'              Databases, tables, or
                                                views
                                                
'EVENT'                'Event_priv'             Databases
                                                
'EXECUTE'              'Execute_priv'           Stored routines
                                                
'FILE'                 'File_priv'              File access on server
                                                host
                                                
'GRANT OPTION'         'Grant_priv'             Databases, tables, or
                                                stored routines
                                                
'INDEX'                'Index_priv'             Tables
                                                
'INSERT'               'Insert_priv'            Tables or columns
                                                
'LOCK TABLES'          'Lock_tables_priv'       Databases
                                                
'PROCESS'              'Process_priv'           Server administration
                                                
'PROXY'                See 'proxies_priv'       Server administration
                       table                    
                       
'REFERENCES'           'References_priv'        Databases or tables
                                                
'RELOAD'               'Reload_priv'            Server administration
                                                
'REPLICATION CLIENT'   'Repl_client_priv'       Server administration
                                                
'REPLICATION SLAVE'    'Repl_slave_priv'        Server administration
                                                
'SELECT'               'Select_priv'            Tables or columns
                                                
'SHOW DATABASES'       'Show_db_priv'           Server administration
                                                
'SHOW VIEW'            'Show_view_priv'         Views
                                                
'SHUTDOWN'             'Shutdown_priv'          Server administration
                                                
'SUPER'                'Super_priv'             Server administration
                                                
'TRIGGER'              'Trigger_priv'           Tables
                                                
'UPDATE'               'Update_priv'            Tables or columns
                                                
'USAGE'                Synonym for 'no          Server administration
                       privileges'
                       

*Privilege Descriptions*

The following list provides general descriptions of each privilege
available in MySQL. Particular SQL statements might have more specific
privilege requirements than indicated here.  If so, the description for
the statement in question provides the details.

   * 'ALL', 'ALL PRIVILEGES'

     These privilege specifiers are shorthand for 'all privileges
     available at a given privilege level' (except 'GRANT OPTION').  For
     example, granting 'ALL' at the global or table level grants all
     global privileges or all table-level privileges, respectively.

   * 'ALTER'

     Enables use of the *note 'ALTER TABLE': alter-table. statement to
     change the structure of tables.  *note 'ALTER TABLE': alter-table.
     also requires the 'CREATE' and 'INSERT' privileges.  Renaming a
     table requires 'ALTER' and 'DROP' on the old table, 'CREATE', and
     'INSERT' on the new table.

   * 'ALTER ROUTINE'

     Enables use of statements that alter or drop stored routines
     (stored procedures and functions).

   * 'CREATE'

     Enables use of statements that create new databases and tables.

   * 'CREATE ROUTINE'

     Enables use of statements that create stored routines (stored
     procedures and functions).

   * 'CREATE TABLESPACE'

     Enables use of statements that create, alter, or drop tablespaces
     and log file groups.

   * 'CREATE TEMPORARY TABLES'

     Enables the creation of temporary tables using the *note 'CREATE
     TEMPORARY TABLE': create-temporary-table. statement.

     However, other operations on a temporary table, such as *note
     'INSERT': insert, *note 'UPDATE': update, or *note 'SELECT':
     select, require additional privileges for those operations for the
     database containing the temporary table, or for the nontemporary
     table of the same name.  For more information, see *note
     create-temporary-table::.

   * 'CREATE USER'

     Enables use of the *note 'CREATE USER': create-user, *note 'DROP
     USER': drop-user, *note 'RENAME USER': rename-user, and *note
     'REVOKE ALL PRIVILEGES': revoke. statements.

   * 'CREATE VIEW'

     Enables use of the *note 'CREATE VIEW': create-view. statement.

   * 'DELETE'

     Enables rows to be deleted from tables in a database.

   * 'DROP'

     Enables use of statements that drop (remove) existing databases,
     tables, and views.  The 'DROP' privilege is required to use the
     'ALTER TABLE ... DROP PARTITION' statement on a partitioned table.
     The 'DROP' privilege is also required for *note 'TRUNCATE TABLE':
     truncate-table.

   * 'EVENT'

     Enables use of statements that create, alter, drop, or display
     events for the Event Scheduler.

   * 'EXECUTE'

     Enables use of statements that execute stored routines (stored
     procedures and functions).

   * 'FILE'

     Affects the following operations and server behaviors:

        * Enables reading and writing files on the server host using the
          *note 'LOAD DATA': load-data. and *note 'SELECT ... INTO
          OUTFILE': select-into. statements and the 'LOAD_FILE()'
          function.  A user who has the 'FILE' privilege can read any
          file on the server host that is either world-readable or
          readable by the MySQL server.  (This implies the user can read
          any file in any database directory, because the server can
          access any of those files.)

        * Enables creating new files in any directory where the MySQL
          server has write access.  This includes the server's data
          directory containing the files that implement the privilege
          tables.

        * As of MySQL 5.5.54, enables use of the 'DATA DIRECTORY' or
          'INDEX DIRECTORY' table option for the *note 'CREATE TABLE':
          create-table. statement.

     As a security measure, the server does not overwrite existing
     files.

     To limit the location in which files can be read and written, set
     the 'secure_file_priv' system variable to a specific directory.
     See *note server-system-variables::.

   * 'GRANT OPTION'

     Enables you to grant to or revoke from other users those privileges
     that you yourself possess.

   * 'INDEX'

     Enables use of statements that create or drop (remove) indexes.
     'INDEX' applies to existing tables.  If you have the 'CREATE'
     privilege for a table, you can include index definitions in the
     *note 'CREATE TABLE': create-table. statement.

   * 'INSERT'

     Enables rows to be inserted into tables in a database.  'INSERT' is
     also required for the *note 'ANALYZE TABLE': analyze-table, *note
     'OPTIMIZE TABLE': optimize-table, and *note 'REPAIR TABLE':
     repair-table. table-maintenance statements.

   * 'LOCK TABLES'

     Enables use of explicit *note 'LOCK TABLES': lock-tables.
     statements to lock tables for which you have the 'SELECT'
     privilege.  This includes use of write locks, which prevents other
     sessions from reading the locked table.

   * 'PROCESS'

     Enables display of information about the threads executing within
     the server (that is, information about the statements being
     executed by sessions).  The privilege enables use of *note 'SHOW
     PROCESSLIST': show-processlist. or *note 'mysqladmin processlist':
     mysqladmin. to see threads belonging to other accounts; you can
     always see your own threads.  The 'PROCESS' privilege also enables
     use of *note 'SHOW ENGINE': show-engine.

   * 'PROXY'

     Enables one user to impersonate or become known as another user.
     See *note proxy-users::.

   * 'REFERENCES'

     This privilege is unused before MySQL 5.5.41.  As of 5.5.41,
     creation of a foreign key constraint requires at least one of the
     'SELECT', 'INSERT', 'UPDATE', 'DELETE', or 'REFERENCES' privileges
     for the parent table.

   * 'RELOAD'

     Enables use of the *note 'FLUSH': flush. statement.  It also
     enables *note 'mysqladmin': mysqladmin. commands that are
     equivalent to *note 'FLUSH': flush. operations: 'flush-hosts',
     'flush-logs', 'flush-privileges', 'flush-status', 'flush-tables',
     'flush-threads', 'refresh', and 'reload'.

     The 'reload' command tells the server to reload the grant tables
     into memory.  'flush-privileges' is a synonym for 'reload'.  The
     'refresh' command closes and reopens the log files and flushes all
     tables.  The other 'flush-XXX' commands perform functions similar
     to 'refresh', but are more specific and may be preferable in some
     instances.  For example, if you want to flush just the log files,
     'flush-logs' is a better choice than 'refresh'.

   * 'REPLICATION CLIENT'

     Enables use of the *note 'SHOW MASTER STATUS': show-master-status.
     and *note 'SHOW SLAVE STATUS': show-slave-status. statements.  In
     MySQL 5.5.25 and later, it also enables use of the *note 'SHOW
     BINARY LOGS': show-binary-logs. statement.  Grant this privilege to
     accounts that are used by slave servers to connect to the current
     server as their master.

   * 'REPLICATION SLAVE'

     Enables the account to request updates that have been made to
     databases on the master server.  Grant this privilege to accounts
     that are used by slave servers to connect to the current server as
     their master.

   * 'SELECT'

     Enables rows to be selected from tables in a database.  *note
     'SELECT': select. statements require the 'SELECT' privilege only if
     they actually access tables.  Some *note 'SELECT': select.
     statements do not access tables and can be executed without
     permission for any database.  For example, you can use *note
     'SELECT': select. as a simple calculator to evaluate expressions
     that make no reference to tables:

          SELECT 1+1;
          SELECT PI()*2;

     The 'SELECT' privilege is also needed for other statements that
     read column values.  For example, 'SELECT' is needed for columns
     referenced on the right hand side of COL_NAME=EXPR assignment in
     *note 'UPDATE': update. statements or for columns named in the
     'WHERE' clause of *note 'DELETE': delete. or *note 'UPDATE':
     update. statements.

     The 'SELECT' privilege is needed for tables or views used with
     *note 'EXPLAIN': explain, including any underlying tables in view
     definitions.

   * 'SHOW DATABASES'

     Enables the account to see database names by issuing the 'SHOW
     DATABASE' statement.  Accounts that do not have this privilege see
     only databases for which they have some privileges, and cannot use
     the statement at all if the server was started with the
     '--skip-show-database' option.

     *Caution*:

     Because a global privilege is considered a privilege for all
     databases, _any_ global privilege enables a user to see all
     database names with *note 'SHOW DATABASES': show-databases. or by
     examining the 'INFORMATION_SCHEMA' *note 'SCHEMATA':
     schemata-table. table.

   * 'SHOW VIEW'

     Enables use of the *note 'SHOW CREATE VIEW': show-create-view.
     statement.  This privilege is also needed for views used with *note
     'EXPLAIN': explain.

   * 'SHUTDOWN'

     Enables use of the *note 'mysqladmin shutdown': mysqladmin. command
     and the *note 'mysql_shutdown()': mysql-shutdown. C API function.
     There is no corresponding SQL statement.

   * 'SUPER'

     Affects the following operations and server behaviors:

        * Enables server configuration changes by modifying global
          system variables.  For some system variables, setting the
          session value also requires the 'SUPER' privilege.  If a
          system variable is restricted and requires a special privilege
          to set the session value, the variable description indicates
          that restriction.  Examples include 'binlog_format',
          'sql_log_bin', and 'sql_log_off'.  See also *note
          system-variable-privileges::.

        * Enables changes to the global transaction isolation level (see
          *note set-transaction::).

        * Enables the account to start and stop replication.

        * Enables use of the *note 'CHANGE MASTER TO': change-master-to.
          statement.

        * Enables binary log control by means of the *note 'PURGE BINARY
          LOGS': purge-binary-logs. and *note 'BINLOG': binlog.
          statements.

        * Enables setting the effective authorization ID when executing
          a view or stored program.  A user with this privilege can
          specify any account in the 'DEFINER' attribute of a view or
          stored program.

        * Enables use of the *note 'CREATE SERVER': create-server, *note
          'ALTER SERVER': alter-server, and *note 'DROP SERVER':
          drop-server. statements.

        * Enables use of the *note 'mysqladmin debug': mysqladmin.
          command.

        * Enables reading the DES key file by the 'DES_ENCRYPT()'
          function.

        * Enables control over client connections not permitted to
          non-'SUPER' accounts:

             * Enables use of the *note 'KILL': kill. statement or *note
               'mysqladmin kill': mysqladmin. command to kill threads
               belonging to other accounts.  (An account can always kill
               its own threads.)

             * The server does not execute 'init_connect' system
               variable content when 'SUPER' clients connect.

             * The server accepts one connection from a 'SUPER' client
               even if the connection limit configured by the
               'max_connections' system variable is reached.

             * Updates can be performed even when the 'read_only' system
               variable is enabled.  This applies to explicit table
               updates, and to use of account-management statements such
               as *note 'GRANT': grant. and *note 'REVOKE': revoke. that
               update tables implicitly.

     You may also need the 'SUPER' privilege to create or alter stored
     functions if binary logging is enabled, as described in *note
     stored-programs-logging::.

   * 'TRIGGER'

     Enables trigger operations.  You must have this privilege for a
     table to create, drop, execute, or display triggers for that table.

     When a trigger is activated (by a user who has privileges to
     execute *note 'INSERT': insert, *note 'UPDATE': update, or *note
     'DELETE': delete. statements for the table associated with the
     trigger), trigger execution requires that the user who defined the
     trigger still have the 'TRIGGER' privilege for the table.

   * 'UPDATE'

     Enables rows to be updated in tables in a database.

   * 'USAGE'

     This privilege specifier stands for 'no privileges.' It is used at
     the global level with *note 'GRANT': grant. to modify account
     attributes such as resource limits or SSL characteristics without
     naming specific account privileges in the privilege list.  *note
     'SHOW GRANTS': show-grants. displays 'USAGE' to indicate that an
     account has no privileges at a privilege level.

*Privilege-Granting Guidelines*

It is a good idea to grant to an account only those privileges that it
needs.  You should exercise particular caution in granting the 'FILE'
and administrative privileges:

   * 'FILE' can be abused to read into a database table any files that
     the MySQL server can read on the server host.  This includes all
     world-readable files and files in the server's data directory.  The
     table can then be accessed using *note 'SELECT': select. to
     transfer its contents to the client host.

   * 'GRANT OPTION' enables users to give their privileges to other
     users.  Two users that have different privileges and with the
     'GRANT OPTION' privilege are able to combine privileges.

   * 'ALTER' may be used to subvert the privilege system by renaming
     tables.

   * 'SHUTDOWN' can be abused to deny service to other users entirely by
     terminating the server.

   * 'PROCESS' can be used to view the plain text of currently executing
     statements, including statements that set or change passwords.

   * 'SUPER' can be used to terminate other sessions or change how the
     server operates.

   * Privileges granted for the 'mysql' system database itself can be
     used to change passwords and other access privilege information:

        * Passwords are stored encrypted, so a malicious user cannot
          simply read them to know the plain text password.  However, a
          user with write access to the 'mysql.user' system table
          'Password' column can change an account's password, and then
          connect to the MySQL server using that account.

        * 'INSERT' or 'UPDATE' granted for the 'mysql' system database
          enable a user to add privileges or modify existing privileges,
          respectively.

        * 'DROP' for the 'mysql' system database enables a user to
          remote privilege tables, or even the database itself.


File: manual.info.tmp,  Node: grant-tables,  Next: account-names,  Prev: privileges-provided,  Up: access-control

6.2.3 Grant Tables
------------------

The 'mysql' system database includes several grant tables that contain
information about user accounts and the privileges held by them.  This
section describes those tables.  For information about other tables in
the system database, see *note system-schema::.

The discussion here describes the underlying structure of the grant
tables and how the server uses their contents when interacting with
clients.  However, normally you do not modify the grant tables directly.
Modifications occur indirectly when you use account-management
statements such as *note 'CREATE USER': create-user, *note 'GRANT':
grant, and *note 'REVOKE': revoke. to set up accounts and control the
privileges available to each one.  See *note
account-management-statements::.  When you use such statements to
perform account manipulations, the server modifies the grant tables on
your behalf.

*Note*:

Direct modification of grant tables using statements such as *note
'INSERT': insert, *note 'UPDATE': update, or *note 'DELETE': delete. is
discouraged and done at your own risk.  The server is free to ignore
rows that become malformed as a result of such modifications.

As of MySQL 5.5.55, for any operation that modifies a grant table, the
server checks whether the table has the expected structure and produces
an error if not.  *note 'mysql_upgrade': mysql-upgrade. must be run to
update the tables to the expected structure.

   * *note grant-tables-overview::

   * *note grant-tables-user-db::

   * *note grant-tables-tables-priv-columns-priv::

   * *note grant-tables-procs-priv::

   * *note grant-tables-proxies-priv::

   * *note grant-tables-scope-column-properties::

   * *note grant-tables-privilege-column-properties::

*Grant Table Overview*

These 'mysql' database tables contain grant information:

   * 'user': User accounts, global privileges, and other nonprivilege
     columns.

   * 'db': Database-level privileges.

   * 'host': Obsolete

   * 'tables_priv': Table-level privileges.

   * 'columns_priv': Column-level privileges.

   * 'procs_priv': Stored procedure and function privileges.

   * 'proxies_priv': Proxy-user privileges.

Each grant table contains scope columns and privilege columns:

   * Scope columns determine the scope of each row in the tables; that
     is, the context in which the row applies.  For example, a 'user'
     table row with 'Host' and 'User' values of ''h1.example.net'' and
     ''bob'' applies to authenticating connections made to the server
     from the host 'h1.example.net' by a client that specifies a user
     name of 'bob'.  Similarly, a 'db' table row with 'Host', 'User',
     and 'Db' column values of ''h1.example.net'', ''bob'' and
     ''reports'' applies when 'bob' connects from the host
     'h1.example.net' to access the 'reports' database.  The
     'tables_priv' and 'columns_priv' tables contain scope columns
     indicating tables or table/column combinations to which each row
     applies.  The 'procs_priv' scope columns indicate the stored
     routine to which each row applies.

   * Privilege columns indicate which privileges a table row grants;
     that is, which operations it permits to be performed.  The server
     combines the information in the various grant tables to form a
     complete description of a user's privileges.  *note
     request-access::, describes the rules for this.

In addition, a grant table may contain columns used for purposes other
than scope or privilege assessment.

The server uses the grant tables in the following manner:

   * The 'user' table scope columns determine whether to reject or
     permit incoming connections.  For permitted connections, any
     privileges granted in the 'user' table indicate the user's global
     privileges.  Any privileges granted in this table apply to _all_
     databases on the server.

     *Caution*:

     Because a global privilege is considered a privilege for all
     databases, _any_ global privilege enables a user to see all
     database names with *note 'SHOW DATABASES': show-databases. or by
     examining the 'INFORMATION_SCHEMA' *note 'SCHEMATA':
     schemata-table. table.

   * The 'db' table scope columns determine which users can access which
     databases from which hosts.  The privilege columns determine the
     permitted operations.  A privilege granted at the database level
     applies to the database and to all objects in the database, such as
     tables and stored programs.

   * The 'host' table is used in conjunction with the 'db' table when
     you want a given 'db' table row to apply to several hosts.  For
     example, if you want a user to be able to use a database from
     several hosts in your network, leave the 'Host' value empty in the
     user's 'db' table row, then populate the 'host' table with a row
     for each of those hosts.  This mechanism is described more detail
     in *note request-access::.

     *Note*:

     The 'host' table must be modified directly with statements such as
     *note 'INSERT': insert, *note 'UPDATE': update, and *note 'DELETE':
     delete.  It is not affected by statements such as *note 'GRANT':
     grant. and *note 'REVOKE': revoke. that modify the grant tables
     indirectly.  Most MySQL installations need not use this table at
     all.

   * The 'tables_priv' and 'columns_priv' tables are similar to the 'db'
     table, but are more fine-grained: They apply at the table and
     column levels rather than at the database level.  A privilege
     granted at the table level applies to the table and to all its
     columns.  A privilege granted at the column level applies only to a
     specific column.

   * The 'procs_priv' table applies to stored routines (stored
     procedures and functions).  A privilege granted at the routine
     level applies only to a single procedure or function.

   * The 'proxies_priv' table indicates which users can act as proxies
     for other users and whether a user can grant the 'PROXY' privilege
     to other users.

The server reads the contents of the grant tables into memory when it
starts.  You can tell it to reload the tables by issuing a 'FLUSH
PRIVILEGES' statement or executing a *note 'mysqladmin
flush-privileges': mysqladmin. or *note 'mysqladmin reload': mysqladmin.
command.  Changes to the grant tables take effect as indicated in *note
privilege-changes::.

When you modify an account, it is a good idea to verify that your
changes have the intended effect.  To check the privileges for a given
account, use the *note 'SHOW GRANTS': show-grants. statement.  For
example, to determine the privileges that are granted to an account with
user name and host name values of 'bob' and 'pc84.example.com', use this
statement:

     SHOW GRANTS FOR 'bob'@'pc84.example.com';

*The user, db, and host Grant Tables*

The server uses the 'user', 'db', and 'host' tables in the 'mysql'
database at both the first and second stages of access control (see
*note access-control::).  The columns in the 'user' and 'db' tables are
shown here.  The 'host' table is similar to the 'db' table but has a
specialized use as described in *note request-access::.

*user and db Table Columns*

Table Name                    'user'                 'db'
                                                     
*Scope columns*               'Host'                 'Host'
                                                     
                              'User'                 'Db'
                                                     
                              'Password'             'User'
                                                     
*Privilege columns*           'Select_priv'          'Select_priv'
                                                     
                              'Insert_priv'          'Insert_priv'
                                                     
                              'Update_priv'          'Update_priv'
                                                     
                              'Delete_priv'          'Delete_priv'
                                                     
                              'Index_priv'           'Index_priv'
                                                     
                              'Alter_priv'           'Alter_priv'
                                                     
                              'Create_priv'          'Create_priv'
                                                     
                              'Drop_priv'            'Drop_priv'
                                                     
                              'Grant_priv'           'Grant_priv'
                                                     
                              'Create_view_priv'     'Create_view_priv'
                                                     
                              'Show_view_priv'       'Show_view_priv'
                                                     
                              'Create_routine_priv'  'Create_routine_priv'
                                                     
                              'Alter_routine_priv'   'Alter_routine_priv'
                                                     
                              'Execute_priv'         'Execute_priv'
                                                     
                              'Trigger_priv'         'Trigger_priv'
                                                     
                              'Event_priv'           'Event_priv'
                                                     
                              'Create_tmp_table_priv''Create_tmp_table_priv'
                                                     
                              'Lock_tables_priv'     'Lock_tables_priv'
                                                     
                              'References_priv'      'References_priv'
                                                     
                              'Reload_priv'          
                              
                              'Shutdown_priv'        
                              
                              'Process_priv'         
                              
                              'File_priv'            
                              
                              'Show_db_priv'         
                              
                              'Super_priv'           
                              
                              'Repl_slave_priv'      
                              
                              'Repl_client_priv'     
                              
                              'Create_user_priv'     
                              
                              'Create_tablespace_priv'
                              
*Security columns*            'ssl_type'             
                              
                              'ssl_cipher'           
                              
                              'x509_issuer'          
                              
                              'x509_subject'         
                              
                              'plugin'               
                              
                              'authentication_string'
                              
*Resource control columns*    'max_questions'        
                              
                              'max_updates'          
                              
                              'max_connections'      
                              
                              'max_user_connections'
                              

The 'user' table 'plugin', 'Password', and 'authentication_string'
columns store authentication plugin and credential information.

If an account row names a plugin in the 'plugin' column, the server uses
it to authenticate connection attempts for the account.  It is up to the
plugin whether it uses the 'Password' and 'authentication_string' column
values.

If the 'plugin' column for an account row is empty, the server
authenticates the account using either the 'mysql_native_password' or
'mysql_old_password' plugin, depending on whether the password hash
value in the 'Password' column used native hashing or the older pre-4.1
hashing method.  Clients must match the password in the 'Password'
column of the account row.

Prior to MySQL 5.5.11, the length of the 'plugin' column was 60
characters.  This was increased to 64 characters in MySQL 5.5.11 for
compatibility with the 'mysql.plugin' table's 'name' column.  (Bug
#11766610, Bug #59752)

*The tables_priv and columns_priv Grant Tables*

During the second stage of access control, the server performs request
verification to ensure that each client has sufficient privileges for
each request that it issues.  In addition to the 'user', 'db', and
'host' grant tables, the server may also consult the 'tables_priv' and
'columns_priv' tables for requests that involve tables.  The latter
tables provide finer privilege control at the table and column levels.
They have the columns shown in the following table.

*tables_priv and columns_priv Table Columns*

Table Name     'tables_priv'  'columns_priv'
                              
*Scope         'Host'         'Host'
columns*                      

               'Db'           'Db'
                              
               'User'         'User'
                              
               'Table_name'   'Table_name'
                              
                              'Column_name'
                              
*Privilege     'Table_priv'   'Column_priv'
columns*                      

               'Column_priv'
               
*Other         'Timestamp'    'Timestamp'
columns*                      

               'Grantor'
               

The 'Timestamp' and 'Grantor' columns are set to the current timestamp
and the 'CURRENT_USER' value, respectively, but are otherwise unused.

*The procs_priv Grant Table*

For verification of requests that involve stored routines, the server
may consult the 'procs_priv' table, which has the columns shown in the
following table.

*procs_priv Table Columns*

Table Name     'procs_priv'
               
*Scope         'Host'
columns*       

               'Db'
               
               'User'
               
               'Routine_name'
               
               'Routine_type'
               
*Privilege     'Proc_priv'
columns*       

*Other         'Timestamp'
columns*       

               'Grantor'

The 'Routine_type' column is an *note 'ENUM': enum. column with values
of ''FUNCTION'' or ''PROCEDURE'' to indicate the type of routine the row
refers to.  This column enables privileges to be granted separately for
a function and a procedure with the same name.

The 'Timestamp' and 'Grantor' columns are unused.

*The proxies_priv Grant Table*

The 'proxies_priv' table records information about proxy accounts.  It
has these columns:

   * 'Host', 'User': The proxy account; that is, the account that has
     the 'PROXY' privilege for the proxied account.

   * 'Proxied_host', 'Proxied_user': The proxied account.

   * 'Grantor', 'Timestamp': Unused.

   * 'With_grant': Whether the proxy account can grant the 'PROXY'
     privilege to other accounts.

For an account to be able to grant the 'PROXY' privilege to other
accounts, it must have a row in the 'proxies_priv' table with
'With_grant' set to 1 and 'Proxied_host' and 'Proxied_user' set to
indicate the account or accounts for which the privilege can be granted.
For example, the ''root'@'localhost'' account created during MySQL
installation has a row in the 'proxies_priv' table that enables granting
the 'PROXY' privilege for '''@''', that is, for all users and all hosts.
This enables 'root' to set up proxy users, as well as to delegate to
other accounts the authority to set up proxy users.  See *note
proxy-users::.

*Grant Table Scope Column Properties*

Scope columns in the grant tables contain strings.  The default value
for each is the empty string.  The following table shows the number of
characters permitted in each column.

*Grant Table Scope Column Lengths*

Column Name                          Maximum Permitted Characters
                                     
'Host', 'Proxied_host'               60
                                     
'User', 'Proxied_user'               16
                                     
'Password'                           41
                                     
'Db'                                 64
                                     
'Table_name'                         64
                                     
'Column_name'                        64
                                     
'Routine_name'                       64

'Host' and 'Proxied_host' values are converted to lowercase before being
stored in the grant tables.

For access-checking purposes, comparisons of 'User', 'Proxied_user',
'Password', 'Db', and 'Table_name' values are case-sensitive.
Comparisons of 'Host', 'Proxied_host', 'Column_name', and 'Routine_name'
values are not case-sensitive.

*Grant Table Privilege Column Properties*

The 'user', 'db', and 'host' tables list each privilege in a separate
column that is declared as 'ENUM('N','Y') DEFAULT 'N''.  In other words,
each privilege can be disabled or enabled, with the default being
disabled.

The 'tables_priv', 'columns_priv', and 'procs_priv' tables declare the
privilege columns as *note 'SET': set. columns.  Values in these columns
can contain any combination of the privileges controlled by the table.
Only those privileges listed in the column value are enabled.

*Set-Type Privilege Column Values*

Table Name     Column Name        Possible Set Elements
                                  
'tables_priv'  'Table_priv'       ''Select', 'Insert', 'Update',
                                  'Delete', 'Create', 'Drop',
                                  'Grant', 'References',
                                  'Index', 'Alter', 'Create
                                  View', 'Show view', 'Trigger''
                                  
'tables_priv'  'Column_priv'      ''Select', 'Insert', 'Update',
                                  'References''
                                  
'columns_priv' 'Column_priv'      ''Select', 'Insert', 'Update',
                                  'References''
                                  
'procs_priv'   'Proc_priv'        ''Execute', 'Alter Routine',
                                  'Grant''

Only the 'user' table specifies administrative privileges, such as
'RELOAD' and 'SHUTDOWN'.  Administrative operations are operations on
the server itself and are not database-specific, so there is no reason
to list these privileges in the other grant tables.  Consequently, the
server need consult only the 'user' table to determine whether a user
can perform an administrative operation.

The 'FILE' privilege also is specified only in the 'user' table.  It is
not an administrative privilege as such, but a user's ability to read or
write files on the server host is independent of the database being
accessed.


File: manual.info.tmp,  Node: account-names,  Next: connection-access,  Prev: grant-tables,  Up: access-control

6.2.4 Specifying Account Names
------------------------------

MySQL account names consist of a user name and a host name, which
enables creation of distinct accounts for users with the same user name
who can connect from different hosts.  This section describes how to
write account names, including special values and wildcard rules.

In SQL statements such as *note 'CREATE USER': create-user, *note
'GRANT': grant, and *note 'SET PASSWORD': set-password, account names
follow these rules:

   * Account name syntax is ''USER_NAME'@'HOST_NAME''.

   * An account name consisting only of a user name is equivalent to
     ''USER_NAME'@'%''.  For example, ''me'' is equivalent to
     ''me'@'%''.

   * The user name and host name need not be quoted if they are legal as
     unquoted identifiers.  Quotes are necessary to specify a USER_NAME
     string containing special characters (such as space or '-'), or a
     HOST_NAME string containing special characters or wildcard
     characters (such as '.' or '%').  For example, in the account name
     ''test-user'@'%.com'', both the user name and host name parts
     require quotes.

   * Quote user names and host names as identifiers or as strings, using
     either backticks ('`'), single quotation marks ('''), or double
     quotation marks ('"').  For string-quoting and identifier-quoting
     guidelines, see *note string-literals::, and *note identifiers::.

   * The user name and host name parts, if quoted, must be quoted
     separately.  That is, write ''me'@'localhost'', not
     ''me@localhost''.  The latter is actually equivalent to
     ''me@localhost'@'%''.

   * A reference to the 'CURRENT_USER' or 'CURRENT_USER()' function is
     equivalent to specifying the current client's user name and host
     name literally.

MySQL stores account names in grant tables in the 'mysql' system
database using separate columns for the user name and host name parts:

   * The 'user' table contains one row for each account.  The 'User' and
     'Host' columns store the user name and host name.  This table also
     indicates which global privileges the account has.

   * Other grant tables indicate privileges an account has for databases
     and objects within databases.  These tables have 'User' and 'Host'
     columns to store the account name.  Each row in these tables
     associates with the account in the 'user' table that has the same
     'User' and 'Host' values.

   * For access-checking purposes, comparisons of User values are
     case-sensitive.  Comparisons of Host values are not case-sensitive.

For additional detail about the properties of user names and host names
as stored in the grant tables, such as maximum length, see *note
grant-tables-scope-column-properties::.

User names and host names have certain special values or wildcard
conventions, as described following.

The user name part of an account name is either a nonblank value that
literally matches the user name for incoming connection attempts, or a
blank value (empty string) that matches any user name.  An account with
a blank user name is an anonymous user.  To specify an anonymous user in
SQL statements, use a quoted empty user name part, such as
'''@'localhost''.

The host name part of an account name can take many forms, and wildcards
are permitted:

   * A host value can be a host name or an IP address (IPv4 or IPv6).
     The name ''localhost'' indicates the local host.  The IP address
     ''127.0.0.1'' indicates the IPv4 loopback interface.  The IP
     address ''::1'' indicates the IPv6 loopback interface.

   * 
     The '%' and '_' wildcard characters are permitted in host name or
     IP address values.  These have the same meaning as for
     pattern-matching operations performed with the 'LIKE' operator.
     For example, a host value of ''%'' matches any host name, whereas a
     value of ''%.mysql.com'' matches any host in the 'mysql.com'
     domain.  ''198.51.100.%'' matches any host in the 198.51.100 class
     C network.

     Because IP wildcard values are permitted in host values (for
     example, ''198.51.100.%'' to match every host on a subnet), someone
     could try to exploit this capability by naming a host
     '198.51.100.somewhere.com'.  To foil such attempts, MySQL does not
     perform matching on host names that start with digits and a dot.
     For example, if a host is named '1.2.example.com', its name never
     matches the host part of account names.  An IP wildcard value can
     match only IP addresses, not host names.

   * 
     For a host value specified as an IPv4 address, a netmask can be
     given to indicate how many address bits to use for the network
     number.  Netmask notation cannot be used for IPv6 addresses.

     The syntax is 'HOST_IP/NETMASK'.  For example:

          CREATE USER 'david'@'198.51.100.0/255.255.255.0';

     This enables 'david' to connect from any client host having an IP
     address CLIENT_IP for which the following condition is true:

          CLIENT_IP & NETMASK = HOST_IP

     That is, for the *note 'CREATE USER': create-user. statement just
     shown:

          CLIENT_IP & 255.255.255.0 = 198.51.100.0

     IP addresses that satisfy this condition range from '198.51.100.0'
     to '198.51.100.255'.

     A netmask typically begins with bits set to 1, followed by bits set
     to 0.  Examples:

        * '198.0.0.0/255.0.0.0': Any host on the 198 class A network

        * '198.51.100.0/255.255.0.0': Any host on the 198.51 class B
          network

        * '198.51.100.0/255.255.255.0': Any host on the 198.51.100 class
          C network

        * '198.51.100.1': Only the host with this specific IP address

The server performs matching of host values in account names against the
client host using the value returned by the system DNS resolver for the
client host name or IP address.  Except in the case that the account
host value is specified using netmask notation, the server performs this
comparison as a string match, even for an account host value given as an
IP address.  This means that you should specify account host values in
the same format used by DNS. Here are examples of problems to watch out
for:

   * Suppose that a host on the local network has a fully qualified name
     of 'host1.example.com'.  If DNS returns name lookups for this host
     as 'host1.example.com', use that name in account host values.  If
     DNS returns just 'host1', use 'host1' instead.

   * If DNS returns the IP address for a given host as '198.51.100.2',
     that will match an account host value of '198.51.100.2' but not
     '198.051.100.2'.  Similarly, it will match an account host pattern
     like '198.51.100.%' but not '198.051.100.%'.

To avoid problems like these, it is advisable to check the format in
which your DNS returns host names and addresses.  Use values in the same
format in MySQL account names.


File: manual.info.tmp,  Node: connection-access,  Next: request-access,  Prev: account-names,  Up: access-control

6.2.5 Access Control, Stage 1: Connection Verification
------------------------------------------------------

When you attempt to connect to a MySQL server, the server accepts or
rejects the connection based on your identity and whether you can verify
your identity by supplying the correct password.  If not, the server
denies access to you completely.  Otherwise, the server accepts the
connection, and then enters Stage 2 and waits for requests.

Credential checking is performed using the three 'user' table scope
columns ('Host', 'User', and 'Password').  The server accepts the
connection only if the 'Host' and 'User' columns in some 'user' table
row match the client host name and user name and the client supplies the
password specified in that row.  The rules for permissible 'Host' and
'User' values are given in *note account-names::.

Your identity is based on two pieces of information:

   * The client host from which you connect

   * Your MySQL user name

If the 'User' column value is nonblank, the user name in an incoming
connection must match exactly.  If the 'User' value is blank, it matches
any user name.  If the 'user' table row that matches an incoming
connection has a blank user name, the user is considered to be an
anonymous user with no name, not a user with the name that the client
actually specified.  This means that a blank user name is used for all
further access checking for the duration of the connection (that is,
during Stage 2).

The 'Password' column can be blank.  This is not a wildcard and does not
mean that any password matches.  It means that the user must connect
without specifying a password.  If the server authenticates a client
using a plugin, the authentication method that the plugin implements may
or may not use the password in the 'Password' column.  In this case, it
is possible that an external password is also used to authenticate to
the MySQL server.

Nonblank 'Password' values in the 'user' table represent encrypted
passwords.  MySQL does not store passwords as cleartext for anyone to
see.  Rather, the password supplied by a user who is attempting to
connect is encrypted (using the 'PASSWORD()' function).  The encrypted
password then is used during the connection process when checking
whether the password is correct.  This is done without the encrypted
password ever traveling over the connection.  See *note user-names::.

From MySQL's point of view, the encrypted password is the _real_
password, so you should never give anyone access to it.  In particular,
_do not give nonadministrative users read access to tables in the
'mysql' system database_.

The following table shows how various combinations of 'User' and 'Host'
values in the 'user' table apply to incoming connections.

'User'      'Host' Value              Permissible Connections
Value                                 

''fred''    ''h1.example.net''        'fred', connecting from
                                      'h1.example.net'
                                      
''''        ''h1.example.net''        Any user, connecting from
                                      'h1.example.net'
                                      
''fred''    ''%''                     'fred', connecting from any host
                                      
''''        ''%''                     Any user, connecting from any host
                                      
''fred''    ''%.example.net''         'fred', connecting from any host
                                      in the 'example.net' domain
                                      
''fred''    ''x.example.%''           'fred', connecting from
                                      'x.example.net', 'x.example.com',
                                      'x.example.edu', and so on; this
                                      is probably not useful
                                      
''fred''    ''198.51.100.177''        'fred', connecting from the host
                                      with IP address '198.51.100.177'
                                      
''fred''    ''198.51.100.%''          'fred', connecting from any host
                                      in the '198.51.100' class C subnet
                                      
''fred''    ''198.51.100.0/255.255.255.0''Same as previous example
            

It is possible for the client host name and user name of an incoming
connection to match more than one row in the 'user' table.  The
preceding set of examples demonstrates this: Several of the entries
shown match a connection from 'h1.example.net' by 'fred'.

When multiple matches are possible, the server must determine which of
them to use.  It resolves this issue as follows:

   * Whenever the server reads the 'user' table into memory, it sorts
     the rows.

   * When a client attempts to connect, the server looks through the
     rows in sorted order.

   * The server uses the first row that matches the client host name and
     user name.

The server uses sorting rules that order rows with the most-specific
'Host' values first.  Literal host names and IP addresses are the most
specific.  (The specificity of a literal IP address is not affected by
whether it has a netmask, so '198.51.100.13' and
'198.51.100.0/255.255.255.0' are considered equally specific.)  The
pattern ''%'' means 'any host' and is least specific.  The empty string
'''' also means 'any host' but sorts after ''%''.  Rows with the same
'Host' value are ordered with the most-specific 'User' values first (a
blank 'User' value means 'any user' and is least specific).  For rows
with equally-specific 'Host' and 'User' values, the order is
nondeterministic.

To see how this works, suppose that the 'user' table looks like this:

     +-----------+----------+-
     | Host      | User     | ...
     +-----------+----------+-
     | %         | root     | ...
     | %         | jeffrey  | ...
     | localhost | root     | ...
     | localhost |          | ...
     +-----------+----------+-

When the server reads the table into memory, it sorts the rows using the
rules just described.  The result after sorting looks like this:

     +-----------+----------+-
     | Host      | User     | ...
     +-----------+----------+-
     | localhost | root     | ...
     | localhost |          | ...
     | %         | jeffrey  | ...
     | %         | root     | ...
     +-----------+----------+-

When a client attempts to connect, the server looks through the sorted
rows and uses the first match found.  For a connection from 'localhost'
by 'jeffrey', two of the rows from the table match: the one with 'Host'
and 'User' values of ''localhost'' and '''', and the one with values of
''%'' and ''jeffrey''.  The ''localhost'' row appears first in sorted
order, so that is the one the server uses.

Here is another example.  Suppose that the 'user' table looks like this:

     +----------------+----------+-
     | Host           | User     | ...
     +----------------+----------+-
     | %              | jeffrey  | ...
     | h1.example.net |          | ...
     +----------------+----------+-

The sorted table looks like this:

     +----------------+----------+-
     | Host           | User     | ...
     +----------------+----------+-
     | h1.example.net |          | ...
     | %              | jeffrey  | ...
     +----------------+----------+-

A connection by 'jeffrey' from 'h1.example.net' is matched by the first
row, whereas a connection by 'jeffrey' from any host is matched by the
second.

*Note*:

It is a common misconception to think that, for a given user name, all
rows that explicitly name that user are used first when the server
attempts to find a match for the connection.  This is not true.  The
preceding example illustrates this, where a connection from
'h1.example.net' by 'jeffrey' is first matched not by the row containing
''jeffrey'' as the 'User' column value, but by the row with no user
name.  As a result, 'jeffrey' is authenticated as an anonymous user,
even though he specified a user name when connecting.

If you are able to connect to the server, but your privileges are not
what you expect, you probably are being authenticated as some other
account.  To find out what account the server used to authenticate you,
use the 'CURRENT_USER()' function.  (See *note information-functions::.)
It returns a value in 'USER_NAME@HOST_NAME' format that indicates the
'User' and 'Host' values from the matching 'user' table row.  Suppose
that 'jeffrey' connects and issues the following query:

     mysql> SELECT CURRENT_USER();
     +----------------+
     | CURRENT_USER() |
     +----------------+
     | @localhost     |
     +----------------+

The result shown here indicates that the matching 'user' table row had a
blank 'User' column value.  In other words, the server is treating
'jeffrey' as an anonymous user.

Another way to diagnose authentication problems is to print out the
'user' table and sort it by hand to see where the first match is being
made.


File: manual.info.tmp,  Node: request-access,  Next: creating-accounts,  Prev: connection-access,  Up: access-control

6.2.6 Access Control, Stage 2: Request Verification
---------------------------------------------------

After you establish a connection, the server enters Stage 2 of access
control.  For each request that you issue through that connection, the
server determines what operation you want to perform, then checks
whether you have sufficient privileges to do so.  This is where the
privilege columns in the grant tables come into play.  These privileges
can come from any of the 'user', 'db', 'host', 'tables_priv',
'columns_priv', or 'procs_priv' tables.  (You may find it helpful to
refer to *note grant-tables::, which lists the columns present in each
grant table.)

The 'user' table grants global privileges.  The 'user' table row for an
account indicates the account privileges that apply on a global basis no
matter what the default database is.  For example, if the 'user' table
grants you the 'DELETE' privilege, you can delete rows from any table in
any database on the server host.  It is wise to grant privileges in the
'user' table only to people who need them, such as database
administrators.  For other users, leave all privileges in the 'user'
table set to ''N'' and grant privileges at more specific levels only
(for particular databases, tables, columns, or routines).

The 'db' and 'host' tables grant database-specific privileges.  Values
in the scope columns of these tables can take the following forms:

   * A blank 'User' value in the 'db' table matches the anonymous user.
     A nonblank value matches literally; there are no wildcards in user
     names.

   * The wildcard characters '%' and '_' can be used in the 'Host' and
     'Db' columns of either table.  These have the same meaning as for
     pattern-matching operations performed with the 'LIKE' operator.  If
     you want to use either character literally when granting
     privileges, you must escape it with a backslash.  For example, to
     include the underscore character ('_') as part of a database name,
     specify it as '\_' in the *note 'GRANT': grant. statement.

   * A ''%'' 'Host' value in the 'db' table means 'any host.' A blank
     'Host' value in the 'db' table means 'consult the 'host' table for
     further information' (a process that is described later in this
     section).

   * A ''%'' or blank 'Host' value in the 'host' table means 'any host.'

   * A ''%'' or blank 'Db' value in either table means 'any database.'

The server reads the 'db' and 'host' tables into memory and sorts them
at the same time that it reads the 'user' table.  The server sorts the
'db' table based on the 'Host', 'Db', and 'User' scope columns, and
sorts the 'host' table based on the 'Host' and 'Db' scope columns.  As
with the 'user' table, sorting puts the most-specific values first and
least-specific values last, and when the server looks for matching rows,
it uses the first match that it finds.

The 'tables_priv', 'columns_priv', and 'procs_priv' tables grant
table-specific, column-specific, and routine-specific privileges.
Values in the scope columns of these tables can take the following
forms:

   * The wildcard characters '%' and '_' can be used in the 'Host'
     column.  These have the same meaning as for pattern-matching
     operations performed with the 'LIKE' operator.

   * A ''%'' or blank 'Host' value means 'any host.'

   * The 'Db', 'Table_name', 'Column_name', and 'Routine_name' columns
     cannot contain wildcards or be blank.

The server sorts the 'tables_priv', 'columns_priv', and 'procs_priv'
tables based on the 'Host', 'Db', and 'User' columns.  This is similar
to 'db' table sorting, but simpler because only the 'Host' column can
contain wildcards.

The server uses the sorted tables to verify each request that it
receives.  For requests that require administrative privileges such as
'SHUTDOWN' or 'RELOAD', the server checks only the 'user' table row
because that is the only table that specifies administrative privileges.
The server grants access if the row permits the requested operation and
denies access otherwise.  For example, if you want to execute *note
'mysqladmin shutdown': mysqladmin. but your 'user' table row does not
grant the 'SHUTDOWN' privilege to you, the server denies access without
even checking the 'db' or 'host' tables.  (The latter tables contain no
'Shutdown_priv' column, so there is no need to check them.)

For database-related requests (*note 'INSERT': insert, *note 'UPDATE':
update, and so on), the server first checks the user's global privileges
in the 'user' table row.  If the row permits the requested operation,
access is granted.  If the global privileges in the 'user' table are
insufficient, the server determines the user's database-specific
privileges from the 'db' and 'host' tables:

  1. The server looks in the 'db' table for a match on the 'Host', 'Db',
     and 'User' columns.  The 'Host' and 'User' columns are matched to
     the connecting user's host name and MySQL user name.  The 'Db'
     column is matched to the database that the user wants to access.
     If there is no row for the 'Host' and 'User', access is denied.

  2. If there is a matching 'db' table row and its 'Host' column is not
     blank, that row defines the user's database-specific privileges.

  3. If the matching 'db' table row's 'Host' column is blank, it
     signifies that the 'host' table enumerates which hosts should be
     permitted access to the database.  In this case, a further lookup
     is done in the 'host' table to find a match on the 'Host' and 'Db'
     columns.  If no 'host' table row matches, access is denied.  If
     there is a match, the user's database-specific privileges are
     computed as the intersection (_not_ the union!)  of the privileges
     in the 'db' and 'host' table rows; that is, the privileges that are
     ''Y'' in both rows.  (This way you can grant general privileges in
     the 'db' table row and then selectively restrict them on a
     host-by-host basis using the 'host' table rows.)

After determining the database-specific privileges granted by the 'db'
and 'host' table rows, the server adds them to the global privileges
granted by the 'user' table.  If the result permits the requested
operation, access is granted.  Otherwise, the server successively checks
the user's table and column privileges in the 'tables_priv' and
'columns_priv' tables, adds those to the user's privileges, and permits
or denies access based on the result.  For stored-routine operations,
the server uses the 'procs_priv' table rather than 'tables_priv' and
'columns_priv'.

Expressed in boolean terms, the preceding description of how a user's
privileges are calculated may be summarized like this:

     global privileges
     OR (database privileges AND host privileges)
     OR table privileges
     OR column privileges
     OR routine privileges

It may not be apparent why, if the global privileges are initially found
to be insufficient for the requested operation, the server adds those
privileges to the database, table, and column privileges later.  The
reason is that a request might require more than one type of privilege.
For example, if you execute an *note 'INSERT INTO ... SELECT':
insert-select. statement, you need both the 'INSERT' and the 'SELECT'
privileges.  Your privileges might be such that the 'user' table row
grants one privilege global and the 'db' table row grants the other
specifically for the relevant database.  In this case, you have the
necessary privileges to perform the request, but the server cannot tell
that from either your global or database privileges alone.  It must make
an access-control decision based on the combined privileges.

The 'host' table is not affected by the *note 'GRANT': grant. or *note
'REVOKE': revoke. statements, so it is unused in most MySQL
installations.  If you modify it directly, you can use it for some
specialized purposes, such as to maintain a list of secure servers on
the local network that are granted all privileges.

You can also use the 'host' table to indicate hosts that are _not_
secure.  Suppose that you have a machine 'public.example.org' that is
located in a public area that you do not consider secure.  You can
enable access to all hosts on your network except that machine by using
'host' table rows like this:

     +--------------------+----+-
     | Host               | Db | ...
     +--------------------+----+-
     | public.example.org | %  | ... (all privileges set to 'N')
     | %.example.org      | %  | ... (all privileges set to 'Y')
     +--------------------+----+-


File: manual.info.tmp,  Node: creating-accounts,  Next: privilege-changes,  Prev: request-access,  Up: access-control

6.2.7 Adding Accounts, Assigning Privileges, and Dropping Accounts
------------------------------------------------------------------

To manage MySQL accounts, use the SQL statements intended for that
purpose:

   * *note 'CREATE USER': create-user. and *note 'DROP USER': drop-user.
     create and remove accounts.

   * *note 'GRANT': grant. and *note 'REVOKE': revoke. assign privileges
     to and revoke privileges from accounts.

   * *note 'SHOW GRANTS': show-grants. displays account privilege
     assignments.

Account-management statements cause the server to make appropriate
modifications to the underlying grant tables, which are discussed in
*note grant-tables::.

*Note*:

Direct modification of grant tables using statements such as *note
'INSERT': insert, *note 'UPDATE': update, or *note 'DELETE': delete. is
discouraged and done at your own risk.  The server is free to ignore
rows that become malformed as a result of such modifications.

As of MySQL 5.5.55, for any operation that modifies a grant table, the
server checks whether the table has the expected structure and produces
an error if not.  *note 'mysql_upgrade': mysql-upgrade. must be run to
update the tables to the expected structure.

Another option for creating accounts is to use the GUI tool MySQL
Workbench.  Also, several third-party programs offer capabilities for
MySQL account administration.  'phpMyAdmin' is one such program.

This section discusses the following topics:

   * *note creating-accounts-granting-privileges::

   * *note checking-account-privileges::

   * *note revoking-account-privileges::

   * *note dropping-accounts::

For additional information about the statements discussed here, see
*note account-management-statements::.

*Creating Accounts and Granting Privileges*

The following examples show how to use the *note 'mysql': mysql. client
program to set up new accounts.  These examples assume that the MySQL
'root' account has the 'CREATE USER' privilege and all privileges that
it grants to other accounts.

At the command line, connect to the server as the MySQL 'root' user,
supplying the appropriate password at the password prompt:

     shell> mysql -u root -p
     Enter password: (ENTER ROOT PASSWORD HERE)

After connecting to the server, you can add new accounts.  The following
example uses *note 'CREATE USER ': create-user. and *note 'GRANT':
grant. statements to set up four accounts (where you see ''PASSWORD'',
substitute an appropriate password):

     CREATE USER 'finley'@'localhost'
       IDENTIFIED BY 'PASSWORD';
     GRANT ALL
       ON *.*
       TO 'finley'@'localhost'
       WITH GRANT OPTION;

     CREATE USER 'finley'@'%.example.com'
       IDENTIFIED BY 'PASSWORD';
     GRANT ALL
       ON *.*
       TO 'finley'@'%.example.com'
       WITH GRANT OPTION;

     CREATE USER 'admin'@'localhost'
       IDENTIFIED BY 'PASSWORD';
     GRANT RELOAD,PROCESS
       ON *.*
       TO 'admin'@'localhost';

     CREATE USER 'dummy'@'localhost';

The accounts created by those statements have the following properties:

   * Two accounts have a user name of 'finley'.  Both are superuser
     accounts with full global privileges to do anything.  The
     ''finley'@'localhost'' account can be used only when connecting
     from the local host.  The ''finley'@'%.example.com'' account uses
     the ''%'' wildcard in the host part, so it can be used to connect
     from any host in the 'example.com' domain.

     The ''finley'@'localhost'' account is necessary if there is an
     anonymous-user account for 'localhost'.  Without the
     ''finley'@'localhost'' account, that anonymous-user account takes
     precedence when 'finley' connects from the local host and 'finley'
     is treated as an anonymous user.  The reason for this is that the
     anonymous-user account has a more specific 'Host' column value than
     the ''finley'@'%'' account and thus comes earlier in the 'user'
     table sort order.  (For information about 'user' table sorting, see
     *note connection-access::.)

   * The ''admin'@'localhost'' account can be used only by 'admin' to
     connect from the local host.  It is granted the global 'RELOAD' and
     'PROCESS' administrative privileges.  These privileges enable the
     'admin' user to execute the *note 'mysqladmin reload': mysqladmin,
     *note 'mysqladmin refresh': mysqladmin, and *note 'mysqladmin
     flush-XXX': mysqladmin. commands, as well as *note 'mysqladmin
     processlist': mysqladmin. .  No privileges are granted for
     accessing any databases.  You could add such privileges using *note
     'GRANT': grant. statements.

   * The ''dummy'@'localhost'' account has no password (which is
     insecure and not recommended).  This account can be used only to
     connect from the local host.  No privileges are granted.  It is
     assumed that you will grant specific privileges to the account
     using *note 'GRANT': grant. statements.

The previous example grants privileges at the global level.  The next
example creates three accounts and grants them access at lower levels;
that is, to specific databases or objects within databases.  Each
account has a user name of 'custom', but the host name parts differ:

     CREATE USER 'custom'@'localhost'
       IDENTIFIED BY 'PASSWORD';
     GRANT ALL
       ON bankaccount.*
       TO 'custom'@'localhost';

     CREATE USER 'custom'@'host47.example.com'
       IDENTIFIED BY 'PASSWORD';
     GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP
       ON expenses.*
       TO 'custom'@'host47.example.com';

     CREATE USER 'custom'@'%.example.com'
       IDENTIFIED BY 'PASSWORD';
     GRANT SELECT,INSERT,UPDATE,DELETE,CREATE,DROP
       ON customer.addresses
       TO 'custom'@'%.example.com';

The three accounts can be used as follows:

   * The ''custom'@'localhost'' account has all database-level
     privileges to access the 'bankaccount' database.  The account can
     be used to connect to the server only from the local host.

   * The ''custom'@'host47.example.com'' account has specific
     database-level privileges to access the 'expenses' database.  The
     account can be used to connect to the server only from the host
     'host47.example.com'.

   * The ''custom'@'%.example.com'' account has specific table-level
     privileges to access the 'addresses' table in the 'customer'
     database, from any host in the 'example.com' domain.  The account
     can be used to connect to the server from all machines in the
     domain due to use of the '%' wildcard character in the host part of
     the account name.

*Checking Account Privileges*

To see the privileges for an account, use *note 'SHOW GRANTS':
show-grants.:

     mysql> SHOW GRANTS FOR 'admin'@'localhost';
     +-----------------------------------------------------+
     | Grants for admin@localhost                          |
     +-----------------------------------------------------+
     | GRANT RELOAD, PROCESS ON *.* TO 'admin'@'localhost' |
     +-----------------------------------------------------+

*Revoking Account Privileges*

To revoke account privileges, use the *note 'REVOKE': revoke. statement.
Privileges can be revoked at different levels, just as they can be
granted at different levels.

Revoke global privileges:

     REVOKE ALL
       ON *.*
       FROM 'finley'@'%.example.com';

     REVOKE RELOAD
       ON *.*
       FROM 'admin'@'localhost';

Revoke database-level privileges:

     REVOKE CREATE,DROP
       ON expenses.*
       FROM 'custom'@'host47.example.com';

Revoke table-level privileges:

     REVOKE INSERT,UPDATE,DELETE
       ON customer.addresses
       FROM 'custom'@'%.example.com';

To check the effect of privilege revocation, use *note 'SHOW GRANTS':
show-grants.:

     mysql> SHOW GRANTS FOR 'admin'@'localhost';
     +---------------------------------------------+
     | Grants for admin@localhost                  |
     +---------------------------------------------+
     | GRANT PROCESS ON *.* TO 'admin'@'localhost' |
     +---------------------------------------------+

*Dropping Accounts*

To remove an account, use the *note 'DROP USER': drop-user. statement.
For example, to drop some of the accounts created previously:

     DROP USER 'finley'@'localhost';
     DROP USER 'finley'@'%.example.com';
     DROP USER 'admin'@'localhost';
     DROP USER 'dummy'@'localhost';


File: manual.info.tmp,  Node: privilege-changes,  Next: assigning-passwords,  Prev: creating-accounts,  Up: access-control

6.2.8 When Privilege Changes Take Effect
----------------------------------------

If the *note 'mysqld': mysqld. server is started without the
'--skip-grant-tables' option, it reads all grant table contents into
memory during its startup sequence.  The in-memory tables become
effective for access control at that point.

If you modify the grant tables indirectly using an account-management
statement, the server notices these changes and loads the grant tables
into memory again immediately.  Account-management statements are
described in *note account-management-statements::.  Examples include
*note 'GRANT': grant, *note 'REVOKE': revoke, *note 'SET PASSWORD':
set-password, and *note 'RENAME USER': rename-user.

If you modify the grant tables directly using statements such as *note
'INSERT': insert, *note 'UPDATE': update, or *note 'DELETE': delete.
(which is not recommended), the changes have no effect on privilege
checking until you either tell the server to reload the tables or
restart it.  Thus, if you change the grant tables directly but forget to
reload them, the changes have _no effect_ until you restart the server.
This may leave you wondering why your changes seem to make no
difference!

To tell the server to reload the grant tables, perform a
flush-privileges operation.  This can be done by issuing a 'FLUSH
PRIVILEGES' statement or by executing a *note 'mysqladmin
flush-privileges': mysqladmin. or *note 'mysqladmin reload': mysqladmin.
command.

A grant table reload affects privileges for each existing client session
as follows:

   * Table and column privilege changes take effect with the client's
     next request.

   * Database privilege changes take effect the next time the client
     executes a 'USE DB_NAME' statement.

     *Note*:

     Client applications may cache the database name; thus, this effect
     may not be visible to them without actually changing to a different
     database.

   * Global privileges and passwords are unaffected for a connected
     client.  These changes take effect only in sessions for subsequent
     connections.

If the server is started with the '--skip-grant-tables' option, it does
not read the grant tables or implement any access control.  Any user can
connect and perform any operation, _which is insecure._  To cause a
server thus started to read the tables and enable access checking, flush
the privileges.


File: manual.info.tmp,  Node: assigning-passwords,  Next: pluggable-authentication,  Prev: privilege-changes,  Up: access-control

6.2.9 Assigning Account Passwords
---------------------------------

Required credentials for clients that connect to the MySQL server can
include a password.  This section describes how to assign passwords for
MySQL accounts.

MySQL stores credentials in the 'user' table in the 'mysql' system
database.  Operations that assign or modify passwords are permitted only
to users with the 'CREATE USER' privilege, or, alternatively, privileges
for the 'mysql' database ('INSERT' privilege to create new accounts,
'UPDATE' privilege to modify existing accounts).  If the 'read_only'
system variable is enabled, use of account-modification statements such
as *note 'CREATE USER': create-user. or *note 'SET PASSWORD':
set-password. additionally requires the 'SUPER' privilege.

The discussion here summarizes syntax only for the most common
password-assignment statements.  For complete details on other
possibilities, see *note create-user::, *note grant::, and *note
set-password::.

MySQL uses plugins to perform client authentication; see *note
pluggable-authentication::.  In password-assigning statements, the
authentication plugin associated with an account performs any hashing
required of a cleartext password specified.  This enables MySQL to
obfuscate passwords prior to storing them in the 'mysql.user' system
table.  For most statements described here, MySQL automatically hashes
the password specified.  An exception is *note 'SET PASSWORD ... =
PASSWORD('AUTH_STRING')': set-password, for which you use the
'PASSWORD()' function explicitly to hash the password.  There is also
syntax for *note 'CREATE USER': create-user, *note 'GRANT': grant, and
*note 'SET PASSWORD': set-password. that permits hashed values to be
specified literally.  For details, see the descriptions of those
statements.

To assign a password when you create a new account, use *note 'CREATE
USER': create-user. and include an 'IDENTIFIED BY' clause:

     CREATE USER 'jeffrey'@'localhost' IDENTIFIED BY 'PASSWORD';

*note 'CREATE USER': create-user. also supports syntax for specifying
the account authentication plugin.  See *note create-user::.

To assign or change a password for an existing account, use *note 'SET
PASSWORD': set-password. with the 'PASSWORD()' function:

     SET PASSWORD FOR 'jeffrey'@'localhost' = PASSWORD('PASSWORD');

If you are not connected as an anonymous user, you can change your own
password by omitting the 'FOR' clause:

     SET PASSWORD = PASSWORD('PASSWORD');

The 'PASSWORD()' function hashes the password using the hashing method
determined by the value of the 'old_passwords' system variable value.
If *note 'SET PASSWORD': set-password. rejects the hashed password value
returned by 'PASSWORD()' as not being in the correct format, it may be
necessary to change 'old_passwords' to change the hashing method.  See
*note set-password::.

Use a *note 'GRANT USAGE': grant. statement at the global level ('ON
*.*') to change an account password without affecting the account's
current privileges:

     GRANT USAGE ON *.* TO 'jeffrey'@'localhost' IDENTIFIED BY 'PASSWORD';

To change an account password from the command line, use the *note
'mysqladmin': mysqladmin. command:

     mysqladmin -u USER_NAME -h HOST_NAME password "PASSWORD"

The account for which this command sets the password is the one with a
row in the 'mysql.user' system table that matches USER_NAME in the
'User' column and the client host _from which you connect_ in the 'Host'
column.

*Warning*:

Setting a password using *note 'mysqladmin': mysqladmin. should be
considered _insecure_.  On some systems, your password becomes visible
to system status programs such as 'ps' that may be invoked by other
users to display command lines.  MySQL clients typically overwrite the
command-line password argument with zeros during their initialization
sequence.  However, there is still a brief interval during which the
value is visible.  Also, on some systems this overwriting strategy is
ineffective and the password remains visible to 'ps'.  (SystemV Unix
systems and perhaps others are subject to this problem.)

If you are using MySQL Replication, be aware that, currently, a password
used by a replication slave as part of a *note 'CHANGE MASTER TO':
change-master-to. statement is effectively limited to 32 characters in
length; if the password is longer, any excess characters are truncated.
This is not due to any limit imposed by the MySQL Server generally, but
rather is an issue specific to MySQL Replication.  (For more
information, see Bug #43439.)


File: manual.info.tmp,  Node: pluggable-authentication,  Next: proxy-users,  Prev: assigning-passwords,  Up: access-control

6.2.10 Pluggable Authentication
-------------------------------

When a client connects to the MySQL server, the server uses the user
name provided by the client and the client host to select the
appropriate account row from the 'mysql.user' system table.  The server
then authenticates the client, determining from the account row which
authentication plugin applies to the client:

   * If the server cannot find the plugin, an error occurs and the
     connection attempt is rejected.  Otherwise, if the account row
     specifies a plugin, the server invokes it to authenticate the user.

   * If the account row specifies no plugin name, the server
     authenticates the account using either the 'mysql_native_password'
     or 'mysql_old_password' plugin, depending on whether the password
     hash value in the 'Password' column used native hashing or the
     older pre-4.1 hashing method.  Clients must match the password in
     the 'Password' column of the account row.

The plugin returns a status to the server indicating whether the user
provided the correct password and is permitted to connect.

Pluggable authentication enables these important capabilities:

   * Choice of authentication methods

     Pluggable authentication makes it easy for DBAs to choose and
     change the authentication method used for individual MySQL
     accounts.

   * External authentication

     Pluggable authentication makes it possible for clients to connect
     to the MySQL server with credentials appropriate for authentication
     methods that store credentials elsewhere than in the 'mysql.user'
     system table.  For example, plugins can be created to use external
     authentication methods such as PAM, Windows login IDs, LDAP, or
     Kerberos.

   * Proxy users:

     If a user is permitted to connect, an authentication plugin can
     return to the server a user name different from the name of the
     connecting user, to indicate that the connecting user is a proxy
     for another user (the proxied user).  While the connection lasts,
     the proxy user is treated, for purposes of access control, as
     having the privileges of the proxied user.  In effect, one user
     impersonates another.  For more information, see *note
     proxy-users::.

*Note*:

If you start the server with the '--skip-grant-tables' option,
authentication plugins are not used even if loaded because the server
performs no client authentication and permits any client to connect.
Because this is insecure, you might want to use '--skip-grant-tables' in
conjunction with enabling the 'skip_networking' system variable to
prevent remote clients from connecting.

   * *note pluggable-authentication-available-plugins::

   * *note pluggable-authentication-usage::

   * *note pluggable-authentication-restrictions::

*Available Authentication Plugins*

MySQL 5.5 provides these authentication plugins:

   * Plugins that perform native authentication; that is, authentication
     based on the password hashing methods in use from before the
     introduction of pluggable authentication in MySQL. The
     'mysql_native_password' plugin implements authentication based on
     the native password hashing method.  The 'mysql_old_password'
     plugin implements native authentication based on the older
     (pre-4.1) password hashing method.  See *note
     native-pluggable-authentication::, and *note
     old-native-pluggable-authentication::.  Native authentication using
     'mysql_native_password' is the default for accounts that have no
     plugin named explicitly in their account row.

   * A client-side plugin that sends the password to the server without
     hashing or encryption.  This plugin is used in conjunction with
     server-side plugins that require access to the password exactly as
     provided by the client user.  See *note
     cleartext-pluggable-authentication::.

   * A plugin that performs external authentication using PAM (Pluggable
     Authentication Modules), enabling MySQL Server to use PAM to
     authenticate MySQL users.  This plugin supports proxy users as
     well.  See *note pam-pluggable-authentication::.

   * A plugin that performs external authentication on Windows, enabling
     MySQL Server to use native Windows services to authenticate client
     connections.  Users who have logged in to Windows can connect from
     MySQL client programs to the server based on the information in
     their environment without specifying an additional password.  This
     plugin supports proxy users as well.  See *note
     windows-pluggable-authentication::.

   * A plugin that authenticates clients that connect from the local
     host through the Unix socket file.  See *note
     socket-pluggable-authentication::.

   * A test plugin that checks account credentials and logs success or
     failure to the server error log.  This plugin is intended for
     testing and development purposes, and as an example of how to write
     an authentication plugin.  See *note
     test-pluggable-authentication::.

*Note*:

For information about current restrictions on the use of pluggable
authentication, including which connectors support which plugins, see
*note pluggable-authentication-restrictions::.

Third-party connector developers should read that section to determine
the extent to which a connector can take advantage of pluggable
authentication capabilities and what steps to take to become more
compliant.

If you are interested in writing your own authentication plugins, see
*note writing-authentication-plugins::.

*Authentication Plugin Usage*

This section provides general instructions for installing and using
authentication plugins.  For instructions specific to a given plugin,
see the section that describes that plugin under *note
authentication-plugins::.

In general, pluggable authentication uses a pair of corresponding
plugins on the server and client sides, so you use a given
authentication method like this:

   * If necessary, install the plugin library or libraries containing
     the appropriate plugins.  On the server host, install the library
     containing the server-side plugin, so that the server can use it to
     authenticate client connections.  Similarly, on each client host,
     install the library containing the client-side plugin for use by
     client programs.  Authentication plugins that are built in need not
     be installed.

   * For each MySQL account that you create, specify the appropriate
     server-side plugin to use for authentication.  If the account is to
     use the default authentication plugin ('mysql_native_password'),
     the account-creation statement need not specify the plugin
     explicitly.

   * When a client connects, the server-side plugin tells the client
     program which client-side plugin to use for authentication.

In the case that an account uses an authentication method that is the
default for both the server and the client program, the server need not
communicate to the client which client-side plugin to use, and a round
trip in client/server negotiation can be avoided.  This is true for
accounts that use native MySQL authentication.

For standard MySQL clients such as *note 'mysql': mysql. and *note
'mysqladmin': mysqladmin, the '--default-auth=PLUGIN_NAME' option can be
specified on the command line as a hint about which client-side plugin
the program can expect to use, although the server will override this if
the server-side plugin associated with the user account requires a
different client-side plugin.

If the client program does not find the client-side plugin library file,
specify a '--plugin-dir=DIR_NAME' option to indicate the plugin library
directory location.

*Restrictions on Pluggable Authentication*

The first part of this section describes general restrictions on the
applicability of the pluggable authentication framework described at
*note pluggable-authentication::.  The second part describes how
third-party connector developers can determine the extent to which a
connector can take advantage of pluggable authentication capabilities
and what steps to take to become more compliant.

The term 'native authentication' used here refers to authentication
against passwords stored in the 'Password' column of the 'mysql.user'
system table.  This is the same authentication method provided by MySQL
servers older than 5.5.7, before pluggable authentication was
implemented.  'Windows native authentication' refers to authentication
using the credentials of a user who has already logged in to Windows, as
implemented by the Windows Native Authentication plugin ('Windows
plugin' for short).

   * *note pluggable-authentication-restrictions-general::

   * *note
     pluggable-authentication-restrictions-third-party-connectors::

*General Pluggable Authentication Restrictions*

   * *Connector/C++:* Clients that use this connector can connect to the
     server only through accounts that use native authentication.

     Exception: A connector supports pluggable authentication if it was
     built to link to 'libmysqlclient' dynamically (rather than
     statically) and it loads the current version of 'libmysqlclient' if
     that version is installed, or if the connector is recompiled from
     source to link against the current 'libmysqlclient'.

   * *Connector/NET:* Clients that use Connector/NET can connect to the
     server through accounts that use native authentication or Windows
     native authentication.

   * *Connector/PHP:* Clients that use this connector can connect to the
     server only through accounts that use native authentication, when
     compiled using the MySQL native driver for PHP ('mysqlnd').

   * *Windows native authentication:* Connecting through an account that
     uses the Windows plugin requires Windows Domain setup.  Without it,
     NTLM authentication is used and then only local connections are
     possible; that is, the client and server must run on the same
     computer.

   * *Proxy users:* Proxy user support is available to the extent that
     clients can connect through accounts authenticated with plugins
     that implement proxy user capability (that is, plugins that can
     return a user name different from that of the connecting user).
     For example, the PAM and Windows plugins support proxy users.  The
     native authentication plugins do not.

   * *Replication:* Before MySQL 5.5.17, replication slaves can connect
     to the master server only through master accounts that use native
     authentication.  As of 5.5.17 (or 5.5.19 for Windows native
     authentication), replication slaves can also connect through master
     accounts that use nonnative authentication if the required
     client-side plugin is available.  If the plugin is built into
     'libmysqlclient', it is available by default.  Otherwise, the
     plugin must be installed on the slave side in the directory named
     by the slave 'plugin_dir' system variable.

   * **note 'FEDERATED': federated-storage-engine. tables:* A *note
     'FEDERATED': federated-storage-engine. table can access the remote
     table only through accounts on the remote server that use native
     authentication.

*Pluggable Authentication and Third-Party Connectors*

Third-party connector developers can use the following guidelines to
determine readiness of a connector to take advantage of pluggable
authentication capabilities and what steps to take to become more
compliant:

   * An existing connector to which no changes have been made uses
     native authentication and clients that use the connector can
     connect to the server only through accounts that use native
     authentication.  _However, you should test the connector against a
     recent version of the server to verify that such connections still
     work without problem._

     Exception: A connector might work with pluggable authentication
     without any changes if it links to 'libmysqlclient' dynamically
     (rather than statically) and it loads the current version of
     'libmysqlclient' if that version is installed.

   * To take advantage of pluggable authentication capabilities, a
     connector that is 'libmysqlclient'-based should be relinked against
     the current version of 'libmysqlclient'.  This enables the
     connector to support connections though accounts that require
     client-side plugins now built into 'libmysqlclient' (such as the
     cleartext plugin needed for PAM authentication and the Windows
     plugin needed for Windows native authentication).  Linking with a
     current 'libmysqlclient' also enables the connector to access
     client-side plugins installed in the default MySQL plugin directory
     (typically the directory named by the default value of the local
     server's 'plugin_dir' system variable).

     If a connector links to 'libmysqlclient' dynamically, it must be
     ensured that the newer version of 'libmysqlclient' is installed on
     the client host and that the connector loads it at runtime.

   * Another way for a connector to support a given authentication
     method is to implement it directly in the client/server protocol.
     Connector/NET uses this approach to provide support for Windows
     native authentication.

   * If a connector should be able to load client-side plugins from a
     directory different from the default plugin directory, it must
     implement some means for client users to specify the directory.
     Possibilities for this include a command-line option or environment
     variable from which the connector can obtain the directory name.
     Standard MySQL client programs such as *note 'mysql': mysql. and
     *note 'mysqladmin': mysqladmin. implement a '--plugin-dir' option.
     See also *note c-api-plugin-functions::.

   * Proxy user support by a connector depends, as described earlier in
     this section, on whether the authentication methods that it
     supports permit proxy users.


File: manual.info.tmp,  Node: proxy-users,  Next: user-resources,  Prev: pluggable-authentication,  Up: access-control

6.2.11 Proxy Users
------------------

The MySQL server authenticates client connections using authentication
plugins.  The plugin that authenticates a given connection may request
that the connecting (external) user be treated as a different user for
privilege-checking purposes.  This enables the external user to be a
proxy for the second user; that is, to assume the privileges of the
second user:

   * The external user is a 'proxy user' (a user who can impersonate or
     become known as another user).

   * The second user is a 'proxied user' (a user whose identity and
     privileges can be assumed by a proxy user).

This section describes how the proxy user capability works.  For general
information about authentication plugins, see *note
pluggable-authentication::.  For information about specific plugins, see
*note authentication-plugins::.  For information about writing
authentication plugins that support proxy users, see *note
writing-authentication-plugins-proxy-users::.

   * *note proxy-users-support-requirements::

   * *note proxy-users-example::

   * *note preventing-proxied-account-direct-login::

   * *note proxy-users-granting-proxy-privilege::

   * *note default-proxy-users::

   * *note proxy-users-conflicts::

   * *note proxy-users-system-variables::

*Requirements for Proxy User Support*

For proxying to occur for a given authentication plugin, these
conditions must be satisfied:

   * The plugin must support proxying.

   * The account for the external proxy user must be set up to be
     authenticated by the plugin.  Use the *note 'CREATE USER':
     create-user. or *note 'GRANT': grant. statement to associate an
     account with an authentication plugin.

   * The account for the proxied user must exist and be granted the
     privileges to be assumed by the proxy user.  Use the *note 'CREATE
     USER': create-user. and *note 'GRANT': grant. statements for this.

   * Normally, the proxied user is configured so that it can be used
     only in proxying scenaries and not for direct logins.

   * The proxy user account must have the 'PROXY' privilege for the
     proxied account.  Use the *note 'GRANT': grant. statement for this.

   * For a client connecting to the proxy account to be treated as a
     proxy user, the authentication plugin must return a user name
     different from the client user name, to indicate the user name of
     the proxied account that defines the privileges to be assumed by
     the proxy user.

The proxy mechanism permits mapping only the external client user name
to the proxied user name.  There is no provision for mapping host names:

   * When a client connects to the server, the server determines the
     proper account based on the user name passed by the client program
     and the host from which the client connects.

   * If that account is a proxy account, the server attempts to
     determine the appropriate proxied account by finding a match for a
     proxied account using the user name returned by the authentication
     plugin and the host name of the proxy account.  The host name in
     the proxied account is ignored.

*Simple Proxy User Example*

Consider the following account definitions:

     -- create proxy account
     CREATE USER 'employee_ext'@'localhost'
       IDENTIFIED WITH my_auth_plugin
       AS 'MY_AUTH_STRING';

     -- create proxied account and grant its privileges
     CREATE USER 'employee'@'localhost'
       IDENTIFIED BY 'EMPLOYEE_PASSWORD';
     GRANT ALL
       ON employees.*
       TO 'employee'@'localhost';

     -- grant to proxy account the PROXY privilege for proxied account
     GRANT PROXY
       ON 'employee'@'localhost'
       TO 'employee_ext'@'localhost';

When a client connects as 'employee_ext' from the local host, MySQL uses
the plugin named 'my_auth_plugin' to perform authentication.  Suppose
that 'my_auth_plugin' returns a user name of 'employee' to the server,
based on the content of ''MY_AUTH_STRING'' and perhaps by consulting
some external authentication system.  The name 'employee' differs from
'employee_ext', so returning 'employee' serves as a request to the
server to treat the 'employee_ext' external user, for purposes of
privilege checking, as the 'employee' local user.

In this case, 'employee_ext' is the proxy user and 'employee' is the
proxied user.

The server verifies that proxy authentication for 'employee' is possible
for the 'employee_ext' user by checking whether 'employee_ext' (the
proxy user) has the 'PROXY' privilege for 'employee' (the proxied user).
If this privilege has not been granted, an error occurs.  Otherwise,
'employee_ext' assumes the privileges of 'employee'.  The server checks
statements executed during the client session by 'employee_ext' against
the privileges granted to 'employee'.  In this case, 'employee_ext' can
access tables in the 'employees' database.

To ensure that the proxied account, 'employee', cannot be used directly,
do not tell anyone else its password.  If you do not let anyone know the
password for the account, clients cannot use it to connect directly to
the MySQL server.

When proxying occurs, the 'USER()' and 'CURRENT_USER()' functions can be
used to see the difference between the connecting user (the proxy user)
and the account whose privileges apply during the current session (the
proxied user).  For the example just described, those functions return
these values:

     mysql> SELECT USER(), CURRENT_USER();
     +------------------------+--------------------+
     | USER()                 | CURRENT_USER()     |
     +------------------------+--------------------+
     | employee_ext@localhost | employee@localhost |
     +------------------------+--------------------+

In the *note 'CREATE USER': create-user. statement that creates the
proxy user account, the 'IDENTIFIED WITH' clause that names the
proxy-supporting authentication plugin is optionally followed by an 'AS
'AUTH_STRING'' clause specifying a string that the server passes to the
plugin when the user connects.  If present, the string provides
information that helps the plugin determine how to map the proxy
(external) client user name to a proxied user name.  It is up to each
plugin whether it requires the 'AS' clause.  If so, the format of the
authentication string depends on how the plugin intends to use it.
Consult the documentation for a given plugin for information about the
authentication string values it accepts.

*Preventing Direct Login to Proxied Accounts*

Proxied accounts generally are intended to be used only by means of
proxy accounts.  That is, clients connect using a proxy account, then
are mapped onto and assume the privileges of the appropriate proxied
user.

To ensure that a proxied account cannot be used directly, create the
account with a password but do not tell anyone else the password.  If
you do not let anyone know the password for the account, clients cannot
use it to connect directly to the MySQL server.

*Granting and Revoking the PROXY Privilege*

The 'PROXY' privilege is needed to enable an external user to connect as
and have the privileges of another user.  To grant this privilege, use
the *note 'GRANT': grant. statement.  For example:

     GRANT PROXY ON 'PROXIED_USER' TO 'PROXY_USER';

The statement creates a row in the 'mysql.proxies_priv' grant table.

At connect time, PROXY_USER must represent a valid externally
authenticated MySQL user, and PROXIED_USER must represent a valid
locally authenticated user.  Otherwise, the connection attempt fails.

The corresponding *note 'REVOKE': revoke. syntax is:

     REVOKE PROXY ON 'PROXIED_USER' FROM 'PROXY_USER';

MySQL *note 'GRANT': grant. and *note 'REVOKE': revoke. syntax
extensions work as usual.  Examples:

     -- grant PROXY to multiple accounts
     GRANT PROXY ON 'a' TO 'b', 'c', 'd';

     -- revoke PROXY from multiple accounts
     REVOKE PROXY ON 'a' FROM 'b', 'c', 'd';

     -- grant PROXY to an account and enable the account to grant
     -- PROXY to the proxied account
     GRANT PROXY ON 'a' TO 'd' WITH GRANT OPTION;

     -- grant PROXY to default proxy account
     GRANT PROXY ON 'a' TO ''@'';

The 'PROXY' privilege can be granted in these cases:

   * By a user that has 'GRANT PROXY ... WITH GRANT OPTION' for
     PROXIED_USER.

   * By PROXIED_USER for itself: The value of 'USER()' must exactly
     match 'CURRENT_USER()' and PROXIED_USER, for both the user name and
     host name parts of the account name.

The initial 'root' account created during MySQL installation has the
'PROXY ... WITH GRANT OPTION' privilege for '''@''', that is, for all
users and all hosts.  This enables 'root' to set up proxy users, as well
as to delegate to other accounts the authority to set up proxy users.
For example, 'root' can do this:

     CREATE USER 'admin'@'localhost'
       IDENTIFIED BY 'ADMIN_PASSWORD';
     GRANT PROXY
       ON ''@''
       TO 'admin'@'localhost'
       WITH GRANT OPTION;

Those statements create an 'admin' user that can manage all 'GRANT
PROXY' mappings.  For example, 'admin' can do this:

     GRANT PROXY ON sally TO joe;

*Default Proxy Users*

To specify that some or all users should connect using a given
authentication plugin, create a 'blank' MySQL account with an empty user
name and host name ('''@'''), associate it with that plugin, and let the
plugin return the real authenticated user name (if different from the
blank user).  Suppose that there exists a plugin named 'ldap_auth' that
implements LDAP authentication and maps connecting users onto either a
developer or manager account.  To set up proxying of users onto these
accounts, use the following statements:

     -- create default proxy account
     CREATE USER ''@''
       IDENTIFIED WITH ldap_auth
       AS 'O=Oracle, OU=MySQL';

     -- create proxied accounts
     CREATE USER 'developer'@'localhost'
       IDENTIFIED BY 'DEVELOPER_PASSWORD';
     CREATE USER 'manager'@'localhost'
       IDENTIFIED BY 'MANAGER_PASSWORD';

     -- grant to default proxy account the
     -- PROXY privilege for proxied accounts
     GRANT PROXY
       ON 'manager'@'localhost'
       TO ''@'';
     GRANT PROXY
       ON 'developer'@'localhost'
       TO ''@'';

As with proxied accounts created in previous examples, the password
should be kept secret so that clients cannot use the accounts to log in
directly to the MySQL server.

Now assume that a client connects as follows:

     shell> mysql --user=myuser --password ...
     Enter password: MYUSER_PASSWORD

The server will not find 'myuser' defined as a MySQL user.  But because
there is a blank user account ('''@''') that matches the client user
name and host name, the server authenticates the client against that
account: The server invokes the 'ldap_auth' authentication plugin and
passes 'myuser' and MYUSER_PASSWORD to it as the user name and password.

If the 'ldap_auth' plugin finds in the LDAP directory that
MYUSER_PASSWORD is not the correct password for 'myuser', authentication
fails and the server rejects the connection.

If the password is correct and 'ldap_auth' finds that 'myuser' is a
developer, it returns the user name 'developer' to the MySQL server,
rather than 'myuser'.  Returning a user name different from the client
user name of 'myuser' signals to the server that it should treat
'myuser' as a proxy.  The server verifies that '''@''' can authenticate
as 'developer' (because '''@''' has the 'PROXY' privilege to do so) and
accepts the connection.  The session proceeds with 'myuser' having the
privileges of the 'developer' proxied user.  (These privileges should be
set up by the DBA using *note 'GRANT': grant. statements, not shown.)
The 'USER()' and 'CURRENT_USER()' functions return these values:

     mysql> SELECT USER(), CURRENT_USER();
     +------------------+---------------------+
     | USER()           | CURRENT_USER()      |
     +------------------+---------------------+
     | myuser@localhost | developer@localhost |
     +------------------+---------------------+

If the plugin instead finds in the LDAP directory that 'myuser' is a
manager, it returns 'manager' as the user name and the session proceeds
with 'myuser' having the privileges of the 'manager' proxied user.

     mysql> SELECT USER(), CURRENT_USER();
     +------------------+-------------------+
     | USER()           | CURRENT_USER()    |
     +------------------+-------------------+
     | myuser@localhost | manager@localhost |
     +------------------+-------------------+

For simplicity, external authentication cannot be multilevel: Neither
the credentials for 'developer' nor those for 'manager' are taken into
account in the preceding example.  However, they are still used if a
client tries to connect and authenticate directly as the 'developer' or
'manager' account, which is why those proxied accounts should be
protected against direct login (see *note
preventing-proxied-account-direct-login::).

*Default Proxy User and Anonymous User Conflicts*

If you intend to create a default proxy user, check for other existing
'match any user' accounts that take precedence over the default proxy
user because they can prevent that user from working as intended.

In the preceding discussion, the default proxy user account has '''' in
the host part, which matches any host.  If you set up a default proxy
user, take care to also check whether nonproxy accounts exist with the
same user part and ''%'' in the host part, because ''%'' also matches
any host, but has precedence over '''' by the rules that the server uses
to sort account rows internally (see *note connection-access::).

Suppose that a MySQL installation includes these two accounts:

     -- create default proxy account
     CREATE USER ''@''
       IDENTIFIED WITH some_plugin
       AS 'SOME_AUTH_STRING';
     -- create anonymous account
     CREATE USER ''@'%'
       IDENTIFIED BY 'ANON_USER_PASSWORD';

The first account ('''@''') is intended as the default proxy user, used
to authenticate connections for users who do not otherwise match a
more-specific account.  The second account ('''@'%'') is an
anonymous-user account, which might have been created, for example, to
enable users without their own account to connect anonymously.

Both accounts have the same user part (''''), which matches any user.
And each account has a host part that matches any host.  Nevertheless,
there is a priority in account matching for connection attempts because
the matching rules sort a host of ''%'' ahead of ''''.  For accounts
that do not match any more-specific account, the server attempts to
authenticate them against '''@'%'' (the anonymous user) rather than
'''@''' (the default proxy user).  As a result, the default proxy
account is never used.

To avoid this problem, use one of the following strategies:

   * Remove the anonymous account so that it does not conflict with the
     default proxy user.

   * Use a more-specific default proxy user that matches ahead of the
     anonymous user.  For example, to permit only 'localhost' proxy
     connections, use '''@'localhost'':

          CREATE USER ''@'localhost'
            IDENTIFIED WITH some_plugin
            AS 'SOME_AUTH_STRING';

     In addition, modify any 'GRANT PROXY' statements to name
     '''@'localhost'' rather than '''@''' as the proxy user.

     Be aware that this strategy prevents anonymous-user connections
     from 'localhost'.

   * Use a named default account rather than an anonymous default
     account.  For an example of this technique, consult the
     instructions for using the 'authentication_windows' plugin.  See
     *note windows-pluggable-authentication::.

   * Create multiple proxy users, one for local connections and one for
     'everything else' (remote connections).  This can be useful
     particularly when local users should have different privileges from
     remote users.

     Create the proxy users:

          -- create proxy user for local connections
          CREATE USER ''@'localhost'
            IDENTIFIED WITH some_plugin
            AS 'SOME_AUTH_STRING';
          -- create proxy user for remote connections
          CREATE USER ''@'%'
            IDENTIFIED WITH some_plugin
            AS 'SOME_AUTH_STRING';

     Create the proxied users:

          -- create proxied user for local connections
          CREATE USER 'developer'@'localhost'
            IDENTIFIED BY 'SOME_PASSWORD';
          -- create proxied user for remote connections
          CREATE USER 'developer'@'%'
            IDENTIFIED BY 'SOME_PASSWORD';

     Grant to each proxy account the 'PROXY' privilege for the
     corresponding proxied account:

          GRANT PROXY
            ON 'developer'@'localhost'
            TO ''@'localhost';
          GRANT PROXY
            ON 'developer'@'%'
            TO ''@'%';

     Finally, grant appropriate privileges to the local and remote
     proxied users (not shown).

     Assume that the 'some_plugin'/''SOME_AUTH_STRING'' combination
     causes 'some_plugin' to map the client user name to 'developer'.
     Local connections match the '''@'localhost'' proxy user, which maps
     to the ''developer'@'localhost'' proxied user.  Remote connections
     match the '''@'%'' proxy user, which maps to the ''developer'@'%''
     proxied user.

*Proxy User System Variables*

Two system variables help trace the proxy login process:

   * 'proxy_user': This value is 'NULL' if proxying is not used.
     Otherwise, it indicates the proxy user account.  For example, if a
     client authenticates through the '''@''' proxy account, this
     variable is set as follows:

          mysql> SELECT @@proxy_user;
          +--------------+
          | @@proxy_user |
          +--------------+
          | ''@''        |
          +--------------+

   * 'external_user': Sometimes the authentication plugin may use an
     external user to authenticate to the MySQL server.  For example,
     when using Windows native authentication, a plugin that
     authenticates using the windows API does not need the login ID
     passed to it.  However, it still uses a Windows user ID to
     authenticate.  The plugin may return this external user ID (or the
     first 512 UTF-8 bytes of it) to the server using the
     'external_user' read-only session variable.  If the plugin does not
     set this variable, its value is 'NULL'.


File: manual.info.tmp,  Node: user-resources,  Next: problems-connecting,  Prev: proxy-users,  Up: access-control

6.2.12 Setting Account Resource Limits
--------------------------------------

One means of restricting client use of MySQL server resources is to set
the global 'max_user_connections' system variable to a nonzero value.
This limits the number of simultaneous connections that can be made by
any given account, but places no limits on what a client can do once
connected.  In addition, setting 'max_user_connections' does not enable
management of individual accounts.  Both types of control are of
interest to MySQL administrators.

To address such concerns, MySQL permits limits for individual accounts
on use of these server resources:

   * The number of queries an account can issue per hour

   * The number of updates an account can issue per hour

   * The number of times an account can connect to the server per hour

   * The number of simultaneous connections to the server by an account

Any statement that a client can issue counts against the query limit,
unless its results are served from the query cache.  Only statements
that modify databases or tables count against the update limit.

An 'account' in this context corresponds to a row in the 'mysql.user'
system table.  That is, a connection is assessed against the 'User' and
'Host' values in the 'user' table row that applies to the connection.
For example, an account ''usera'@'%.example.com'' corresponds to a row
in the 'user' table that has 'User' and 'Host' values of 'usera' and
'%.example.com', to permit 'usera' to connect from any host in the
'example.com' domain.  In this case, the server applies resource limits
in this row collectively to all connections by 'usera' from any host in
the 'example.com' domain because all such connections use the same
account.

Before MySQL 5.0, an 'account' was assessed against the actual host from
which a user connects.  This older method of accounting may be selected
by starting the server with the '--old-style-user-limits' option.  In
this case, if 'usera' connects simultaneously from 'host1.example.com'
and 'host2.example.com', the server applies the account resource limits
separately to each connection.  If 'usera' connects again from
'host1.example.com', the server applies the limits for that connection
together with the existing connection from that host.

To establish resource limits for an account, use the *note 'GRANT':
grant. statement (see *note grant::).  Provide a 'WITH' clause that
names each resource to be limited.  The default value for each limit is
zero (no limit).  For example, to create a new account that can access
the 'customer' database, but only in a limited fashion, issue these
statements:

     mysql> CREATE USER 'francis'@'localhost' IDENTIFIED BY 'frank';
     mysql> GRANT ALL ON customer.* TO 'francis'@'localhost'
         ->     WITH MAX_QUERIES_PER_HOUR 20
         ->          MAX_UPDATES_PER_HOUR 10
         ->          MAX_CONNECTIONS_PER_HOUR 5
         ->          MAX_USER_CONNECTIONS 2;

The limit types need not all be named in the 'WITH' clause, but those
named can be present in any order.  The value for each per-hour limit
should be an integer representing a count per hour.  For
'MAX_USER_CONNECTIONS', the limit is an integer representing the maximum
number of simultaneous connections by the account.  If this limit is set
to zero, the global 'max_user_connections' system variable value
determines the number of simultaneous connections.  If
'max_user_connections' is also zero, there is no limit for the account.

To modify limits for an existing account, use a *note 'GRANT USAGE':
grant. statement at the global level ('ON *.*').  The following
statement changes the query limit for 'francis' to 100:

     mysql> GRANT USAGE ON *.* TO 'francis'@'localhost'
         ->     WITH MAX_QUERIES_PER_HOUR 100;

The statement modifies only the limit value specified and leaves the
account otherwise unchanged.

To remove a limit, set its value to zero.  For example, to remove the
limit on how many times per hour 'francis' can connect, use this
statement:

     mysql> GRANT USAGE ON *.* TO 'francis'@'localhost'
         ->     WITH MAX_CONNECTIONS_PER_HOUR 0;

As mentioned previously, the simultaneous-connection limit for an
account is determined from the 'MAX_USER_CONNECTIONS' limit and the
'max_user_connections' system variable.  Suppose that the global
'max_user_connections' value is 10 and three accounts have individual
resource limits specified as follows:

     GRANT ... TO 'user1'@'localhost' WITH MAX_USER_CONNECTIONS 0;
     GRANT ... TO 'user2'@'localhost' WITH MAX_USER_CONNECTIONS 5;
     GRANT ... TO 'user3'@'localhost' WITH MAX_USER_CONNECTIONS 20;

'user1' has a connection limit of 10 (the global 'max_user_connections'
value) because it has a 'MAX_USER_CONNECTIONS' limit of zero.  'user2'
and 'user3' have connection limits of 5 and 20, respectively, because
they have nonzero 'MAX_USER_CONNECTIONS' limits.

The server stores resource limits for an account in the 'user' table row
corresponding to the account.  The 'max_questions', 'max_updates', and
'max_connections' columns store the per-hour limits, and the
'max_user_connections' column stores the 'MAX_USER_CONNECTIONS' limit.
(See *note grant-tables::.)

Resource-use counting takes place when any account has a nonzero limit
placed on its use of any of the resources.

As the server runs, it counts the number of times each account uses
resources.  If an account reaches its limit on number of connections
within the last hour, the server rejects further connections for the
account until that hour is up.  Similarly, if the account reaches its
limit on the number of queries or updates, the server rejects further
queries or updates until the hour is up.  In all such cases, the server
issues appropriate error messages.

Resource counting occurs per account, not per client.  For example, if
your account has a query limit of 50, you cannot increase your limit to
100 by making two simultaneous client connections to the server.
Queries issued on both connections are counted together.

The current per-hour resource-use counts can be reset globally for all
accounts, or individually for a given account:

   * To reset the current counts to zero for all accounts, issue a
     'FLUSH USER_RESOURCES' statement.  The counts also can be reset by
     reloading the grant tables (for example, with a 'FLUSH PRIVILEGES'
     statement or a *note 'mysqladmin reload': mysqladmin. command).

   * The counts for an individual account can be reset to zero by
     setting any of its limits again.  Specify a limit value equal to
     the value currently assigned to the account.

Per-hour counter resets do not affect the 'MAX_USER_CONNECTIONS' limit.

All counts begin at zero when the server starts.  Counts do not carry
over through server restarts.

For the 'MAX_USER_CONNECTIONS' limit, an edge case can occur if the
account currently has open the maximum number of connections permitted
to it: A disconnect followed quickly by a connect can result in an error
('ER_TOO_MANY_USER_CONNECTIONS' or 'ER_USER_LIMIT_REACHED') if the
server has not fully processed the disconnect by the time the connect
occurs.  When the server finishes disconnect processing, another
connection will once more be permitted.


File: manual.info.tmp,  Node: problems-connecting,  Next: account-activity-auditing,  Prev: user-resources,  Up: access-control

6.2.13 Troubleshooting Problems Connecting to MySQL
---------------------------------------------------

If you encounter problems when you try to connect to the MySQL server,
the following items describe some courses of action you can take to
correct the problem.

   * Make sure that the server is running.  If it is not, clients cannot
     connect to it.  For example, if an attempt to connect to the server
     fails with a message such as one of those following, one cause
     might be that the server is not running:

          shell> mysql
          ERROR 2003: Can't connect to MySQL server on 'HOST_NAME' (111)
          shell> mysql
          ERROR 2002: Can't connect to local MySQL server through socket
          '/tmp/mysql.sock' (111)

   * It might be that the server is running, but you are trying to
     connect using a TCP/IP port, named pipe, or Unix socket file
     different from the one on which the server is listening.  To
     correct this when you invoke a client program, specify a '--port'
     option to indicate the proper port number, or a '--socket' option
     to indicate the proper named pipe or Unix socket file.  To find out
     where the socket file is, you can use this command:

          shell> netstat -ln | grep mysql

   * Make sure that the server has not been configured to ignore network
     connections or (if you are attempting to connect remotely) that it
     has not been configured to listen only locally on its network
     interfaces.  If the server was started with the 'skip_networking'
     system variable enabled, it will not accept TCP/IP connections at
     all.  If the server was started with '--bind-address=127.0.0.1', it
     will listen for TCP/IP connections only locally on the loopback
     interface and will not accept remote connections.

   * Check to make sure that there is no firewall blocking access to
     MySQL. Your firewall may be configured on the basis of the
     application being executed, or the port number used by MySQL for
     communication (3306 by default).  Under Linux or Unix, check your
     IP tables (or similar) configuration to ensure that the port has
     not been blocked.  Under Windows, applications such as ZoneAlarm or
     Windows Firewall may need to be configured not to block the MySQL
     port.

   * The grant tables must be properly set up so that the server can use
     them for access control.  For some distribution types (such as
     binary distributions on Windows, or RPM distributions on Linux),
     the installation process initializes the MySQL data directory,
     including the 'mysql' system database containing the grant tables.
     For distributions that do not do this, you must initialize the data
     directory manually.  For details, see *note postinstallation::.

     To determine whether you need to initialize the grant tables, look
     for a 'mysql' directory under the data directory.  (The data
     directory normally is named 'data' or 'var' and is located under
     your MySQL installation directory.)  Make sure that you have a file
     named 'user.MYD' in the 'mysql' database directory.  If not,
     initialize the data directory.  After doing so and starting the
     server, test the initial privileges by executing this command:

          shell> mysql -u root

     The server should let you connect without error.

   * After a fresh installation, you should connect to the server and
     set up your users and their access permissions:

          shell> mysql -u root mysql

     The server should let you connect because the MySQL 'root' user has
     no password initially.  That is also a security risk, so setting
     the password for the 'root' accounts is something you should do
     while you're setting up your other MySQL accounts.  For
     instructions on setting the initial passwords, see *note
     default-privileges::.

   * If you have updated an existing MySQL installation to a newer
     version, did you perform the MySQL upgrade procedure?  If not, do
     so.  The structure of the grant tables changes occasionally when
     new capabilities are added, so after an upgrade you should always
     make sure that your tables have the current structure.  For
     instructions, see *note upgrading::.

   * If a client program receives the following error message when it
     tries to connect, it means that the server expects passwords in a
     newer format than the client is capable of generating:

          shell> mysql
          Client does not support authentication protocol requested
          by server; consider upgrading MySQL client

     For information on how to deal with this, see *note
     password-hashing::, and *note old-client::.

   * 
     Remember that client programs use connection parameters specified
     in option files or environment variables.  If a client program
     seems to be sending incorrect default connection parameters when
     you have not specified them on the command line, check any
     applicable option files and your environment.  For example, if you
     get 'Access denied' when you run a client without any options, make
     sure that you have not specified an old password in any of your
     option files!

     You can suppress the use of option files by a client program by
     invoking it with the '--no-defaults' option.  For example:

          shell> mysqladmin --no-defaults -u root version

     The option files that clients use are listed in *note
     option-files::.  Environment variables are listed in *note
     environment-variables::.

   * If you get the following error, it means that you are using an
     incorrect 'root' password:

          shell> mysqladmin -u root -pXXXX ver
          Access denied for user 'root'@'localhost' (using password: YES)

     If the preceding error occurs even when you have not specified a
     password, it means that you have an incorrect password listed in
     some option file.  Try the '--no-defaults' option as described in
     the previous item.

     For information on changing passwords, see *note
     assigning-passwords::.

     If you have lost or forgotten the 'root' password, see *note
     resetting-permissions::.

   * If you change a password by using *note 'SET PASSWORD':
     set-password, *note 'INSERT': insert, or *note 'UPDATE': update,
     you must encrypt the password using the 'PASSWORD()' function.  If
     you do not use 'PASSWORD()' for these statements, the password will
     not work.  For example, the following statement assigns a password,
     but fails to encrypt it, so the user is not able to connect
     afterward:

          SET PASSWORD FOR 'abe'@'HOST_NAME' = 'eagle';

     Instead, set the password like this:

          SET PASSWORD FOR 'abe'@'HOST_NAME' = PASSWORD('eagle');

     The 'PASSWORD()' function is unnecessary when you specify a
     password using the *note 'CREATE USER': create-user. or *note
     'GRANT': grant. statements or the *note 'mysqladmin password':
     mysqladmin. command.  Each of those automatically uses 'PASSWORD()'
     to encrypt the password.  See *note assigning-passwords::, and
     *note create-user::.

   * 'localhost' is a synonym for your local host name, and is also the
     default host to which clients try to connect if you specify no host
     explicitly.

     You can use a '--host=127.0.0.1' option to name the server host
     explicitly.  This will make a TCP/IP connection to the local *note
     'mysqld': mysqld. server.  You can also use TCP/IP by specifying a
     '--host' option that uses the actual host name of the local host.
     In this case, the host name must be specified in a 'user' table row
     on the server host, even though you are running the client program
     on the same host as the server.

   * The 'Access denied' error message tells you who you are trying to
     log in as, the client host from which you are trying to connect,
     and whether you were using a password.  Normally, you should have
     one row in the 'user' table that exactly matches the host name and
     user name that were given in the error message.  For example, if
     you get an error message that contains 'using password: NO', it
     means that you tried to log in without a password.

   * If you get an 'Access denied' error when trying to connect to the
     database with 'mysql -u USER_NAME', you may have a problem with the
     'user' table.  Check this by executing 'mysql -u root mysql' and
     issuing this SQL statement:

          SELECT * FROM user;

     The result should include a row with the 'Host' and 'User' columns
     matching your client's host name and your MySQL user name.

   * If the following error occurs when you try to connect from a host
     other than the one on which the MySQL server is running, it means
     that there is no row in the 'user' table with a 'Host' value that
     matches the client host:

          Host ... is not allowed to connect to this MySQL server

     You can fix this by setting up an account for the combination of
     client host name and user name that you are using when trying to
     connect.

     If you do not know the IP address or host name of the machine from
     which you are connecting, you should put a row with ''%'' as the
     'Host' column value in the 'user' table.  After trying to connect
     from the client machine, use a 'SELECT USER()' query to see how you
     really did connect.  Then change the ''%'' in the 'user' table row
     to the actual host name that shows up in the log.  Otherwise, your
     system is left insecure because it permits connections from any
     host for the given user name.

     On Linux, another reason that this error might occur is that you
     are using a binary MySQL version that is compiled with a different
     version of the 'glibc' library than the one you are using.  In this
     case, you should either upgrade your operating system or 'glibc',
     or download a source distribution of MySQL version and compile it
     yourself.  A source RPM is normally trivial to compile and install,
     so this is not a big problem.

   * If you specify a host name when trying to connect, but get an error
     message where the host name is not shown or is an IP address, it
     means that the MySQL server got an error when trying to resolve the
     IP address of the client host to a name:

          shell> mysqladmin -u root -pXXXX -h SOME_HOSTNAME ver
          Access denied for user 'root'@'' (using password: YES)

     If you try to connect as 'root' and get the following error, it
     means that you do not have a row in the 'user' table with a 'User'
     column value of ''root'' and that *note 'mysqld': mysqld. cannot
     resolve the host name for your client:

          Access denied for user ''@'unknown'

     These errors indicate a DNS problem.  To fix it, execute *note
     'mysqladmin flush-hosts': mysqladmin. to reset the internal DNS
     host cache.  See *note host-cache::.

     Some permanent solutions are:

        * Determine what is wrong with your DNS server and fix it.

        * Specify IP addresses rather than host names in the MySQL grant
          tables.

        * Put an entry for the client machine name in '/etc/hosts' on
          Unix or '\windows\hosts' on Windows.

        * Start *note 'mysqld': mysqld. with the 'skip_name_resolve'
          system variable enabled.

        * Start *note 'mysqld': mysqld. with the '--skip-host-cache'
          option.

        * On Unix, if you are running the server and the client on the
          same machine, connect to 'localhost'.  For connections to
          'localhost', MySQL programs attempt to connect to the local
          server by using a Unix socket file, unless there are
          connection parameters specified to ensure that the client
          makes a TCP/IP connection.  For more information, see *note
          connecting::.

        * On Windows, if you are running the server and the client on
          the same machine and the server supports named pipe
          connections, connect to the host name '.' (period).
          Connections to '.' use a named pipe rather than TCP/IP.

   * If 'mysql -u root' works but 'mysql -h YOUR_HOSTNAME -u root'
     results in 'Access denied' (where YOUR_HOSTNAME is the actual host
     name of the local host), you may not have the correct name for your
     host in the 'user' table.  A common problem here is that the 'Host'
     value in the 'user' table row specifies an unqualified host name,
     but your system's name resolution routines return a fully qualified
     domain name (or vice versa).  For example, if you have a row with
     host ''pluto'' in the 'user' table, but your DNS tells MySQL that
     your host name is ''pluto.example.com'', the row does not work.
     Try adding a row to the 'user' table that contains the IP address
     of your host as the 'Host' column value.  (Alternatively, you could
     add a row to the 'user' table with a 'Host' value that contains a
     wildcard (for example, ''pluto.%'').  However, use of 'Host' values
     ending with '%' is _insecure_ and is _not_ recommended!)

   * If 'mysql -u USER_NAME' works but 'mysql -u USER_NAME SOME_DB' does
     not, you have not granted access to the given user for the database
     named SOME_DB.

   * If 'mysql -u USER_NAME' works when executed on the server host, but
     'mysql -h HOST_NAME -u USER_NAME' does not work when executed on a
     remote client host, you have not enabled access to the server for
     the given user name from the remote host.

   * If you cannot figure out why you get 'Access denied', remove from
     the 'user' table all rows that have 'Host' values containing
     wildcards (rows that contain ''%'' or ''_'' characters).  A very
     common error is to insert a new row with 'Host'=''%'' and
     'User'=''SOME_USER'', thinking that this enables you to specify
     'localhost' to connect from the same machine.  The reason that this
     does not work is that the default privileges include a row with
     'Host'=''localhost'' and 'User'=''''.  Because that row has a
     'Host' value ''localhost'' that is more specific than ''%'', it is
     used in preference to the new row when connecting from 'localhost'!
     The correct procedure is to insert a second row with
     'Host'=''localhost'' and 'User'=''SOME_USER'', or to delete the row
     with 'Host'=''localhost'' and 'User'=''''.  After deleting the row,
     remember to issue a 'FLUSH PRIVILEGES' statement to reload the
     grant tables.  See also *note connection-access::.

   * If you are able to connect to the MySQL server, but get an 'Access
     denied' message whenever you issue a *note 'SELECT ... INTO
     OUTFILE': select-into. or *note 'LOAD DATA': load-data. statement,
     your row in the 'user' table does not have the 'FILE' privilege
     enabled.

   * If you change the grant tables directly (for example, by using
     *note 'INSERT': insert, *note 'UPDATE': update, or *note 'DELETE':
     delete. statements) and your changes seem to be ignored, remember
     that you must execute a 'FLUSH PRIVILEGES' statement or a *note
     'mysqladmin flush-privileges': mysqladmin. command to cause the
     server to reload the privilege tables.  Otherwise, your changes
     have no effect until the next time the server is restarted.
     Remember that after you change the 'root' password with an *note
     'UPDATE': update. statement, you will not need to specify the new
     password until after you flush the privileges, because the server
     will not know you've changed the password yet!

   * If your privileges seem to have changed in the middle of a session,
     it may be that a MySQL administrator has changed them.  Reloading
     the grant tables affects new client connections, but it also
     affects existing connections as indicated in *note
     privilege-changes::.

   * If you have access problems with a Perl, PHP, Python, or ODBC
     program, try to connect to the server with 'mysql -u USER_NAME
     DB_NAME' or 'mysql -u USER_NAME -pPASSWORD DB_NAME'.  If you are
     able to connect using the *note 'mysql': mysql. client, the problem
     lies with your program, not with the access privileges.  (There is
     no space between '-p' and the password; you can also use the
     '--password=PASSWORD' syntax to specify the password.  If you use
     the '-p' or '--password' option with no password value, MySQL
     prompts you for the password.)

   * For testing purposes, start the *note 'mysqld': mysqld. server with
     the '--skip-grant-tables' option.  Then you can change the MySQL
     grant tables and use the *note 'mysqlaccess': mysqlaccess. script
     to check whether your modifications have the desired effect.  When
     you are satisfied with your changes, execute *note 'mysqladmin
     flush-privileges': mysqladmin. to tell the *note 'mysqld': mysqld.
     server to reload the privileges.  This enables you to begin using
     the new grant table contents without stopping and restarting the
     server.

   * If you get the following error, you may have a problem with the
     'db' or 'host' table:

          Access to database denied

     If the row selected from the 'db' table has an empty value in the
     'Host' column, make sure that there are one or more corresponding
     rows in the 'host' table specifying which hosts the 'db' table row
     applies to.  This problem occurs infrequently because the 'host'
     table is rarely used.

   * If everything else fails, start the *note 'mysqld': mysqld. server
     with a debugging option (for example, '--debug=d,general,query').
     This prints host and user information about attempted connections,
     as well as information about each command issued.  See *note
     dbug-package::.

   * If you have any other problems with the MySQL grant tables and ask
     on the MySQL Community Slack (https://mysqlcommunity.slack.com/),
     always provide a dump of the MySQL grant tables.  You can dump the
     tables with the *note 'mysqldump mysql': mysqldump. command.  To
     file a bug report, see the instructions at *note bug-reports::.  In
     some cases, you may need to restart *note 'mysqld': mysqld. with
     '--skip-grant-tables' to run *note 'mysqldump': mysqldump.


File: manual.info.tmp,  Node: account-activity-auditing,  Prev: problems-connecting,  Up: access-control

6.2.14 SQL-Based Account Activity Auditing
------------------------------------------

Applications can use the following guidelines to perform SQL-based
auditing that ties database activity to MySQL accounts.

MySQL accounts correspond to rows in the 'mysql.user' system table.
When a client connects successfully, the server authenticates the client
to a particular row in this table.  The 'User' and 'Host' column values
in this row uniquely identify the account and correspond to the
''USER_NAME'@'HOST_NAME'' format in which account names are written in
SQL statements.

The account used to authenticate a client determines which privileges
the client has.  Normally, the 'CURRENT_USER()' function can be invoked
to determine which account this is for the client user.  Its value is
constructed from the 'User' and 'Host' columns of the 'user' table row
for the account.

However, there are circumstances under which the 'CURRENT_USER()' value
corresponds not to the client user but to a different account.  This
occurs in contexts when privilege checking is not based the client's
account:

   * Stored routines (procedures and functions) defined with the 'SQL
     SECURITY DEFINER' characteristic

   * Views defined with the 'SQL SECURITY DEFINER' characteristic

   * Triggers and events

In those contexts, privilege checking is done against the 'DEFINER'
account and 'CURRENT_USER()' refers to that account, not to the account
for the client who invoked the stored routine or view or who caused the
trigger to activate.  To determine the invoking user, you can call the
'USER()' function, which returns a value indicating the actual user name
provided by the client and the host from which the client connected.
However, this value does not necessarily correspond directly to an
account in the 'user' table, because the 'USER()' value never contains
wildcards, whereas account values (as returned by 'CURRENT_USER()') may
contain user name and host name wildcards.

For example, a blank user name matches any user, so an account of
'''@'localhost'' enables clients to connect as an anonymous user from
the local host with any user name.  In this case, if a client connects
as 'user1' from the local host, 'USER()' and 'CURRENT_USER()' return
different values:

     mysql> SELECT USER(), CURRENT_USER();
     +-----------------+----------------+
     | USER()          | CURRENT_USER() |
     +-----------------+----------------+
     | user1@localhost | @localhost     |
     +-----------------+----------------+

The host name part of an account can contain wildcards, too.  If the
host name contains a ''%'' or ''_'' pattern character or uses netmask
notation, the account can be used for clients connecting from multiple
hosts and the 'CURRENT_USER()' value will not indicate which one.  For
example, the account ''user2'@'%.example.com'' can be used by 'user2' to
connect from any host in the 'example.com' domain.  If 'user2' connects
from 'remote.example.com', 'USER()' and 'CURRENT_USER()' return
different values:

     mysql> SELECT USER(), CURRENT_USER();
     +--------------------------+---------------------+
     | USER()                   | CURRENT_USER()      |
     +--------------------------+---------------------+
     | user2@remote.example.com | user2@%.example.com |
     +--------------------------+---------------------+

If an application must invoke 'USER()' for user auditing (for example,
if it does auditing from within triggers) but must also be able to
associate the 'USER()' value with an account in the 'user' table, it is
necessary to avoid accounts that contain wildcards in the 'User' or
'Host' column.  Specifically, do not permit 'User' to be empty (which
creates an anonymous-user account), and do not permit pattern characters
or netmask notation in 'Host' values.  All accounts must have a nonempty
'User' value and literal 'Host' value.

With respect to the previous examples, the '''@'localhost'' and
''user2'@'%.example.com'' accounts should be changed not to use
wildcards:

     RENAME USER ''@'localhost' TO 'user1'@'localhost';
     RENAME USER 'user2'@'%.example.com' TO 'user2'@'remote.example.com';

If 'user2' must be able to connect from several hosts in the
'example.com' domain, there should be a separate account for each host.

To extract the user name or host name part from a 'CURRENT_USER()' or
'USER()' value, use the 'SUBSTRING_INDEX()' function:

     mysql> SELECT SUBSTRING_INDEX(CURRENT_USER(),'@',1);
     +---------------------------------------+
     | SUBSTRING_INDEX(CURRENT_USER(),'@',1) |
     +---------------------------------------+
     | user1                                 |
     +---------------------------------------+

     mysql> SELECT SUBSTRING_INDEX(CURRENT_USER(),'@',-1);
     +----------------------------------------+
     | SUBSTRING_INDEX(CURRENT_USER(),'@',-1) |
     +----------------------------------------+
     | localhost                              |
     +----------------------------------------+


File: manual.info.tmp,  Node: encrypted-connections,  Next: security-plugins,  Prev: access-control,  Up: security

6.3 Using Encrypted Connections
===============================

* Menu:

* using-encrypted-connections::  Configuring MySQL to Use Encrypted Connections
* encrypted-connection-protocols-ciphers::  Encrypted Connection TLS Protocols and Ciphers
* creating-ssl-files-using-openssl::  Creating SSL Certificates and Keys Using openssl
* ssl-libraries::                SSL Library-Dependent Capabilities
* windows-and-ssh::              Connecting to MySQL Remotely from Windows with SSH

With an unencrypted connection between the MySQL client and the server,
someone with access to the network could watch all your traffic and
inspect the data being sent or received between client and server.

When you must move information over a network in a secure fashion, an
unencrypted connection is unacceptable.  To make any kind of data
unreadable, use encryption.  Encryption algorithms must include security
elements to resist many kinds of known attacks such as changing the
order of encrypted messages or replaying data twice.

MySQL supports encrypted connections between clients and the server
using the TLS (Transport Layer Security) protocol.  TLS is sometimes
referred to as SSL (Secure Sockets Layer) but MySQL does not actually
use the SSL protocol for encrypted connections because its encryption is
weak (see *note encrypted-connection-protocols-ciphers::).

TLS uses encryption algorithms to ensure that data received over a
public network can be trusted.  It has mechanisms to detect data change,
loss, or replay.  TLS also incorporates algorithms that provide identity
verification using the X.509 standard.

X.509 makes it possible to identify someone on the Internet.  In basic
terms, there should be some entity called a 'Certificate Authority' (or
CA) that assigns electronic certificates to anyone who needs them.
Certificates rely on asymmetric encryption algorithms that have two
encryption keys (a public key and a secret key).  A certificate owner
can present the certificate to another party as proof of identity.  A
certificate consists of its owner's public key.  Any data encrypted
using this public key can be decrypted only using the corresponding
secret key, which is held by the owner of the certificate.

MySQL can be compiled for encrypted-connection support using OpenSSL or
yaSSL. For a comparison of the two packages, see *note ssl-libraries::
For information about the encryption protocols and ciphers each package
supports, see *note encrypted-connection-protocols-ciphers::.

MySQL programs attempt to connect using encryption if the proper options
are given and the server supports encrypted connections.  For
information about options that affect use of encrypted connections, see
*note using-encrypted-connections:: and *note
encrypted-connection-options::.

MySQL performs encryption on a per-connection basis, and use of
encryption for a given user can be optional or mandatory.  This enables
you to choose an encrypted or unencrypted connection according to the
requirements of individual applications.  For information on how to
require users to use encrypted connections, see the discussion of the
'REQUIRE' clause of the *note 'GRANT': grant. statement in *note
grant::.

Encrypted connections are not used by default.  For applications that
require the security provided by encrypted connections, the extra
computation to encrypt the data is worthwhile.

Encrypted connections can be used between master and slave replication
servers.  See *note replication-solutions-encrypted-connections::.

For information about using encrypted connections from the MySQL C API,
see *note c-api-encrypted-connections::.

It is also possible to connect using encryption from within an SSH
connection to the MySQL server host.  For an example, see *note
windows-and-ssh::.


File: manual.info.tmp,  Node: using-encrypted-connections,  Next: encrypted-connection-protocols-ciphers,  Prev: encrypted-connections,  Up: encrypted-connections

6.3.1 Configuring MySQL to Use Encrypted Connections
----------------------------------------------------

To enable encrypted connections, your MySQL distribution must be built
with SSL support, as described in *note
source-ssl-library-configuration::.  In addition, several options are
available to indicate whether to use encrypted connections, and to
specify the appropriate certificate and key files.  This section
provides general guidance about configuring the server and clients for
encrypted connections:

   * *note
     using-encrypted-connections-server-side-startup-configuration::

   * *note using-encrypted-connections-client-side-configuration::

For a complete list of options related to establishment of encrypted
connections, see *note encrypted-connection-options::.  To create any
*note encrypted-connection-options::.  Instructions for creating any
required certificate and key files are available in *note
creating-ssl-files-using-openssl::.

Encrypted connections also can be used in these contexts:

   * Between master and slave replication servers.  See *note
     replication-solutions-encrypted-connections::.

   * By client programs that are based on the MySQL C API. See *note
     c-api-encrypted-connections::.

*Note*:

If the server is compiled against OpenSSL, clients from MySQL 5.5
versions older than 5.5.37 are not able to connect to the server using
encrypted connections if the client library is compiled using yaSSL.
Either use a client and server compiled using the same SSL package, or
upgrade to clients compiled against a client library version from MySQL
5.5.37 or higher.

*Server-Side Startup Configuration for Encrypted Connections*

These options on the server side specify the certificate and key files
the server uses when permitting clients to establish encrypted
connections:

   * '--ssl-ca': The path name of the Certificate Authority (CA)
     certificate file.  ('--ssl-capath' is similar but specifies the
     path name of a directory of CA certificate files.)

   * '--ssl-cert': The path name of the server public key certificate
     file.  This certificate can be sent to the client and authenticated
     against the CA certificate that it has.

   * '--ssl-key': The path name of the server private key file.

For example, to enable the server for encrypted connections, start it
with these lines in the 'my.cnf' file, changing the file names as
necessary:

     [mysqld]
     ssl-ca=ca.pem
     ssl-cert=server-cert.pem
     ssl-key=server-key.pem

Each certificate and key option names a file in PEM format.  If you have
a MySQL source distribution, you can test your setup using the
demonstration certificate and key files in its 'mysql-test/std_data'
directory.

The values of the '--ssl-XXX' options set the values of the
corresponding system variables ('ssl_ca', 'ssl_cert', 'ssl_key', and so
forth).

*Client-Side Configuration for Encrypted Connections*

These options on the client side identify the certificate and key files
clients use when establishing encrypted connections to the server.  They
are similar to the options used on the server side, but '--ssl-cert' and
'--ssl-key' identify the client public and private key:

   * '--ssl-ca': The path name of the Certificate Authority (CA)
     certificate file.  This option, if used, must specify the same
     certificate used by the server.  ('--ssl-capath' is similar but
     specifies the path name of a directory of CA certificate files.)

   * '--ssl-cert': The path name of the client public key certificate
     file.

   * '--ssl-key': The path name of the client private key file.

For additional security relative to that provided by the default
encryption, clients can supply a CA certificate matching the one used by
the server and enable host name identity verification.  In this way, the
server and client place their trust in the same CA certificate and the
client verifies that the host to which it connected is the one intended:

   * To specify the CA certificate, use '--ssl-ca' (or '--ssl-capath').

   * To enable host name identity verification as well, specify
     '--ssl-verify-server-cert'.

   * To require an encrypted connection, specify '--ssl-mode=REQUIRED'.

Depending on the encryption requirements of the MySQL account used by a
client, the client may be required to specify certain options to connect
using encryption to the MySQL server.

Suppose that you want to connect using an account that has no special
encryption requirements or that was created using a *note 'GRANT':
grant. statement that included the 'REQUIRE SSL' clause.  As a
recommended set of encrypted-connection options, start the server with
at least '--ssl-cert' and '--ssl-key', and invoke the client with
'--ssl-ca' (or '--ssl-capath').  A client can conne