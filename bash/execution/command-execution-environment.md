# Command Execution EnvironmentThe shell has an *execution environment*, which consists of:1. fd       *open files*: inherited or as modified by `exec`2. cwd      *cwd* as set by `cd`, `pushd`, `popd`, or inherited3. umask    *file creation mode mask* as set by `umask` or inherited4. traps    current *traps* set by `trap`5. params   shell *parameters* set by assignments, with `set`, or inherited6. funcs    shell *functions*: defined or inherited7. setopts  *setopts* from invocation args, or set by `set`8. shopts   *shopts* enabled by `shopt`9. aliases  shell *aliases* defined with `alias`10. PIDs    various *process IDs*, including those of bg jobs, `$$`, `$PPID`## Simple command executionWhen a simple command, other than a builtin or function, is to be executed, it is invoked in a separate execution environment that consists of (unless otherwise noted, the values are inherited from the shell):1. *fd*: open files, plus any modifications from redirections2. *cwd*: current working directory3. file creation mode *mask*4. shell *variables* and *functions* marked *for export*,    and variables exported for the command, passed in the environment5. *traps* caught by the shell are reset to the values inherited from    the shell's parent, and traps ignored by the shell are ignored> A command invoked in this separate environment cannot affect the shell's execution environment.## Executions in a subshell- command substitution- commands grouped with parentheses- asynchronous commands- builtins when in a pipelineare executed in a subshell envthat is duplicate of current shell envexcept that *traps* caught by the shell are reset to the values the shell inherited at invocation.> Changes made to the subshell env cannot affect the shell's execution env.Subshells spawned to execute command substitutions inherit the value of `-e` option from the parent. When not in POSIX mode, Bash clears the `-e` option in such subshells.If a command is followed by a `&` and job control is not active, the default stdin for the command is `/dev/null`. Otherwise, the invoked command inherits the FD of the calling shell as modified by redirections.