# MySQL documentation


1. General Information
2. Installing and Upgrading MySQL
3. Tutorial
4. MySQL Programs
5. MySQL Server Administration
6. Security
7. Backup and Recovery
8. Optimization
9. Language Structure
10. Character Sets, Collations, Unicode
11. Data Types
12. Functions and Operators
15. SQL Statements
15. The InnoDB Storage Engine
15. Alternative Storage Engines
15. High Availability and Scalability
15. Replication
15. MySQL NDB Cluster 7.2
15. Partitioning
15. Stored Objects
15. INFORMATION_SCHEMA Tables
15. MySQL Performance Schema
15. Connectors and APIs
15. Extending MySQL
15. MySQL Enterprise Edition
15. MySQL Workbench
15. MySQL 5.5 Frequently Asked Questions
15. Errors, Error Codes, and Common Problems
15. Indexes
15. MySQL Glossary


This is the Reference Manual for the MySQL Database System, version 5.5, through release 5.5.62.  Differences between minor versions of MySQL 5.5 are noted in the present text with reference to release numbers (5.5.X).


## 1. General Information
=========================

* manual-info::                  About This Manual
* manual-conventions::           Typographical and Syntax Conventions
* what-is::                      Overview of the MySQL Database Management System
* mysql-nutshell::               What Is New in MySQL 5.5
* information-sources::          MySQL Information Sources
* bug-reports::                  How to Report Bugs or Problems
* compatibility::                MySQL Standards Compliance
* credits::                      Credits

The MySQL software delivers a very fast, multithreaded, multi-user, and robust SQL (Structured Query Language) database server. MySQL Server is intended for mission-critical, heavy-load production systems as well as for embedding into mass-deployed software.

The MySQL software is Dual Licensed. Users can choose to use the MySQL software as an Open Source product under the terms of the GNU General Public License (<http://www.fsf.org/licenses/>) or can purchase a standard commercial license from Oracle.


1.3 Overview of the MySQL Database Management System
====================================================

* What is MySQL?
* The Main Features of MySQL

1.3.1 What is MySQL?
--------------------

MySQL, the most popular Open Source SQL database management system, is developed, distributed, and supported by Oracle Corporation.

* *MySQL is a database management system.*

A database is a structured collection of data.  It may be anything
from a simple shopping list to a picture gallery or the vast
amounts of information in a corporate network.  To add, access, and
process data stored in a computer database, you need a database
management system such as MySQL Server.  Since computers are very
good at handling large amounts of data, database management systems
play a central role in computing, as standalone utilities, or as
parts of other applications.

* *MySQL databases are relational.*

A relational database stores data in separate tables rather than
putting all the data in one big storeroom.  The database structures
are organized into physical files optimized for speed.  The logical
model, with objects such as databases, tables, views, rows, and
columns, offers a flexible programming environment.  You set up
rules governing the relationships between different data fields,
such as one-to-one, one-to-many, unique, required or optional, and
'pointers' between different tables.  The database enforces these
rules, so that with a well-designed database, your application
never sees inconsistent, duplicate, orphan, out-of-date, or missing
data.

The SQL part of 'MySQL' stands for 'Structured Query Language'.
SQL is the most common standardized language used to access
databases.  Depending on your programming environment, you might
enter SQL directly (for example, to generate reports), embed SQL
statements into code written in another language, or use a
language-specific API that hides the SQL syntax.

SQL is defined by the ANSI/ISO SQL Standard.  The SQL standard has
been evolving since 1986 and several versions exist.  In this
manual, 'SQL-92' refers to the standard released in 1992,
'SQL:1999' refers to the standard released in 1999, and 'SQL:2003'
refers to the current version of the standard.  We use the phrase
'the SQL standard' to mean the current version of the SQL Standard
at any time.

* *MySQL software is Open Source.*

Open Source means that it is possible for anyone to use and modify
the software.  Anybody can download the MySQL software from the
Internet and use it without paying anything.  If you wish, you may
study the source code and change it to suit your needs.  The MySQL
software uses the GPL (GNU General Public License),
<http://www.fsf.org/licenses/>, to define what you may and may not
do with the software in different situations.  If you feel
uncomfortable with the GPL or need to embed MySQL code into a
commercial application, you can buy a commercially licensed version
from us.  See the MySQL Licensing Overview for more information
(<http://www.mysql.com/company/legal/licensing/>).

* *The MySQL Database Server is very fast, reliable, scalable, and
easy to use.*

If that is what you are looking for, you should give it a try.
MySQL Server can run comfortably on a desktop or laptop, alongside
your other applications, web servers, and so on, requiring little
or no attention.  If you dedicate an entire machine to MySQL, you
can adjust the settings to take advantage of all the memory, CPU
power, and I/O capacity available.  MySQL can also scale up to
clusters of machines, networked together.

MySQL Server was originally developed to handle large databases
much faster than existing solutions and has been successfully used
in highly demanding production environments for several years.
Although under constant development, MySQL Server today offers a
rich and useful set of functions.  Its connectivity, speed, and
security make MySQL Server highly suited for accessing databases on
the Internet.

* *MySQL Server works in client/server or embedded systems.*

The MySQL Database Software is a client/server system that consists
of a multithreaded SQL server that supports different back ends,
several different client programs and libraries, administrative
tools, and a wide range of application programming interfaces
(APIs).

We also provide MySQL Server as an embedded multithreaded library
that you can link into your application to get a smaller, faster,
easier-to-manage standalone product.

* *A large amount of contributed MySQL software is available.*

MySQL Server has a practical set of features developed in close
cooperation with our users.  It is very likely that your favorite
application or language supports the MySQL Database Server.

The official way to pronounce 'MySQL' is 'My Ess Que Ell' (not 'my
sequel'), but we do not mind if you pronounce it as 'my sequel' or in
some other localized way.



1.3.2 The Main Features of MySQL
--------------------------------

This section describes some of the important characteristics of the
MySQL Database Software.  In most respects, the roadmap applies to all
versions of MySQL. For information about features as they are introduced
into MySQL on a series-specific basis, see the 'In a Nutshell' section
of the appropriate Manual:

   * MySQL 8.0: What Is New in MySQL 8.0
     (https://dev.mysql.com/doc/refman/8.0/en/mysql-nutshell.html)

   * MySQL 5.7: What Is New in MySQL 5.7
     (https://dev.mysql.com/doc/refman/5.7/en/mysql-nutshell.html)

   * MySQL 5.6: What Is New in MySQL 5.6
     (https://dev.mysql.com/doc/refman/5.6/en/mysql-nutshell.html)

   * MySQL 5.5: *note mysql-nutshell::

*Internals and Portability*

   * Written in C and C++.

   * Tested with a broad range of different compilers.

   * Works on many different platforms.  See
     <https://www.mysql.com/support/supportedplatforms/database.html>.

   * For portability, uses 'CMake' in MySQL 5.5 and up.  Previous series
     use GNU Automake, Autoconf, and Libtool.

   * Tested with Purify (a commercial memory leakage detector) as well
     as with Valgrind, a GPL tool
     (<http://developer.kde.org/~sewardj/>).

   * Uses multi-layered server design with independent modules.

   * Designed to be fully multithreaded using kernel threads, to easily
     use multiple CPUs if they are available.

   * Provides transactional and nontransactional storage engines.

   * Uses very fast B-tree disk tables ('MyISAM') with index
     compression.

   * Designed to make it relatively easy to add other storage engines.
     This is useful if you want to provide an SQL interface for an
     in-house database.

   * Uses a very fast thread-based memory allocation system.

   * Executes very fast joins using an optimized nested-loop join.

   * Implements in-memory hash tables, which are used as temporary
     tables.

   * Implements SQL functions using a highly optimized class library
     that should be as fast as possible.  Usually there is no memory
     allocation at all after query initialization.

   * Provides the server as a separate program for use in a
     client/server networked environment, and as a library that can be
     embedded (linked) into standalone applications.  Such applications
     can be used in isolation or in environments where no network is
     available.

*Data Types*

   * Many data types: signed/unsigned integers 1, 2, 3, 4, and 8 bytes
     long, *note 'FLOAT': floating-point-types, *note 'DOUBLE':
     floating-point-types, *note 'CHAR': char, *note 'VARCHAR': char,
     *note 'BINARY': binary-varbinary, *note 'VARBINARY':
     binary-varbinary, *note 'TEXT': blob, *note 'BLOB': blob, *note
     'DATE': datetime, *note 'TIME': time, *note 'DATETIME': datetime,
     *note 'TIMESTAMP': datetime, *note 'YEAR': year, *note 'SET': set,
     *note 'ENUM': enum, and OpenGIS spatial types.  See *note
     data-types::.

   * Fixed-length and variable-length string types.

*Statements and Functions*

   * Full operator and function support in the *note 'SELECT': select.
     list and 'WHERE' clause of queries.  For example:

          mysql> SELECT CONCAT(first_name, ' ', last_name)
              -> FROM citizen
              -> WHERE income/dependents > 10000 AND age > 30;

   * Full support for SQL 'GROUP BY' and 'ORDER BY' clauses.  Support
     for group functions ('COUNT()', 'AVG()', 'STD()', 'SUM()', 'MAX()',
     'MIN()', and 'GROUP_CONCAT()').

   * Support for 'LEFT OUTER JOIN' and 'RIGHT OUTER JOIN' with both
     standard SQL and ODBC syntax.

   * Support for aliases on tables and columns as required by standard
     SQL.

   * Support for *note 'DELETE': delete, *note 'INSERT': insert, *note
     'REPLACE': replace, and *note 'UPDATE': update. to return the
     number of rows that were changed (affected), or to return the
     number of rows matched instead by setting a flag when connecting to
     the server.

   * Support for MySQL-specific *note 'SHOW': show. statements that
     retrieve information about databases, storage engines, tables, and
     indexes.  Support for the 'INFORMATION_SCHEMA' database,
     implemented according to standard SQL.

   * An *note 'EXPLAIN': explain. statement to show how the optimizer
     resolves a query.

   * Independence of function names from table or column names.  For
     example, 'ABS' is a valid column name.  The only restriction is
     that for a function call, no spaces are permitted between the
     function name and the ''('' that follows it.  See *note keywords::.

   * You can refer to tables from different databases in the same
     statement.

*Security*

   * A privilege and password system that is very flexible and secure,
     and that enables host-based verification.

   * Password security by encryption of all password traffic when you
     connect to a server.

*Scalability and Limits*

   * Support for large databases.  We use MySQL Server with databases
     that contain 50 million records.  We also know of users who use
     MySQL Server with 200,000 tables and about 5,000,000,000 rows.

   * Support for up to 64 indexes per table.  Each index may consist of
     1 to 16 columns or parts of columns.  The maximum index width for
     *note 'InnoDB': innodb-storage-engine. tables is either 767 bytes
     or 3072 bytes.  See *note innodb-limits::.  The maximum index width
     for *note 'MyISAM': myisam-storage-engine. tables is 1000 bytes.
     See *note myisam-storage-engine::.  An index may use a prefix of a
     column for *note 'CHAR': char, *note 'VARCHAR': char, *note 'BLOB':
     blob, or *note 'TEXT': blob. column types.

*Connectivity*

   * Clients can connect to MySQL Server using several protocols:

        * Clients can connect using TCP/IP sockets on any platform.

        * On Windows systems, clients can connect using named pipes if
          the server is started with the 'named_pipe' system variable
          enabled.  Windows servers also support shared-memory
          connections if started with the 'shared_memory' system
          variable enabled.  Clients can connect through shared memory
          by using the '--protocol=memory' option.

        * On Unix systems, clients can connect using Unix domain socket
          files.

   * MySQL client programs can be written in many languages.  A client
     library written in C is available for clients written in C or C++,
     or for any language that provides C bindings.

   * APIs for C, C++, Eiffel, Java, Perl, PHP, Python, Ruby, and Tcl are
     available, enabling MySQL clients to be written in many languages.
     See *note connectors-apis::.

   * The Connector/ODBC (MyODBC) interface provides MySQL support for
     client programs that use ODBC (Open Database Connectivity)
     connections.  For example, you can use MS Access to connect to your
     MySQL server.  Clients can be run on Windows or Unix.
     Connector/ODBC source is available.  All ODBC 2.5 functions are
     supported, as are many others.  See MySQL Connector/ODBC Developer
     Guide (https://dev.mysql.com/doc/connector-odbc/en/).

   * The Connector/J interface provides MySQL support for Java client
     programs that use JDBC connections.  Clients can be run on Windows
     or Unix.  Connector/J source is available.  See MySQL Connector/J
     5.1 Developer Guide
     (https://dev.mysql.com/doc/connector-j/5.1/en/).

   * MySQL Connector/NET enables developers to easily create .NET
     applications that require secure, high-performance data
     connectivity with MySQL. It implements the required ADO.NET
     interfaces and integrates into ADO.NET aware tools.  Developers can
     build applications using their choice of .NET languages.  MySQL
     Connector/NET is a fully managed ADO.NET driver written in 100%
     pure C#.  See MySQL Connector/NET Developer Guide
     (https://dev.mysql.com/doc/connector-net/en/).

*Localization*

   * The server can provide error messages to clients in many languages.
     See *note error-message-language::.

   * Full support for several different character sets, including
     'latin1' (cp1252), 'german', 'big5', 'ujis', several Unicode
     character sets, and more.  For example, the Scandinavian characters
     ''aa'', ''a"'' and ''o"'' are permitted in table and column names.

   * All data is saved in the chosen character set.

   * Sorting and comparisons are done according to the default character
     set and collation.  is possible to change this when the MySQL
     server is started (see *note charset-server::).  To see an example
     of very advanced sorting, look at the Czech sorting code.  MySQL
     Server supports many different character sets that can be specified
     at compile time and runtime.

   * The server time zone can be changed dynamically, and individual
     clients can specify their own time zone.  See *note
     time-zone-support::.

*Clients and Tools*

   * MySQL includes several client and utility programs.  These include
     both command-line programs such as *note 'mysqldump': mysqldump.
     and *note 'mysqladmin': mysqladmin, and graphical programs such as
     *note MySQL Workbench: workbench.

   * MySQL Server has built-in support for SQL statements to check,
     optimize, and repair tables.  These statements are available from
     the command line through the *note 'mysqlcheck': mysqlcheck.
     client.  MySQL also includes *note 'myisamchk': myisamchk, a very
     fast command-line utility for performing these operations on
     'MyISAM' tables.  See *note programs::.

   * MySQL programs can be invoked with the '--help' or '-?' option to
     obtain online assistance.


File: manual.info.tmp,  Node: history,  Prev: features,  Up: what-is

1.3.3 History of MySQL
----------------------

We started out with the intention of using the 'mSQL' database system to
connect to our tables using our own fast low-level (ISAM) routines.
However, after some testing, we came to the conclusion that 'mSQL' was
not fast enough or flexible enough for our needs.  This resulted in a
new SQL interface to our database but with almost the same API interface
as 'mSQL'.  This API was designed to enable third-party code that was
written for use with 'mSQL' to be ported easily for use with MySQL.

MySQL is named after co-founder Monty Widenius's daughter, My.

The name of the MySQL Dolphin (our logo) is 'Sakila,' which was chosen
from a huge list of names suggested by users in our 'Name the Dolphin'
contest.  The winning name was submitted by Ambrose Twebaze, an Open
Source software developer from Swaziland, Africa.  According to Ambrose,
the feminine name Sakila has its roots in SiSwati, the local language of
Swaziland.  Sakila is also the name of a town in Arusha, Tanzania, near
Ambrose's country of origin, Uganda.


File: manual.info.tmp,  Node: mysql-nutshell,  Next: information-sources,  Prev: what-is,  Up: introduction

1.4 What Is New in MySQL 5.5
============================

This section summarizes what has been added to, deprecated in, and
removed from MySQL 5.5.

   * *note mysql-nutshell-additions::

   * *note mysql-nutshell-deprecations::

   * *note mysql-nutshell-removals::

*Features Added in MySQL 5.5*

The following features have been added to MySQL 5.5:

   * MySQL Enterprise Thread Pool

     The default thread-handling model in MySQL Server executes
     statements using one thread per client connection.  As more clients
     connect to the server and execute statements, overall performance
     degrades.  As of MySQL 5.5.16, MySQL Enterprise Edition
     distributions include a thread pool plugin that provides an
     alternative thread-handling model designed to reduce overhead and
     improve performance.  The plugin implements a thread pool that
     increases server performance by efficiently managing statement
     execution threads for large numbers of client connections.  For
     more information, see *note thread-pool::.

   * MySQL Enterprise Audit

     MySQL Enterprise Edition now includes MySQL Enterprise Audit,
     implemented using a server plugin named 'audit_log'.  MySQL
     Enterprise Audit uses the open MySQL Audit API to enable standard,
     policy-based monitoring and logging of connection and query
     activity executed on specific MySQL servers.  Designed to meet the
     Oracle audit specification, MySQL Enterprise Audit provides an out
     of box, easy to use auditing and compliance solution for
     applications that are governed by both internal and external
     regulatory guidelines.  When installed, the audit plugin enables
     MySQL Server to produce a log file containing an audit record of
     server activity.  The log contents include when clients connect and
     disconnect, and what actions they perform while connected, such as
     which databases and tables they access.  For more information, see
     *note audit-log::.

   * Pluggable authentication

     MySQL authentication supports two new capabilities, pluggable
     authentication and proxy users.  With pluggable authentication, the
     server can use plugins to authenticate incoming client connections,
     and clients can load an authentication plugin that interacts
     properly with the corresponding server plugin.  This capability
     enables clients to connect to the MySQL server with credentials
     that are appropriate for authentication methods other than the
     built-in MySQL authentication based on native MySQL passwords
     stored in the 'mysql.user' table.  For example, plugins can be
     created to use external authentication methods such as LDAP,
     Kerberos, PAM, or Windows login IDs.  Proxy user capability enables
     a client who connects and authenticates as one user to be treated,
     for purposes of access control while connected, as having the
     privileges of a different user.  In effect, one user impersonates
     another.  Proxy capability depends on pluggable authentication
     because it is based on having an authentication plugin return to
     the server the user name that the connecting user impersonates.
     See *note pluggable-authentication::, and *note proxy-users::.

     As of MySQL 5.5.16, MySQL Enterprise Edition includes two plugins
     that enable MySQL Server to use external authentication methods to
     authenticate MySQL users:

        * PAM (Pluggable Authentication Modules) enables a system to
          access various kinds of authentication methods through a
          standard interface.  A PAM authentication plugin enables MySQL
          Server to use PAM to authenticate MySQL users.

        * Distributions of MySQL for Windows include an authentication
          plugin that enables MySQL Server to use native Windows
          services to authenticate client connections.  Users who have
          logged in to Windows can connect from MySQL client programs to
          the server based on the information in their environment
          without specifying an additional password.

     These authentication plugins enable MySQL Server to accept
     connections from users defined outside the MySQL grant tables.
     They also support the MySQL proxy-user capability.  Each plugin can
     return to MySQL a user name different from the operating system
     user, which means that the plugin can return the MySQL user that
     defines the privileges the externally authenticated user should
     have.

     For more information, see *note pam-pluggable-authentication::, and
     *note windows-pluggable-authentication::.

   * Multi-core scalability

     Scalability on multi-core CPUs is improved.  The trend in hardware
     development now is toward more cores rather than continued
     increases in CPU clock speeds, which renders 'wait until CPUs get
     faster' a nonviable means of improving database performance.
     Instead, it is necessary to make better use of multiple cores to
     maximally exploit the processing cycles they make available.  MySQL
     5.5 takes advantage of features of SMP systems and tries to
     eliminate bottlenecks in MySQL architecture that hinder full use of
     multiple cores.  The focus has been on *note 'InnoDB':
     innodb-storage-engine, especially locking and memory management.
     See *note smp-improvements::.

   * Default storage engine

     The default storage engine for new tables is 'InnoDB' rather than
     'MyISAM'.  See *note innodb-introduction::.

   * InnoDB I/O subsystem

     *note 'InnoDB': innodb-storage-engine. I/O subsystem changes enable
     more effective use of available I/O capacity.  See *note
     innodb-io-changes::.

   * InnoDB storage engine

     MySQL 5.5 includes several 'InnoDB' storage engine enhancements:

        * Indexes can be added or dropped without copying the table.
          See *note innodb-create-index::.

        * Tables can be compressed to significantly reduce storage
          requirements and I/O. See *note innodb-compression::.

        * 'BLOB', 'TEXT', and 'VARCHAR' columns can be stored fully off
          page.  See *note innodb-row-format::.

        * File format management enhancements protect upward and
          downward compatibility.  See *note innodb-file-format::.

        * 'INFORMATION_SCHEMA' tables provide information about 'InnoDB'
          compression and locking.  See *note
          innodb-information-schema::.

        * 'InnoDB' performance and scalability enhancements:

             * The 'InnoDB' mutex and read/write lock implementation was
               improved.  Use of Pthreads mutexes was replaced with
               calls to GCC - atomic builtins.

             * The memory allocator used by 'InnoDB' is configurable.
               See *note innodb-performance-use_sys_malloc::.

             * The extent to which 'InnoDB' performs change buffering is
               configurable.  See *note
               innodb-change-buffer-configuration::.

             * The adaptive hash index (AHI) feature makes 'InnoDB'
               perform more like an in-memory database on systems with
               appropriate combinations of workload and ample memory for
               the buffer pool, without sacrificing transactional
               features or reliability.  See *note
               innodb-adaptive-hash::.

             * Different techniques can be used to limit the number of
               concurrently executing operating system threads to
               minimize context switching.  See *note
               innodb-performance-thread_concurrency::.

             * How 'InnoDB' performs buffer pool read-ahead is
               configurable.  See *note innodb-performance-read_ahead::.

             * The number of background threads that service read and
               write I/O operations on data pages is configurable.  See
               *note innodb-performance-multiple_io_threads::.

             * Asynchronous I/O is supported on Linux systems.  See
               'innodb_use_native_aio'.

             * The I/O capacity available to 'InnoDB' is configurable.
               See *note innodb-configuring-io-capacity::.

             * How 'InnoDB' performs buffer pool flushing is
               configurable.  *note innodb-buffer-pool-flushing::.

             * The maximum delay between checking the availability of a
               mutex or rw-lock is configurable.  See *note
               innodb-performance-spin_lock_polling::.

             * 'InnoDB' can be configured to minimize the amount of data
               brought into the buffer pool and never accessed again.
               See *note innodb-performance-midpoint_insertion::.

             * Crash recovery performance was improved.  See *note
               optimizing-innodb-configuration-variables::.

             * Certain internal 'InnoDB' operations can be profiled
               using the Performance Schema feature.  See *note
               innodb-performance-schema::.

             * The buffer pool can be divided into separate instances to
               reduce contention between threads that read and write to
               cached pages.  See *note innodb-multiple-buffer-pools::.

             * The limit on concurrent read-write transactions was
               increased.  See *note innodb-undo-logs::.

             * 'InnoDB' can be configured to have purge operations
               performed by a separate thread, rather than by the master
               thread.  See *note innodb-purge-configuration::.

             * As of MySQL 5.5.62, the zlib library
               (http://www.zlib.net/) version bundled with MySQL was
               raised from version 1.2.3 to version 1.2.11.  MySQL
               implements compression with the help of the zlib library.

               If you use 'InnoDB' compressed tables, see *note
               upgrading-from-previous-series:: for related upgrade
               implications.

        * 'InnoDB' flexibility, ease of use, and reliability
          enhancements:

             * The 'innodb_file_per_table', 'innodb_stats_on_metadata',
               'innodb_lock_wait_timeout', and
               'innodb_adaptive_hash_index' options can be set at
               runtime using a *note 'SET': set-variable. statement.

             * Operating system disk space can be reclaimed when
               truncating an 'InnoDB' table.  See *note
               innodb-truncate-table-reclaim-space::.

             * 'InnoDB' can be run in strict mode.  See the
               'innodb_strict_mode' parameter documentation.

             * 'InnoDB' provides greater control over the quality of
               optimizer statistics estimates.  See *note
               innodb-statistics-estimation::.

             * 'SHOW ENGINE INNODB MUTEX' output is more compact.  See
               *note show-engine::.

             * 'SHOW ENGINE INNODB STATUS' output displays counter
               information for the 'Innodb_buffer_pool_read_ahead' and
               'Innodb_buffer_pool_read_ahead_evicted' global status
               variables, which you can use to fine-tune the
               'innodb_random_read_ahead' setting and evaluate the
               effectiveness of the read-ahead algorithm.

   * Diagnostic improvements

     There is better access to execution and performance information.
     Diagnostic improvements include Performance Schema (a feature for
     monitoring MySQL Server execution at a low level), DTrace probes,
     expanded *note 'SHOW ENGINE INNODB STATUS': show-engine. output,
     Debug Sync, and a new status variable.  See *note
     monitoring-improvements::.

   * Solaris

     Several modifications improve operation of MySQL Server on Solaris.
     See *note solaris-enhancements::.

   * MySQL NDB Cluster

     MySQL NDB Cluster is released as a separate product, with version
     7.2 of the *note 'NDB': mysql-cluster. storage engine being based
     on MySQL 5.5.  Clustering support is not available in mainline
     MySQL Server 5.5 releases.  For more information about MySQL NDB
     Cluster 7.2, see *note mysql-cluster::.

     NDB Cluster releases are identified by a 3-part NDB version number.
     NDB Cluster 7.5, now available as a General Availability (GA)
     release beginning with version 7.5.4, incorporates version 7.5 of
     the 'NDB' storage engine.  Previous GA releases still available for
     production, NDB Cluster 7.3 and NDB Cluster 7.4, incorporate 'NDB'
     versions 7.3 and 7.4, respectively.  For information about NDB
     Cluster 7.5, see MySQL NDB Cluster 7.5 and NDB Cluster 7.6
     (https://dev.mysql.com/doc/refman/5.7/en/mysql-cluster.html).  For
     more information about NDB Cluster 7.4 and NDB Cluster 7.3, see
     MySQL NDB Cluster 7.3 and NDB Cluster 7.4
     (https://dev.mysql.com/doc/refman/5.6/en/mysql-cluster.html).

   * Semisynchronous replication

     A commit performed on the master side blocks before returning to
     the session that performed the transaction until at least one slave
     acknowledges that it has received and logged the events for the
     transaction.  Semisynchronous replication is implemented through an
     optional plugin component.  See *note replication-semisync::

   * Unicode

     Support for supplementary Unicode characters; that is, characters
     outside the Basic Multilingual Plane (BMP). These new Unicode
     character sets include supplementary characters: 'utf16', 'utf32',
     and 'utf8mb4'.  See *note charset-unicode::.

   * Partitioning

     Enhancements to table partitioning:

        * Two new types of user-defined partitioning are supported:
          'RANGE COLUMNS' partitioning is an extension to 'RANGE'
          partitioning; 'LIST COLUMNS' partitioning is an extension to
          'LIST' partitioning.  Each of these extensions provides two
          enhancements to MySQL partitioning capabilities:

             * It is possible to define partitioning ranges or lists
               based on *note 'DATE': datetime, *note 'DATETIME':
               datetime, or string values (such as *note 'CHAR': char.
               or *note 'VARCHAR': char.).

               You can also define ranges or lists based on multiple
               column values when partitioning tables by 'RANGE COLUMNS'
               or 'LIST COLUMNS', respectively.  Such a range or list
               may refer to up to 16 columns.

             * For tables defined using these partitioning types,
               partition pruning can now optimize queries with 'WHERE'
               conditions that use multiple comparisons between
               (different) column values and constants, such as 'a = 10
               AND b > 5' or 'a < "2005-11-25" AND b = 10 AND c = 50'.

          See *note partitioning-range::, and *note partitioning-list::.

        * It is now possible to delete all rows from one or more
          partitions of a partitioned table using the *note 'ALTER TABLE
          ... TRUNCATE PARTITION': alter-table. statement.  Executing
          the statement deletes rows without affecting the structure of
          the table.  The partitions named in the 'TRUNCATE PARTITION'
          clause do not have to be contiguous.

        * Key caches are now supported for indexes on partitioned *note
          'MyISAM': myisam-storage-engine. tables, using the *note
          'CACHE INDEX': cache-index. and *note 'LOAD INDEX INTO CACHE':
          load-index. statements.  In addition, a key cache can be
          defined for and loaded with indexes from an entire partitioned
          table, or for one or more partitions.  In the latter case, the
          partitions are not required to be contiguous.

        * The new 'TO_SECONDS()' function converts a date or datetime
          expression to a number of seconds since the year 0.  This is a
          general-purpose function, but is useful for partitioning.  You
          may use it in partitioning expressions, and partition pruning
          is supported for tables defined using such expressions.

   * SIGNAL and RESIGNAL

     Support for the SQL standard *note 'SIGNAL': signal. and *note
     'RESIGNAL': resignal. statements.  See *note condition-handling::.

   * Metadata locking

     The server now prevents DDL statements from compromising
     transaction serializibility by using a new class of locks called
     metadata locks.  See *note metadata-locking::.

   * IPv6 support

     MySQL Server can accept TCP/IP connections from clients connecting
     over IPv6.  See *note ipv6-support::.

   * XML

     Enhancements to XML functionality, including a new *note 'LOAD
     XML': load-xml. statement.  See *note load-xml::.

   * Build configuration

     MySQL releases are now built using 'CMake' rather than the GNU
     autotools.  Accordingly, the instructions for installing MySQL from
     source have been updated to discuss how to build MySQL using
     'CMake'.  See *note source-installation::.

     The build process is now similar enough on all platforms, including
     Windows, that there are no longer sections dedicated to notes for
     specific platforms.

*Features Deprecated in MySQL 5.5*

The following features are deprecated in MySQL 5.5 and may be or will be
removed in a future series.  Where alternatives are shown, applications
should be updated to use them.

For applications that use features deprecated in MySQL 5.5 that have
been removed in a higher MySQL series, statements may fail when
replicated from a MySQL 5.5 master to a higher-series slave, or may have
different effects on master and slave.  To avoid such problems,
applications that use features deprecated in 5.5 should be revised to
avoid them and use alternatives when possible.

   * Relying on implicit 'GROUP BY' sorting in MySQL 5.5 is deprecated.
     To achieve a specific sort order of grouped results, it is
     preferable to use an explicit 'ORDER BY' clause.  'GROUP BY'
     sorting is a MySQL extension that may change in a future release;
     for example, to make it possible for the optimizer to order
     groupings in whatever manner it deems most efficient and to avoid
     the sorting overhead.

   * The *note 'YEAR(2)': year. data type.  'YEAR(2)' columns in
     existing tables are treated as before, but 'YEAR(2)' in new or
     altered tables are converted to 'YEAR(4)'.  For more information,
     see *note migrating-from-year2::.

     The 'SHOW AUTHORS' and 'SHOW CONTRIBUTORS' statements.

   * The 'ignore_builtin_innodb' system variable.  It does nothing and
     has no effect.

   * The '--language' server option.  Use the 'lc_messages_dir' and
     'lc_messages' sytem variables instead.

   * The 'ALWAYS' value for the '--base64-output' option for *note
     'mysqlbinlog': mysqlbinlog.

   * The '--config-file' option for *note 'mysqld_multi': mysqld-multi.
     Use '--defaults-extra-file' instead.

   * Use of unambigious option prefixes.  If an unambiguous prefix is
     given, a warning occurs to provide feedback.  Option prefixes are
     no longer supported in MySQL 5.7; only full options are accepted.

   * The 'engine_condition_pushdown' system variable.  Use the
     'engine_condition_pushdown' flag of the 'optimizer_switch' variable
     instead.

   * The 'timed_mutexes' system variable.  It does nothing and has no
     effect.

   * The 'storage_engine' system variable.  Use 'default_storage_engine'
     instead.

   * Use of the data directory as the location for 'my.cnf'.

*Features Removed in MySQL 5.5*

The following constructs are obsolete and have been removed in MySQL
5.5.  Where alternatives are shown, applications should be updated to
use them.

For MySQL 5.1 applications that use features removed in MySQL 5.5,
statements may fail when replicated from a MySQL 5.1 master to a MySQL
5.5 slave, or may have different effects on master and slave.  To avoid
such problems, applications that use features removed in MySQL 5.5
should be revised to avoid them and use alternatives when possible.

   * The 'language' system variable (use 'lc_messages_dir' and
     'lc_messages').

   * The 'log_bin_trust_routine_creators' system variable (use
     'log_bin_trust_function_creators').

   * The 'myisam_max_extra_sort_file_size' system variable.

   * The 'record_buffer' system variable (use 'read_buffer_size').

   * The 'sql_log_update' system variable.

   * The 'Innodb_buffer_pool_read_ahead_rnd' and
     'Innodb_buffer_pool_read_ahead_seq' status variables (use
     'Innodb_buffer_pool_read_ahead' and
     'Innodb_buffer_pool_read_ahead_evicted').

   * The 'table_lock_wait_timeout' system variable.

   * The 'table_type' system variable (use 'default_storage_engine').

   * The 'FRAC_SECOND' modifier for the 'TIMESTAMPADD()' function (use
     'MICROSECOND').

   * The 'TYPE' table option to specify the storage engine for *note
     'CREATE TABLE': create-table. or *note 'ALTER TABLE': alter-table.
     (use 'ENGINE').

   * The 'SHOW TABLE TYPES' SQL statement (use *note 'SHOW ENGINES':
     show-engines.).

   * The 'SHOW INNODB STATUS' and 'SHOW MUTEX STATUS' SQL statements
     (use *note 'SHOW ENGINE INNODB STATUS': show-engine. and *note
     'SHOW ENGINE INNODB MUTEX': show-engine.).

   * The 'SHOW PLUGIN' SQL statement (use *note 'SHOW PLUGINS':
     show-plugins.).

   * The 'LOAD TABLE ... FROM MASTER' and 'LOAD DATA FROM MASTER' SQL
     statements (use *note 'mysqldump': mysqldump. or *note
     'mysqlhotcopy': mysqlhotcopy. to dump tables and *note 'mysql':
     mysql. to reload dump files).

   * The 'BACKUP TABLE' and 'RESTORE TABLE' SQL statements (use *note
     'mysqldump': mysqldump. or *note 'mysqlhotcopy': mysqlhotcopy. to
     dump tables and *note 'mysql': mysql. to reload dump files).

   * *note 'TIMESTAMP(N)': datetime. data type: The ability to specify a
     display width of N (use without N).

   * The '--default-character-set' and '--default-collation' server
     options (use the 'character_set_server' and 'collation_server'
     system variables).

   * The '--default-table-type' server option (use the
     'default_storage_engine' system variable).

   * The '--delay-key-write-for-all-tables' server option (set the
     'delay_key_write' system variable to 'ALL').

   * The '--enable-locking' and '--skip-locking' server options (use
     '--external-locking' and '--skip-external-locking').

   * The '--log-long-format' server option.

   * The '--log-update' server option.

   * The '--master-XXX' server options to set replication parameters
     (use the *note 'CHANGE MASTER TO': change-master-to. statement
     instead): '--master-host', '--master-user', '--master-password',
     '--master-port', '--master-connect-retry', '--master-ssl',
     '--master-ssl-ca', '--master-ssl-capath', '--master-ssl-cert',
     '--master-ssl-cipher', '--master-ssl-key'.

   * The '--safe-show-database' server option.

   * The '--skip-symlink' and '--use-symbolic-links' server options (use
     '--skip-symbolic-links' and '--symbolic-links').

   * The '--sql-bin-update-same' server option.

   * The '--warnings' server option (use '--log-warnings').

   * The '--no-named-commands' option for *note 'mysql': mysql. (use
     '--skip-named-commands').

   * The '--no-pager' option for *note 'mysql': mysql. (use
     '--skip-pager').

   * The '--no-tee' option for *note 'mysql': mysql. (use '--skip-tee').

   * The '--position' option for *note 'mysqlbinlog': mysqlbinlog. (use
     '--start-position').

   * The '--all' option for *note 'mysqldump': mysqldump. (use
     '--create-options').

   * The '--first-slave' option for *note 'mysqldump': mysqldump. (use
     '--lock-all-tables').

   * The '--config-file' option for *note 'mysqld_multi': mysqld-multi.
     (use '--defaults-extra-file').

   * The '--set-variable=VAR_NAME=VALUE' and '-O VAR_NAME=VALUE'
     general-purpose options for setting program variables (use
     '--VAR_NAME=VALUE').

   * The '--with-pstack' option for 'configure' and the
     '--enable-pstack' option for *note 'mysqld': mysqld.

*Scalability Improvements*

MySQL 5.5 modifications improve performance on SMP systems to increase
scalability on multi-core systems.  The changes affect *note 'InnoDB':
innodb-storage-engine. locking and memory management.

MySQL 5.5 incorporates changes in *note 'InnoDB': innodb-storage-engine.
that improve the performance of RW-locks by using atomic CPU
instructions (on platforms where they are available), rather than less
scalable mutexes.  It is also possible for *note 'InnoDB':
innodb-storage-engine. memory allocation to be disabled and replaced by
the normal 'malloc' library, or by a different library that implements
'malloc' such as 'tcmalloc' on Linux or 'mtalloc' on Solaris.

The reimplementation of RW-locks requires atomic instructions.  A status
variable, 'Innodb_have_atomic_builtins', shows whether the server was
built with atomic instructions.

*InnoDB I/O Subsystem Changes*

MySQL 5.5 changes to the *note 'InnoDB': innodb-storage-engine. I/O
subsystem enable more effective use of available I/O capacity.  The
changes also provide more control over configuration of the I/O
subsystem.

*Background I/O Threads*

*note 'InnoDB': innodb-storage-engine. uses background threads to
perform I/O for several kinds of activities, two of which are
prefetching disk blocks and flushing dirty pages.  Previously, *note
'InnoDB': innodb-storage-engine. used only one thread each to perform
these activities, but that can underutilize server capacity.  MySQL 5.5
enables use of multiple background read and write threads, making it
possible to read and write pages faster.

The patch makes the number of background I/O threads configurable using
system variables: 'innodb_read_io_threads' controls the number of
threads to use for read prefetch requests.  'innodb_write_io_threads'
controls the number of threads to use for writing dirty pages from the
buffer cache to disk.  The default for both variables is 4.

The ability to increase the number of I/O threads can benefit systems
that use multiple disks for *note 'InnoDB': innodb-storage-engine.
However, the type of I/O being done should be considered.  On systems
that use buffered writes rather than direct writes, increasing the write
thread count higher than 1 might yield little benefit because writes
will be quick already.

*Adjustable I/O Rate*

Previously, the number of input/output operations per second (IOPS) that
*note 'InnoDB': innodb-storage-engine. will perform was a compile-time
parameter.  The rate was chosen to prevent background I/O from
exhausting server capacity and the compiled-in value of 100 reflected an
assumption that the server can perform 100 IOPS. However, many modern
systems can exceed this, so the value is low and unnecessarily restricts
I/O utilization.

MySQL 5.5 exposes this I/O rate parameter as a system variable,
'innodb_io_capacity'.  This variable can be set at server startup, which
enables higher values to be selected for systems capable of higher I/O
rates.  Having a higher I/O rate can help the server handle a higher
rate of row changes because it may be able to increase dirty-page
flushing, deleted-row removal, and application of changes in the change
buffer.  The default value of 'innodb_io_capacity' is 200.  In general,
you can increase the value as a function of the number of drives used
for *note 'InnoDB': innodb-storage-engine. I/O.

The ability to raise the I/O limit should be especially beneficial on
platforms that support many IOPS. For example, systems that use multiple
disks or solid-state disks for *note 'InnoDB': innodb-storage-engine.
are likely to benefit from the ability to control this parameter.

*Diagnostic and Monitoring Capabilities*

MySQL 5.5 provides improved access to execution and performance
information.  Diagnostic improvements include Performance Schema, Dtrace
probes, expanded *note 'SHOW ENGINE INNODB STATUS': show-engine. output,
Debug Sync, and a new status variable.

*Performance Schema*

Performance Schema is a feature for monitoring MySQL Server execution at
a low level.  See *note performance-schema::.

*DTrace Support*

The DTrace probes work on Solaris, OS X, and FreeBSD. For information on
using DTrace in MySQL, see *note dba-dtrace-server::.

*Enhanced *note 'SHOW ENGINE INNODB STATUS': show-engine. Output*

The output from *note 'SHOW ENGINE INNODB STATUS': show-engine. includes
more information due to changes made for 'InnoDB Plugin'.  A description
of revisions to statement output follows.

A new 'BACKGROUND THREAD' section has 'srv_master_thread' lines that
show work done by the main background thread.

     ----------
     BACKGROUND THREAD
     ----------
     srv_master_thread loops: 53 1_second, 44 sleeps, 5 10_second, 7 background,
       7 flush
     srv_master_thread log flush and writes: 48

The 'SEMAPHORES' section includes a line to show the number of spinlock
rounds per OS wait for a mutex.

     ----------
     SEMAPHORES
     ----------
     ...
     Spin rounds per wait: 0.00 mutex, 20.00 RW-shared, 0.00 RW-excl

*Debug Sync*

The Debug Sync facility provides synchronization points for debugging,
see MySQL Internals: Test Synchronization
(https://dev.mysql.com/doc/internals/en/test-synchronization.html).

*New Status Variable*

The 'Innodb_have_atomic_builtins' status variable provides information
about availability of atomic instructions; see *note smp-improvements::.

*Enhanced Solaris Support*

MySQL 5.5 incorporates several modifications for improved operation of
MySQL Server on Solaris:

   * DTrace support for execution monitoring.  See *note
     monitoring-improvements::.

   * Atomic instructions, which are needed for the improvements to
     RW-locking described in *note smp-improvements::.  Atomic
     instructions now are supported for Sun Studio on SPARC and x86
     platforms.  This extends their previous availability (supported for
     'gcc' 4.1 and up on all platforms).

   * The SMP improvements described in *note smp-improvements::, were
     originally intended for x86 platforms.  In MySQL 5.5, these also
     work on SPARC platforms.  Also, Solaris optimizations have been
     implemented.

   * Large page support is enhanced for recent SPARC platforms.
     Standard use of large pages in MySQL attempts to use the largest
     size supported, up to 4MB. Under Solaris, a 'super large pages'
     feature enables uses of pages up to 256MB. This feature can be
     enabled or disabled by using the '--super-large-pages' or
     '--skip-super-large-pages' option.

   * Inline handling for *note 'InnoDB': innodb-storage-engine. and
     processor instruction prefetching support, previously not enabled
     for builds created using Sun Studio, now are supported for that
     build environment.


File: manual.info.tmp,  Node: information-sources,  Next: bug-reports,  Prev: mysql-nutshell,  Up: introduction

1.5 MySQL Information Sources
=============================

* Menu:

* mysql-web-sites::              MySQL Websites
* forums::                       MySQL Community Support at the MySQL Forums
* mysql-enterprise-information::  MySQL Enterprise

This section lists sources of additional information that you may find
helpful, such as MySQL websites, mailing lists, user forums, and
Internet Relay Chat.


File: manual.info.tmp,  Node: mysql-web-sites,  Next: forums,  Prev: information-sources,  Up: information-sources

1.5.1 MySQL Websites
--------------------

The primary website for MySQL documentation is
<https://dev.mysql.com/doc/>.  Online and downloadable documentation
formats are available for the MySQL Reference Manual, MySQL Connectors,
and more.

The MySQL developers provide information about new and upcoming features
as the MySQL Server Blog (http://mysqlserverteam.com/).


File: manual.info.tmp,  Node: forums,  Next: mysql-enterprise-information,  Prev: mysql-web-sites,  Up: information-sources

1.5.2 MySQL Community Support at the MySQL Forums
-------------------------------------------------

The forums at <http://forums.mysql.com> are an important community
resource.  Many forums are available, grouped into these general
categories:

   * Migration

   * MySQL Usage

   * MySQL Connectors

   * Programming Languages

   * Tools

   * 3rd-Party Applications

   * Storage Engines

   * MySQL Technology

   * SQL Standards

   * Business


File: manual.info.tmp,  Node: mysql-enterprise-information,  Prev: forums,  Up: information-sources

1.5.3 MySQL Enterprise
----------------------

Oracle offers technical support in the form of MySQL Enterprise.  For
organizations that rely on the MySQL DBMS for business-critical
production applications, MySQL Enterprise is a commercial subscription
offering which includes:

   * MySQL Enterprise Server

   * MySQL Enterprise Monitor

   * Monthly Rapid Updates and Quarterly Service Packs

   * MySQL Knowledge Base

   * 24x7 Technical and Consultative Support

MySQL Enterprise is available in multiple tiers, giving you the
flexibility to choose the level of service that best matches your needs.
For more information, see MySQL Enterprise
(https://www.mysql.com/products/enterprise/).


File: manual.info.tmp,  Node: bug-reports,  Next: compatibility,  Prev: information-sources,  Up: introduction

1.6 How to Report Bugs or Problems
==================================

Before posting a bug report about a problem, please try to verify that
it is a bug and that it has not been reported already:

   * Start by searching the MySQL online manual at
     <https://dev.mysql.com/doc/>.  We try to keep the manual up to date
     by updating it frequently with solutions to newly found problems.
     In addition, the release notes accompanying the manual can be
     particularly useful since it is quite possible that a newer version
     contains a solution to your problem.  The release notes are
     available at the location just given for the manual.

   * If you get a parse error for an SQL statement, please check your
     syntax closely.  If you cannot find something wrong with it, it is
     extremely likely that your current version of MySQL Server doesn't
     support the syntax you are using.  If you are using the current
     version and the manual doesn't cover the syntax that you are using,
     MySQL Server doesn't support your statement.

     If the manual covers the syntax you are using, but you have an
     older version of MySQL Server, you should check the MySQL change
     history to see when the syntax was implemented.  In this case, you
     have the option of upgrading to a newer version of MySQL Server.

   * For solutions to some common problems, see *note problems::.

   * Search the bugs database at <http://bugs.mysql.com/> to see whether
     the bug has been reported and fixed.

   * You can also use <http://www.mysql.com/search/> to search all the
     Web pages (including the manual) that are located at the MySQL
     website.

If you cannot find an answer in the manual, the bugs database, or the
mailing list archives, check with your local MySQL expert.  If you still
cannot find an answer to your question, please use the following
guidelines for reporting the bug.

The normal way to report bugs is to visit <http://bugs.mysql.com/>,
which is the address for our bugs database.  This database is public and
can be browsed and searched by anyone.  If you log in to the system, you
can enter new reports.

Bugs posted in the bugs database at <http://bugs.mysql.com/> that are
corrected for a given release are noted in the release notes.

If you find a security bug in MySQL Server, please let us know
immediately by sending an email message to <secalert_us@oracle.com>.
Exception: Support customers should report all problems, including
security bugs, to Oracle Support at <http://support.oracle.com/>.

To discuss problems with other users, you can use the MySQL Community
Slack (https://mysqlcommunity.slack.com/).

Writing a good bug report takes patience, but doing it right the first
time saves time both for us and for yourself.  A good bug report,
containing a full test case for the bug, makes it very likely that we
will fix the bug in the next release.  This section helps you write your
report correctly so that you do not waste your time doing things that
may not help us much or at all.  Please read this section carefully and
make sure that all the information described here is included in your
report.

Preferably, you should test the problem using the latest production or
development version of MySQL Server before posting.  Anyone should be
able to repeat the bug by just using 'mysql test < script_file' on your
test case or by running the shell or Perl script that you include in the
bug report.  Any bug that we are able to repeat has a high chance of
being fixed in the next MySQL release.

It is most helpful when a good description of the problem is included in
the bug report.  That is, give a good example of everything you did that
led to the problem and describe, in exact detail, the problem itself.
The best reports are those that include a full example showing how to
reproduce the bug or problem.  See *note porting::.

Remember that it is possible for us to respond to a report containing
too much information, but not to one containing too little.  People
often omit facts because they think they know the cause of a problem and
assume that some details do not matter.  A good principle to follow is
that if you are in doubt about stating something, state it.  It is
faster and less troublesome to write a couple more lines in your report
than to wait longer for the answer if we must ask you to provide
information that was missing from the initial report.

The most common errors made in bug reports are (a) not including the
version number of the MySQL distribution that you use, and (b) not fully
describing the platform on which the MySQL server is installed
(including the platform type and version number).  These are highly
relevant pieces of information, and in 99 cases out of 100, the bug
report is useless without them.  Very often we get questions like, 'Why
doesn't this work for me?' Then we find that the feature requested
wasn't implemented in that MySQL version, or that a bug described in a
report has been fixed in newer MySQL versions.  Errors often are
platform-dependent.  In such cases, it is next to impossible for us to
fix anything without knowing the operating system and the version number
of the platform.

If you compiled MySQL from source, remember also to provide information
about your compiler if it is related to the problem.  Often people find
bugs in compilers and think the problem is MySQL-related.  Most
compilers are under development all the time and become better version
by version.  To determine whether your problem depends on your compiler,
we need to know what compiler you used.  Note that every compiling
problem should be regarded as a bug and reported accordingly.

If a program produces an error message, it is very important to include
the message in your report.  If we try to search for something from the
archives, it is better that the error message reported exactly matches
the one that the program produces.  (Even the lettercase should be
observed.)  It is best to copy and paste the entire error message into
your report.  You should never try to reproduce the message from memory.

If you have a problem with Connector/ODBC (MyODBC), please try to
generate a trace file and send it with your report.  See How to Report
Connector/ODBC Problems or Bugs
(https://dev.mysql.com/doc/connector-odbc/en/connector-odbc-support-bug-report.html).

If your report includes long query output lines from test cases that you
run with the *note 'mysql': mysql. command-line tool, you can make the
output more readable by using the '--vertical' option or the '\G'
statement terminator.  The *note 'EXPLAIN SELECT': explain. example
later in this section demonstrates the use of '\G'.

Please include the following information in your report:

   * The version number of the MySQL distribution you are using (for
     example, MySQL 5.7.10).  You can find out which version you are
     running by executing *note 'mysqladmin version': mysqladmin.  The
     *note 'mysqladmin': mysqladmin. program can be found in the 'bin'
     directory under your MySQL installation directory.

   * The manufacturer and model of the machine on which you experience
     the problem.

   * The operating system name and version.  If you work with Windows,
     you can usually get the name and version number by double-clicking
     your My Computer icon and pulling down the 'Help/About Windows'
     menu.  For most Unix-like operating systems, you can get this
     information by executing the command 'uname -a'.

   * Sometimes the amount of memory (real and virtual) is relevant.  If
     in doubt, include these values.

   * The contents of the 'docs/INFO_BIN' file from your MySQL
     installation.  This file contains information about how MySQL was
     configured and compiled.

   * If you are using a source distribution of the MySQL software,
     include the name and version number of the compiler that you used.
     If you have a binary distribution, include the distribution name.

   * If the problem occurs during compilation, include the exact error
     messages and also a few lines of context around the offending code
     in the file where the error occurs.

   * If *note 'mysqld': mysqld. died, you should also report the
     statement that crashed *note 'mysqld': mysqld.  You can usually get
     this information by running *note 'mysqld': mysqld. with query
     logging enabled, and then looking in the log after *note 'mysqld':
     mysqld. crashes.  See *note porting::.

   * If a database table is related to the problem, include the output
     from the 'SHOW CREATE TABLE DB_NAME.TBL_NAME' statement in the bug
     report.  This is a very easy way to get the definition of any table
     in a database.  The information helps us create a situation
     matching the one that you have experienced.

   * The SQL mode in effect when the problem occurred can be
     significant, so please report the value of the 'sql_mode' system
     variable.  For stored procedure, stored function, and trigger
     objects, the relevant 'sql_mode' value is the one in effect when
     the object was created.  For a stored procedure or function, the
     *note 'SHOW CREATE PROCEDURE': show-create-procedure. or *note
     'SHOW CREATE FUNCTION': show-create-function. statement shows the
     relevant SQL mode, or you can query 'INFORMATION_SCHEMA' for the
     information:

          SELECT ROUTINE_SCHEMA, ROUTINE_NAME, SQL_MODE
          FROM INFORMATION_SCHEMA.ROUTINES;

     For triggers, you can use this statement:

          SELECT EVENT_OBJECT_SCHEMA, EVENT_OBJECT_TABLE, TRIGGER_NAME, SQL_MODE
          FROM INFORMATION_SCHEMA.TRIGGERS;

   * For performance-related bugs or problems with *note 'SELECT':
     select. statements, you should always include the output of
     'EXPLAIN SELECT ...', and at least the number of rows that the
     *note 'SELECT': select. statement produces.  You should also
     include the output from 'SHOW CREATE TABLE TBL_NAME' for each table
     that is involved.  The more information you provide about your
     situation, the more likely it is that someone can help you.

     The following is an example of a very good bug report.  The
     statements are run using the *note 'mysql': mysql. command-line
     tool.  Note the use of the '\G' statement terminator for statements
     that would otherwise provide very long output lines that are
     difficult to read.

          mysql> SHOW VARIABLES;
          mysql> SHOW COLUMNS FROM ...\G
                 <OUTPUT FROM SHOW COLUMNS>
          mysql> EXPLAIN SELECT ...\G
                 <OUTPUT FROM EXPLAIN>
          mysql> FLUSH STATUS;
          mysql> SELECT ...;
                 <A SHORT VERSION OF THE OUTPUT FROM SELECT,
                 INCLUDING THE TIME TAKEN TO RUN THE QUERY>
          mysql> SHOW STATUS;
                 <OUTPUT FROM SHOW STATUS>

   * If a bug or problem occurs while running *note 'mysqld': mysqld,
     try to provide an input script that reproduces the anomaly.  This
     script should include any necessary source files.  The more closely
     the script can reproduce your situation, the better.  If you can
     make a reproducible test case, you should upload it to be attached
     to the bug report.

     If you cannot provide a script, you should at least include the
     output from *note 'mysqladmin variables extended-status
     processlist': mysqladmin. in your report to provide some
     information on how your system is performing.

   * If you cannot produce a test case with only a few rows, or if the
     test table is too big to be included in the bug report (more than
     10 rows), you should dump your tables using *note 'mysqldump':
     mysqldump. and create a 'README' file that describes your problem.
     Create a compressed archive of your files using 'tar' and 'gzip' or
     'zip'.  After you initiate a bug report for our bugs database at
     <http://bugs.mysql.com/>, click the Files tab in the bug report for
     instructions on uploading the archive to the bugs database.

   * If you believe that the MySQL server produces a strange result from
     a statement, include not only the result, but also your opinion of
     what the result should be, and an explanation describing the basis
     for your opinion.

   * When you provide an example of the problem, it is better to use the
     table names, variable names, and so forth that exist in your actual
     situation than to come up with new names.  The problem could be
     related to the name of a table or variable.  These cases are rare,
     perhaps, but it is better to be safe than sorry.  After all, it
     should be easier for you to provide an example that uses your
     actual situation, and it is by all means better for us.  If you
     have data that you do not want to be visible to others in the bug
     report, you can upload it using the Files tab as previously
     described.  If the information is really top secret and you do not
     want to show it even to us, go ahead and provide an example using
     other names, but please regard this as the last choice.

   * Include all the options given to the relevant programs, if
     possible.  For example, indicate the options that you use when you
     start the *note 'mysqld': mysqld. server, as well as the options
     that you use to run any MySQL client programs.  The options to
     programs such as *note 'mysqld': mysqld. and *note 'mysql': mysql,
     and to the 'configure' script, are often key to resolving problems
     and are very relevant.  It is never a bad idea to include them.  If
     your problem involves a program written in a language such as Perl
     or PHP, please include the language processor's version number, as
     well as the version for any modules that the program uses.  For
     example, if you have a Perl script that uses the 'DBI' and
     'DBD::mysql' modules, include the version numbers for Perl, 'DBI',
     and 'DBD::mysql'.

   * If your question is related to the privilege system, please include
     the output of *note 'mysqladmin reload': mysqladmin, and all the
     error messages you get when trying to connect.  When you test your
     privileges, you should execute *note 'mysqladmin reload version':
     mysqladmin. and try to connect with the program that gives you
     trouble.

   * If you have a patch for a bug, do include it.  But do not assume
     that the patch is all we need, or that we can use it, if you do not
     provide some necessary information such as test cases showing the
     bug that your patch fixes.  We might find problems with your patch
     or we might not understand it at all.  If so, we cannot use it.

     If we cannot verify the exact purpose of the patch, we will not use
     it.  Test cases help us here.  Show that the patch handles all the
     situations that may occur.  If we find a borderline case (even a
     rare one) where the patch will not work, it may be useless.

   * Guesses about what the bug is, why it occurs, or what it depends on
     are usually wrong.  Even the MySQL team cannot guess such things
     without first using a debugger to determine the real cause of a
     bug.

   * Indicate in your bug report that you have checked the reference
     manual and mail archive so that others know you have tried to solve
     the problem yourself.

   * If your data appears corrupt or you get errors when you access a
     particular table, first check your tables with *note 'CHECK TABLE':
     check-table.  If that statement reports any errors:

        * The 'InnoDB' crash recovery mechanism handles cleanup when the
          server is restarted after being killed, so in typical
          operation there is no need to 'repair' tables.  If you
          encounter an error with 'InnoDB' tables, restart the server
          and see whether the problem persists, or whether the error
          affected only cached data in memory.  If data is corrupted on
          disk, consider restarting with the 'innodb_force_recovery'
          option enabled so that you can dump the affected tables.

        * For non-transactional tables, try to repair them with *note
          'REPAIR TABLE': repair-table. or with *note 'myisamchk':
          myisamchk.  See *note server-administration::.

     If you are running Windows, please verify the value of
     'lower_case_table_names' using the 'SHOW VARIABLES LIKE
     'lower_case_table_names'' statement.  This variable affects how the
     server handles lettercase of database and table names.  Its effect
     for a given value should be as described in *note
     identifier-case-sensitivity::.

   * If you often get corrupted tables, you should try to find out when
     and why this happens.  In this case, the error log in the MySQL
     data directory may contain some information about what happened.
     (This is the file with the '.err' suffix in the name.)  See *note
     error-log::.  Please include any relevant information from this
     file in your bug report.  Normally *note 'mysqld': mysqld. should
     _never_ crash a table if nothing killed it in the middle of an
     update.  If you can find the cause of *note 'mysqld': mysqld.
     dying, it is much easier for us to provide you with a fix for the
     problem.  See *note what-is-crashing::.

   * If possible, download and install the most recent version of MySQL
     Server and check whether it solves your problem.  All versions of
     the MySQL software are thoroughly tested and should work without
     problems.  We believe in making everything as backward-compatible
     as possible, and you should be able to switch MySQL versions
     without difficulty.  See *note which-version::.


File: manual.info.tmp,  Node: compatibility,  Next: credits,  Prev: bug-reports,  Up: introduction

1.7 MySQL Standards Compliance
==============================

* Menu:

* extensions-to-ansi::           MySQL Extensions to Standard SQL
* differences-from-ansi::        MySQL Differences from Standard SQL
* constraints::                  How MySQL Deals with Constraints

This section describes how MySQL relates to the ANSI/ISO SQL standards.
MySQL Server has many extensions to the SQL standard, and here you can
find out what they are and how to use them.  You can also find
information about functionality missing from MySQL Server, and how to
work around some of the differences.

The SQL standard has been evolving since 1986 and several versions
exist.  In this manual, 'SQL-92' refers to the standard released in
1992.  'SQL:1999', 'SQL:2003', 'SQL:2008', and 'SQL:2011' refer to the
versions of the standard released in the corresponding years, with the
last being the most recent version.  We use the phrase 'the SQL
standard' or 'standard SQL' to mean the current version of the SQL
Standard at any time.

One of our main goals with the product is to continue to work toward
compliance with the SQL standard, but without sacrificing speed or
reliability.  We are not afraid to add extensions to SQL or support for
non-SQL features if this greatly increases the usability of MySQL Server
for a large segment of our user base.  The *note 'HANDLER': handler.
interface is an example of this strategy.  See *note handler::.

We continue to support transactional and nontransactional databases to
satisfy both mission-critical 24/7 usage and heavy Web or logging usage.

MySQL Server was originally designed to work with medium-sized databases
(10-100 million rows, or about 100MB per table) on small computer
systems.  Today MySQL Server handles terabyte-sized databases, but the
code can also be compiled in a reduced version suitable for hand-held
and embedded devices.  The compact design of the MySQL server makes
development in both directions possible without any conflicts in the
source tree.

We are not targeting real-time support, although MySQL replication
capabilities offer significant functionality.

MySQL supports ODBC levels 0 to 3.51.

MySQL supports high-availability database clustering using the *note
'NDBCLUSTER': mysql-cluster. storage engine.  See *note mysql-cluster::.

We are implementing XML functionality beginning in MySQL 5.1, which
supports most of the W3C XPath standard.  See *note xml-functions::.

*Selecting SQL Modes*

The MySQL server can operate in different SQL modes, and can apply these
modes differently for different clients, depending on the value of the
'sql_mode' system variable.  DBAs can set the global SQL mode to match
site server operating requirements, and each application can set its
session SQL mode to its own requirements.

Modes affect the SQL syntax MySQL supports and the data validation
checks it performs.  This makes it easier to use MySQL in different
environments and to use MySQL together with other database servers.

For more information on setting the SQL mode, see *note sql-mode::.

*Running MySQL in ANSI Mode*

To run MySQL Server in ANSI mode, start *note 'mysqld': mysqld. with the
'--ansi' option.  Running the server in ANSI mode is the same as
starting it with the following options:

     --transaction-isolation=SERIALIZABLE --sql-mode=ANSI

To achieve the same effect at runtime, execute these two statements:

     SET GLOBAL TRANSACTION ISOLATION LEVEL SERIALIZABLE;
     SET GLOBAL sql_mode = 'ANSI';

You can see that setting the 'sql_mode' system variable to ''ANSI''
enables all SQL mode options that are relevant for ANSI mode as follows:

     mysql> SET GLOBAL sql_mode='ANSI';
     mysql> SELECT @@GLOBAL.sql_mode;
             -> 'REAL_AS_FLOAT,PIPES_AS_CONCAT,ANSI_QUOTES,IGNORE_SPACE,ANSI'

Running the server in ANSI mode with '--ansi' is not quite the same as
setting the SQL mode to ''ANSI'' because the '--ansi' option also sets
the transaction isolation level.

See *note server-options::.


File: manual.info.tmp,  Node: extensions-to-ansi,  Next: differences-from-ansi,  Prev: compatibility,  Up: compatibility

1.7.1 MySQL Extensions to Standard SQL
--------------------------------------

MySQL Server supports some extensions that you probably will not find in
other SQL DBMSs.  Be warned that if you use them, your code will not be
portable to other SQL servers.  In some cases, you can write code that
includes MySQL extensions, but is still portable, by using comments of
the following form:

     /*! MYSQL-SPECIFIC CODE */

In this case, MySQL Server parses and executes the code within the
comment as it would any other SQL statement, but other SQL servers will
ignore the extensions.  For example, MySQL Server recognizes the
'STRAIGHT_JOIN' keyword in the following statement, but other servers
will not:

     SELECT /*! STRAIGHT_JOIN */ col1 FROM table1,table2 WHERE ...

If you add a version number after the '!' character, the syntax within
the comment is executed only if the MySQL version is greater than or
equal to the specified version number.  The 'KEY_BLOCK_SIZE' clause in
the following comment is executed only by servers from MySQL 5.1.10 or
higher:

     CREATE TABLE t1(a INT, KEY (a)) /*!50110 KEY_BLOCK_SIZE=1024 */;

The following descriptions list MySQL extensions, organized by category.

   * Organization of data on disk

     MySQL Server maps each database to a directory under the MySQL data
     directory, and maps tables within a database to file names in the
     database directory.  This has a few implications:

        * 
          Database and table names are case-sensitive in MySQL Server on
          operating systems that have case-sensitive file names (such as
          most Unix systems).  See *note identifier-case-sensitivity::.

        * You can use standard system commands to back up, rename, move,
          delete, and copy tables that are managed by the 'MyISAM'
          storage engine.  For example, it is possible to rename a
          'MyISAM' table by renaming the '.MYD', '.MYI', and '.frm'
          files to which the table corresponds.  (Nevertheless, it is
          preferable to use *note 'RENAME TABLE': rename-table. or
          'ALTER TABLE ... RENAME' and let the server rename the files.)

   * General language syntax

        * By default, strings can be enclosed by '"' as well as '''.  If
          the 'ANSI_QUOTES' SQL mode is enabled, strings can be enclosed
          only by ''' and the server interprets strings enclosed by '"'
          as identifiers.

        * '\' is the escape character in strings.

        * In SQL statements, you can access tables from different
          databases with the DB_NAME.TBL_NAME syntax.  Some SQL servers
          provide the same functionality but call this 'User space'.
          MySQL Server doesn't support tablespaces such as used in
          statements like this: 'CREATE TABLE ralph.my_table ... IN
          my_tablespace'.

   * SQL statement syntax

        * The *note 'ANALYZE TABLE': analyze-table, *note 'CHECK TABLE':
          check-table, *note 'OPTIMIZE TABLE': optimize-table, and *note
          'REPAIR TABLE': repair-table. statements.

        * The *note 'CREATE DATABASE': create-database, *note 'DROP
          DATABASE': drop-database, and *note 'ALTER DATABASE':
          alter-database. statements.  See *note create-database::,
          *note drop-database::, and *note alter-database::.

        * The *note 'DO': do. statement.

        * *note 'EXPLAIN SELECT': explain. to obtain a description of
          how tables are processed by the query optimizer.

        * The *note 'FLUSH': flush. and *note 'RESET': reset.
          statements.

        * The *note 'SET': set-variable. statement.  See *note
          set-variable::.

        * The *note 'SHOW': show. statement.  See *note show::.  The
          information produced by many of the MySQL-specific *note
          'SHOW': show. statements can be obtained in more standard
          fashion by using *note 'SELECT': select. to query
          'INFORMATION_SCHEMA'.  See *note information-schema::.

        * 
          Use of *note 'LOAD DATA': load-data.  In many cases, this
          syntax is compatible with Oracle *note 'LOAD DATA': load-data.
          See *note load-data::.

        * Use of *note 'RENAME TABLE': rename-table.  See *note
          rename-table::.

        * Use of *note 'REPLACE': replace. instead of *note 'DELETE':
          delete. plus *note 'INSERT': insert.  See *note replace::.

        * Use of 'CHANGE COL_NAME', 'DROP COL_NAME', or *note 'DROP
          INDEX': drop-index, 'IGNORE' or 'RENAME' in *note 'ALTER
          TABLE': alter-table. statements.  Use of multiple 'ADD',
          'ALTER', 'DROP', or 'CHANGE' clauses in an *note 'ALTER
          TABLE': alter-table. statement.  See *note alter-table::.

        * Use of index names, indexes on a prefix of a column, and use
          of 'INDEX' or 'KEY' in *note 'CREATE TABLE': create-table.
          statements.  See *note create-table::.

        * Use of 'TEMPORARY' or 'IF NOT EXISTS' with *note 'CREATE
          TABLE': create-table.

        * Use of 'IF EXISTS' with *note 'DROP TABLE': drop-table. and
          *note 'DROP DATABASE': drop-database.

        * The capability of dropping multiple tables with a single *note
          'DROP TABLE': drop-table. statement.

        * The 'ORDER BY' and 'LIMIT' clauses of the *note 'UPDATE':
          update. and *note 'DELETE': delete. statements.

        * 'INSERT INTO TBL_NAME SET COL_NAME = ...' syntax.

        * The 'DELAYED' clause of the *note 'INSERT': insert. and *note
          'REPLACE': replace. statements.

        * The 'LOW_PRIORITY' clause of the *note 'INSERT': insert, *note
          'REPLACE': replace, *note 'DELETE': delete, and *note
          'UPDATE': update. statements.

        * Use of 'INTO OUTFILE' or 'INTO DUMPFILE' in *note 'SELECT':
          select. statements.  See *note select::.

        * Options such as 'STRAIGHT_JOIN' or 'SQL_SMALL_RESULT' in *note
          'SELECT': select. statements.

        * You don't need to name all selected columns in the 'GROUP BY'
          clause.  This gives better performance for some very specific,
          but quite normal queries.  See *note
          group-by-functions-and-modifiers::.

        * You can specify 'ASC' and 'DESC' with 'GROUP BY', not just
          with 'ORDER BY'.

        * The ability to set variables in a statement with the ':='
          assignment operator.  See *note user-variables::.

   * Data types

        * The *note 'MEDIUMINT': integer-types, *note 'SET': set, and
          *note 'ENUM': enum. data types, and the various *note 'BLOB':
          blob. and *note 'TEXT': blob. data types.

        * The 'AUTO_INCREMENT', 'BINARY', 'NULL', 'UNSIGNED', and
          'ZEROFILL' data type attributes.

   * Functions and operators

        * To make it easier for users who migrate from other SQL
          environments, MySQL Server supports aliases for many
          functions.  For example, all string functions support both
          standard SQL syntax and ODBC syntax.

        * MySQL Server understands the '||' and '&&' operators to mean
          logical OR and AND, as in the C programming language.  In
          MySQL Server, '||' and 'OR' are synonyms, as are '&&' and
          'AND'.  Because of this nice syntax, MySQL Server doesn't
          support the standard SQL '||' operator for string
          concatenation; use 'CONCAT()' instead.  Because 'CONCAT()'
          takes any number of arguments, it is easy to convert use of
          the '||' operator to MySQL Server.

        * Use of 'COUNT(DISTINCT VALUE_LIST)' where VALUE_LIST has more
          than one element.

        * String comparisons are case-insensitive by default, with sort
          ordering determined by the collation of the current character
          set, which is 'latin1' (cp1252 West European) by default.  To
          perform case-sensitive comparisons instead, you should declare
          your columns with the 'BINARY' attribute or use the 'BINARY'
          cast, which causes comparisons to be done using the underlying
          character code values rather than a lexical ordering.

        * 
          The '%' operator is a synonym for 'MOD()'.  That is, 'N % M'
          is equivalent to 'MOD(N,M)'.  '%' is supported for C
          programmers and for compatibility with PostgreSQL.

        * The '=', '<>', '<=', '<', '>=', '>', '<<', '>>', '<=>', 'AND',
          'OR', or 'LIKE' operators may be used in expressions in the
          output column list (to the left of the 'FROM') in *note
          'SELECT': select. statements.  For example:

               mysql> SELECT col1=1 AND col2=2 FROM my_table;

        * The 'LAST_INSERT_ID()' function returns the most recent
          'AUTO_INCREMENT' value.  See *note information-functions::.

        * 'LIKE' is permitted on numeric values.

        * The 'REGEXP' and 'NOT REGEXP' extended regular expression
          operators.

        * 'CONCAT()' or 'CHAR()' with one argument or more than two
          arguments.  (In MySQL Server, these functions can take a
          variable number of arguments.)

        * The 'BIT_COUNT()', 'CASE', 'ELT()', 'FROM_DAYS()', 'FORMAT()',
          'IF()', 'PASSWORD()', 'ENCRYPT()', 'MD5()', 'ENCODE()',
          'DECODE()', 'PERIOD_ADD()', 'PERIOD_DIFF()', 'TO_DAYS()', and
          'WEEKDAY()' functions.

        * Use of 'TRIM()' to trim substrings.  Standard SQL supports
          removal of single characters only.

        * The 'GROUP BY' functions 'STD()', 'BIT_OR()', 'BIT_AND()',
          'BIT_XOR()', and 'GROUP_CONCAT()'.  See *note
          group-by-functions-and-modifiers::.


File: manual.info.tmp,  Node: differences-from-ansi,  Next: constraints,  Prev: extensions-to-ansi,  Up: compatibility

1.7.2 MySQL Differences from Standard SQL
-----------------------------------------

* Menu:

* ansi-diff-select-into-table::  SELECT INTO TABLE Differences
* ansi-diff-update::             UPDATE Differences
* ansi-diff-foreign-keys::       FOREIGN KEY Constraint Differences
* ansi-diff-comments::           '-' as the Start of a Comment

We try to make MySQL Server follow the ANSI SQL standard and the ODBC
SQL standard, but MySQL Server performs operations differently in some
cases:

   * There are several differences between the MySQL and standard SQL
     privilege systems.  For example, in MySQL, privileges for a table
     are not automatically revoked when you delete a table.  You must
     explicitly issue a *note 'REVOKE': revoke. statement to revoke
     privileges for a table.  For more information, see *note revoke::.

   * The 'CAST()' function does not support cast to *note 'REAL':
     floating-point-types. or *note 'BIGINT': integer-types.  See *note
     cast-functions::.


File: manual.info.tmp,  Node: ansi-diff-select-into-table,  Next: ansi-diff-update,  Prev: differences-from-ansi,  Up: differences-from-ansi

1.7.2.1 SELECT INTO TABLE Differences
.....................................

MySQL Server doesn't support the 'SELECT ... INTO TABLE' Sybase SQL
extension.  Instead, MySQL Server supports the *note 'INSERT INTO ...
SELECT': insert-select. standard SQL syntax, which is basically the same
thing.  See *note insert-select::.  For example:

     INSERT INTO tbl_temp2 (fld_id)
         SELECT tbl_temp1.fld_order_id
         FROM tbl_temp1 WHERE tbl_temp1.fld_order_id > 100;

Alternatively, you can use *note 'SELECT ... INTO OUTFILE': select-into.
or *note 'CREATE TABLE ... SELECT': create-table.

You can use *note 'SELECT ... INTO': select. with user-defined
variables.  The same syntax can also be used inside stored routines
using cursors and local variables.  See *note select-into::.


File: manual.info.tmp,  Node: ansi-diff-update,  Next: ansi-diff-foreign-keys,  Prev: ansi-diff-select-into-table,  Up: differences-from-ansi

1.7.2.2 UPDATE Differences
..........................

If you access a column from the table to be updated in an expression,
*note 'UPDATE': update. uses the current value of the column.  The
second assignment in the following statement sets 'col2' to the current
(updated) 'col1' value, not the original 'col1' value.  The result is
that 'col1' and 'col2' have the same value.  This behavior differs from
standard SQL.

     UPDATE t1 SET col1 = col1 + 1, col2 = col1;


File: manual.info.tmp,  Node: ansi-diff-foreign-keys,  Next: ansi-diff-comments,  Prev: ansi-diff-update,  Up: differences-from-ansi

1.7.2.3 FOREIGN KEY Constraint Differences
..........................................

The MySQL implementation of foreign key constraints differs from the SQL
standard in the following key respects:

   * If there are several rows in the parent table with the same
     referenced key value, *note 'InnoDB': innodb-storage-engine.
     performs a foreign key check as if the other parent rows with the
     same key value do not exist.  For example, if you define a
     'RESTRICT' type constraint, and there is a child row with several
     parent rows, 'InnoDB' does not permit the deletion of any of the
     parent rows.

   * If 'ON UPDATE CASCADE' or 'ON UPDATE SET NULL' recurses to update
     the _same table_ it has previously updated during the same cascade,
     it acts like 'RESTRICT'.  This means that you cannot use
     self-referential 'ON UPDATE CASCADE' or 'ON UPDATE SET NULL'
     operations.  This is to prevent infinite loops resulting from
     cascaded updates.  A self-referential 'ON DELETE SET NULL', on the
     other hand, is possible, as is a self-referential 'ON DELETE
     CASCADE'.  Cascading operations may not be nested more than 15
     levels deep.

   * In an SQL statement that inserts, deletes, or updates many rows,
     foreign key constraints (like unique constraints) are checked
     row-by-row.  When performing foreign key checks, *note 'InnoDB':
     innodb-storage-engine. sets shared row-level locks on child or
     parent records that it must examine.  MySQL checks foreign key
     constraints immediately; the check is not deferred to transaction
     commit.  According to the SQL standard, the default behavior should
     be deferred checking.  That is, constraints are only checked after
     the _entire SQL statement_ has been processed.  This means that it
     is not possible to delete a row that refers to itself using a
     foreign key.

   * No storage engine, including 'InnoDB', recognizes or enforces the
     'MATCH' clause used in referential-integrity constraint
     definitions.  Use of an explicit 'MATCH' clause does not have the
     specified effect, and it causes 'ON DELETE' and 'ON UPDATE' clauses
     to be ignored.  Specifying the 'MATCH' should be avoided.

     The 'MATCH' clause in the SQL standard controls how 'NULL' values
     in a composite (multiple-column) foreign key are handled when
     comparing to a primary key in the referenced table.  MySQL
     essentially implements the semantics defined by 'MATCH SIMPLE',
     which permits a foreign key to be all or partially 'NULL'.  In that
     case, a (child table) row containing such a foreign key can be
     inserted even though it does not match any row in the referenced
     (parent) table.  (It is possible to implement other semantics using
     triggers.)

   * MySQL requires that the referenced columns be indexed for
     performance reasons.  However, MySQL does not enforce a requirement
     that the referenced columns be 'UNIQUE' or be declared 'NOT NULL'.

     A 'FOREIGN KEY' constraint that references a non-'UNIQUE' key is
     not standard SQL but rather an *note 'InnoDB':
     innodb-storage-engine. extension.

     The handling of foreign key references to nonunique keys or keys
     that contain 'NULL' values is not well defined for operations such
     as *note 'UPDATE': update. or 'DELETE CASCADE'.  You are advised to
     use foreign keys that reference only 'UNIQUE' (including 'PRIMARY')
     and 'NOT NULL' keys.

   * MySQL parses but ignores 'inline 'REFERENCES' specifications' (as
     defined in the SQL standard) where the references are defined as
     part of the column specification.  MySQL accepts 'REFERENCES'
     clauses only when specified as part of a separate 'FOREIGN KEY'
     specification.  For storage engines that do not support foreign
     keys (such as *note 'MyISAM': myisam-storage-engine.), MySQL Server
     parses and ignores foreign key specifications.

For information about foreign key constraints, see *note
create-table-foreign-keys::.


File: manual.info.tmp,  Node: ansi-diff-comments,  Prev: ansi-diff-foreign-keys,  Up: differences-from-ansi

1.7.2.4 '-' as the Start of a Comment
.....................................

Standard SQL uses the C syntax '/* this is a comment */' for comments,
and MySQL Server supports this syntax as well.  MySQL also support
extensions to this syntax that enable MySQL-specific SQL to be embedded
in the comment, as described in *note comments::.

Standard SQL uses ''--'' as a start-comment sequence.  MySQL Server uses
'#' as the start comment character.  MySQL Server also supports a
variant of the '--' comment style.  That is, the '--' start-comment
sequence must be followed by a space (or by a control character such as
a newline).  The space is required to prevent problems with
automatically generated SQL queries that use constructs such as the
following, where we automatically insert the value of the payment for
'payment':

     UPDATE account SET credit=credit-payment

Consider about what happens if 'payment' has a negative value such as
'-1':

     UPDATE account SET credit=credit--1

'credit--1' is a valid expression in SQL, but '--' is interpreted as the
start of a comment, part of the expression is discarded.  The result is
a statement that has a completely different meaning than intended:

     UPDATE account SET credit=credit

The statement produces no change in value at all.  This illustrates that
permitting comments to start with '--' can have serious consequences.

Using our implementation requires a space following the '--' for it to
be recognized as a start-comment sequence in MySQL Server.  Therefore,
'credit--1' is safe to use.

Another safe feature is that the *note 'mysql': mysql. command-line
client ignores lines that start with '--'.


File: manual.info.tmp,  Node: constraints,  Prev: differences-from-ansi,  Up: compatibility

1.7.3 How MySQL Deals with Constraints
--------------------------------------

* Menu:

* constraint-primary-key::       PRIMARY KEY and UNIQUE Index Constraints
* constraint-foreign-key::       FOREIGN KEY Constraints
* constraint-invalid-data::      Constraints on Invalid Data
* constraint-enum::              ENUM and SET Constraints

MySQL enables you to work both with transactional tables that permit
rollback and with nontransactional tables that do not.  Because of this,
constraint handling is a bit different in MySQL than in other DBMSs.  We
must handle the case when you have inserted or updated a lot of rows in
a nontransactional table for which changes cannot be rolled back when an
error occurs.

The basic philosophy is that MySQL Server tries to produce an error for
anything that it can detect while parsing a statement to be executed,
and tries to recover from any errors that occur while executing the
statement.  We do this in most cases, but not yet for all.

The options MySQL has when an error occurs are to stop the statement in
the middle or to recover as well as possible from the problem and
continue.  By default, the server follows the latter course.  This
means, for example, that the server may coerce invalid values to the
closest valid values.

Several SQL mode options are available to provide greater control over
handling of bad data values and whether to continue statement execution
or abort when errors occur.  Using these options, you can configure
MySQL Server to act in a more traditional fashion that is like other
DBMSs that reject improper input.  The SQL mode can be set globally at
server startup to affect all clients.  Individual clients can set the
SQL mode at runtime, which enables each client to select the behavior
most appropriate for its requirements.  See *note sql-mode::.

The following sections describe how MySQL Server handles different types
of constraints.


File: manual.info.tmp,  Node: constraint-primary-key,  Next: constraint-foreign-key,  Prev: constraints,  Up: constraints

1.7.3.1 PRIMARY KEY and UNIQUE Index Constraints
................................................

Normally, errors occur for data-change statements (such as *note
'INSERT': insert. or *note 'UPDATE': update.) that would violate
primary-key, unique-key, or foreign-key constraints.  If you are using a
transactional storage engine such as 'InnoDB', MySQL automatically rolls
back the statement.  If you are using a nontransactional storage engine,
MySQL stops processing the statement at the row for which the error
occurred and leaves any remaining rows unprocessed.

MySQL supports an 'IGNORE' keyword for *note 'INSERT': insert, *note
'UPDATE': update, and so forth.  If you use it, MySQL ignores
primary-key or unique-key violations and continues processing with the
next row.  See the section for the statement that you are using (*note
insert::, *note update::, and so forth).

You can get information about the number of rows actually inserted or
updated with the *note 'mysql_info()': mysql-info. C API function.  You
can also use the *note 'SHOW WARNINGS': show-warnings. statement.  See
*note mysql-info::, and *note show-warnings::.

Only 'InnoDB' tables support foreign keys.  See *note
create-table-foreign-keys::.


File: manual.info.tmp,  Node: constraint-foreign-key,  Next: constraint-invalid-data,  Prev: constraint-primary-key,  Up: constraints

1.7.3.2 FOREIGN KEY Constraints
...............................

Foreign keys let you cross-reference related data across tables, and
foreign key constraints help keep this spread-out data consistent.

MySQL supports 'ON UPDATE' and 'ON DELETE' foreign key references in
*note 'CREATE TABLE': create-table. and *note 'ALTER TABLE':
alter-table. statements.  The available referential actions are
'RESTRICT' (the default), 'CASCADE', 'SET NULL', and 'NO ACTION'.

'SET DEFAULT' is also supported by the MySQL Server but is currently
rejected as invalid by *note 'InnoDB': innodb-storage-engine.  Since
MySQL does not support deferred constraint checking, 'NO ACTION' is
treated as 'RESTRICT'.  For the exact syntax supported by MySQL for
foreign keys, see *note create-table-foreign-keys::.

'MATCH FULL', 'MATCH PARTIAL', and 'MATCH SIMPLE' are allowed, but their
use should be avoided, as they cause the MySQL Server to ignore any 'ON
DELETE' or 'ON UPDATE' clause used in the same statement.  'MATCH'
options do not have any other effect in MySQL, which in effect enforces
'MATCH SIMPLE' semantics full-time.

MySQL requires that foreign key columns be indexed; if you create a
table with a foreign key constraint but no index on a given column, an
index is created.

You can obtain information about foreign keys from the *note
'INFORMATION_SCHEMA.KEY_COLUMN_USAGE': key-column-usage-table. table.
An example of a query against this table is shown here:

     mysql> SELECT TABLE_SCHEMA, TABLE_NAME, COLUMN_NAME, CONSTRAINT_NAME
          > FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE
          > WHERE REFERENCED_TABLE_SCHEMA IS NOT NULL;
     +--------------+---------------+-------------+-----------------+
     | TABLE_SCHEMA | TABLE_NAME    | COLUMN_NAME | CONSTRAINT_NAME |
     +--------------+---------------+-------------+-----------------+
     | fk1          | myuser        | myuser_id   | f               |
     | fk1          | product_order | customer_id | f2              |
     | fk1          | product_order | product_id  | f1              |
     +--------------+---------------+-------------+-----------------+
     3 rows in set (0.01 sec)

Only 'InnoDB' tables support foreign keys.  See *note
create-table-foreign-keys::.  'InnoDB'.


File: manual.info.tmp,  Node: constraint-invalid-data,  Next: constraint-enum,  Prev: constraint-foreign-key,  Up: constraints

1.7.3.3 Constraints on Invalid Data
...................................

By default, MySQL is forgiving of invalid or improper data values and
coerces them to valid values for data entry.  However, you can enable
strict SQL mode such that the server rejects invalid values and aborts
the statement in which they occur.  See *note sql-mode::.

This section describes the default (forgiving) behavior of MySQL, as
well as the strict SQL mode and how it differs.

If you are not using strict mode, then whenever you insert an
'incorrect' value into a column, such as a 'NULL' into a 'NOT NULL'
column or a too-large numeric value into a numeric column, MySQL sets
the column to the 'best possible value' instead of producing an error:
The following rules describe in more detail how this works:

   * If you try to store an out of range value into a numeric column,
     MySQL Server instead stores zero, the smallest possible value, or
     the largest possible value, whichever is closest to the invalid
     value.

   * For strings, MySQL stores either the empty string or as much of the
     string as can be stored in the column.

   * If you try to store a string that does not start with a number into
     a numeric column, MySQL Server stores 0.

   * Invalid values for *note 'ENUM': enum. and *note 'SET': set.
     columns are handled as described in *note constraint-enum::.

   * MySQL permits you to store certain incorrect date values into *note
     'DATE': datetime. and *note 'DATETIME': datetime. columns (such as
     ''2000-02-31'' or ''2000-02-00'').  In this case, when an
     application has not enabled strict SQL mode, it up to the
     application to validate the dates before storing them.  If MySQL
     can store a date value and retrieve exactly the same value, MySQL
     stores it as given.  If the date is totally wrong (outside the
     server's ability to store it), the special 'zero' date value
     ''0000-00-00'' is stored in the column instead.

   * If you try to store 'NULL' into a column that doesn't take 'NULL'
     values, an error occurs for single-row *note 'INSERT': insert.
     statements.  For multiple-row *note 'INSERT': insert. statements or
     for *note 'INSERT INTO ... SELECT': insert-select. statements,
     MySQL Server stores the implicit default value for the column data
     type.  In general, this is '0' for numeric types, the empty string
     ('''') for string types, and the 'zero' value for date and time
     types.  Implicit default values are discussed in *note
     data-type-defaults::.

   * If an *note 'INSERT': insert. statement specifies no value for a
     column, MySQL inserts its default value if the column definition
     includes an explicit 'DEFAULT' clause.  If the definition has no
     such 'DEFAULT' clause, MySQL inserts the implicit default value for
     the column data type.

The reason for using the preceding rules when strict mode is not in
effect is that we cannot check these conditions until the statement has
begun executing.  We cannot just roll back if we encounter a problem
after updating a few rows, because the storage engine may not support
rollback.  The option of terminating the statement is not that good; in
this case, the update would be 'half done,' which is probably the worst
possible scenario.  In this case, it is better to 'do the best you can'
and then continue as if nothing happened.

You can select stricter treatment of input values by using the
'STRICT_TRANS_TABLES' or 'STRICT_ALL_TABLES' SQL modes:

     SET sql_mode = 'STRICT_TRANS_TABLES';
     SET sql_mode = 'STRICT_ALL_TABLES';

'STRICT_TRANS_TABLES' enables strict mode for transactional storage
engines, and also to some extent for nontransactional engines.  It works
like this:

   * For transactional storage engines, bad data values occurring
     anywhere in a statement cause the statement to abort and roll back.

   * For nontransactional storage engines, a statement aborts if the
     error occurs in the first row to be inserted or updated.  (When the
     error occurs in the first row, the statement can be aborted to
     leave the table unchanged, just as for a transactional table.)
     Errors in rows after the first do not abort the statement, because
     the table has already been changed by the first row.  Instead, bad
     data values are adjusted and result in warnings rather than errors.
     In other words, with 'STRICT_TRANS_TABLES', a wrong value causes
     MySQL to roll back all updates done so far, if that can be done
     without changing the table.  But once the table has been changed,
     further errors result in adjustments and warnings.

For even stricter checking, enable 'STRICT_ALL_TABLES'.  This is the
same as 'STRICT_TRANS_TABLES' except that for nontransactional storage
engines, errors abort the statement even for bad data in rows following
the first row.  This means that if an error occurs partway through a
multiple-row insert or update for a nontransactional table, a partial
update results.  Earlier rows are inserted or updated, but those from
the point of the error on are not.  To avoid this for nontransactional
tables, either use single-row statements or else use
'STRICT_TRANS_TABLES' if conversion warnings rather than errors are
acceptable.  To avoid problems in the first place, do not use MySQL to
check column content.  It is safest (and often faster) to let the
application ensure that it passes only valid values to the database.

With either of the strict mode options, you can cause errors to be
treated as warnings by using *note 'INSERT IGNORE': insert. or 'UPDATE
IGNORE' rather than *note 'INSERT': insert. or *note 'UPDATE': update.
without 'IGNORE'.


File: manual.info.tmp,  Node: constraint-enum,  Prev: constraint-invalid-data,  Up: constraints

1.7.3.4 ENUM and SET Constraints
................................

*note 'ENUM': enum. and *note 'SET': set. columns provide an efficient
way to define columns that can contain only a given set of values.  See
*note enum::, and *note set::.

With strict mode enabled (see *note sql-mode::), the definition of a
*note 'ENUM': enum. or *note 'SET': set. column acts as a constraint on
values entered into the column.  An error occurs for values that do not
satisfy these conditions:

   * An *note 'ENUM': enum. value must be one of those listed in the
     column definition, or the internal numeric equivalent thereof.  The
     value cannot be the error value (that is, 0 or the empty string).
     For a column defined as *note 'ENUM('a','b','c')': enum, values
     such as '''', ''d'', or ''ax'' are invalid and are rejected.

   * A *note 'SET': set. value must be the empty string or a value
     consisting only of the values listed in the column definition
     separated by commas.  For a column defined as *note
     'SET('a','b','c')': set, values such as ''d'' or ''a,b,c,d'' are
     invalid and are rejected.

Errors for invalid values can be suppressed in strict mode if you use
*note 'INSERT IGNORE': insert. or 'UPDATE IGNORE'.  In this case, a
warning is generated rather than an error.  For *note 'ENUM': enum, the
value is inserted as the error member ('0').  For *note 'SET': set, the
value is inserted as given except that any invalid substrings are
deleted.  For example, ''a,x,b,y'' results in a value of ''a,b''.


File: manual.info.tmp,  Node: credits,  Prev: compatibility,  Up: introduction

1.8 Credits
===========

* Menu:

* contributors::                 Contributors to MySQL
* documenters-translators::      Documenters and translators
* packages::                     Packages that support MySQL
* tools-used-to-create-mysql::   Tools that were used to create MySQL
* supporters::                   Supporters of MySQL

The following sections list developers, contributors, and supporters
that have helped to make MySQL what it is today.


File: manual.info.tmp,  Node: contributors,  Next: documenters-translators,  Prev: credits,  Up: credits

1.8.1 Contributors to MySQL
---------------------------

Although Oracle Corporation and/or its affiliates own all copyrights in
the 'MySQL server' and the 'MySQL manual', we wish to recognize those
who have made contributions of one kind or another to the 'MySQL
distribution'.  Contributors are listed here, in somewhat random order:

   * Gianmassimo Vigazzola <qwerg@mbox.vol.it> or <qwerg@tin.it>

     The initial port to Win32/NT.

   * Per Eric Olsson

     For constructive criticism and real testing of the dynamic record
     format.

   * Irena Pancirov <irena@mail.yacc.it>

     Win32 port with Borland compiler.  'mysqlshutdown.exe' and
     'mysqlwatch.exe'.

   * David J. Hughes

     For the effort to make a shareware SQL database.  At TcX, the
     predecessor of MySQL AB, we started with 'mSQL', but found that it
     couldn't satisfy our purposes so instead we wrote an SQL interface
     to our application builder Unireg.  *note 'mysqladmin': mysqladmin.
     and *note 'mysql': mysql. client are programs that were largely
     influenced by their 'mSQL' counterparts.  We have put a lot of
     effort into making the MySQL syntax a superset of 'mSQL'.  Many of
     the API's ideas are borrowed from 'mSQL' to make it easy to port
     free 'mSQL' programs to the MySQL API. The MySQL software doesn't
     contain any code from 'mSQL'.  Two files in the distribution
     ('client/insert_test.c' and 'client/select_test.c') are based on
     the corresponding (noncopyrighted) files in the 'mSQL'
     distribution, but are modified as examples showing the changes
     necessary to convert code from 'mSQL' to MySQL Server.  ('mSQL' is
     copyrighted David J. Hughes.)

   * Patrick Lynch

     For helping us acquire <http://www.mysql.com/>.

   * Fred Lindberg

     For setting up qmail to handle the MySQL mailing list and for the
     incredible help we got in managing the MySQL mailing lists.

   * Igor Romanenko <igor@frog.kiev.ua>

     *note 'mysqldump': mysqldump. (previously 'msqldump', but ported
     and enhanced by Monty).

   * Yuri Dario

     For keeping up and extending the MySQL OS/2 port.

   * Tim Bunce

     Author of *note 'mysqlhotcopy': mysqlhotcopy.

   * Zarko Mocnik <zarko.mocnik@dem.si>

     Sorting for Slovenian language.

   * "TAMITO" <tommy@valley.ne.jp>

     The '_MB' character set macros and the ujis and sjis character
     sets.

   * Joshua Chamas <joshua@chamas.com>

     Base for concurrent insert, extended date syntax, debugging on NT,
     and answering on the MySQL mailing list.

   * Yves Carlier <Yves.Carlier@rug.ac.be>

     *note 'mysqlaccess': mysqlaccess, a program to show the access
     rights for a user.

   * Rhys Jones <rhys@wales.com> (And GWE Technologies Limited)

     For one of the early JDBC drivers.

   * Dr Xiaokun Kelvin ZHU <X.Zhu@brad.ac.uk>

     Further development of one of the early JDBC drivers and other
     MySQL-related Java tools.

   * James Cooper <pixel@organic.com>

     For setting up a searchable mailing list archive at his site.

   * Rick Mehalick <Rick_Mehalick@i-o.com>

     For 'xmysql', a graphical X client for MySQL Server.

   * Doug Sisk <sisk@wix.com>

     For providing RPM packages of MySQL for Red Hat Linux.

   * Diemand Alexander V. <axeld@vial.ethz.ch>

     For providing RPM packages of MySQL for Red Hat Linux-Alpha.

   * Antoni Pamies Olive <toni@readysoft.es>

     For providing RPM versions of a lot of MySQL clients for Intel and
     SPARC.

   * Jay Bloodworth <jay@pathways.sde.state.sc.us>

     For providing RPM versions for MySQL 3.21.

   * David Sacerdote <davids@secnet.com>

     Ideas for secure checking of DNS host names.

   * Wei-Jou Chen <jou@nematic.ieo.nctu.edu.tw>

     Some support for Chinese(BIG5) characters.

   * Wei He <hewei@mail.ied.ac.cn>

     A lot of functionality for the Chinese(GBK) character set.

   * Jan Pazdziora <adelton@fi.muni.cz>

     Czech sorting order.

   * Zeev Suraski <bourbon@netvision.net.il>

     'FROM_UNIXTIME()' time formatting, 'ENCRYPT()' functions, and
     'bison' advisor.  Active mailing list member.

   * Luuk de Boer <luuk@wxs.nl>

     Ported (and extended) the benchmark suite to 'DBI'/'DBD'.  Have
     been of great help with 'crash-me' and running benchmarks.  Some
     new date functions.  The *note 'mysql_setpermission':
     mysql-setpermission. script.

   * Alexis Mikhailov <root@medinf.chuvashia.su>

     User-defined functions (UDFs); *note 'CREATE FUNCTION':
     create-function. and *note 'DROP FUNCTION': drop-function.

   * Andreas F. Bobak <bobak@relog.ch>

     The 'AGGREGATE' extension to user-defined functions.

   * Ross Wakelin <R.Wakelin@march.co.uk>

     Help to set up InstallShield for MySQL-Win32.

   * Jethro Wright III <jetman@li.net>

     The 'libmysql.dll' library.

   * James Pereria <jpereira@iafrica.com>

     Mysqlmanager, a Win32 GUI tool for administering MySQL Servers.

   * Curt Sampson <cjs@portal.ca>

     Porting of MIT-pthreads to NetBSD/Alpha and NetBSD 1.3/i386.

   * Martin Ramsch <m.ramsch@computer.org>

     Examples in the MySQL Tutorial.

   * Steve Harvey

     For making *note 'mysqlaccess': mysqlaccess. more secure.

   * Konark IA-64 Centre of Persistent Systems Private Limited

     Help with the Win64 port of the MySQL server.

   * Albert Chin-A-Young.

     Configure updates for Tru64, large file support and better TCP
     wrappers support.

   * John Birrell

     Emulation of 'pthread_mutex()' for OS/2.

   * Benjamin Pflugmann

     Extended 'MERGE' tables to handle 'INSERTS'.  Active member on the
     MySQL mailing lists.

   * Jocelyn Fournier

     Excellent spotting and reporting innumerable bugs (especially in
     the MySQL 4.1 subquery code).

   * Marc Liyanage

     Maintaining the OS X packages and providing invaluable feedback on
     how to create OS X packages.

   * Robert Rutherford

     Providing invaluable information and feedback about the QNX port.

   * Previous developers of NDB Cluster

     Lots of people were involved in various ways summer students,
     master thesis students, employees.  In total more than 100 people
     so too many to mention here.  Notable name is Ataullah Dabaghi who
     up until 1999 contributed around a third of the code base.  A
     special thanks also to developers of the AXE system which provided
     much of the architectural foundations for NDB Cluster with blocks,
     signals and crash tracing functionality.  Also credit should be
     given to those who believed in the ideas enough to allocate of
     their budgets for its development from 1992 to present time.

   * Google Inc.

     We wish to recognize Google Inc.  for contributions to the MySQL
     distribution: Mark Callaghan's SMP Performance patches and other
     patches.

Other contributors, bugfinders, and testers: James H. Thompson, Maurizio
Menghini, Wojciech Tryc, Luca Berra, Zarko Mocnik, Wim Bonis, Elmar
Haneke, <jehamby@lightside>, <psmith@BayNetworks.com>,
<duane@connect.com.au>, Ted Deppner <ted@psyber.com>, Mike Simons,
Jaakko Hyvatti.

And lots of bug report/patches from the folks on the mailing list.

A big tribute goes to those that help us answer questions on the MySQL
mailing lists:

   * Daniel Koch <dkoch@amcity.com>

     Irix setup.

   * Luuk de Boer <luuk@wxs.nl>

     Benchmark questions.

   * Tim Sailer <tps@users.buoy.com>

     'DBD::mysql' questions.

   * Boyd Lynn Gerber <gerberb@zenez.com>

     SCO-related questions.

   * Richard Mehalick <RM186061@shellus.com>

     'xmysql'-related questions and basic installation questions.

   * Zeev Suraski <bourbon@netvision.net.il>

     Apache module configuration questions (log & auth), PHP-related
     questions, SQL syntax-related questions and other general
     questions.

   * Francesc Guasch <frankie@citel.upc.es>

     General questions.

   * Jonathan J Smith <jsmith@wtp.net>

     Questions pertaining to OS-specifics with Linux, SQL syntax, and
     other things that might need some work.

   * David Sklar <sklar@student.net>

     Using MySQL from PHP and Perl.

   * Alistair MacDonald <A.MacDonald@uel.ac.uk>

     Is flexible and can handle Linux and perhaps HP-UX.

   * John Lyon <jlyon@imag.net>

     Questions about installing MySQL on Linux systems, using either
     '.rpm' files or compiling from source.

   * Lorvid Ltd.  <lorvid@WOLFENET.com>

     Simple billing/license/support/copyright issues.

   * Patrick Sherrill <patrick@coconet.com>

     ODBC and VisualC++ interface questions.

   * Randy Harmon <rjharmon@uptimecomputers.com>

     'DBD', Linux, some SQL syntax questions.


File: manual.info.tmp,  Node: documenters-translators,  Next: packages,  Prev: contributors,  Up: credits

1.8.2 Documenters and translators
---------------------------------

The following people have helped us with writing the MySQL documentation
and translating the documentation or error messages in MySQL.

   * Paul DuBois

     Ongoing help with making this manual correct and understandable.
     That includes rewriting Monty's and David's attempts at English
     into English as other people know it.

   * Kim Aldale

     Helped to rewrite Monty's and David's early attempts at English
     into English.

   * Michael J. Miller Jr.  <mke@terrapin.turbolift.com>

     For the first MySQL manual.  And a lot of spelling/language fixes
     for the FAQ (that turned into the MySQL manual a long time ago).

   * Yan Cailin

     First translator of the MySQL Reference Manual into simplified
     Chinese in early 2000 on which the Big5 and HK coded versions were
     based.

   * Jay Flaherty <fty@mediapulse.com>

     Big parts of the Perl 'DBI'/'DBD' section in the manual.

   * Paul Southworth <pauls@etext.org>, Ray Loyzaga <yar@cs.su.oz.au>

     Proof-reading of the Reference Manual.

   * Therrien Gilbert <gilbert@ican.net>, Jean-Marc Pouyot
     <jmp@scalaire.fr>

     French error messages.

   * Petr Snajdr, <snajdr@pvt.net>

     Czech error messages.

   * Jaroslaw Lewandowski <jotel@itnet.com.pl>

     Polish error messages.

   * Miguel Angel Fernandez Roiz

     Spanish error messages.

   * Roy-Magne Mo <rmo@www.hivolda.no>

     Norwegian error messages and testing of MySQL 3.21.xx.

   * Timur I. Bakeyev <root@timur.tatarstan.ru>

     Russian error messages.

   * <brenno@dewinter.com> & Filippo Grassilli <phil@hyppo.com>

     Italian error messages.

   * Dirk Munzinger <dirk@trinity.saar.de>

     German error messages.

   * Billik Stefan <billik@sun.uniag.sk>

     Slovak error messages.

   * Stefan Saroiu <tzoompy@cs.washington.edu>

     Romanian error messages.

   * Peter Feher

     Hungarian error messages.

   * Roberto M. Serqueira

     Portuguese error messages.

   * Carsten H. Pedersen

     Danish error messages.

   * Arjen Lentz

     Dutch error messages, completing earlier partial translation (also
     work on consistency and spelling).


File: manual.info.tmp,  Node: packages,  Next: tools-used-to-create-mysql,  Prev: documenters-translators,  Up: credits

1.8.3 Packages that support MySQL
---------------------------------

The following is a list of creators/maintainers of some of the most
important API/packages/applications that a lot of people use with MySQL.

We cannot list every possible package here because the list would then
be way to hard to maintain.  For other packages, please refer to the
software portal at <http://solutions.mysql.com/software/>.

   * Tim Bunce, Alligator Descartes

     For the 'DBD' (Perl) interface.

   * Andreas Koenig <a.koenig@mind.de>

     For the Perl interface for MySQL Server.

   * Jochen Wiedmann <wiedmann@neckar-alb.de>

     For maintaining the Perl 'DBD::mysql' module.

   * Eugene Chan <eugene@acenet.com.sg>

     For porting PHP for MySQL Server.

   * Georg Richter

     MySQL 4.1 testing and bug hunting.  New PHP 5.0 'mysqli' extension
     (API) for use with MySQL 4.1 and up.

   * Giovanni Maruzzelli <maruzz@matrice.it>

     For porting iODBC (Unix ODBC).

   * Xavier Leroy <Xavier.Leroy@inria.fr>

     The author of LinuxThreads (used by the MySQL Server on Linux).


File: manual.info.tmp,  Node: tools-used-to-create-mysql,  Next: supporters,  Prev: packages,  Up: credits

1.8.4 Tools that were used to create MySQL
------------------------------------------

The following is a list of some of the tools we have used to create
MySQL. We use this to express our thanks to those that has created them
as without these we could not have made MySQL what it is today.

   * Free Software Foundation

     From whom we got an excellent compiler ('gcc'), an excellent
     debugger ('gdb' and the 'libc' library (from which we have borrowed
     'strto.c' to get some code working in Linux).

   * Free Software Foundation & The XEmacs development team

     For a really great editor/environment.

   * Julian Seward

     Author of 'valgrind', an excellent memory checker tool that has
     helped us find a lot of otherwise hard to find bugs in MySQL.

   * Dorothea Lu"tkehaus and Andreas Zeller

     For 'DDD' (The Data Display Debugger) which is an excellent
     graphical front end to 'gdb').


File: manual.info.tmp,  Node: supporters,  Prev: tools-used-to-create-mysql,  Up: credits

1.8.5 Supporters of MySQL
-------------------------

Although Oracle Corporation and/or its affiliates own all copyrights in
the 'MySQL server' and the 'MySQL manual', we wish to recognize the
following companies, which helped us finance the development of the
'MySQL server', such as by paying us for developing a new feature or
giving us hardware for development of the 'MySQL server'.

   * VA Linux / Andover.net

     Funded replication.

   * NuSphere

     Editing of the MySQL manual.

   * Stork Design studio

     The MySQL website in use between 1998-2000.

   * Intel

     Contributed to development on Windows and Linux platforms.

   * Compaq

     Contributed to Development on Linux/Alpha.

   * SWSoft

     Development on the embedded *note 'mysqld': mysqld. version.

   * FutureQuest

     The '--skip-show-database' option.


File: manual.info.tmp,  Node: installing,  Next: tutorial,  Prev: introduction,  Up: Top

2 Installing and Upgrading MySQL
********************************

* Menu:

* general-installation-issues::  General Installation Guidance
* binary-installation::          Installing MySQL on Unix/Linux Using Generic Binaries
* windows-installation::         Installing MySQL on Microsoft Windows
* osx-installation::             Installing MySQL on OS X
* linux-installation::           Installing MySQL on Linux
* uln-installation::             Installing MySQL Using Unbreakable Linux Network (ULN)
* solaris-installation::         Installing MySQL on Solaris
* freebsd-installation::         Installing MySQL on FreeBSD
* source-installation::          Installing MySQL from Source
* postinstallation::             Postinstallation Setup and Testing
* upgrading::                    Upgrading MySQL
* downgrading::                  Downgrading MySQL
* perl-support::                 Perl Installation Notes

This chapter describes how to obtain and install MySQL. A summary of the
procedure follows and later sections provide the details.  If you plan
to upgrade an existing version of MySQL to a newer version rather than
install MySQL for the first time, see *note upgrading::, for information
about upgrade procedures and about issues that you should consider
before upgrading.

If you are interested in migrating to MySQL from another database
system, see *note faqs-migration::, which contains answers to some
common questions concerning migration issues.

If you are migrating from MySQL Enterprise Edition to MySQL Community
Server, see *note downgrading-from-enterprise::.

Installation of MySQL generally follows the steps outlined here:

  1. *Determine whether MySQL runs and is supported on your platform.*

     Please note that not all platforms are equally suitable for running
     MySQL, and that not all platforms on which MySQL is known to run
     are officially supported by Oracle Corporation.  For information
     about those platforms that are officially supported, see
     <https://www.mysql.com/support/supportedplatforms/database.html> on
     the MySQL website.

  2. *Choose which distribution to install.*

     Several versions of MySQL are available, and most are available in
     several distribution formats.  You can choose from pre-packaged
     distributions containing binary (precompiled) programs or source
     code.  When in doubt, use a binary distribution.  Oracle also
     provides access to the MySQL source code for those who want to see
     recent developments and test new code.  To determine which version
     and type of distribution you should use, see *note which-version::.

  3. *Download the distribution that you want to install.*

     For instructions, see *note getting-mysql::.  To verify the
     integrity of the distribution, use the instructions in *note
     verifying-package-integrity::.

  4. *Install the distribution.*

     To install MySQL from a binary distribution, use the instructions
     in *note binary-installation::.

     To install MySQL from a source distribution or from the current
     development source tree, use the instructions in *note
     source-installation::.

  5. *Perform any necessary postinstallation setup.*

     After installing MySQL, see *note postinstallation:: for
     information about making sure the MySQL server is working properly.
     Also refer to the information provided in *note
     default-privileges::.  This section describes how to secure the
     initial MySQL user accounts, _which have no passwords_ until you
     assign passwords.  The section applies whether you install MySQL
     using a binary or source distribution.

  6. If you want to run the MySQL benchmark scripts, Perl support for
     MySQL must be available.  See *note perl-support::.

Instructions for installing MySQL on different platforms and
environments is available on a platform by platform basis:

   * *Unix, Linux, FreeBSD*

     For instructions on installing MySQL on most Linux and Unix
     platforms using a generic binary (for example, a '.tar.gz'
     package), see *note binary-installation::.

     For information on building MySQL entirely from the source code
     distributions or the source code repositories, see *note
     source-installation::

     For specific platform help on installation, configuration, and
     building from source see the corresponding platform section:

        * Linux, including notes on distribution specific methods, see
          *note linux-installation::.

        * Solaris, including PKG and IPS formats, see *note
          solaris-installation::.

        * IBM AIX, see *note solaris-installation::.

        * FreeBSD, see *note freebsd-installation::.

   * *Microsoft Windows*

     For instructions on installing MySQL on Microsoft Windows, using
     either the MySQL Installer standalone MSI, or Zipped binary, see
     *note windows-installation::.

     For information about managing MySQL instances, see MySQL Notifier
     Overview
     (https://dev.mysql.com/doc/mysql-notifier/en/mysql-notifier-overview.html).

     For details and instructions on building MySQL from source code
     using Microsoft Visual Studio, see *note source-installation::.

   * *macOS*

     For installation on macOS, including using both the binary package
     and native PKG formats, see *note osx-installation::.

     For information on making use of an macOS Launch Daemon to
     automatically start and stop MySQL, see *note
     osx-installation-launchd::.

     For information on the MySQL Preference Pane, see *note
     osx-installation-prefpane::.


File: manual.info.tmp,  Node: general-installation-issues,  Next: binary-installation,  Prev: installing,  Up: installing

2.1 General Installation Guidance
=================================

* Menu:

* which-version::                Which MySQL Version and Distribution to Install
* getting-mysql::                How to Get MySQL
* verifying-package-integrity::  Verifying Package Integrity Using MD5 Checksums or GnuPG
* installation-layouts::         Installation Layouts
* compiler-characteristics::     Compiler-Specific Build Characteristics

The immediately following sections contain the information necessary to
choose, download, and verify your distribution.  The instructions in
later sections of the chapter describe how to install the distribution
that you choose.  For binary distributions, see the instructions at
*note binary-installation:: or the corresponding section for your
platform if available.  To build MySQL from source, use the instructions
in *note source-installation::.


File: manual.info.tmp,  Node: which-version,  Next: getting-mysql,  Prev: general-installation-issues,  Up: general-installation-issues

2.1.1 Which MySQL Version and Distribution to Install
-----------------------------------------------------

MySQL is available on a number of operating systems and platforms.  For
information about those platforms that are officially supported, see
<https://www.mysql.com/support/supportedplatforms/database.html> on the
MySQL website.

When preparing to install MySQL, decide which version and distribution
format (binary or source) to use.

First, decide whether to install a development release or a General
Availability (GA) release.  Development releases have the newest
features, but are not recommended for production use.  GA releases, also
called production or stable releases, are meant for production use.  We
recommend using the most recent GA release.

The naming scheme in MySQL 5.5 uses release names that consist of three
numbers and an optional suffix; for example, *mysql-5.5.1-m2*.  The
numbers within the release name are interpreted as follows:

   * The first number (*5*) is the major version number.

   * The second number (*5*) is the minor version number.  Taken
     together, the major and minor numbers constitute the release series
     number.  The series number describes the stable feature set.

   * The third number (*1*) is the version number within the release
     series.  This is incremented for each new bugfix release.  In most
     cases, the most recent version within a series is the best choice.

Release names can also include a suffix to indicate the stability level
of the release.  Releases within a series progress through a set of
suffixes to indicate how the stability level improves.  The possible
suffixes are:

   * *m_N_* (for example, *m1*, *m2*, *m3*, ...)  indicates a milestone
     number.  MySQL development uses a milestone model, in which each
     milestone introduces a small subset of thoroughly tested features.
     Following the releases for one milestone, development proceeds with
     another small number of releases that focuses on the next set of
     features.  From one milestone to the next, feature interfaces may
     change or features may even be removed, based on feedback provided
     by community members who try these earily releases.  Features
     within milestone releases may be considered to be of pre-production
     quality.

   * *rc* indicates a Release Candidate (RC). Release candidates are
     believed to be stable, having passed all of MySQL's internal
     testing.  New features may still be introduced in RC releases, but
     the focus shifts to fixing bugs to stabilize features introduced
     earlier within the series.

   * Absence of a suffix indicates a General Availability (GA) or
     Production release.  GA releases are stable, having successfully
     passed through the earlier release stages, and are believed to be
     reliable, free of serious bugs, and suitable for use in production
     systems.

Development within a series begins with milestone releases, followed by
RC releases, and finally reaches GA status releases.

After choosing which MySQL version to install, decide which distribution
format to install for your operating system.  For most use cases, a
binary distribution is the right choice.  Binary distributions are
available in native format for many platforms, such as RPM packages for
Linux or DMG packages for macOS. Distributions are also available in
more generic formats such as Zip archives or compressed 'tar' files.  On
Windows, you can use *note the MySQL Installer: mysql-installer. to
install a binary distribution.

Under some circumstances, it may be preferable to install MySQL from a
source distribution:

   * You want to install MySQL at some explicit location.  The standard
     binary distributions are ready to run at any installation location,
     but you might require even more flexibility to place MySQL
     components where you want.

   * You want to configure *note 'mysqld': mysqld. with features that
     might not be included in the standard binary distributions.  Here
     is a list of the most common extra options used to ensure feature
     availability:

        * '-DWITH_LIBWRAP=1' for TCP wrappers support.

        * '-DWITH_ZLIB={system|bundled}' for features that depend on
          compression

        * '-DWITH_DEBUG=1' for debugging support

     For additional information, see *note
     source-configuration-options::.

   * You want to configure *note 'mysqld': mysqld. without some features
     that are included in the standard binary distributions.  For
     example, distributions normally are compiled with support for all
     character sets.  If you want a smaller MySQL server, you can
     recompile it with support for only the character sets you need.

   * You want to read or modify the C and C++ code that makes up MySQL.
     For this purpose, obtain a source distribution.

   * Source distributions contain more tests and examples than binary
     distributions.


File: manual.info.tmp,  Node: getting-mysql,  Next: verifying-package-integrity,  Prev: which-version,  Up: general-installation-issues

2.1.2 How to Get MySQL
----------------------

Check our downloads page at <https://dev.mysql.com/downloads/> for
information about the current version of MySQL and for downloading
instructions.  For a complete up-to-date list of MySQL download mirror
sites, see <https://dev.mysql.com/downloads/mirrors.html>.  You can also
find information there about becoming a MySQL mirror site and how to
report a bad or out-of-date mirror.

To obtain the latest development source, see *note
installing-development-tree::.


File: manual.info.tmp,  Node: verifying-package-integrity,  Next: installation-layouts,  Prev: getting-mysql,  Up: general-installation-issues

2.1.3 Verifying Package Integrity Using MD5 Checksums or GnuPG
--------------------------------------------------------------

* Menu:

* verifying-md5-checksum::       Verifying the MD5 Checksum
* checking-gpg-signature::       Signature Checking Using GnuPG
* checking-gpg-signature-windows::  Signature Checking Using Gpg4win for Windows
* checking-rpm-signature::       Signature Checking Using RPM

After downloading the MySQL package that suits your needs and before
attempting to install it, make sure that it is intact and has not been
tampered with.  There are three means of integrity checking:

   * MD5 checksums

   * Cryptographic signatures using 'GnuPG', the GNU Privacy Guard

   * For RPM packages, the built-in RPM integrity verification mechanism

The following sections describe how to use these methods.

If you notice that the MD5 checksum or GPG signatures do not match,
first try to download the respective package one more time, perhaps from
another mirror site.


File: manual.info.tmp,  Node: verifying-md5-checksum,  Next: checking-gpg-signature,  Prev: verifying-package-integrity,  Up: verifying-package-integrity

2.1.3.1 Verifying the MD5 Checksum
..................................

After you have downloaded a MySQL package, you should make sure that its
MD5 checksum matches the one provided on the MySQL download pages.  Each
package has an individual checksum that you can verify against the
package that you downloaded.  The correct MD5 checksum is listed on the
downloads page for each MySQL product, and you will compare it against
the MD5 checksum of the file (product) that you download.

Each operating system and setup offers its own version of tools for
checking the MD5 checksum.  Typically the command is named 'md5sum', or
it may be named 'md5', and some operating systems do not ship it at all.
On Linux, it is part of the *GNU Text Utilities* package, which is
available for a wide range of platforms.  You can also download the
source code from <http://www.gnu.org/software/textutils/>.  If you have
OpenSSL installed, you can use the command 'openssl md5 PACKAGE_NAME'
instead.  A Windows implementation of the 'md5' command line utility is
available from <http://www.fourmilab.ch/md5/>.  'winMd5Sum' is a
graphical MD5 checking tool that can be obtained from
<http://www.nullriver.com/index/products/winmd5sum>.  Our Microsoft
Windows examples will assume the name 'md5.exe'.

Linux and Microsoft Windows examples:

     shell> md5sum mysql-standard-5.5.62-linux-i686.tar.gz
     aaab65abbec64d5e907dcd41b8699945  mysql-standard-5.5.62-linux-i686.tar.gz

     shell> md5.exe mysql-installer-community-5.5.62.msi
     aaab65abbec64d5e907dcd41b8699945  mysql-installer-community-5.5.62.msi

You should verify that the resulting checksum (the string of hexadecimal
digits) matches the one displayed on the download page immediately below
the respective package.

*Note*:

Make sure to verify the checksum of the _archive file_ (for example, the
'.zip', '.tar.gz', or '.msi' file) and not of the files that are
contained inside of the archive.  In other words, verify the file before
extracting its contents.


File: manual.info.tmp,  Node: checking-gpg-signature,  Next: checking-gpg-signature-windows,  Prev: verifying-md5-checksum,  Up: verifying-package-integrity

2.1.3.2 Signature Checking Using GnuPG
......................................

Another method of verifying the integrity and authenticity of a package
is to use cryptographic signatures.  This is more reliable than using
*note MD5 checksums: verifying-md5-checksum, but requires more work.

We sign MySQL downloadable packages with 'GnuPG' (GNU Privacy Guard).
'GnuPG' is an Open Source alternative to the well-known Pretty Good
Privacy ('PGP') by Phil Zimmermann.  Most Linux distributions ship with
'GnuPG' installed by default.  Otherwise, see <http://www.gnupg.org/>
for more information about 'GnuPG' and how to obtain and install it.

To verify the signature for a specific package, you first need to obtain
a copy of our public GPG build key, which you can download from
<http://pgp.mit.edu/>.  The key that you want to obtain is named
'mysql-build@oss.oracle.com'.  Alternatively, you can copy and paste the
key directly from the following text:

     -----BEGIN PGP PUBLIC KEY BLOCK-----
     Version: GnuPG v1

     mQGiBD4+owwRBAC14GIfUfCyEDSIePvEW3SAFUdJBtoQHH/nJKZyQT7h9bPlUWC3
     RODjQReyCITRrdwyrKUGku2FmeVGwn2u2WmDMNABLnpprWPkBdCk96+OmSLN9brZ
     fw2vOUgCmYv2hW0hyDHuvYlQA/BThQoADgj8AW6/0Lo7V1W9/8VuHP0gQwCgvzV3
     BqOxRznNCRCRxAuAuVztHRcEAJooQK1+iSiunZMYD1WufeXfshc57S/+yeJkegNW
     hxwR9pRWVArNYJdDRT+rf2RUe3vpquKNQU/hnEIUHJRQqYHo8gTxvxXNQc7fJYLV
     K2HtkrPbP72vwsEKMYhhr0eKCbtLGfls9krjJ6sBgACyP/Vb7hiPwxh6rDZ7ITnE
     kYpXBACmWpP8NJTkamEnPCia2ZoOHODANwpUkP43I7jsDmgtobZX9qnrAXw+uNDI
     QJEXM6FSbi0LLtZciNlYsafwAPEOMDKpMqAK6IyisNtPvaLd8lH0bPAnWqcyefep
     rv0sxxqUEMcM3o7wwgfN83POkDasDbs3pjwPhxvhz6//62zQJ7Q2TXlTUUwgUmVs
     ZWFzZSBFbmdpbmVlcmluZyA8bXlzcWwtYnVpbGRAb3NzLm9yYWNsZS5jb20+iGwE
     ExECACwCGyMCHgECF4ACGQEGCwkIBwMCBhUKCQgCAwUWAgMBAAUCXEBY+wUJI87e
     5AAKCRCMcY07UHLh9RZPAJ9uvm0zlzfCN+DHxHVaoFLFjdVYTQCfborsC9tmEZYa
     whhogjeBkZkorbyIaQQTEQIAKQIbIwYLCQgHAwIEFQIIAwQWAgMBAh4BAheAAhkB
     BQJTAdRmBQkaZsvLAAoJEIxxjTtQcuH1X4MAoKNLWAbCBUj96637kv6Xa/fJuX5m
     AJwPtmgDfjUe2iuhXdTrFEPT19SB6ohmBBMRAgAmAhsjBgsJCAcDAgQVAggDBBYC
     AwECHgECF4AFAk53PioFCRP7AhUACgkQjHGNO1By4fUmzACeJdfqgc9gWTUhgmcM
     AOmG4RjwuxcAoKfM+U8yMOGELi+TRif7MtKEms6piGkEExECACkCGyMGCwkIBwMC
     BBUCCAMEFgIDAQIeAQIXgAIZAQUCUZSROgUJFTchqgAKCRCMcY07UHLh9YtAAJ9X
     rA/ymlmozPZn+A9ls8/uwMcTsQCfaQMNq1dNkhH2kyByc3Rx9/W2xfqJARwEEAEC
     AAYFAlAS6+UACgkQ8aIC+GoXHivrWwf/dtLk/x+NC2VMDlg+vOeM0qgG1IlhXZfi
     NsEisvvGaz4m8fSFRGe+1bvvfDoKRhxiGXU48RusjixzvBb6KTMuY6JpOVfz9Dj3
     H9spYriHa+i6rYySXZIpOhfLiMnTy7NH2OvYCyNzSS/ciIUACIfH/2NH8zNT5CNF
     1uPNRs7HsHzzz7pOlTjtTWiF4cq/Ij6Z6CNrmdj+SiMvjYN9u6sdEKGtoNtpycgD
     5HGKR+I7Nd/7v56yhaUe4FpuvsNXig86K9tI6MUFS8CUyy7Hj3kVBZOUWVBM053k
     nGdALSygQr50DA3jMGKVl4ZnHje2RVWRmFTr5YWoRTMxUSQPMLpBNIkBHAQQAQIA
     BgUCU1B+vQAKCRAohbcD0zcc8dWwCACWXXWDXIcAWRUw+j3ph8dr9u3SItljn3wB
     c7clpclKWPuLvTz7lGgzlVB0s8hH4xgkSA+zLzl6u56mpUzskFl7f1I3Ac9GGpM4
     0M5vmmR9hwlD1HdZtGfbD+wkjlqgitNLoRcGdRf/+U7x09GhSS7Bf339sunIX6sM
     gXSC4L32D3zDjF5icGdb0kj+3lCrRmp853dGyA3ff9yUiBkxcKNawpi7Vz3D2ddU
     pOF3BP+8NKPg4P2+srKgkFbd4HidcISQCt3rY4vaTkEkLKg0nNA6U4r0YgOa7wIT
     SsxFlntMMzaRg53QtK0+YkH0KuZR3GY8B7pi+tlgycyVR7mIFo7riQEcBBABCAAG
     BQJWgVd0AAoJEEZu4b/gk4UKk9MH/Rnt7EccPjSJC5CrB2AU5LY2Dsr+PePI2ubP
     WsEdG82qSjjGpbhIH8LSg/PzQoGHiFWMmmZWJktRT+dcgLbs3b2VwCNAwCE8jOHd
     UkQhEowgomdNvHiBHKHjP4/lF68KOPiO/2mxYYkmpM7BWf3kB57DJ5CTi3/JLoN7
     zF40qIs/p09ePvnwStpglbbtUn7XPO+1/Ee8VHzimABom52PkQIuxNiVUzLVn3bS
     Wqrd5ecuqLk6yzjPXd2XhDHWC9Twpl68GePru6EzQtusi0m6S/sHgEXqh/IxrFZV
     JlljF75JvosZq5zeulr0i6kOij+Y1p6MFffihITZ1gTmk+CLvK2JASIEEAECAAwF
     Ak53QS4FAwASdQAACgkQlxC4m8pXrXwJ8Qf/be/UO9mqfoc2sMyhwMpN4/fdBWwf
     LkA12FXQDOQMvwH9HsmEjnfUgYKXschZRi+DuHXe1P7l8G2aQLubhBsQf9ejKvRF
     TzuWMQkdIq+6Koulxv6ofkCcv3d1xtO2W7nb5yxcpVBPrRfGFGebJvZa58DymCNg
     yGtAU6AOz4veavNmI2+GIDQsY66+tYDvZ+CxwzdYu+HDV9HmrJfc6deM0mnBn7SR
     jqzxJPgoTQhihTav6q/R5/2p5NvQ/H84OgS6GjosfGc2duUDzCP/kheMRKfzuyKC
     OHQPtJuIj8++gfpHtEU7IDUX1So3c9n0PdpeBvclsDbpRnCNxQWU4mBot4kBIgQQ
     AQIADAUCToi2GQUDABJ1AAAKCRCXELibyletfLZAB/9oRqx+NC98UQD/wlxCRytz
     vi/MuPnbgQUPLHEap10tvEi33S/H/xDR/tcGofY4cjAvo5skZXXeWq93Av7PACUb
     zkg0X0eSr2oL6wy66xfov72AwSuX+iUK68qtKaLqRLitM02y8aNRV/ggKvt7UMvG
     mOvs5yLaYlobyvGaFC2ClfkNOt2MlVnQZCmnYBCwOktPGkExiu2yZMifcYGxQcpH
     KVFG59KeF2cM2d4xYM8HJqkSGGW306LFVSyeRwG+wbttgLpD5bM/T2b3fF/J35ra
     CSMLZearRTq8aygPl+XM7MM2eR946aw6jmOsgNBErbvvIdQj6LudAZj+8imcXV2K
     iQEiBBABAgAMBQJOmdnRBQMAEnUAAAoJEJcQuJvKV618AvIIAIEF1ZJ+Ry7WOdKF
     5oeQ/ynaYUigzN92fW/9zB8yuQlngkFJGidYMbci1tR1siziIVJFusR3ZonqAPGK
     /SUta9Y6KWLhmc7c5UnEHklq/NfdMZ2WVSIykXlctqw0sbb+z1ecEd4G8u9j5ill
     MO1B36rQayYAPoeXLX8dY4VyFLVGaQ00rWQBYFZrpw16ATWbWGJP332NSfCk4zZq
     6kXEW07q0st3YBgAAGdNQyEeZCa4d4pBRSX6189Kjg6GDnIcaiOF6HO6PLr9fRlL
     r5ObCgU+G9gEhfiVwDEV9E+7/Bq2pYZ9whhkBqWQzdpXTNTM24uaEhE01EPO5zeC
     O214q6mJASIEEAECAAwFAk6rpgEFAwASdQAACgkQlxC4m8pXrXzAhwf/f9O99z16
     3Y5FZVIxexyqXQ/Mct9uKHuXEVnRFYbA49dQLD4S73N+zN7gn9jFeQcBo4w8qVUV
     94U/ta/VbLkdtNREyplPM4XY8YE5Wfd9bfyg3q1PbEiVjk995sBF+2+To99YYKst
     gXPqjlH0jUfEyDmexOj+hsp8Rc63kvkIx36VBa4ONRYFefGAhKDMigL2YAhc1UkG
     tkGTuLmlCGwIV6lviDZD3RJf5375VFnaHv7eXfwQxCwE+BxG3CURrjfxjaxMTmMP
     yAG2rhDp5oTUEvqDYNbko5UxYOmrSjvF4FzXwqerElXJUkUzSh0pp7RxHB/1lCxD
     s7D1F1hlgFQuNIkBIgQQAQIADAUCTrzZHAUDABJ1AAAKCRCXELibyletfMUpB/4s
     07dREULIBnA1D6qr3fHsQJNZqbAuyDlvgGGLWzoyEDs+1JMFFlaa+EeLIo1386GU
     2DammDC23p3IB79uQhJeD2Z1TcVg4cA64SfF/CHca5coeRSrdAiudzU/cgLGtXIP
     /OaFamXgdMxAhloLFbSHPCZkyb00phVa8+xeIVDrK1HByZsNIXy/SSK8U26S2PVZ
     2o14fWvKbJ1Aga8N6DuWY/D8P2mi3RAbiuZgfzkmKL5idH/wSKfnFKdTgJzssdCc
     1jZEGVk5rFYcWOrJARHeP/tsnb/UxKBEsNtO7e3N2e/rLVnEykVIO066hz7xZK/V
     NBSpx3k3qj4XPK41IHy2iQEiBBABAgAMBQJOzqO8BQMAEnUAAAoJEJcQuJvKV618
     2twH/0IzjXLxN45nvIfEjC75a+i9ZSLlqR8lsHL4GpEScFKI0a0lT4IVAIY2RKG+
     MAs2eHm0UfKuwGs5jluRZ9RqKrc61sY0XQV9/7znY9Db16ghX04JjknOKs/fPi87
     rvKkB/QxJWS8qbb/erRmW+cPNjbRxTFPS5JIwFWHA16ieFEpvdAgKV6nfvJVTq1r
     jPDcnIA9CJN2SmUFx9Qx3SRc6ITbam1hjFnY6sCh6AUhxLI2f1mq1xH9PqEy42Um
     68prRqTyJ7Iox1g/UDDkeeUcAg7T1viTz7uXpS3Wrq4zzo4yOpaJfLDR3pI5g2Zk
     SNGTMo6aySE4OABt8i1Pc1Pm6AmJASIEEAECAAwFAk7yPFYFAwASdQAACgkQlxC4
     m8pXrXzXiAf9FrXe0lgcPM+tYOWMLhv5gXJi2VUBaLxpyRXm/kJcmxInKq1GCd3y
     D4/FLHNu3ZcCz/uklPAbZXWI0O6ewq0LWsRtklmJjWiedH+hGyaTv95VklojRIBd
     8nBaJ6M98rljMBHTFwWvjQFVf4FLRJQZqHlvjcCkq2Dd9BWJpGXvr/gpKkmMJYNK
     /ftfZRcChb35NI19WRpOhj9u808OPcqKVvZBcPwFGV5cEBzmAC94J7JcD8+S8Ik8
     iUJMQGGL3QcmZOBozovh86hj7KTSEBHlLXl832z89H1hLeuLbnXoGLv3zeUFSxkv
     1h35LhZLqIMDQRXLuUzxGHMBpLhPyGWRJ4kBIgQQAQIADAUCTwQJFwUDABJ1AAAK
     CRCXELibyletfABvB/9Cy69cjOqLGywITs3Cpg//40jmdhSAVxilJivP6J5bubFH
     DJlVTx541Dv5h4hTG2BQuueQ4q1VCpSGW+rHcdhPyvmZGRz1rxdQQGh1Dv0Bod2c
     3PJVSYPSrRSwCZJkJHOtVRBdjK4mkZb5aFTza+Tor9kxzj4FcXVd4KAS+hHQHYHc
     Ar8tt2eOLzqdEFTULeGiSoNn+PVzvzdfhndphK+8F2jfQ2UKuc01O7k0Yn9xZVx0
     OG6fE1gStzLv7C5amWLRd8+xh+MN0G8MgNglpBoExsEMMlPBYSUHa6lxpdMNMuib
     rIyVncE9X8QOhImt8K0sNn/EdbuldJNGYbDLt7O4iQEiBBABAgAMBQJPFdTcBQMA
     EnUAAAoJEJcQuJvKV6184owH+wZ/uLpezXnSxigeH1sig72QEXMrNd5DVHCJdig3
     bo+K5YmmN710/m5z+63XKUEWpd6/knajObgckThzWftNeK1SSFQGPmoYZP9EZnSU
     7L+/dSUpExbj842G5LYagrCyMGtlxRywWEmbi72TKS/JOK0jLiOdvVy+PHrZSu0D
     TVQ7cJh1BmPsbz7zzxjmcI5l+7B7K7RHZHq45nDLoIabwDacj7BXvBK0Ajqz4QyJ
     GQUjXC7q+88I+ptPvOXlE5nI/NbiCJOMI6d/bWN1KwYrC80fZuFaznfQFcPyUaDw
     yRaun+K3kEji2wXecq+yMmLUEp01TKsUeOL50HD6hHH07W+JASIEEAECAAwFAk85
     bQsFAwASdQAACgkQlxC4m8pXrXwKPQgAlkbUsTr7nkq+haOk0jKpaHWEbRMEGMrB
     I3F7E+RDO6V/8y4Jtn04EYDc8GgZMBah+mOgeINq3y8jRMYV5jVtZXv2MWYFUcjM
     kVBKeqhi/pGEjmUdmdt3DlPv3Z+fMTMRmAocI981iY/go8PVPg/+nrR6cFK2xxnO
     R8TacikJBFeSfkkORg1tDzjjYv1B5ZIEkpplepl5ahJBBq7cpYhTdY6Yk0Sz0J8w
     EdffLSaNxrRuWLrRhWzZU7p9bFzfb/7OHc21dJnB7wKv5VvtgE+jiQw9tOKaf5hc
     SgRYuF6heu+B25gc5Uu88lo409mZ7oxQ6hDCn7JHvzh0rhmSN+Kid4kBIgQQAQIA
     DAUCT0qQrQUDABJ1AAAKCRCXELibyletfC9UB/4o2ggJYM0CLxEpP0GU8UKOh3+/
     zm1DN7Qe4kY2iCtF1plKHQaTgt5FlgRCFaiXcVv7WzGz/FnmxonR1leLl+kfRlwy
     PPnoI/AWPCy/NO4Cl5KnjsSmsdDUpObwZ4KYsdilZR7ViJu2swdAIgnXBUwrlRJR
     7CK4TAKrTeonRgVSrVx8Vt//8/cYj73CLq8oY/KK0iHiQrSwo44uyhdiFIAssjyX
     n6/2E+w0zgvPexNSNNROHQ8pjbq+NTY6GwKIGsaej3UTRwQ7psvKXz8y7xdzmOAr
     /khGvxB5gjkx02pimjeia8v66aH6rbnojJMAovNUS4EHdHnulv4rovC8Kf9iiQEi
     BBABAgAMBQJPVdsaBQMAEnUAAAoJEJcQuJvKV618vVEIALFXPBzcAO1SnQarBLzy
     YMVZZumPvSXKnUHAO+6kjApXPJ+qFRdUaSNshZxVKY9Zryblu4ol/fLUTt0CliSD
     IxD6L4GXEm4VYYCl4lPO3bVsJnGITLFwQGHM27EmjVoTiD8Ch7kPq2EXr3dMRgzj
     pdz+6aHGSUfOdLTPXufDvW83bEWGaRVuTJKw+wIrcuRqQ+ucWJgJGwcE4zeHjZad
     Jx1XUm1X+BbI73uiQussyjhhQVVNU7QEdrjyuscaZ/H38wjUwNbylxDPB4I8quC1
     knQ0wSHr7gKpM+E9nhiS14poRqU18u78/sJ2MUPXnQA6533IC238/LP8JgqB+BiQ
     BTSJASIEEAECAAwFAk9ng3cFAwASdQAACgkQlxC4m8pXrXxQRAf/UZlkkpFJj1om
     9hIRz7gS+l7YvTaKSzpo+TBcx3C7aqKJpir6TlMK9cb9HGTHo2Xp1N3FtQL72NvO
     6CcJpBURbvSyb4i0hrm/YcbUC4Y3eajWhkRS3iVfGNFbc/rHthViz0r6Y5lhXX16
     aVkDv5CIFWaF3BiUK0FnHrZiy4FPacUXCwEjv3uf8MpxV5oEmo8Vs1h4TL3obyUz
     qrImFrEMYE/12lkE8iR5KWCaF8eFyl56HL3PPl90JMQBXzhwsFoWCPuwjfM5w6sW
     Ll//zynwxtlJ9CRz9c2vK6aJ8DRu3OfBKN1iiEcNEynksDnNXErn5xXKz3p5pYdq
     e9BLzUQCDYkBIgQQAQIADAUCT3inRgUDABJ1AAAKCRCXELibyletfGMKCADJ97qk
     geBntQ+tZtKSFyXznAugYQmbzJld8U6eGSQnQkM40Vd62UZLdA8MjlWKS8y4A4L2
     0cI14zs5tKG9Q72BxQOw5xkxlLASw1/8WeYEbw7ZA+sPG//q9v3kIkru3sv64mMA
     enZtxsykexRGyCumxLjzlAcL1drWJGUYE2Kl6uzQS7jb+3PNBloQvz6nb3YRZ+Cg
     Ly9D41SIK+fpnV8r4iqhu7r4LmAQ7Q1DF9aoGaYvn2+xLGyWHxJAUet4xkMNOLp6
     k9RF1nbNe4I/sqeCB25CZhCTEvHdjSGTD2yJR5jfoWkwO9w8DZG1Q9WrWqki4hSB
     l0cmcvO34pC1SJYziQEiBBABAgAMBQJPinQFBQMAEnUAAAoJEJcQuJvKV618CFEI
     AJp5BbcV7+JBMRSvkoUcAWDoJSP2ug9zGw5FB8J90PDefKWCKs5Tjayf2TvM5ntq
     5DE9SGaXbloIwa74FoZlgqlhMZ4AtY9Br+oyPJ5S844wpAmWMFc6NnEPFaHQkQ+b
     dJYpRVNd9lzagJP261P3S+S9T2UeHVdOJBgWIq9Mbs4lnZzWsnZfQ4Lsz0aPqe48
     tkU8hw+nflby994qIwNOlk/u+I/lJbNz5zDY91oscXTRl2jV1qBgKYwwCXxyB3j9
     fyVpRl+7QnqbTWcCICVFL+uuYpP0HjdoKNqhzEguAUQQLOB9msPTXfa2hG+32ZYg
     5pzI5V7GCHq0KO6u5Ctj3TGJASIEEAECAAwFAk+cQEEFAwASdQAACgkQlxC4m8pX
     rXzi7AgAx8wJzNdD7UlgdKmrAK//YqH7arSssb33Xf45sVHDpUVA454DXeBrZpi+
     zEuo03o5BhAuf38cwfbkV6jN1mC2N0FZfpy4v7RxHKLYr7tr6r+DRn1L1giX5ybx
     CgY0fLAxkwscWUKGKABWxkz9b/beEXaO2rMt+7DBUdpAOP5FNRQ8WLRWBcMGQiaT
     S4YcNDAiNkrSP8CMLQP+04hQjahxwCgBnksylciqz3Y5/MreybNnTOrdjVDsF0Oe
     t0uLOiWXUZV1FfaGIdb/oBQLg+e1B74p5+q3aF8YI97qAZpPa1qiQzWIDX8LX9QX
     EFyZ3mvqzGrxkFoocXleNPgWT8fRuokBIgQQAQIADAUCT64N/QUDABJ1AAAKCRCX
     ELibyletfDOGCACKfcjQlSxrWlEUrYYZpoBP7DE+YdlIGumt5l6vBmxmt/5OEhqr
     +dWwuoiyC5tm9CvJbuZup8anWfFzTTJmPRPsmE4z7Ek+3CNMVM2wIynsLOt1pRFK
     4/5RNjRLbwI6EtoCQfpLcZJ//SB56sK4DoFKH28Ok4cplESPnoMqA3QafdSEA/FL
     qvZV/iPgtTz7vjQkMgrXAIUM4fvKe3iXkAExGXtmgdXHVFoKmHrxJ2DTSvM7/19z
     jGJeu2MhIKHyqEmCk6hLjxyCE5pAH59KlbAQOP1bS28xlRskBApm2wN+LOZWzC62
     HhEReQ50inCGuuubK0PqUQnyYc+lUFxrFpcliQEiBBABAgAMBQJPv9lVBQMAEnUA
     AAoJEJcQuJvKV618AzgH/iRFFCi4qjvoqji1fi7yNPZVOMMO2H13Ks+AfcjRtHuV
     aa30u50ND7TH+XQe6yerTapLh3aAm/sNP99aTxIuwRSlyKEoDs93+XVSgRqPBgbF
     /vxv0ykok3p6L9DxFO/w5cL8JrBhMZoJrEkIBFkwN8tWlcXPRFQvcdBYv3M3DTZU
     qY+UHnOxHvSzsl+LJ0S9Xcd9C5bvYfabmYJvG5eRS3pj1L/y3a6yw6hvY+JtnQAk
     t05TdeHMIgQH/zb8V9wxDzmE0un8LyoC2Jx5TpikQsJSejwK6b3coxVBlngku6+C
     qDAimObZLw6H9xYYIK0FoJs7j5bQZEwUO7OLBgjcMOqJASIEEAECAAwFAk/Rpc8F
     AwASdQAACgkQlxC4m8pXrXw49Qf/TdNbun2htQ+cRWarszOx8BLEiW/x6PVyUQpZ
     nV/0qvhKzlJUjM9hQPcA0AsOjhqtCN6Cy8KXbK/TvPm9D/Nk6HWwD1PomzrJVFk2
     ywGFIuTR+lluKSp7mzm5ym0wJs5cPq731Im31RUQU8ndjLrq9YOf5FVL8NqmcOAU
     4E8d68BbmVCQC5MMr0901FKwKznShfpy7VYN25/BASj8dhnynBYQErqToOJB6Cnd
     JhdTlbfR4SirqAYZZg3XeqGhByytEHE1x7FMWWFYhdNtsnAVhYBbWqAzBs8lF9Jd
     Mhaf0VQU/4z10gVrRtXLR/ixrCi+P4cM/fOQkqd6pwqWkaXt6okBIgQQAQIADAUC
     T+NxIAUDABJ1AAAKCRCXELibyletfFBBCAC6+0TUJDcNaqOxOG1KViY6KYg9NCL8
     pwNK+RKNK/N1V+WGJQH7qDMwRoOn3yogrHax4xIeOWiILrvHK0O6drS1DjsymIhR
     Sm2XbE/8pYmEbuJ9vHh3b/FTChmSAO7dDjSKdWD3dvaY8lSsuDDqPdTX8FzOfrXC
     M22C/YPg7oUG2A5svE1b+yismP4KmVNWAepEuPZcnEMPFgop3haHg9X2+mj/btDB
     Yr6p9kAgIY17nigtNTNjtI0dMLu43aIzedCYHqOlNHiB049jkJs54fMGBjF9qPtc
     m0k44xyKd1/JXWMdNUmtwKsChAXJS3YOciMgIx6tqYUTndrP4I6q1rfriQEiBBAB
     AgAMBQJP9T1VBQMAEnUAAAoJEJcQuJvKV618J9wIAI1lId9SMbEHF6PKXRe154lE
     pap5imMU/lGTj+9ZcXmlf8o2PoMMmb3/E1k+EZUaeSBoOmjS8C2gwd5XFwRrlwAD
     RlK/pG5XsL4h5wmN2fj1ororrJXvqH427PLRQK9yzdwG4+9HTBOxjoS8qZT9plyK
     AJZzAydAMqyseRHgNo0vMwlgrs4ojo+GcFGQHrF3IaUjvVfUPOmIj7afopFdIZmI
     GaSF0TXBzqcZ1chFv/eTBcIuIKRvlaDee5FgV7+nLH2nKOARCLvV/+8uDi2zbr83
     Ip5x2tD3XuUZ0ZWxD0AQWcrLdmGb4lkxbGxvCtsaJHaLXWQ2m760RjIUcwVMEBKJ
     ASIEEAECAAwFAlAGYWsFAwASdQAACgkQlxC4m8pXrXwyVAgAvuvEl6yuGkniWOlv
     uHEusUv/+2GCBg6qV+IEpVtbTCCgiFjYR5GasSp1gpZ5r4BocOlbGdjdJGHTpyK8
     xD1i+6qZWUYhNRg2POXUVzcNEl2hhouwPLOifcmTwAKU76TEv3L5STviL3hWgUR2
     yEUZ3Ut0IGVV6uPER9jpR3qd6O3PeuFkwf+NaGTye4jioLAy3aYwtZCUXzvYmNLP
     90K4y+5yauZteLmNeq26miKC/NQu4snNFClPbGRjHD1ex9KDiAMttOgN4WEq7srT
     rYgtT531WY4deHpNgoPlHPuAfC0H+S6YWuMbgfcb6dV+Rrd8Ij6zM3B/PcjmsYUf
     OPdPtIkBIgQQAQIADAUCUBgtfQUDABJ1AAAKCRCXELibyletfAm3CACQlw21Lfeg
     d8RmIITsfnFG/sfM3MvZcjVfEAtsY3fTK9NiyU0B3yX0PU3ei37qEW+50BzqiStf
     5VhNvLfbZR+yPou7o2MAP31mq3Uc6grpTV64BRIkCmRWg40WMjNI1hv7AN/0atgj
     ATYQXgnEw7mfFb0XZtMTD6cmrz/A9nTPVgZDxzopOMgCCC1ZK4Vpq9FKdCYUaHpX
     3sqnDf+gpVIHkTCMgWLYQOeX5Nl+fgnq6JppaQ3ySZRUDr+uFUs0uvDRvI/cn+ur
     ri92wdDnczjFumKvz/cLJAg5TG2Jv1Jx3wecALsVqQ3gL7f7vr1OMaqhI5FEBqdN
     29L9cZe/ZmkriQEiBBIBCgAMBQJVoNxyBYMHhh+AAAoJEEoz7NUmyPxLD1EH/2eh
     7a4+8A1lPLy2L9xcNt2bifLfFP2pEjcG6ulBoMKpHvuTCgtX6ZPdHpM7uUOje/F1
     CCN0IPB533U1NIoWIKndwNUJjughtoRM+caMUdYyc4kQm29Se6hMPDfyswXE5Bwe
     PmoOm4xWPVOH/cVN04zyLuxdlQZNQF/nJg6PMsz4w5z+K6NGGm24NEPcc72iv+6R
     Uc/ry/7v5cVu4hO5+r104mmNV5yLecQF13cHy2JlngIHXPSlxTZbeJX7qqxE7TQh
     5nviSPgdk89oB5jFSx4g1efXiwtLlP7lbDlxHduomyQuH9yqmPZMbkJt9uZDc8Zz
     MYsDDwlc7BIe5bGKfjqJAhwEEAECAAYFAlSanFIACgkQdzHqU52lcqLdvg//cAEP
     qdN5VTKWEoDFjDS4I6t8+0KzdDWDacVFwKJ8RAo1M2SklDxnIvnzysZd2VHp5Pq7
     i4LYCZo5lDkertQ6LwaQxc4X6myKY4LTA652ObFqsSfgh9kW+aJBBAyeahPQ8CDD
     +Yl23+MY5wTsj4qt7KffNzy78vLbYnVnvRQ3/CboVix0SRzg0I3Oi7n3B0lihvXy
     5goy9ikjzZevejMEfjfeRCgoryy9j5RvHH9PF3fJVtUtHCS4f+kxLmbQJ1XqNDVD
     hlFzjz8oUzz/8YXy3im5MY7Zuq4P4wWiI7rkIFMjTYSpz/evxkVlkR74qOngT2pY
     VHLyJkqwh56i0aXcjMZiuu2cymUt2LB9IsaMyWBNJjXr2doRGMAfjuR5ZaittmML
     yZwix9mWVk7tkwlIxmT/IW6Np0qMhDZcWYqPRpf7+MqY3ZYMK4552b8aDMjhXrnO
     OwLsz+UI4bZa1r9dguIWIt2C2b5C1RQ9AsQBPwg7h5P+HhRuFAuDKK+vgV8FRuzR
     JeKkFqwB4y0Nv7BzKbFKmP+V+/krRv+/Dyz9Bz/jyAQgw02u1tPupH9BGhlRyluN
     yCJFTSNj7G+OLU0/l4XNph5OOC7sy+AMZcsL/gsT/TXCizRcCuApNTPDaenACpbv
     g8OoIzmNWhh4LXbAUHCKmY//hEw9PvTZA1xKHgyJAhwEEgECAAYFAlJYsKQACgkQ
     oirk60MpxUV2XQ//b2/uvThkkbeOegusDC4AZfjnL/V3mgk4iYy4AC9hum0R9oNl
     XDR51P1TEw9mC1btHj+7m7Iq1a5ke5wIC7ENZiilr0yPqeWgL5+LC98dz/L85hqA
     wIoGeOfMhrlaVbAZEj4yQTAJDA35vZHVsQmp87il0m+fZX04OBLXBzw86EoAAZ7Q
     EoH4qFcT9k1T363tvNnIm3mEvkQ5WjE1R9uchJa1g7hdlNQlVkjFmPZrJK9fl4z5
     6Dto89Po4Sge48jDH0pias4HATYHsxW819nz5jZzGcxLnFRRR5iITVZi9qzsHP7N
     bUh3qxuWCHS9xziXpOcSZY848xXw63Y5jDJfpzupzu/KHj6CzXYJUEEqp9MluoGb
     /BCCEPzdZ0ovyxFutM/BRcc6DvE6sTDF/UES21ROqfuwtJ6qJYWX+lBIgyCJvj4o
     RdbzxUleePuzqCzmwrIXtoOKW0Rlj4SCeF9yCwUMBTGW5/nCLmN4dwf1KW2RP2Eg
     4ERbuUy7QnwRP5UCl+0ISZJyYUISfg8fmPIdQsetUK9Cj+Q5jpB2GXwELXWnIK6h
     K/6jXp+EGEXSqdIE53vAFe7LwfHiP/D5M71D2h62sdIOmUm3lm7xMOnM5tKlBiV+
     4jJSUmriCT62zo710+6iLGqmUUYlEll6Ppvo8yuanXkYRCFJpSSP7VP0bBqIZgQT
     EQIAJgUCTnc9dgIbIwUJEPPzpwYLCQgHAwIEFQIIAwQWAgMBAh4BAheAAAoJEIxx
     jTtQcuH1Ut4AoIKjhdf70899d+7JFq3LD7zeeyI0AJ9Z+YyE1HZSnzYi73brScil
     bIV6sbQ7TXlTUUwgUGFja2FnZSBzaWduaW5nIGtleSAod3d3Lm15c3FsLmNvbSkg
     PGJ1aWxkQG15c3FsLmNvbT6IbwQwEQIALwUCTnc9rSgdIGJ1aWxkQG15c3FsLmNv
     bSB3aWxsIHN0b3Agd29ya2luZyBzb29uAAoJEIxxjTtQcuH1tT0An3EMrSjEkUv2
     9OX05JkLiVfQr0DPAJwKtL1ycnLPv15pGMvSzav8JyWN3IhlBBMRAgAdBQJHrJS0
     BQkNMFioBQsHCgMEAxUDAgMWAgECF4AAEgkQjHGNO1By4fUHZUdQRwABAa6SAJ9/
     PgZQSPNeQ6LvVVzCALEBJOBt7QCffgs+vWP18JutdZc7XiawgAN9vmmITAQTEQIA
     DAUCPj6j0QWDCWYAuwAKCRBJUOEqsnKR8iThAJ9ZsR4o37dNGyl77nEqP6RAlJqa
     YgCeNTPTEVY+VXHR/yjfyo0bVurRxT2ITAQTEQIADAUCPkKCAwWDCWIiiQAKCRC2
     9c1NxrokP5aRAKCIaaegaMyiPKenmmm8xeTJSR+fKQCgrv0TqHyvCRINmi6LPucx
     GKwfy7KIRgQQEQIABgUCP6zjrwAKCRCvxSNIeIN0D/aWAKDbUiEgwwAFNh2n8gGJ
     Sw/8lAuISgCdHMzLAS26NDP8T2iejsfUOR5sNriIRgQQEQIABgUCP7RDdwAKCRCF
     lq+rMHNOZsbDAJ0WoPV+tWILtZG3wYqg5LuHM03faQCeKuVvCmdPtro06xDzeeTX
     VrZ14+GIRgQQEQIABgUCQ1uz6gAKCRCL2C5vMLlLXH90AJ0QsqhdAqTAk3SBnO2w
     zuSOwiDIUwCdFExsdDtXf1cL3Q4ilo+OTdrTW2CIRgQTEQIABgUCRPEzJgAKCRD2
     ScT0YJNTDApxAKCJtqT9LCHFYfWKNGGBgKjka0zi9wCcCG3MvnvBzDUqDVebudUZ
     61Sont+ITAQQEQIADAUCQYHLAQWDBiLZiwAKCRAYWdAfZ3uh7EKNAJwPywk0Nz+Z
     Lybw4YNQ7H1UxZycaQCePVhY4P5CHGjeYj9SX2gQCE2SNx+ITAQQEQIADAUCQYHL
     NAWDBiLZWAAKCRCBwvfr4hO2kiIjAJ0VU1VQHzF7yYVeg+bh31nng9OOkwCeJI8D
     9mx8neg4wspqvgXRA8+t2saITAQQEQIADAUCQYHLYgWDBiLZKgAKCRBrcOzZXcP0
     cwmqAJsFjOvkY9c5eA/zyMrOZ1uPB6pd4QCdGyzgbYb/eoPu6FMvVI9PVIeNZReI
     TAQQEQIADAUCQdCTJAWDBdQRaAAKCRB9JcoKwSmnwmJVAKCG9a+Q+qjCzDzDtZKx
     5NzDW1+W+QCeL68seX8OoiXLQuRlifmPMrV2m9+ITAQQEQIADAUCQitbugWDBXlI
     0gAKCRDmG6SJFeu5q/MTAKCTMvlCQtLKlzD0sYdwVLHXJrRUvgCffmdeS6aDpwIn
     U0/yvYjg1xlYiuqITAQSEQIADAUCQCpZOgWDB3pLUgAKCRA8oR80lPr4YSZcAJwP
     4DncDk4YzvDvnRbXW6SriJn1yQCdEy+d0CqfdhM7HGUs+PZQ9mJKBKqITAQSEQIA
     DAUCQD36ugWDB2ap0gAKCRDy11xj45xlnLLfAKC0NzCVqrbTDRw25cUss14RRoUV
     PACeLpEc3zSahJUB0NNGTNlpwlTczlCITAQSEQIADAUCQQ4KhAWDBpaaCAAKCRA5
     yiv0PWqKX/zdAJ4hNn3AijtcAyMLrLhlZQvib551mwCgw6FEhGLjZ+as0W681luc
     wZ6PzW+ITAQSEQIADAUCQoClNAWDBSP/WAAKCRAEDcCFfIOfqOMkAJwPUDhS1eTz
     gnXclDKgf353LbjvXgCeLCWyyj/2d0gIk6SqzaPl2UcWrqiITAQTEQIADAUCPk1N
     hAWDCVdXCAAKCRAtu3a/rdTJMwUMAKCVPkbk1Up/kyPrlsVKU/Nv3bOTZACfW5za
     HX38jDCuxsjIr/084n4kw/uITAQTEQIADAUCQdeAdgWDBc0kFgAKCRBm79vIzYL9
     Pj+8AJ9d7rvGJIcHzTCSYVnaStv6jP+AEACeNHa5yltqieRBCCcLcacGqYK81omI
     TAQTEQIADAUCQhiBDgWDBYwjfgAKCRB2wQMcojFuoaDuAJ9CLYdysef7IsW42UfW
     hI6HjxkzSgCfeEpXS4hEmmGicdpRiJQ/W21aB0GIZQQTEQIAHQULBwoDBAMVAwID
     FgIBAheABQJLcC/KBQkQ8/OnABIHZUdQRwABAQkQjHGNO1By4fWw2wCeJilgEarL
     8eEyfDdYTyRdqE45HkoAnjFSZY8Zg/iXeErHI0r04BRukNVgiHsEMBECADsFAkJ3
     NfU0HQBPb3BzLi4uIHNob3VsZCBoYXZlIGJlZW4gbG9jYWwhIEknbSAqc28qIHN0
     dXBpZC4uLgAKCRA5yiv0PWqKX+9HAJ0WjTx/rqgouK4QCrOV/2IOU+jMQQCfYSC8
     JgsIIeN8aiyuStTdYrk0VWCIjwQwEQIATwUCRW8Av0gdAFNob3VsZCBoYXZlIGJl
     ZW4gYSBsb2NhbCBzaWduYXR1cmUsIG9yIHNvbWV0aGluZyAtIFdURiB3YXMgSSB0
     aGlua2luZz8ACgkQOcor9D1qil+g+wCfcFWoo5qUl4XTE9K8tH3Q+xGWeYYAnjii
     KxjtOXc0ls+BlqXxbfZ9uqBsiQIiBBABAgAMBQJBgcuFBYMGItkHAAoJEKrj5s5m
     oURoqC8QAIISudocbJRhrTAROOPoMsReyp46Jdp3iL1oFDGcPfkZSBwWh8L+cJjh
     dycIwwSeZ1D2h9S5Tc4EnoE0khsS6wBpuAuih5s//coRqIIiLKEdhTmNqulkCH5m
     imCzc5zXWZDW0hpLr2InGsZMuh2QCwAkB4RTBM+r18cUXMLV4YHKyjIVaDhsiPP/
     MKUj6rJNsUDmDq1GiJdOjySjtCFjYADlQYSD7zcd1vpqQLThnZBESvEoCqumEfOP
     xemNU6xAB0CL+pUpB40pE6Un6Krr5h6yZxYZ/N5vzt0Y3B5UUMkgYDSpjbulNvaU
     TFiOxEU3gJvXc1+h0BsxM7FwBZnuMA8LEA+UdQb76YcyuFBcROhmcEUTiducLu84
     E2BZ2NSBdymRQKSinhvXsEWlH6Txm1gtJLynYsvPi4B4JxKbb+awnFPusL8W+gfz
     jbygeKdyqzYgKj3M79R3geaY7Q75Kxl1UogiOKcbI5VZvg47OQCWeeERnejqEAdx
     EQiwGA/ARhVOP/1l0LQA7jg2P1xTtrBqqC2ufDB+v+jhXaCXxstKSW1lTbv/b0d6
     454UaOUV7RisN39pE2zFvJvY7bwfiwbUJVmYLm4rWJAEOJLIDtDRtt2h8JahDObm
     3CWkpadjw57S5v1c/mn+xV9yTgVx5YUfC/788L1HNKXfeVDq8zbAiQIiBBMBAgAM
     BQJCnwocBYMFBZpwAAoJENjCCglaJFfPIT4P/25zvPp8ixqV85igs3rRqMBtBsj+
     5EoEW6DJnlGhoi26yf1nasC2frVasWG7i4JIm0U3WfLZERGDjR/nqlOCEqsP5gS3
     43N7r4UpDkBsYh0WxH/ZtST5llFK3zd7XgtxvqKL98l/OSgijH2W2SJ9DGpjtO+T
     iegq7igtJzw7Vax9z/LQH2xhRQKZR9yernwMSYaJ72i9SyWbK3k0+e95fGnlR5pF
     zlGq320rYHgD7v9yoQ2t1klsAxK6e3b7Z+RiJG6cAU8o8F0kGxjWzF4v8D1op7S+
     IoRdB0Bap01ko0KLyt3+g4/33/2UxsW50BtfqcvYNJvU4bZns1YSqAgDOOanBhg8
     Ip5XPlDxH6J/3997n5JNj/nk5ojfd8nYfe/5TjflWNiput6tZ7frEki1wl6pTNbv
     V9C1eLUJMSXfDZyHtUXmiP9DKNpsucCUeBKWRKLqnsHLkLYydsIeUJ8+ciKc+EWh
     FxEY+Ml72cXAaz5BuW9L8KHNzZZfez/ZJabiARQpFfjOwAnmhzJ9r++TEKRLEr96
     taUI9/8nVPvT6LnBpcM38Td6dJ639YvuH3ilAqmPPw50YvglIEe4BUYD5r52Seqc
     8XQowouGOuBX4vs7zgWFuYA/s9ebfGaIw+uJd/56Xl9ll6q5CghqB/yt1EceFEnF
     CAjQc2SeRo6qzx22iEYEEBECAAYFAkSAbycACgkQCywYeUxD5vWDcACfQsVk/XGi
     ITFyFVQ3IR/3Wt7zqBMAoNhso/cX8VUfs2BzxPvvGS3y+5Q9iEYEEBECAAYFAkUw
     ntcACgkQOI4l6LNBlYkyFgCbBcw5gIii0RTDJsdNiuJDcu/NPqEAniSq9iTaLjgF
     HZbaizUU8arsVCB5iEYEEBECAAYFAkWho2sACgkQu9u2hBuwKr6bjwCfa7ZK6O+X
     mT08Sysg4DEoZnK4L9UAoLWgHuYg35wbZYx+ZUTh98diGU/miF0EExECAB0FAj4+
     owwFCQlmAYAFCwcKAwQDFQMCAxYCAQIXgAAKCRCMcY07UHLh9XGOAJ4pVME15/DG
     rUDohtGv2z8a7yv4AgCeKIp0jWUWE525QocBWms7ezxd6syIXQQTEQIAHQUCR6yU
     zwUJDTBYqAULBwoDBAMVAwIDFgIBAheAAAoJEIxxjTtQcuH1dCoAoLC6RtsD9K3N
     7NOxcp3PYOzH2oqzAKCFHn0jSqxk7E8by3sh+Ay8yVv0BYhdBBMRAgAdBQsHCgME
     AxUDAgMWAgECF4AFAkequSEFCQ0ufRUACgkQjHGNO1By4fUdtwCfRNcueXikBMy7
     tE2BbfwEyTLBTFAAnifQGbkmcARVS7nqauGhe1ED/vdgiF0EExECAB0FCwcKAwQD
     FQMCAxYCAQIXgAUCS3AuZQUJEPPyWQAKCRCMcY07UHLh9aA+AKCHDkOBKBrGb8tO
     g9BIub3LFhMvHQCeIOOot1hHHUlsTIXAUrD8+ubIeZaJARwEEgECAAYFAkvCIgMA
     CgkQ3PTrHsNvDi8eQgf/dSx0R9Klozz8iK79w00NOsdoJY0Na0NTFmTbqHg30XJo
     G62cXYgc3+TJnd+pYhYi5gyBixF/L8k/kPVPzX9W0YfwChZDsfTw0iDVmGxOswiN
     jzSo0lhWq86/nEL30Khl9AhCC1XFNRw8WZYq9Z1qUXHHJ2rDARaedvpKHOjzRY0N
     dx6R2zNyHDx2mlfCQ9wDchWEuJdAv0uHrQ0HV9+xq7lW/Q3L/V5AuU0tiowyAbBL
     PPYrB6x9vt2ZcXS7BOy8SfQ1i8W2QDQ/Toork4YwBiv6WCW/ociy7paAoPOWV/Nf
     2S6hDispeecbk7wqpbUj5klDmwrlgB/jmoAXWEnbsYkBIgQQAQIADAUCSSpooAUD
     ABJ1AAAKCRCXELibyletfFOMCACpP+OVZ7lH/cNY+373c4FnSI0/S5PXS0ABgdd4
     BFWRFWKrWBeXBGc8sZfHOzVEwkzV96iyHbpddeAOAkEA4OVPW1MMFCmlHxi2s9/N
     JrSrTPVfQOH5fR9hn7Hbpq/ETw0IoX1FKo7vndMnHZnFEnI+PDXLcdMYQgljYzhT
     xER4vYY0UKu8ekSshUy4zOX7XSJxwqPUvps8qs/TvojIF+vDJvgFYHVkgvS+shp8
     Oh/exg9vKETBlgU87Jgsqn/SN2LrR/Jhl0aLd0G0iQ+/wHmVYdQUMFaCZwk/BKNa
     XPzmGZEUZ3RNbYa19Mo7hcE3js76nh5YMxFvxbTggVu4kdFkiQEiBBABAgAMBQJK
     M06IBQMAEnUAAAoJEJcQuJvKV618F4gH/innejIHffGMk8jYix4ZZT7pW6ApyoI+
     N9Iy85H4L+8rVQrtcTHyq0VkcN3wPSwtfZszUF/0qP6P8sLJNJ1BtrHxLORYjJPm
     gveeyHPzA2oJl6imqWUTiW822fyjY/azwhvZFzxmvbFJ+r5N/Z57+Ia4t9LTSqTN
     HzMUYaXKDaAqzZeK7P0E6XUaaeygbjWjBLQ1O0ezozAy+Kk/gXApmDCGFuHSFe7Z
     mgtFcbXLM2XFQpMUooETD2R8MUsd+xnQsff/k6pQOLxi+jUEsWSr/iqmvlk6gZ4D
     pemBjuhcXYlxJYjUaX9Zmn5s+ofF4GFxRqXoY7l9Z+tCM9AX37lm6S+JASIEEAEC
     AAwFAkpEcgoFAwASdQAACgkQlxC4m8pXrXz2mgf/RQkpmMM+5r8znx2TpRAGHi5w
     ktvdFxlvPaOBWE28NDwTrpcoMqo9kzAiuvEQjVNihbP21wR3kvnQ84rTAH0mlC2I
     uyybggpqwzOUl+Wi0o+vk8ZA0A0dStWRN8uqneCsd1XnqDe1rvqC4/9yY223tLmA
     kPvz54ka2vX9GdJ3kxMWewhrVQSLCktQpygU0dujGTDqJtnk0WcBhVF9T87lv3W2
     eGdPielzHU5trXezmGFj21d56G5ZFK8co7RrTt4qdznt80glh1BTGmhLlzjMPLTe
     dcMusm3D1QB9ITogcG94ghSf9tEKmmRJ6OnnWM5Kn9KcL63E5oj2/lY9H54wSYkB
     IgQQAQIADAUCSlY+RwUDABJ1AAAKCRCXELibyletfOOQB/0dyJBiBjgf+8d3yNID
     pDktLhZYw8crIjPBVdOgX12xaUYBTGcQITRVHSggzffDA5BQXeUuWhpL4QB0uz1c
     EPPwSMiWiXlBtwF5q6RVf3PZGJ9fmFuTkPRO7SruZeVDo9WP8HjbQtOLukYf566e
     grzAYR9p74UgWftpDtmrqrRTobiuvsFBxosbeRCvEQCrN0n+p5D9hCVB88tUPHnO
     WA4mlduAFZDxQWTApKQ92frHiBqy+M1JFezz2OM3fYN+Dqo/Cb7ZwOAA/2dbwS7o
     y4sXEHbfWonjskgPQwFYB23tsFUuM4uZwVEbJg+bveglDsDStbDlfgArXSL/0+ak
     lFcHiQEiBBABAgAMBQJKaAqEBQMAEnUAAAoJEJcQuJvKV618rH0H/iCciD4U6YZN
     JBj0GN7/Xt851t9FWocmcaC+qtuXnkFhplXkxZVOCU4VBMs4GBoqfIvagbBTyfV4
     Di+W8Uxr+/1jiu3l/HvoFxwdwNkGG6zNBhWSjdwQpGwPvh5ryV1OfLX/mgQgdDmx
     vqz5+kFDUj4m7uLaeuU2j1T0lR4zU0yAsbt7J3hwfqJCXHOc9bm5nvJwMrSm+sdC
     TP5HjUlwHr9mTe8xuZvj6sO/w0P4AqIMxjC9W7pT9q0ofG2KSTwt7wFbh05sbG4U
     QYOJe4+Soh3+KjAa1c0cvmIh4cKX9qfCWwhhdeNfh1A9VTHhnl5zTv/UjvnQtjhl
     H/Fq1eBSKcSJASIEEAECAAwFAkp5LgoFAwASdQAACgkQlxC4m8pXrXwY6wgAg3f8
     76L3qDZTYlFAWs3pXBl8GsUr1DEkTlEDZMZKDM3wPmhaWBR1hMA3y6p3aaCUyJIJ
     BEneXzgyU9uqCxXpC78d5qc3xs/Jd/SswzNYuvuzLYOw5wN5L31SLmQTQ8KqE0uo
     RynBmtDCQ4M2UKifSnv+0+3mPh85LVAS481GNpL+VVfCYtKesWNu40+98Yg6L9NG
     WwRTfsQbcdokZo44Jz7Y7f81ObC4r/X1DgPj2+d4AU/plzDcdrbINOyprs+7340e
     cnaGO4Lsgd19b1CvcgJgltRquu3kRvd+Ero2RYpDv6GVK8Ea0Lto4+b/Ae8cLXAh
     QnaWQCEWmw+AU4Jbz4kBIgQQAQIADAUCSo5fvQUDABJ1AAAKCRCXELibyletfA08
     B/9w8yJdc8K+k07U30wR/RUg3Yb2lBDygmy091mVsyB0RGixBDXEPOXBqGKAXiV1
     QSMAXM2VKRsuKahY2HFkPbyhZtjbdTa7Pr/bSnPvRhAh9GNWvvRg2Kp3qXDdjv9x
     ywEghKVxcEIVXtNRvpbqRoKmHzIExvUQck5DM1VwfREeYIoxgs4035WADhVMdngQ
     S2Gt8P2WaU/p8EZhFGg6X8KtOlD68zGboaJe0hj2VDc+Jc+KdjRfE3fW5IToid/o
     DkUaIW6tB3WkXb0g6D/2hrEJbX3headChHKSB8eQdOR9bcCJDhhU8csd501qmrhC
     ctmvlpeWQZdIQdk6sABPWeeCiQEiBBABAgAMBQJKoBJHBQMAEnUAAAoJEJcQuJvK
     V618Ml8H/1D88/g/p9fSVor4Wu5WlMbg8zEAik3BIxQruEFWda6nART6M9E7e+P1
     ++UHZsWYs6l9ROpWxRLG1Yy9jLec2Y3nUtb20m65p+IVeKR2a9PHW35WZDV9dOYP
     GZabKkO1clLeWLVgp9LRjZ+AeRG+ljHqsULXro1dwewLTB/gg9I2vgNv6dKxyKak
     nM/GrqZLATAq2KoaE/u/6lzRFZIzZnLtjZh8X7+nS+V8v9IiY4ntrpkrbvFk30U6
     WJp79oBIWwnW/84RbxutRoEwSar/TLwVRkcZyRXeJTapbnLGnQ/lDO1o1d7+Vbjd
     q/Sg/cKHHf7NthCwkQNsCnHL0f51gZCJASIEEAECAAwFAkqoEAAFAwASdQAACgkQ
     lxC4m8pXrXwE/Af/XD4R/A5R6Ir/nCvKwCTKJmalajssuAcLEa2pMnFZYO/8rzLO
     +Gp8p0qFH9C4LFwA0NvR5q6X/swuROf4zxljSvNcdlQVaAfJ2ZDEgJ5GXzsPplrv
     SAI9jS3LL7fSWDZgKuUe0a4qx7A0NgyGMUYGhP+QlRFa8vWEBI9fANd/0mMqAeBV
     qQyOH0X1FiW1Ca2Jn4NKfuMy9GEvRddVIbB1LvoNVtXPNzeeKMyNb9Jdx1MFWssy
     COBP2DayJKTmjvqPEc/YOjOowoN5sJ/jn4mVSTvvlTooLiReSs6GSCAjMVxN7eYS
     /Oyq6Iu1JDcJvmB8N2WixAZtAVgF8OA7CWXKVYkBIgQQAQIADAUCSrnHiQUDABJ1
     AAAKCRCXELibyletfPChB/9uECti1dZeNuFsd0/RuGyRUVlrrhJE6WCcOrLO9par
     rPbewbKBmjSzB0MygJXGvcC06mPNuquJ7/WpxKsFmfg4vJBPlADFKtgRUy9BLzjC
     eotWchPHFBVW9ftPbaQViSUu7d89NLjDDM5xrh80puDIApxoQLDoIrh3T1kpZx56
     jSWv0gelFUMbXAzmqkJSyL4Xdh1aqzgUbREd7Xf2ICzuh0sV6V7c/AwWtjWEGEsA
     HZaiQDywZwbC18GwrMLiAzGWb/AScFDQRCZKJDjL+Ql8YT6z+ZMVr8gb7CIU5PKY
     dhiIf2UVTQwLAoW7lNRCQQAqcGjK3IMIz7SO/yk4HmVUiQEiBBABAgAMBQJK3gjG
     BQMAEnUAAAoJEJcQuJvKV618jkEH+wb0Zv9z7xQgpLMowVuBFQVu8/z7P5ASumyB
     PUO3+0JVxSHBhlCKQK7n11m1fhuGt2fCxXhSU6LzXj36rsKRY53lGZ9QhvqFUtQH
     3Xb2IQLIJC4UKjG2jSSCdcuA/x98bwp2v7O03rn7ndCS16CwXnRV3geQoNipRKMS
     DajKPpZv1RiZm8pMKqEb8WSw352xWoOcxuffjlsOEwvJ85SEGCAZ9tmIlkZOc7Ai
     QONDvii9b8AYhQ60RIQC0HP2ASSmK0V92VeFPxHmAygdDQgZNVtbVxgnnt7oTNEu
     VRXNY+z4OfBArp7R+cTsvijDRZY4kML1n22hUybwoxUEvjqZV2+JASIEEAECAAwF
     AkrvOlQFAwASdQAACgkQlxC4m8pXrXxrPAgArXiNgZirNuBhfNCXlkzkCHLx5wnV
     e4SmTpbWzTwWw7+qk7d4l9hlWtdImISORINzo7f4ShSUzJX2GciNaXhaHRo7+y5O
     Zbu82jQb09aQQj/nibKYuqxqUrobTEm+DuYz3JUQZm2PsPcHLS8mX9cxvrJUncPG
     nXEV0DRaq71SGWDprtkvBbp6i38aY3sIhYgz8wM5m1szKDtjywmBYcFehIdozt9z
     hm7wZshzRWQX1+Rf/pIsnk+OzBIa34crSemTnacbV/B7278z2XAyziPNFuqz0xu+
     iltOmYmayfNWAmumuw9NcuwWMlth6Mc2HLrpo0ZBheJ6iuDMPsHnwqdB/4kBIgQQ
     AQIADAUCSwBd2gUDABJ1AAAKCRCXELibyletfP6tB/4m1w0BtlkJgtS6E+B/ns14
     z4A4PGors+n+MYm05qzvi+EnDF/sytCmVcKeimrtvDcfoDtKAFFvJjcYXfnJdGWm
     Pu0SJMRL5KKCirAKwZmU/saxOgoB5QLNw+DHPteJ3w9GmWlGxIqG1r15WC5duzBC
     y3FsnjJYG3jaLnHOO9yXXb5h0kUTORfUKdvAr1gxF2KoatZWqGoaPPnHoqb88rjt
     zk8I7gDqoXnzh8wLxa0ZYvfTC/McxdWTrwXLft+krmMQ18iIZEne2hvVLNJVuluU
     oiWLeHA8iNCQ4W4WTdLc1mCnCjGTMX/MN41uLH0C9Ka4R6wEaqj4lPDk1B/1TV+Q
     iQEiBBABAgAMBQJLEYGrBQMAEnUAAAoJEJcQuJvKV618naIH/2t9aH5mBTKBN6fU
     qhrf79vIsjtI/QNS5qisBISZMX3/1/0Gu6WnxkPSfdCUJMWCjMcnVj7KU2wxTHHG
     VpAStd9r2afUNxRyqZwzwyytktuZok0XngAEDYDDBS3ssu2R4uWLCsC2ysXEqO/5
     tI5YrTWJZrfeIphTaYP5hxrMujvqy3kEwKKbiMz91cDeiLS+YCBcalj5n/1dMYf7
     8U8C6ieurxAg/L8h6x25VM4Ilx4MmG2T8QGtkkUXd+Fd/KYWmf0LE5LLPknf0Hhw
     oVslPXeinp4FsHK/5wzviv4YZpzuTqs9NlKcMsa4IuuPOB0FDf0pn+OFQbEg9QwY
     2gCozK+JASIEEAECAAwFAksjTdQFAwASdQAACgkQlxC4m8pXrXwlogf/XBGbXRVX
     LMaRN4SczOjwT3/tUCriTkb3v+zKjRG90zFhYAccjn7w+7jKQicjq6quQG1EH2X4
     /Su6ps1lDLqGHHhiJW3ZhxQScLZmhdAYsh2qG4GP/UW3QjXG7c61t+H3olvWg2cr
     wqCxxFZAgkAAkr9xcHWFZJEQeXoob6cCZObaUnHSANdmC6s5lUxXYa2bmL7Q3UB4
     4KCzDvAfbPZKJOw9k0qb3lc11zx+vGdyZFbm4R0+3LPp/vT0b3GlSbbF9lU1GOXh
     VaphrgFFa76dmjfHCkPplXAkK1VSIU/aPGAefduTFMdlSZpdMtJ5AULjGcszBDlR
     pLlPxvqVa0ZpgIkBIgQQAQIADAUCSycmkgUDABJ1AAAKCRCXELibyletfHlNCACp
     1YespiHfQt2alcscE5zgfETEHHic8Ai6pNkU9HT4TeWcFHEDe5QqfYcpjLrQvBXS
     kSvxEittbyRdv+e+j5Z+HyHjiG8nAQBL6qy9eHqQE4+d7gYs6DTk7sG9ZMYphREb
     ltzD+F4hVCQdLT8LNr0eVFN7ehqECScDaCG8/Qyti+l/0M902/Yn+mz0ilOiUdWJ
     9x6LPaIINtb1gsYDEylLjwGIZmI0r5Kh9wYoV4vnNezFbxO1uRiW0B7iaPjIEsbt
     OOKp7wx2aX+DM3N9F3BtaIY8XnzcnomNm83SNsgmgrZljpQltUnNqIhNM8DupQ+I
     WOV5gtl6pTC7CgeVTVyRiQEiBBABAgAMBQJLOGXuBQMAEnUAAAoJEJcQuJvKV618
     ll4IAKJ9mm4jb0c8fe9+uDI8eCJRbzNbVXm8zWzpA8GUtQAakwxoKv332QP1Wa1P
     odni/e3EMhsSREOZJJv79YqGxGRBTE9Kb/VjM34nas4XSnXKW28XWhKyIw+XwQAi
     nY2swFHh+83Htr/mwTdJfS2aEYl2zboBvd/JZCdhOGU2GH737S/3uEczoKkfVQ/w
     OTM8X1xWwlYWqx23k/DsGcuDs9lA2g7Mx7DSqBtVjaTkn9h0zATzXLDkmP4SAUVj
     cZ83WDpFre5WnizZjdXlBMM5OCexp5WpmzyHLTnaBFK4jEmnsk5C2Rnoyp8Ivz6g
     Ecg1tRbEXijRw++d2TFYlJwLKtiJASIEEAECAAwFAktKMicFAwASdQAACgkQlxC4
     m8pXrXxqHQgAuYY5scKrh0m/GS9EYnyC9494lOlO6iytU0CpE6oBC31M3hfX/Dbj
     UbcS5szZNU+2CPYo4ujQLZ7suN7+tTjG6pZFfMevajT9+jsL+NPMF8RLdLOVYmbl
     TmSQGNO+XGEYaKYH5oZIeIW5AKCgi2ozkdFlBBLAx7Kqo/FyybhkURFEcvEyVmgf
     3KLV7IIiX/fYLfoCMCJ/Lcm9/llSFB1n8Nvg66Xd533DKoHjueD3jyaNAVlo2mq/
     sIAv++kntvOiB3GDK5pfwHZ78WWiCpsWZpE5gzAnzJ1Y0WEigRo0PVLu3cLO0jLG
     23d+H/CbfZ8rkajHJeCDQF7YVmP0t0nYpYkBIgQQAQIADAUCS1v+ZgUDABJ1AAAK
     CRCXELibyletfNS/CACqt2TkB86mjqM+cJ74+dWBvJ2aFuURuxzm95i9Q/W/hU08
     2iMbC3+0k2oD8CrTOe61P+3oRyLjv/UEDUNzLncNe2YsA9JeV+4hvPwH5Vp3Om13
     089fCKZUbqslXNKkHiWYU+zAaZJXEuGRmRz0HbQIeAMOWF4oa226uo1e4ws1Jhc+
     F3E/ApCRyFBqBUdL05hapQLditYpsBjIdiBGpjzidMLE2wX2W4ZpAdN0U6BIyIqR
     mTPjbSkvzS9kSWFmfhQgnBDKEYJpVZgE1sN52rYC1sDeGeiuKxlzjVov9MMhYMWa
     Zo3R5o3F2iIM/BK6FbC252lf/Mhu3ICuXujNBZNYiQEiBBABAgAMBQJLbSH4BQMA
     EnUAAAoJEJcQuJvKV618kd0IAJLLwDH6gvgAlBFklQJXqQxUdcSOOVMAWtlHgWOy
     ozjgomZZBkRL8dtCDr9YBMcj5czcQ3qpmLJdppXhKB+kJV2iUXfDMSFXwJ4wLfIs
     8FNnXw8H5U01oBkGH/Ku6ngL9Vwt+MjYHtCWkw9QueUKZnDudX9qIzLAIt+mwSTu
     A6+fY4VWIg40AA0v3exaQM55YR/UhlKunpGG9o8Qkq77dMEbTMpOmBoLbOMRB3Dd
     MAvVU6G2l6Pcb7KobVCuOBnb6batXARV/G8sw+nzfJ16fr/KobZT2A6m+Jrqk4dl
     F14ljLbz16O5JGUPAryN2G2ddBdSAy7dtFSVhWWiWC9n88q5Ag0EPj6jHRAIAO/h
     iX8WzHWOMLJT54x/axeDdqn1rBDf5cWmaCWHN2ujNNlgpx5emoU9v7QStsNUCOGB
     bXkeO4Ar7YG+jtSR33zqNh3y5kQ0YkY3dQ0wh6nsl+wh4XIIY/3TUZVtmdJeUBRH
     JlfVNFYad2hX1guFI37Ny1PoZAFsxO82g+XB/Se8r/+sbmVcONdcdIeFKrE3FjLt
     IjNQcxC6l9Q2Oy8KDxG/zvUZG3+H5i3tdRMyGgmuD6gEV0GXOHYUopzLeit1+Aa0
     bCk36Mwbu+BeOw/CJW3+b0mB27hOaf9aCA855IP6fJFvtxcblq8nHIqhU3Dc9tec
     sl9/S1xZ5S8ylG/xeRsAAwUH/i8KqmvAhq0X7DgCcYputwh37cuZlHOa1Ep07JRm
     BCDgkdQXkGrsj2Wzw7Aw/TGdWWkmn2pxb8BRui5cfcZFO7c6vryi6FpJuLucX975
     +eVY50ndWkPXkJ1HF4i+HJwRqE2zliN/RHMs4LJcwXQvvjD43EE3AO6eiVFbD+qA
     AdxUFoOeLblKNBHPG7DPG9xL+Ni5rkE+TXShxsB7F0z7ZdJJZOG0JODmox7IstQT
     GoaU9u41oyZTIiXPiFidJoIZCh7fdurP8pn3X+R5HUNXMr7M+ba8lSNxce/F3kmH
     0L7rsKqdh9d/aVxhJINJ+inVDnrXWVoXu9GBjT8Nco1iU9SIVAQYEQIADAUCTnc9
     7QUJE/sBuAASB2VHUEcAAQEJEIxxjTtQcuH1FJsAmwWK9vmwRJ/y9gTnJ8PWf0BV
     roUTAKClYAhZuX2nUNwH4vlEJQHDqYa5yQ==
     =ghXk
     -----END PGP PUBLIC KEY BLOCK-----

To import the build key into your personal public GPG keyring, use 'gpg
--import'.  For example, if you have saved the key in a file named
'mysql_pubkey.asc', the import command looks like this:

     shell> gpg --import mysql_pubkey.asc
     gpg: key 5072E1F5: public key "MySQL Release Engineering
     <mysql-build@oss.oracle.com>" imported
     gpg: Total number processed: 1
     gpg:               imported: 1
     gpg: no ultimately trusted keys found

You can also download the key from the public keyserver using the public
key id, '5072E1F5':

     shell> gpg --recv-keys 5072E1F5
     gpg: requesting key 5072E1F5 from hkp server keys.gnupg.net
     gpg: key 5072E1F5: "MySQL Release Engineering <mysql-build@oss.oracle.com>"
     1 new user ID
     gpg: key 5072E1F5: "MySQL Release Engineering <mysql-build@oss.oracle.com>"
     53 new signatures
     gpg: no ultimately trusted keys found
     gpg: Total number processed: 1
     gpg:           new user IDs: 1
     gpg:         new signatures: 53

If you want to import the key into your RPM configuration to validate
RPM install packages, you should be able to import the key directly:

     shell> rpm --import mysql_pubkey.asc

If you experience problems or require RPM specific information, see
*note checking-rpm-signature::.

After you have downloaded and imported the public build key, download
your desired MySQL package and the corresponding signature, which also
is available from the download page.  The signature file has the same
name as the distribution file with an '.asc' extension, as shown by the
examples in the following table.

*MySQL Package and Signature Files for Source files*

File Type          File Name
                   
Distribution       'mysql-standard-5.5.62-linux-i686.tar.gz'
file               

Signature file     'mysql-standard-5.5.62-linux-i686.tar.gz.asc'

Make sure that both files are stored in the same directory and then run
the following command to verify the signature for the distribution file:

     shell> gpg --verify PACKAGE_NAME.asc

If the downloaded package is valid, you will see a "Good signature"
similar to:

     shell> gpg --verify mysql-standard-5.5.62-linux-i686.tar.gz.asc
     gpg: Signature made Tue 01 Feb 2011 02:38:30 AM CST using DSA key ID 5072E1F5
     gpg: Good signature from "MySQL Release Engineering <mysql-build@oss.oracle.com>"

The 'Good signature' message indicates that the file signature is valid,
when compared to the signature listed on our site.  But you might also
see warnings, like so:

     shell> gpg --verify mysql-standard-5.5.62-linux-i686.tar.gz.asc
     gpg: Signature made Wed 23 Jan 2013 02:25:45 AM PST using DSA key ID 5072E1F5
     gpg: checking the trustdb
     gpg: no ultimately trusted keys found
     gpg: Good signature from "MySQL Release Engineering <mysql-build@oss.oracle.com>"
     gpg: WARNING: This key is not certified with a trusted signature!
     gpg:          There is no indication that the signature belongs to the owner.
     Primary key fingerprint: A4A9 4068 76FC BD3C 4567  70C8 8C71 8D3B 5072 E1F5

That is normal, as they depend on your setup and configuration.  Here
are explanations for these warnings:

   * _gpg: no ultimately trusted keys found_: This means that the
     specific key is not "ultimately trusted" by you or your web of
     trust, which is okay for the purposes of verifying file signatures.

   * _WARNING: This key is not certified with a trusted signature!
     There is no indication that the signature belongs to the owner._:
     This refers to your level of trust in your belief that you possess
     our real public key.  This is a personal decision.  Ideally, a
     MySQL developer would hand you the key in person, but more
     commonly, you downloaded it.  Was the download tampered with?
     Probably not, but this decision is up to you.  Setting up a web of
     trust is one method for trusting them.

See the GPG documentation for more information on how to work with
public keys.


File: manual.info.tmp,  Node: checking-gpg-signature-windows,  Next: checking-rpm-signature,  Prev: checking-gpg-signature,  Up: verifying-package-integrity

2.1.3.3 Signature Checking Using Gpg4win for Windows
....................................................

The *note checking-gpg-signature:: section describes how to verify MySQL
downloads using GPG. That guide also applies to Microsoft Windows, but
another option is to use a GUI tool like Gpg4win
(http://www.gpg4win.org/).  You may use a different tool but our
examples are based on Gpg4win, and utilize its bundled 'Kleopatra' GUI.

Download and install Gpg4win, and then load Kleopatra.  The dialog
should look similar to:

FIGURE GOES HERE: Kleopatra: Initial Screen

Next, add the MySQL Release Engineering certificate.  Do this by
clicking 'File', 'Lookup Certificates on Server'.  Type "Mysql Release
Engineering" into the search box and press 'Search'.

FIGURE GOES HERE: Kleopatra: Lookup Certificates on Server Wizard:
Finding a Certificate

Select the "MySQL Release Engineering" certificate.  The Fingerprint and
Key-ID must be "5072E1F5", or choose 'Details...' to confirm the
certificate is valid.  Now, import it by clicking 'Import'.  An import
dialog will be displayed, choose 'Okay', and this certificate will now
be listed under the 'Imported Certificates' tab.

Next, configure the trust level for our certificate.  Select our
certificate, then from the main menu select 'Certificates', 'Change
Owner Trust...'.  We suggest choosing 'I believe checks are very
accurate' for our certificate, as otherwise you might not be able to
verify our signature.  Select 'I believe checks are very accurate' to
enable "full trust" and then press 'OK'.

FIGURE GOES HERE: Kleopatra: Change Trust level for MySQL Release
Engineering

Next, verify the downloaded MySQL package file.  This requires files for
both the packaged file, and the signature.  The signature file must have
the same name as the packaged file but with an appended '.asc'
extension, as shown by the example in the following table.  The
signature is linked to on the downloads page for each MySQL product.
You must create the '.asc' file with this signature.

*MySQL Package and Signature Files for MySQL Installer for Microsoft
Windows*

File Type          File Name
                   
Distribution       'mysql-installer-community-5.5.62.msi'
file               

Signature file     'mysql-installer-community-5.5.62.msi.asc'

Make sure that both files are stored in the same directory and then run
the following command to verify the signature for the distribution file.
Either drag and drop the signature ('.asc') file into Kleopatra, or load
the dialog from 'File', 'Decrypt/Verify Files...', and then choose
either the '.msi' or '.asc' file.

FIGURE GOES HERE: Kleopatra: The Decrypt and Verify Files Dialog

Click 'Decrypt/Verify' to check the file.  The two most common results
will look like the following, and although the yellow warning looks
problematic, the following means that the file check passed with
success.  You may now run this installer.

FIGURE GOES HERE: Kleopatra: the Decrypt and Verify Results Dialog: All
operations completed

Seeing a red "The signature is bad" error means the file is invalid.  Do
not execute the MSI file if you see this error.

FIGURE GOES HERE: Kleopatra: the Decrypt and Verify Results Dialog: Bad

The *note checking-gpg-signature:: section explains why you probably
don't see a green 'Good signature' result.


File: manual.info.tmp,  Node: checking-rpm-signature,  Prev: checking-gpg-signature-windows,  Up: verifying-package-integrity

2.1.3.4 Signature Checking Using RPM
....................................

For RPM packages, there is no separate signature.  RPM packages have a
built-in GPG signature and MD5 checksum.  You can verify a package by
running the following command:

     shell> rpm --checksig PACKAGE_NAME.rpm

Example:

     shell> rpm --checksig MySQL-server-5.5.62-0.glibc23.i386.rpm
     MySQL-server-5.5.62-0.glibc23.i386.rpm: md5 gpg OK

*Note*:

If you are using RPM 4.1 and it complains about '(GPG) NOT OK (MISSING
KEYS: GPG#5072e1f5)', even though you have imported the MySQL public
build key into your own GPG keyring, you need to import the key into the
RPM keyring first.  RPM 4.1 no longer uses your personal GPG keyring (or
GPG itself).  Rather, RPM maintains a separate keyring because it is a
system-wide application and a user's GPG public keyring is a
user-specific file.  To import the MySQL public key into the RPM
keyring, first obtain the key, then use 'rpm --import' to import the
key.  For example:

     shell> gpg --export -a 5072e1f5 > 5072e1f5.asc
     shell> rpm --import 5072e1f5.asc

Alternatively, 'rpm' also supports loading the key directly from a URL,
and you can use this manual page:

     shell> rpm --import https://dev.mysql.com/doc/refman/5.5/en/checking-gpg-signature.html

If you need to obtain the MySQL public key, see *note
checking-gpg-signature::.


File: manual.info.tmp,  Node: installation-layouts,  Next: compiler-characteristics,  Prev: verifying-package-integrity,  Up: general-installation-issues

2.1.4 Installation Layouts
--------------------------

The installation layout differs for different installation types (for
example, native packages, binary tarballs, and source tarballs), which
can lead to confusion when managing different systems or using different
installation sources.  The individual layouts are given in the
corresponding installation type or platform chapter, as described
following.  Note that the layout of installations from vendors other
than Oracle may differ from these layouts.

   * *note windows-installation-layout::

   * *note source-installation-layout::

   * *note binary-installation-layout::

   * *note mysql-installation-layout-linuxrpm::

   * *note mysql-installation-layout-osx::


File: manual.info.tmp,  Node: compiler-characteristics,  Prev: installation-layouts,  Up: general-installation-issues

2.1.5 Compiler-Specific Build Characteristics
---------------------------------------------

In some cases, the compiler used to build MySQL affects the features
available for use.  The notes in this section apply for binary
distributions provided by Oracle Corporation or that you compile
yourself from source.

*'icc' (Intel C++ Compiler) Builds*

A server built with 'icc' has these characteristics:

   * SSL support is not included.


File: manual.info.tmp,  Node: binary-installation,  Next: windows-installation,  Prev: general-installation-issues,  Up: installing

2.2 Installing MySQL on Unix/Linux Using Generic Binaries
=========================================================

Oracle provides a set of binary distributions of MySQL. These include
generic binary distributions in the form of compressed 'tar' files
(files with a '.tar.gz' extension) for a number of platforms, and
binaries in platform-specific package formats for selected platforms.

This section covers the installation of MySQL from a compressed 'tar'
file binary distribution.  For other platform-specific package formats,
see the other platform-specific sections.  For example, for Windows
distributions, see *note windows-installation::.

To obtain MySQL, see *note getting-mysql::.

MySQL compressed 'tar' file binary distributions have names of the form
'mysql-VERSION-OS.tar.gz', where 'VERSION' is a number (for example,
'5.5.62'), and OS indicates the type of operating system for which the
distribution is intended (for example, 'pc-linux-i686' or 'winx64').

*Warnings*:

   * If you have previously installed MySQL using your operating system
     native package management system, such as Yum or APT, you may
     experience problems installing using a native binary.  Make sure
     your previous MySQL installation has been removed entirely (using
     your package management system), and that any additional files,
     such as old versions of your data files, have also been removed.
     You should also check for configuration files such as '/etc/my.cnf'
     or the '/etc/mysql' directory and delete them.

   * MySQL has a dependency on the 'libaio' library.  Data directory
     initialization and subsequent server startup steps will fail if
     this library is not installed locally.  If necessary, install it
     using the appropriate package manager.  For example, on Yum-based
     systems:

          shell> YUM SEARCH LIBAIO  # search for info
          shell> YUM INSTALL LIBAIO # install library

     Or, on APT-based systems:

          shell> APT-CACHE SEARCH LIBAIO # search for info
          shell> APT-GET INSTALL LIBAIO1 # install library

   * *SLES 11*: As of MySQL 5.5.57, the Linux Generic tarball package
     format is EL6 instead of EL5.  As a side effect, the MySQL client
     'bin/mysql' needs 'libtinfo.so.5'.

     A workaround is to create a symlink, such as 'ln -s
     libncurses.so.5.6 /lib64/libtinfo.so.5' on 64-bit systems or 'ln -s
     libncurses.so.5.6 /lib/libtinfo.so.5' on 32-bit systems.

To install a compressed 'tar' file binary distribution, unpack it at the
installation location you choose (typically '/usr/local/mysql').  This
creates the directories shown in the following table.

*MySQL Installation Layout for Generic Unix/Linux Binary Package*

Directory                        Contents of Directory
                                 
'bin', 'scripts'                 *note 'mysqld': mysqld. server, client
                                 and utility programs
                                 
'data'                           Log files, databases
                                 
'docs'                           MySQL manual in Info format
                                 
'man'                            Unix manual pages
                                 
'include'                        Include (header) files
                                 
'lib'                            Libraries
                                 
'share'                          Miscellaneous support files, including
                                 error messages, sample configuration
                                 files, SQL for database installation
                                 
'sql-bench'                      Benchmarks

Debug versions of the *note 'mysqld': mysqld. binary are available as
*note 'mysqld-debug': mysqld.  To compile your own debug version of
MySQL from a source distribution, use the appropriate configuration
options to enable debugging support.  See *note source-installation::.

To install and use a MySQL binary distribution, the command sequence
looks like this:

     shell> groupadd mysql
     shell> useradd -r -g mysql -s /bin/false mysql
     shell> cd /usr/local
     shell> tar zxvf /PATH/TO/MYSQL-VERSION-OS.tar.gz
     shell> ln -s FULL-PATH-TO-MYSQL-VERSION-OS mysql
     shell> cd mysql
     shell> chown -R mysql .
     shell> chgrp -R mysql .
     shell> scripts/mysql_install_db --user=mysql
     shell> chown -R root .
     shell> chown -R mysql data
     # Next command is optional
     shell> cp support-files/my-medium.cnf /etc/my.cnf
     shell> bin/mysqld_safe --user=mysql &
     # Next command is optional
     shell> cp support-files/mysql.server /etc/init.d/mysql.server

*Note*:

This procedure assumes that you have 'root' (administrator) access to
your system.  Alternatively, you can prefix each command using the
'sudo' (Linux) or 'pfexec' (Solaris) command.

*Note*:

The procedure does not assign passwords to MySQL accounts.  To do so,
use the instructions in *note default-privileges::.

A more detailed version of the preceding description for installing a
binary distribution follows.

*Create a mysql User and Group*

If your system does not already have a user and group to use for running
*note 'mysqld': mysqld, you may need to create them.  The following
commands add the 'mysql' group and the 'mysql' user.  You might want to
call the user and group something else instead of 'mysql'.  If so,
substitute the appropriate name in the following instructions.  The
syntax for 'useradd' and 'groupadd' may differ slightly on different
versions of Unix/Linux, or they may have different names such as
'adduser' and 'addgroup'.

     shell> groupadd mysql
     shell> useradd -r -g mysql -s /bin/false mysql

*Note*:

Because the user is required only for ownership purposes, not login
purposes, the 'useradd' command uses the '-r' and '-s /bin/false'
options to create a user that does not have login permissions to your
server host.  Omit these options if your 'useradd' does not support
them.

*Obtain and Unpack the Distribution*

Pick the directory under which you want to unpack the distribution and
change location into it.  The example here unpacks the distribution
under '/usr/local'.  The instructions, therefore, assume that you have
permission to create files and directories in '/usr/local'.  If that
directory is protected, you must perform the installation as 'root'.

     shell> cd /usr/local

Obtain a distribution file using the instructions in *note
getting-mysql::.  For a given release, binary distributions for all
platforms are built from the same MySQL source distribution.

Unpack the distribution, which creates the installation directory.  Then
create a symbolic link to that directory.  'tar' can uncompress and
unpack the distribution if it has 'z' option support:

     shell> tar zxvf /PATH/TO/MYSQL-VERSION-OS.tar.gz
     shell> ln -s FULL-PATH-TO-MYSQL-VERSION-OS mysql

The 'tar' command creates a directory named 'mysql-VERSION-OS'.  The
'ln' command makes a symbolic link to that directory.  This enables you
to refer more easily to the installation directory as
'/usr/local/mysql'.

To install MySQL from a compressed 'tar' file binary distribution, your
system must have GNU 'gunzip' to uncompress the distribution and a
reasonable 'tar' to unpack it.  If your 'tar' program supports the 'z'
option, it can both uncompress and unpack the file.

GNU 'tar' is known to work.  The standard 'tar' provided with some
operating systems is not able to unpack the long file names in the MySQL
distribution.  You should download and install GNU 'tar', or if
available, use a preinstalled version of GNU tar.  Usually this is
available as 'gnutar', 'gtar', or as 'tar' within a GNU or Free Software
directory, such as '/usr/sfw/bin' or '/usr/local/bin'.  GNU 'tar' is
available from <http://www.gnu.org/software/tar/>.

If your 'tar' does not have 'z' option support, use 'gunzip' to unpack
the distribution and 'tar' to unpack it.  Replace the preceding 'tar'
command with the following alternative command to uncompress and extract
the distribution:

     shell> gunzip < /PATH/TO/MYSQL-VERSION-OS.tar.gz | tar xvf -

*Perform Postinstallation Setup*

The remainder of the installation process involves setting distribution
ownership and access permissions, initializing the data directory,
starting the MySQL server, and setting up the configuration file.  For
instructions, see *note postinstallation::.


File: manual.info.tmp,  Node: windows-installation,  Next: osx-installation,  Prev: binary-installation,  Up: installing

2.3 Installing MySQL on Microsoft Windows
=========================================

* Menu:

* windows-installation-layout::  MySQL Installation Layout on Microsoft Windows
* windows-choosing-package::     Choosing an Installation Package
* mysql-installer::              MySQL Installer for Windows
* windows-using-installer::      Installing MySQL on Microsoft Windows Using an MSI Package
* mysql-config-wizard::          MySQL Server Instance Configuration Wizard
* windows-install-archive::      Installing MySQL on Microsoft Windows Using a 'noinstall' ZIP Archive
* windows-troubleshooting::      Troubleshooting a Microsoft Windows MySQL Server Installation
* windows-postinstallation::     Windows Postinstallation Procedures
* windows-restrictions::         Windows Platform Restrictions

*Important*:

MySQL Community 5.5 Server requires the Microsoft Visual C++ 2008
Redistributable Package to run on Windows platforms.  Users should make
sure the package has been installed on the system before installing the
server.  The package is available at the Microsoft Download Center
(http://www.microsoft.com/en-us/download/default.aspx).

MySQL is available for Microsoft Windows, for both 32-bit and 64-bit
versions.  For supported Windows platform information, see
<https://www.mysql.com/support/supportedplatforms/database.html>.

There are different methods to install MySQL on Microsoft Windows.

*MySQL Installer Method*

The simplest and recommended method is to download MySQL Installer (for
Windows) and let it install and configure all of the MySQL products on
your system.  Here is how:

  1. Download MySQL Installer from
     <https://dev.mysql.com/downloads/installer/> and execute it.

     *Note*:

     Unlike the standard MySQL Installer, the smaller "web-community"
     version does not bundle any MySQL applications but it will download
     the MySQL products you choose to install.

  2. Choose the appropriate 'Setup Type' for your system.  Typically you
     will choose 'Developer Default' to install MySQL server and other
     MySQL tools related to MySQL development, helpful tools like MySQL
     Workbench.  Or, choose the 'Custom' setup type to manually select
     your desired MySQL products.

     *Note*:

     Multiple versions of MySQL server can exist on a single system.
     You can choose one or multiple versions.

  3. Complete the installation process by following the instructions.
     This will install several MySQL products and start the MySQL
     server.

MySQL is now installed.  If you configured MySQL as a service, then
Windows will automatically start MySQL server every time you restart
your system.

*Note*:

You probably also installed other helpful MySQL products like MySQL
Workbench and MySQL Notifier on your system.  Consider loading *note
workbench:: to check your new MySQL server connection, and MySQL
Notifier Overview
(https://dev.mysql.com/doc/mysql-notifier/en/mysql-notifier-overview.html)
to view the connection's status.  By default, these two programs
automatically start after installing MySQL.

This process also installs the MySQL Installer application on your
system, and later you can use MySQL Installer to upgrade or reconfigure
your MySQL products.

*Additional Installation Information*

It is possible to run MySQL as a standard application or as a Windows
service.  By using a service, you can monitor and control the operation
of the server through the standard Windows service management tools.
For more information, see *note windows-start-service::.

Generally, you should install MySQL on Windows using an account that has
administrator rights.  Otherwise, you may encounter problems with
certain operations such as editing the 'PATH' environment variable or
accessing the 'Service Control Manager'.  When installed, MySQL does not
need to be executed using a user with Administrator privileges.

For a list of limitations on the use of MySQL on the Windows platform,
see *note windows-restrictions::.

In addition to the MySQL Server package, you may need or want additional
components to use MySQL with your application or development
environment.  These include, but are not limited to:

   * To connect to the MySQL server using ODBC, you must have a
     Connector/ODBC driver.  For more information, including
     installation and configuration instructions, see MySQL
     Connector/ODBC Developer Guide
     (https://dev.mysql.com/doc/connector-odbc/en/).

     *Note*:

     MySQL Installer will install and configure Connector/ODBC for you.

   * To use MySQL server with .NET applications, you must have the
     Connector/NET driver.  For more information, including installation
     and configuration instructions, see MySQL Connector/NET Developer
     Guide (https://dev.mysql.com/doc/connector-net/en/).

     *Note*:

     MySQL Installer will install and configure MySQL Connector/NET for
     you.

MySQL distributions for Windows can be downloaded from
<https://dev.mysql.com/downloads/>.  See *note getting-mysql::.

MySQL for Windows is available in several distribution formats, detailed
here.  Generally speaking, you should use MySQL Installer.  It contains
more features and MySQL products than the older MSI, is simpler to use
than the compressed file, and you need no additional tools to get MySQL
up and running.  MySQL Installer automatically installs MySQL Server and
additional MySQL products, creates an options file, starts the server,
and enables you to create default user accounts.  For more information
on choosing a package, see *note windows-choosing-package::.

   * Binary installer distributions.  There are two different
     installable distributions that come packaged as a Microsoft Windows
     Installer (MSI) package that you can install manually or
     automatically on your systems.  The preferred MySQL Installer
     package includes MySQL Server and additional MySQL products
     including MySQL Workbench, MySQL Notifier, and MySQL for Excel.
     MySQL Installer can also be used to upgrade these product in the
     future.  The older MSI package contains all the files you need to
     install and configure MySQL server, but no additional components.

     For instructions on installing MySQL using MySQL Installer, see
     *note mysql-installer::.

   * The standard binary distribution (packaged as a compressed file)
     contains all of the necessary files that you unpack into your
     chosen location.  This package contains all of the files in the
     full Windows MSI Installer package, but does not include an
     installation program.

     For instructions on installing MySQL using the compressed file, see
     *note windows-install-archive::.

   * The source distribution format contains all the code and support
     files for building the executables using the Visual Studio compiler
     system.

     For instructions on building MySQL from source on Windows, see
     *note source-installation::.

*MySQL on Windows Considerations*

   * *Large Table Support*

     If you need tables with a size larger than 4 GB, install MySQL on
     an NTFS or newer file system.  Do not forget to use 'MAX_ROWS' and
     'AVG_ROW_LENGTH' when you create tables.  See *note create-table::.

     *Note*:

     InnoDB tablespace files cannot exceed 4 GB on Windows 32-bit
     systems.

   * *MySQL and Virus Checking Software*

     Virus-scanning software such as Norton/Symantec Anti-Virus on
     directories containing MySQL data and temporary tables can cause
     issues, both in terms of the performance of MySQL and the
     virus-scanning software misidentifying the contents of the files as
     containing spam.  This is due to the fingerprinting mechanism used
     by the virus-scanning software, and the way in which MySQL rapidly
     updates different files, which may be identified as a potential
     security risk.

     After installing MySQL Server, it is recommended that you disable
     virus scanning on the main directory ('datadir') used to store your
     MySQL table data.  There is usually a system built into the
     virus-scanning software to enable specific directories to be
     ignored.

     In addition, by default, MySQL creates temporary files in the
     standard Windows temporary directory.  To prevent the temporary
     files also being scanned, configure a separate temporary directory
     for MySQL temporary files and add this directory to the virus
     scanning exclusion list.  To do this, add a configuration option
     for the 'tmpdir' parameter to your 'my.ini' configuration file.
     For more information, see *note windows-create-option-file::.

   * *Running MySQL on a 4K Sector Hard Drive*

     Running the MySQL server on a 4K sector hard drive on Windows is
     not supported with 'innodb_flush_method=async_unbuffered', which is
     the default setting.  The workaround is to use
     'innodb_flush_method=normal'.


File: manual.info.tmp,  Node: windows-installation-layout,  Next: windows-choosing-package,  Prev: windows-installation,  Up: windows-installation

2.3.1 MySQL Installation Layout on Microsoft Windows
----------------------------------------------------

For MySQL 5.5 on Windows, the default installation directory is
'C:\Program Files\MySQL\MySQL Server 5.5' for installations performed
with MySQL Installer or the MSI package.  If you use the ZIP archive
method to install MySQL, you may prefer to install in 'C:\mysql'.
However, the layout of the subdirectories remains similar (exceptions
are indicated).

All of the files are located within this parent directory, using the
structure shown in the following table.

*Default MySQL Installation Layout for Microsoft Windows*

Directory              Contents of Directory         Notes
                                                     
'bin', 'scripts'       *note 'mysqld': mysqld.       
                       server, client and utility
                       programs
                       
'%ALLUSERSPROFILE%\MySQL\MySQLLog files, databases   The Windows system
Server 5.5\'           (Windows XP, Windows Server   variable
                       2003)                         %ALLUSERSPROFILE%
                                                     defaults to
                                                     'C:\Documents and
                                                     Settings\All
                                                     Users\Application
                                                     Data'.
                                                     
'%PROGRAMDATA%\MySQL\MySQLLog files, databases       The Windows system
Server 5.5\'           (Vista, Windows 7, Windows    variable
                       Server 2008, and newer)       %PROGRAMDATA%
                                                     defaults to
                                                     'C:\ProgramData'.
                                                     
'data'                 Pristine templates            
                       
'docs'                 Release documentation         With MySQL
                                                     Installer, use the
                                                     'Modify' operation
                                                     to select this
                                                     optional folder.
                                                     
'include'              Include (header) files        
                       
'lib'                  Libraries                     
                       
'share'                Miscellaneous support         
                       files, including error
                       messages, character set
                       files, sample configuration
                       files, SQL for database
                       installation
                       
'mysql-test',          Debug binaries and test       ZIP archive only.
'scripts', and         suite
'sql-bench'            

The packages create and set up the data directory that the installed
server will use, but as of MySQL 5.5.5, it also creates a pristine
'template' data directory named 'data' under the installation directory.
This directory can be useful when the machine will be used to run
multiple instances of MySQL. After an installation has been performed
using an MSI package, the template data directory can be copied to set
up additional MySQL instances.  See *note multiple-servers::.


File: manual.info.tmp,  Node: windows-choosing-package,  Next: mysql-installer,  Prev: windows-installation-layout,  Up: windows-installation

2.3.2 Choosing an Installation Package
--------------------------------------

For MySQL 5.5, there are multiple installation package formats to choose
from when installing MySQL on Windows.

*Note*:

MySQL Installer and the "Complete Package" methods for installing MySQL
are similar, but different.  The MySQL Installer is the newer and more
advanced option, and it includes all functionality found within the
"Complete Package."

*Note*:

Program Database (PDB) files (with file name extension 'pdb') provide
information for debugging your MySQL installation in the event of a
problem.  These files are included in ZIP Archive distributions (but not
MSI distributions) of MySQL.

   * *MySQL Installer*: This package has a file name similar to
     'mysql-installer-community-5.5.62.0.msi' or
     'mysql-installer-commercial-5.5.62.0.msi', and utilizes MSIs to
     automatically install MySQL server and other products.  It will
     download and apply updates to itself, and for each of the installed
     products.  It also configures the installed MySQL server.

     MySQL Installer can install and manage (add, modify, upgrade, and
     remove) many other MySQL products, including:

        * Applications - MySQL Workbench, MySQL for Visual Studio, MySQL
          Notifier, MySQL for Excel, MySQL Utilities

        * Connectors - MySQL Connector/C++, MySQL Connector/NET,
          Connector/ODBC, MySQL Connector/Python, MySQL Connector/J

        * Documentation - MySQL Manual (PDF format), samples and
          examples

     MySQL Installer will run on all Windows platforms that are
     supported by MySQL (see
     <https://www.mysql.com/support/supportedplatforms/database.html>).

     *Note*:

     Because MySQL Installer is not a native component of Microsoft
     Windows and depends on .NET, it will not work on minimal
     installation options like the "Server Core" version of Windows
     Server 2008.

     For instructions on installing MySQL using MySQL Installer, see
     *note mysql-installer::.

   * *The Complete Package (MSI Installer)*: This package has a file
     name similar to 'mysql-5.5.62-win32.msi' or
     'mysql-5.5.62-winx64.msi', and contains all files needed for a
     complete Windows installation, including the Configuration Wizard.
     This package includes optional components such as the embedded
     server and benchmark suite.

   * *The 'noinstall' ZIP Archive*: This package has a file name similar
     to 'mysql-5.5.62-win32.zip' or 'mysql-5.5.62-winx64.zip', and
     contains all the files found in the complete installation package,
     with the exception of the GUI. It also contains PDB files.  This
     package does not include an automated installer, and must be
     manually installed and configured.

MySQL Installer is recommended for most users.

Your choice of install package affects the installation process you must
follow.  If you choose to use MySQL Installer, see *note
mysql-installer::.  If you choose to install a standard MSI package, see
*note windows-using-installer::.  If you choose to install a 'noinstall'
ZIP archive, see *note windows-install-archive::.


File: manual.info.tmp,  Node: mysql-installer,  Next: windows-using-installer,  Prev: windows-choosing-package,  Up: windows-installation

2.3.3 MySQL Installer for Windows
---------------------------------

* Menu:

* mysql-installer-setup::        MySQL Installer Initial Setup
* mysql-installer-change-path-proc::  Setting Alternative Server Paths with MySQL Installer
* mysql-installer-workflow::     Installation Workflow with MySQL Installer
* mysql-installer-catalog-dashboard::  MySQL Installer Product Catalog and Dashboard
* MySQLInstallerConsole::        MySQLInstallerConsole Reference

MySQL Installer is a standalone application designed to ease the
complexity of installing and configuring MySQL products that run on
Microsoft Windows.  It supports the following MySQL products:

   * MySQL Servers

     MySQL Installer can install and manage multiple, separate MySQL
     server instances on the same host at the same time.  For example,
     MySQL Installer can install, configure, and upgrade a separate
     instance of MySQL 5.6, MySQL 5.7, and MySQL 8.0 on the same host.
     MySQL Installer does not permit server upgrades between major and
     minor version numbers, but does permit upgrades within a release
     series (such as 5.7.18 to 5.7.19).

     *Note*:

     MySQL Installer cannot install both _Community_ and _Commercial_
     (Standard Edition and Enterprise Edition) releases of MySQL server
     on the same host.  If you require both releases on the same host,
     consider using the ZIP archive
     (https://dev.mysql.com/doc/refman/5.6/en/windows-choosing-package.html#windows-choosing-package-no-zip)
     distribution to install one of the releases.

   * MySQL Applications

     MySQL Workbench, MySQL Shell, MySQL Router, MySQL for Visual
     Studio, MySQL for Excel, MySQL Notifier, and MySQL Utilities.

   * MySQL Connectors

     MySQL Connector/NET, MySQL Connector/Python, MySQL Connector/ODBC,
     MySQL Connector/J, and MySQL Connector/C++.

     *Note*:

     To install MySQL Connector/Node.js, see
     <https://dev.mysql.com/downloads/connector/nodejs/>.
     Connector/Node.js does not provide an '.msi' file for use with
     MySQL Installer.

   * Documentation and Samples

     MySQL Reference Manuals (by version) in PDF format and MySQL
     database samples (by version).

*Installation Requirements*

MySQL Installer requires Microsoft .NET Framework 4.5.2 or later.  If
this version is not installed on the host computer, you can download it
by visiting the Microsoft website
(https://www.microsoft.com/en-us/download/details.aspx?id=42643).

*MySQL Installer Community Release*

Download software from <https://dev.mysql.com/downloads/installer/> to
install the Community release of all MySQL products for Windows.  Select
one of the following MySQL Installer package options:

   * _Web_: Contains MySQL Installer and configuration files only.  The
     web package downloads only the MySQL products you select to
     install, but it requires an internet connection for each download.
     The size of this file is approximately 2 MB; the name of the file
     has the form 'mysql-installer-community-web-VERSION.N.msi' where
     'VERSION' is the MySQL server version number such as 8.0 and 'N' is
     the package number, which begins at 0.

   * _Full or Current Bundle_: Bundles all of the MySQL products for
     Windows (including the MySQL server).  The file size is over 300
     MB, and the name has the form
     'mysql-installer-community-VERSION.N.msi' where 'VERSION' is the
     MySQL Server version number such as 8.0 and 'N' is the package
     number, which begins at 0.

*MySQL Installer Commercial Release*

Download software from <https://edelivery.oracle.com/> to install the
Commercial (Standard Edition or Enterprise Edition) release of MySQL
products for Windows.  The Commercial release includes all of the
current and previous GA versions in the Community release (excludes
development-milestone versions) and also includes the following
products:

   * Workbench SE/EE

   * MySQL Enterprise Backup

   * MySQL Enterprise Firewall

The Commercial release integrates with your My Oracle Support (MOS)
account.  For knowledge-base content and patches, see My Oracle Support
(https://support.oracle.com/).


File: manual.info.tmp,  Node: mysql-installer-setup,  Next: mysql-installer-change-path-proc,  Prev: mysql-installer,  Up: mysql-installer

2.3.3.1 MySQL Installer Initial Setup
.....................................

   * *note setup-type::

   * *note setup-conflicts::

   * *note setup-requirements::

   * *note setup-layout::

When you download MySQL Installer for the first time, a setup wizard
guides you through the initial installation of MySQL products.  As the
following figure shows, the initial setup is a one-time activity in the
overall process.  MySQL Installer detects existing MySQL products
installed on the host during its initial setup and adds them to the list
of products to be managed.

FIGURE GOES HERE: MySQL Installer Process Overview

MySQL Installer extracts configuration files (described later) to the
hard drive of the host during the initial setup.  Although MySQL
Installer is a 32-bit application, it can install both 32-bit and 64-bit
binaries.

The initial setup adds a link to the Start menu under the 'MySQL' group.
Click 'Start', 'All Programs', 'MySQL', 'MySQL Installer' to open MySQL
Installer.

*Choosing a Setup Type*

During the initial setup, you are prompted to select the MySQL products
to be installed on the host.  One alternative is to use a predetermined
setup type that matches your setup requirements.  By default, both GA
and pre-release products are included in the download and installation
with the 'Developer Default', 'Client only', and 'Full' setup types.
Select the 'Only install GA products' option to restrict the product set
to include GA products only when using these setup types.

Choosing one of the following setup types determines the initial
installation only and does not limit your ability to install or update
MySQL products for Windows later:

   * 'Developer Default': Install the following products that compliment
     application development with MySQL:

        * MySQL Server (http://dev.mysql.com/doc/) (Installs the version
          that you selected when you downloaded MySQL Installer.)

        * MySQL Shell (https://dev.mysql.com/doc/mysql-shell/8.0/en/)

        * MySQL Router (https://dev.mysql.com/doc/mysql-router/8.0/en/)

        * *note MySQL Workbench: workbench.

        * MySQL for Visual Studio
          (https://dev.mysql.com/doc/visual-studio/en/)

        * MySQL for Excel
          (https://dev.mysql.com/doc/mysql-for-excel/en/)

        * MySQL Notifier
          (https://dev.mysql.com/doc/mysql-notifier/en/mysql-notifier-overview.html)

        * MySQL Connectors
          (http://dev.mysql.com/doc/index-connectors.html) (for .NET /
          Python / ODBC / Java / C++)

        * MySQL Utilities

        * MySQL Documentation

        * MySQL Samples and Examples

   * *Server only*: Only install the MySQL server.  This setup type
     installs the general availability (GA) or development release
     server that you selected when you downloaded MySQL Installer.  It
     uses the default installation and data paths.

   * *Client only*: Only install the most recent MySQL applications and
     MySQL connectors.  This setup type is similar to the 'Developer
     Default' type, except that it does not include MySQL server or the
     client programs typically bundled with the server, such as *note
     'mysql': mysql. or *note 'mysqladmin': mysqladmin.

   * *Full*: Install all available MySQL products.

   * *Custom*: The custom setup type enables you to filter and select
     individual MySQL products from the MySQL Installer catalog.

     Use the 'Custom' setup type to install:

        * A product or product version that is not available from the
          usual download locations.  The catalog contains all product
          releases, including the other releases between pre-release (or
          development) and GA.

        * An instance of MySQL server using an alternative installation
          path, data path, or both.  For instructions on how to adjust
          the paths, see *note mysql-installer-change-path-proc::.

        * Two or more MySQL server versions on the same host at the same
          time (for example, 5.6, 5.7, and 8.0).

        * A specific combination of products and features not offered as
          a predetermine setup type.  For example, you can install a
          single product, such as MySQL Workbench, instead of installing
          all client applications for Windows.

*Path Conflicts*

When the default installation or data folder (required by MySQL server)
for a product to be installed already exists on the host, the wizard
displays the 'Path Conflict' step to identify each conflict and enable
you to take action to avoid having files in the existing folder
overwritten by the new installation.  You see this step in the initial
setup only when MySQL Installer detects a conflict.

To resolve the path conflict, do one of the following:

   * Select a product from the list to display the conflict options.  A
     warning symbol indicates which path is in conflict.  Use the browse
     button to choose a new path and then click 'Next'.

   * Click 'Back' to choose a different setup type or product version,
     if applicable.  The 'Custom' setup type enables you to select
     individual product versions.

   * Click 'Next' to ignore the conflict and overwrite files in the
     existing folder.

   * Delete the existing product.  Click 'Cancel' to stop the initial
     setup and close MySQL Installer.  Open MySQL Installer again from
     the Start menu and delete the installed product from the host using
     the Delete operation from the dashboard.

*Check Requirements*

MySQL Installer uses entries in the 'package-rules.xml' file to
determine whether the prerequisite software for each product is
installed on the host.  When the requirements check fails, MySQL
Installer displays the 'Check Requirements' step to help you update the
host.  Requirements are evaluated each time you download a new product
(or version) for installation.  The following figure identifies and
describes the key areas of this step.

FIGURE GOES HERE: Check Requirements

*Description of Check Requirements Elements*

  1. Shows the current step in the initial setup.  Steps in this list
     may change slightly depending on the products already installed on
     the host, the availability of prerequisite software, and the
     products to be installed on the host.

  2. Lists all pending installation requirements by product and
     indicates the status as follows:

        * A blank space in the 'Status' column means that MySQL
          Installer can attempt to download and install the required
          software for you.

        * The word _Manual_ in the 'Status' column means that you must
          satisfy the requirement manually.  Select each product in the
          list to see its requirement details.

  3. Describes the requirement in detail to assist you with each manual
     resolution.  When possible, a download URL is provided.  After you
     download and install the required software, click 'Check' to verify
     that the requirement has been met.

  4. Provides the following set operations to proceed:

        * 'Back' - Return to the previous step.  This action enables you
          to select a different the setup type.

        * 'Execute' - Have MySQL Installer attempt to download and
          install the required software for all items without a manual
          status.  Manual requirements are resolved by you and verified
          by clicking 'Check'.

        * 'Next' - Do not execute the request to apply the requirements
          automatically and proceed to the installation without
          including the products that fail the check requirements step.

        * 'Cancel' - Stop the installation of MySQL products.  Because
          MySQL Installer is already installed, the initial setup begins
          again when you open MySQL Installer from the Start menu and
          click 'Add' from the dashboard.  For a description of the
          available management operations, see *note
          windows-product-catalog::.

*MySQL Installer Configuration Files*

All MySQL Installer files are located within the 'C:\Program Files
(x86)' and 'C:\ProgramData' folders.  The following table describes the
files and folders that define MySQL Installer as a standalone
application.

*Note*:

Installed MySQL products are neither altered nor removed when you update
or uninstall MySQL Installer.

*MySQL Installer Configuration Files*

File or Folder         Description                   Folder Hierarchy
                                                     
'MySQL Installer for   This folder contains all of   'C:\Program Files
Windows'               the files needed to run       (x86)'
                       MySQL Installer and           
                       *note MySQLInstallerConsole.exe: MySQLInstallerConsole,
                       a command-line program with
                       similar functionality.
                       
'Templates'            The 'Templates' folder has    'C:\ProgramData\MySQL\MySQL
                       one file for each version     Installer for
                       of MySQL server.  Template    Windows\Manifest'
                       files contain keys and        
                       formulas to calculate some
                       values dynamically.
                       
'package-rules.xml'                                  'C:\ProgramData\MySQL\MySQL
                       This file contains the        Installer for
                       prerequisites for every       Windows\Manifest'
                       product to be installed.      
                       
'produts.xml'                                        'C:\ProgramData\MySQL\MySQL
                       The 'products' file (or       Installer for
                       product catalog) contains a   Windows\Manifest'
                       list of all products          
                       available for download.
                       
'Product Cache'                                      'C:\ProgramData\MySQL\MySQL
                       The 'Product Cache' folder    Installer for
                       contains all standalone       Windows'
                       '.msi' files bundled with
                       the full package or
                       downloaded afterward.
                       


File: manual.info.tmp,  Node: mysql-installer-change-path-proc,  Next: mysql-installer-workflow,  Prev: mysql-installer-setup,  Up: mysql-installer

2.3.3.2 Setting Alternative Server Paths with MySQL Installer
.............................................................

You can change the default installation path, the data path, or both
when you install MySQL server.  After you have installed the server, the
paths cannot be altered without removing and reinstalling the server
instance.

*To change paths for MySQL server*

Identify the MySQL server to change and display the 'Advanced Options'
link.

Navigate to the 'Select Products and Features' step by doing one of the
following:

If this is an *note initial setup: mysql-installer-setup. of MySQL
Installer, select the 'Custom' setup type and click 'Next'.

If MySQL Installer is installed already, launch it from the Start menu
and then click 'Add' from the dashboard.

Click 'Edit' to apply a filter on the product list shown in 'Available
Products' (see *note locate-products::.

With the server instance selected, use the arrow to move the selected
server to the 'Products/Features To Be Installed' list.

Click the server to select it.  When you select the server, the
'Advanced Options' link appears.  For details, see the figure that
follows.

Click 'Advanced Options' to open a dialog box where you can enter
alternative path names.  After the path names are validated, click
'Next' to continue with the configuration steps.

FIGURE GOES HERE: Change MySQL Server Path


File: manual.info.tmp,  Node: mysql-installer-workflow,  Next: mysql-installer-catalog-dashboard,  Prev: mysql-installer-change-path-proc,  Up: mysql-installer

2.3.3.3 Installation Workflow with MySQL Installer
..................................................

* Menu:

* mysql-installer-workflow-server::  MySQL Server Configuration with MySQL Installer
* mysql-installer-workflow-nonserver-products::  MySQL Router Configuration with MySQL Installer

MySQL Installer provides a wizard-like tool to install and configure new
MySQL products for Windows.  Unlike the initial setup, which runs only
once, MySQL Installer invokes the wizard each time you download or
install a new product.  For first-time installations, the steps of the
initial setup proceed directly into the steps of the installation.  For
assistance with product selection, see *note locate-products::.

*Note*:

Full permissions are granted to the user executing MySQL Installer to
all generated files, such as 'my.ini'.  This does not apply to files and
directories for specific products, such as the MySQL server data
directory in '%ProgramData%' that is owned by 'SYSTEM'.

Products installed and configured on a host follow a general pattern
that might require your input during the various steps.  If you attempt
to install a product that is incompatible with the existing MySQL server
version (or a version selected for upgrade), you are alerted about the
possible mismatch.

MySQL Installer loads all selected products together using the following
workflow:

   * Product download

     If you installed the full (not web) MySQL Installer package, all
     '.msi' files were loaded to the 'Product Cache' folder during the
     initial setup and are not downloaded again.  Otherwise, click
     'Execute' to begin the download.  The status of each product
     changes from 'Downloading' to 'Downloaded'.

   * Product installation

     The status of each product in the list changes from 'Ready to
     Install', to 'Installing', and lastly to 'Complete'.  During the
     process, click 'Show Details' to view the installation actions.

     If you cancel the installation at this point, the products are
     installed, but the server (if installed) is not yet configured.  To
     restart the server configuration, open MySQL Installer from the
     Start menu and click the 'Reconfigure' link next to the appropriate
     server in the dashboard.

   * Product configuration

     This step applies to MySQL Server, MySQL Router, and samples only.
     The status for each item in the list should indicate 'Ready to
     Configure'.

     Click 'Next' to start the configuration wizard for all items in the
     list.  The configuration options presented during this step are
     specific to the version of database or router that you selected to
     install.

     Click 'Execute' to begin applying the configuration options or
     click 'Back' (repeatedly) to return to each configuration page.
     Click 'Finish' to open the MySQL Installer dashboard.

   * Installation complete

     This step finalizes the installation for products that do not
     require configuration.  It enables you to copy the log to a
     clipboard and to start certain applications, such as MySQL
     Workbench and MySQL Shell.  Click 'Finish' to open the MySQL
     Installer dashboard.


File: manual.info.tmp,  Node: mysql-installer-workflow-server,  Next: mysql-installer-workflow-nonserver-products,  Prev: mysql-installer-workflow,  Up: mysql-installer-workflow

2.3.3.4 MySQL Server Configuration with MySQL Installer
.......................................................

* Menu:

* mysql-installer-workflow-innodb-cluster::  High Availability
* server-type-network::          Type and Networking
* server-authentication-method::  Authentication Method
* server-accounts-roles::        Accounts and Roles
* server-windows-service::       Windows Service
* server-logging-options::       Logging Options
* server-advanced-options::      Advanced Options
* server-apply-config::          Apply Server Configuration

MySQL Installer performs the initial configuration of the MySQL server.
For example:

   * For the MySQL 8.0 release series, a server can be configured to run
     as a standalone database, as a sandbox InnoDB cluster on a single
     host, or to create a production InnoDB cluster inside a local
     network (see *note mysql-installer-workflow-innodb-cluster::).

   * It creates the configuration file ('my.ini') that is used to
     configure the MySQL server.  The values written to this file are
     influenced by choices you make during the installation process.
     Some definitions are host dependent.  For example, query_cache is
     enabled if the host has fewer than three cores.

     *Note*:

     Query cache was deprecated in MySQL 5.7 and removed in MySQL 8.0
     (and later).

   * By default, a Windows service for the MySQL server is added.

   * Provides default installation and data paths for MySQL server.  For
     instructions on how to change the default paths, see *note
     mysql-installer-change-path-proc::.

   * It can optionally create MySQL server user accounts with
     configurable permissions based on general roles, such as DB
     Administrator, DB Designer, and Backup Admin.  It optionally
     creates a Windows user named 'MysqlSys' with limited privileges,
     which would then run the MySQL Server.

     User accounts may also be added and configured in MySQL Workbench.

   * Checking 'Show Advanced Options' enables additional 'Logging
     Options' to be set.  This includes defining custom file paths for
     the error log, general log, slow query log (including the
     configuration of seconds it requires to execute a query), and the
     binary log.

During the configuration process, click 'Next' to proceed to the next
step or 'Back' to return to the previous step.  Click 'Execute' at the
final step to apply the server configuration.

The sections that follow describe the server configuration options that
apply to MySQL server on Windows.  The server version you installed will
determine which steps and options you can configure.  Configuring MySQL
server may include some or all of the steps.


File: manual.info.tmp,  Node: mysql-installer-workflow-innodb-cluster,  Next: server-type-network,  Prev: mysql-installer-workflow-server,  Up: mysql-installer-workflow-server

2.3.3.5 High Availability
.........................

MySQL Installer enables you to install, configure, and deploy MySQL
Server as a standalone instance or as a member of a highly available
cluster using MySQL Group Replication.  In either case, MySQL Installer
restricts the installation and configuration of the server (or servers)
to the local Windows host computer.

   * Standalone MySQL Server / Classic MySQL Replication (default)

     Select this option to configure one MySQL instance to run as a
     standalone database server.  This option is ideal if you intend to
     set up classic replication later and then to include this server in
     your custom solution.  The remaining configuration steps are
     described in the sections that follow, starting with *note Type and
     Networking: server-type-network.

   * InnoDB cluster

     Select this option to create or extend an InnoDB cluster solution
     that is based on MySQL Group Replication (see Introducing InnoDB
     Cluster
     (https://dev.mysql.com/doc/refman/5.7/en/mysql-innodb-cluster-introduction.html)).
     You can configure (or reconfigure) a minimum of three server
     instances to perform a basic setup as a test-only sandbox cluster
     on a single computer or to create a production cluster inside a
     local network.

     InnoDB Cluster Log Verbosity Level

     This configuration step includes an adjustable log that captures
     information during the configuration of each server instance in the
     production or sandbox cluster.  The values are: 'MINIMAL', 'MEDIUM'
     (default), and 'DEBUG'.  If the cluster configuration fails, use
     the 'Reconfigure' action from the MySQL Installer dashboard to
     restart the configuration and then set the verbosity level to
     'DEBUG' to gather additional information during your next attempt.

     MySQL Installer provides the following configuration variations to
     deploy an InnoDB cluster:

        * Set Up a Local Server Cluster for Testing Only

          Select 'Create a Sandbox InnoDB cluster for Testing' to enable
          this option.  When prompted, define the number of server
          sandbox instances in the cluster, set a password for the
          'root' user, and adjust the InnoDB cluster log verbosity level
          as needed.  For a more detailed description of the
          configuration, see *note
          mysql-installer-sandbox-innodb-cluster::.  This setup requires
          MySQL 5.7.17 or higher.

        * Create or Join an InnoDB cluster

          To set up a highly available InnoDB cluster using MySQL
          Installer, you must have a minimum of three computers on a
          local network.  If you require a more advanced setup, use
          MySQL Shell to configure some or all of the server instances
          in the cluster.  For details about how to perform a
          local-network cluster setup, see Setting up an InnoDB cluster
          with MySQL Installer.  This setup requires MySQL 8.0.0 or
          higher.

     InnoDB cluster was designed to operate with MySQL Shell, which
     enables you to perform advanced cluster administration, and MySQL
     Router to automate the connections made between client applications
     and server instances.  Neither MySQL Shell nor MySQL Router are
     required to deploy a cluster on Windows using MySQL Installer.

*Deploying a Sandbox InnoDB Cluster with MySQL Installer*

A sandbox deployment includes multiple server sandbox instances that run
together on the same computer.  Because all server instances reside on
the same computer, a sandbox cluster does not meet the requirements of a
highly available solution.  Instead, this deployment option simulates an
environment from which you can explore the techniques associated with
InnoDB cluster administration.

When you select 'Create a Sandbox InnoDB cluster for Testing', a
follow-on step prompts you to select a cluster consisting of three,
five, seven, or nine MySQL server instances.  Unlike the other server
setups provided by MySQL Installer, the sandbox deployment skips the
usual server configuration steps (except Authentication Method).  The
resulting cluster, named 'sandboxCluster', is available on selected
ports that are configured for you.

*Note*:

MySQL Installer deletes ports 3310 to 3390 during the configuration, if
those ports were set for the sandbox InnoDB cluster manually using MySQL
Shell.

Each sandbox instance is configured to run as a process (not a Windows
service).  You must start each instance in the sandbox cluster manually
after restarting the computer.

After you create the test cluster, click the 'Summary' tab to view the
specific ports that apply to your cluster.  To modify the number of
server instances within the existing cluster or to adjust the logging
level, use the 'Reconfigure' quick action from the MySQL Installer
dashboard.

*Warning*:

MySQL Installer deletes all existing sandbox cluster data when the
cluster is reconfigured or when the server instances within the sandbox
cluster are upgraded.

MySQL Installer stores all sandbox InnoDB cluster configuration entries
in the 'installer_config.xml' file.  By default, MySQL Installer creates
the sandbox instances in '%userprofile%\MySQL\mysql-sandboxes' on the
local host.

*Setting up InnoDB Cluster with MySQL Installer*

To create a single InnoDB cluster, select 'InnoDB Cluster' as the High
Availability option and then select 'Create a New InnoDB Cluster'.
Adjust the log verbosity level (as needed), and click 'Next' to
configure the first server instance.  This setup process involves
installing and running MySQL Installer on multiple computers.

Define the first server instance (or seed) by providing the following
configuration information:

   * 'InnoDB Cluster Name:'

     The default cluster name is 'myCluster'.  If you intend to
     configure multiple clusters, replace the default name with one that
     is meaningful within your solution.  Alphanumeric characters,
     spaces, and underscore ('_') characters are valid for this field.
     The limit is 40 characters.

   * 'Cluster Admin User Name:'

     The default cluster administrator name is 'ic'.  You can reuse the
     same MySQL administrative account across multiple clusters.  You
     will be prompted for this account name (and password) later when
     you configure other server instances to join the cluster.  The
     limit is 32 characters.

   * 'Cluster Admin Password:'

     Enter a password for the cluster administrator account (minimum
     length is four characters).  MySQL Installer will evaluate the
     strength of the MySQL password as you type.  Use the 'Repeat
     Password' field to confirm the password.

   * 'Host Address:'

     Select the host name or IP address of the local host from the list.
     When joining additional server instances to the cluster, you will
     be prompted to identify the seed instance by the host name or IP
     address.

   * 'Server ID:'

     The default value is '1'.  This identifier is required to record
     the events of a server instance in the binary log.  The ID of each
     server instance within a cluster must be unique; however, you can
     reuse the same number in a different cluster.  The server ID you
     specify in this field also appears later in Advanced Options step.
     If you change the value in Advanced Option, the number is changed
     for the InnoDB cluster Setup too.

Click 'Next' and then complete the remaining configuration steps, which
are described in the sections that follow, starting with *note Type and
Networking: server-type-network.  After the seed instance is added and
the cluster is created, it requires more instances for full tolerance.
At this point, the status is 'OK_NO_TOLERANCE'.

To add the second and third server instances to the cluster, you must
use a separate computer inside the local network for each.  Some of the
configuration details of the seed instance are required to complete the
join operation.

After you start MySQL Installer and install the server instance on the
next computer, begin the configuration by selecting 'InnoDB Cluster' as
the High Availability option and then select 'Add Local MySQL Server
Instance to an InnoDB Cluster'.  Adjust the 'InnoDB Cluster Log
Verbosity Level' (as needed) and then click 'Next'.

Define the joining server instance by providing the following
configuration information:

   * 'Seed Instance Address:'

     Enter the host name or IP address of the computer that hosts the
     seed instance.

   * 'Seed Instance Port:'

     The default value is '3306', which is the port for classic MySQL.
     Use the same TCP port that you configured for the seed instance.

   * 'Cluster Admin User Name:'

     The default cluster administrator name is 'ic'.  If you assigned a
     different name when you configured the seed instance, enter the
     alternative cluster administrator name.

   * 'Cluster Admin Password:'

     Enter the password assigned to the cluster administrator account.

   * 'Host Address:'

     Select the host name or IP address of the local host from the list.

   * 'Server ID:'

     The default value is '1'.  This identifier is required to record
     the events of a server instance in the binary log.  The ID of each
     server instance within a cluster must be unique; however, you can
     reuse the same number in a different cluster.  The server ID you
     specify in this field also appears later in Advanced Options step.
     If you change the value in Advanced Option, the number is changed
     for the InnoDB cluster Setup too.

   * 'Test Connection'

     Use this button to verify the connection between the local server
     instance and the seed instance defined for the cluster.  A valid
     connection is required to proceed.

Click 'Next' and then complete the remaining configuration steps, which
are described in the sections that follow, starting with *note Type and
Networking: server-type-network.

With one seed instance and a second server instance in the cluster, the
status is 'OK_NO_TOLERANCE'.  After you add the third server instance,
the status is 'OK', which indicates that the cluster now is tolerant to
the failure of one instance.


File: manual.info.tmp,  Node: server-type-network,  Next: server-authentication-method,  Prev: mysql-installer-workflow-innodb-cluster,  Up: mysql-installer-workflow-server

2.3.3.6 Type and Networking
...........................

   * Server Configuration Type

     Choose the MySQL server configuration type that describes your
     setup.  This setting defines the amount of system resources
     (memory) that will be assigned to your MySQL server instance.

        * *Development*: A machine that will host many other
          applications, and typically this is your personal workstation.
          This option configures MySQL to use the least amount of
          memory.

        * *Server*: Several other applications will be running on this
          machine, such as a web server.  This option configures MySQL
          to use a medium amount of memory.

        * *Dedicated*: A machine that is dedicated to running the MySQL
          server.  Because no other major applications will run on this
          server, such as a web server, this option configures MySQL to
          use the majority of available memory.

   * Connectivity

     Connectivity options control how the connection to MySQL is made.
     Options include:

        * 'TCP/IP': You may enable TCP/IP Networking here as otherwise
          only local host connections are permitted.  Also define the
          'Port' (for the classic MySQL protocol), 'X Protocol Port'
          (for MySQL as a document store), and whether to open the
          firewall port for network access.  If the port number is in
          use already, you will see the information icon (

          ) next to the default value and 'Next' is disabled until you
          provide a new port number.

        * 'Named Pipe': Enable and define the pipe name, similar to
          setting the 'named_pipe' system variable.  The default name is
          'MySQL'.

        * 'Shared Memory': Enable and then define the memory name,
          similar to setting the 'shared_memory' system variable.  The
          default name is 'MySQL'.

   * Advanced Configuration

     Check 'Show Advanced and Logging Options' to set custom logging and
     advanced options in later steps.  The Logging Options step enables
     you to define custom file paths for the error log, general log,
     slow query log (including the configuration of seconds it requires
     to execute a query), and the binary log.  The Advanced Options step
     enables you to set the unique server ID required when binary
     logging is enabled in a replication topology.

   * MySQL Enterprise Firewall (Enterprise Edition only)

     The 'Enable Enterprise Firewall' check box is selected by default.
     For post-installation instructions, see MySQL Enterprise Firewall
     (https://dev.mysql.com/doc/refman/5.6/en/firewall.html).


File: manual.info.tmp,  Node: server-authentication-method,  Next: server-accounts-roles,  Prev: server-type-network,  Up: mysql-installer-workflow-server

2.3.3.7 Authentication Method
.............................

The 'Authentication Method' step is visible only during the installation
or upgrade of MySQL 8.0.4 or higher.  It introduces a choice between two
server-side authentication options.  The MySQL user accounts that you
create in the next step will use the authentication method that you
select in this step.

MySQL 8.0 connectors and community drivers that use 'libmysqlclient' 8.0
now support the 'mysql_native_password' default authentication plugin.
However, if you are unable to update your clients and applications to
support this new authentication method, you can configure the MySQL
server to use 'mysql_native_password' for legacy authentication.  For
more information about the implications of this change, see
caching_sha2_password as the Preferred Authentication Plugin
(https://dev.mysql.com/doc/refman/8.0/en/upgrading-from-previous-series.html#upgrade-caching-sha2-password).

If you are installing or upgrading to MySQL 8.0.4 or higher, select one
of the following authentication methods:

   * Use Strong Password Encryption for Authentication (RECOMMENDED)

     MySQL 8.0 supports a new authentication based on improved, stronger
     SHA256-based password methods.  It is recommended that all new
     MySQL server installations use this method going forward.

     *Important*:

     The 'caching_sha2_password' authentication plugin on the server
     requires new versions of connectors and clients, which add support
     for the new MySQL 8.0 default authentication.

   * Use Legacy Authentication Method (Retain MySQL 5.x Compatibility)

     Using the old MySQL 5.x legacy authentication method should be
     considered only in the following cases:

        * Applications cannot be updated to use MySQL 8.0 connectors and
          drivers.

        * Recompilation of an existing application is not feasible.

        * An updated, language-specific connector or driver is not
          available yet.


File: manual.info.tmp,  Node: server-accounts-roles,  Next: server-windows-service,  Prev: server-authentication-method,  Up: mysql-installer-workflow-server

2.3.3.8 Accounts and Roles
..........................

   * Root Account Password

     Assigning a root password is required and you will be asked for it
     when performing other MySQL Installer operations.  Password
     strength is evaluated when you repeat the password in the box
     provided.  For descriptive information regarding password
     requirements or status, move your mouse pointer over the
     information icon (

     ) when it appears.

   * MySQL User Accounts (Optional)

     Click 'Add User' or 'Edit User' to create or modify MySQL user
     accounts with predefined roles.  Next, enter the required account
     credentials:

        * 'User Name:' MySQL user names can be up to 32 characters long.

        * 'Host:' Select 'localhost' for local connections only or '<All
          Hosts (%)>' when remote connections to the server are
          required.

        * 'Role:' Each predefined role, such as 'DB Admin', is
          configured with its own set of privileges.  For example, the
          'DB Admin' role has more privileges than the 'DB Designer'
          role.  The 'Role' drop-down list contains a description of
          each role.

        * 'Password:' Password strength assessment is performed while
          you type the password.  Passwords must be confirmed.  MySQL
          permits a blank or empty password (considered to be insecure).

     MySQL Installer Commercial Release Only:

     MySQL Enterprise Edition for Windows, a commercial product, also
     supports an authentication method that performs external
     authentication on Windows.  Accounts authenticated by the Windows
     operating system can access the MySQL server without providing an
     additional password.

     To create a new MySQL account that uses Windows authentication,
     enter the user name and then select a value for 'Host' and 'Role'.
     Click 'Windows' authentication to enable the
     'authentication_windows' plugin.  In the Windows Security Tokens
     area, enter a token for each Windows user (or group) who can
     authenticate with the MySQL user name.  MySQL accounts can include
     security tokens for both local Windows users and Windows users that
     belong to a domain.  Multiple security tokens are separated by the
     semicolon character (';') and use the following format for local
     and domain accounts:

        * Local account

          Enter the simple Windows user name as the security token for
          each local user or group; for example, finley;jeffrey;admin.

        * Domain account

          Use standard Windows syntax (DOMAIN'\'DOMAINUSER) or MySQL
          syntax (DOMAIN'\\'DOMAINUSER) to enter Windows domain users
          and groups.

          For domain accounts, you may need to use the credentials of an
          administrator within the domain if the account running MySQL
          Installer lacks the permissions to query the Active Directory.
          If this is the case, select 'Validate Active Directory users
          with' to activate the domain administrator credentials.

     Windows authentication permits you to test all of the security
     tokens each time you add or modify a token.  Click 'Test Security
     Tokens' to validate (or revalidate) each token.  Invalid tokens
     generate a descriptive error message along with a red 'X' icon and
     red token text.  When all tokens resolve as valid (green text
     without an 'X' icon), you can click 'OK' to save the changes.


File: manual.info.tmp,  Node: server-windows-service,  Next: server-logging-options,  Prev: server-accounts-roles,  Up: mysql-installer-workflow-server

2.3.3.9 Windows Service
.......................

On the Windows platform, MySQL server can run as a named service managed
by the operating system and be configured to start up automatically when
Windows starts.  Alternatively, you can configure MySQL server to run as
an executable program that requires manual configuration.

   * 'Configure MySQL server as a Windows service' (Selected by
     default.)

     When the default configuration option is selected, you can also
     select the following:

        * 'Start the MySQL Server at System Startup'

          When selected (default), the service startup type is set to
          Automatic; otherwise, the startup type is set to Manual.

        * 'Run Windows Service as'

          When 'Standard System Account' is selected (default), the
          service logs on as Network Service.

          The 'Custom User' option must have privileges to log on to
          Microsoft Windows as a service.  The 'Next' button will be
          disabled until this user is configured with the required
          privileges.

          A custom user account is configured in Windows by searching
          for "local security policy" in the Start menu.  In the Local
          Security Policy window, select 'Local Policies', 'User Rights
          Assignment', and then 'Log On As A Service' to open the
          property dialog.  Click 'Add User or Group' to add the custom
          user and then click 'OK' in each dialog to save the changes.

   * Deselect the Windows Service option


File: manual.info.tmp,  Node: server-logging-options,  Next: server-advanced-options,  Prev: server-windows-service,  Up: mysql-installer-workflow-server

2.3.3.10 Logging Options
........................

This step is available if the 'Show Advanced Configuration' check box
was selected during the 'Type and Networking' step.  To enable this step
now, click 'Back' to return to the 'Type and Networking' step and select
the check box.

Advanced configuration options are related to the following MySQL log
files:

   * *note Error Log: error-log.

   * *note General Log: query-log.

   * *note Slow Query Log: slow-query-log.

   * *note Bin Log: binary-log.

*Note*:

The binary log is enabled by default for MySQL 5.7 and higher.


File: manual.info.tmp,  Node: server-advanced-options,  Next: server-apply-config,  Prev: server-logging-options,  Up: mysql-installer-workflow-server

2.3.3.11 Advanced Options
.........................

This step is available if the 'Show Advanced Configuration' check box
was selected during the 'Type and Networking' step.  To enable this step
now, click 'Back' to return to the 'Type and Networking' step and select
the check box.

The advanced-configuration options include:

   * 'Server ID'

     Set the unique identifier used in a replication topology.  If
     binary logging is enabled, you must specify a server ID. The
     default ID value depends on the server version.  For more
     information, see the description of the 'server_id' system
     variable.

     *Tip*:

     If you specified an ID for a server instance of an InnoDB cluster,
     then MySQL Installer adjusts the ID (shown on this page) to match
     the previous identifier.

   * 'Table Names Case'

     You can set the following options during the initial and subsequent
     configuration the server.  For the MySQL 8.0 release series, these
     options apply only to the initial configuration of the server.

        * Lower Case

          Sets the 'lower_case_table_names' option value to 1 (default),
          in which table names are stored in lowercase on disk and
          comparisons are not case-sensitive.

        * Preserve Given Case

          Sets the 'lower_case_table_names' option value to 2, in which
          table names are stored as given but compared in lowercase.


File: manual.info.tmp,  Node: server-apply-config,  Prev: server-advanced-options,  Up: mysql-installer-workflow-server

2.3.3.12 Apply Server Configuration
...................................

All configuration settings are applied to the MySQL server when you
click 'Execute'.  Use the 'Configuration Steps' tab to follow the
progress of each action; the icon for each toggles from white to green
(with a check mark) on success.  Otherwise, the process stops and
displays an error message if an individual action times out.  Click the
'Log' tab to view the log.

When the installation completes successfully and you click 'Finish',
MySQL Installer and the installed MySQL products are added to the
Microsoft Windows Start menu under the 'MySQL' group.  Opening MySQL
Installer loads the dashboard where installed MySQL products are listed
and other MySQL Installer operations are available.


File: manual.info.tmp,  Node: mysql-installer-workflow-nonserver-products,  Prev: mysql-installer-workflow-server,  Up: mysql-installer-workflow

2.3.3.13 MySQL Router Configuration with MySQL Installer
........................................................

MySQL Installer downloads and installs a suite of tools for developing
and managing business-critical applications on Windows.  The suite
consist of applications, connectors, documentation, and samples.

During the *note initial setup: mysql-installer-setup, choose any
predetermined setup type, except 'Server only', to install the latest GA
version of the tools.  Use the 'Custom' setup type to install an
individual tool or specific version.  If MySQL Installer is installed on
the host already, use the 'Add' operation to select and install tools
from the MySQL Installer dashboard.

*MySQL Router Configuration*

MySQL Installer provides a configuration wizard that can bootstrap an
installed instance of MySQL Router 8.0 or later to route traffic between
MySQL applications and an InnoDB cluster.  When configured, MySQL Router
runs as a local Windows service.  For detailed information about using
MySQL Router with an InnoDB cluster, see Routing for MySQL InnoDB
cluster
(https://dev.mysql.com/doc/mysql-router/8.0/en/mysql-router-innodb-cluster.html).

*Note*:

You are prompted to configure MySQL Router after the initial
installation and when you reconfigure an installed router explicitly.
In contrast, the upgrade operation does not require or prompt you to
configure the upgraded product.

To configure MySQL Router, do the following:

  1. Set up InnoDB cluster.  For instructions on how to configure a
     sandbox InnoDB cluster on the local host using MySQL Installer, see
     *note mysql-installer-workflow-innodb-cluster::.

     For general InnoDB cluster information, see InnoDB Cluster
     (https://dev.mysql.com/doc/refman/5.7/en/mysql-innodb-cluster-userguide.html).

  2. Using MySQL Installer, download and install the MySQL Router
     application.  After the installation finishes, the configuration
     wizard prompts you for information.  Select the 'Configure MySQL
     Router for InnoDB cluster' check box to begin the configuration and
     provide the following configuration values:

        * 'Hostname:' Host name of the primary (seed) server in the
          InnoDB cluster ('localhost' by default).

        * 'Port:' The port number of the primary (seed) server in the
          InnoDB cluster ('3310' by default).

        * 'Management User:' An administrative user with root-level
          privileges.

        * 'Password:' The password for the management user.

        * 'Classic MySQL protocol connections to InnoDB cluster'

          'Read/Write:' Set the first base port number to one that is
          unused (between 80 and 65532) and the wizard will select the
          remaining ports for you.

          The figure that follows shows an example of the MySQL Router
          configuration page, with the first base port number specified
          as 6446 and the remaining ports set by the wizard as 6447,
          6448, and 6449.

     FIGURE GOES HERE: MySQL Router Configuration

  3. Click 'Next' and then 'Execute' to apply the configuration.  Click
     'Finish' to close MySQL Installer or return to the MySQL Installer
     dashboard.

After installing a production cluster with MySQL Router, the root
account only exists in the user table as 'root@localhost' (local),
instead of 'root@%' (remote).  Regardless of where the router or client
are located, even if both are located on the same host as the seed
server, any connection that passes through the router is viewed by
server as being remote, not local.  As a result, a connection made to
the server using the local host (see the example that follows), does not
authenticate.

     shell> \c root@localhost:6446


File: manual.info.tmp,  Node: mysql-installer-catalog-dashboard,  Next: MySQLInstallerConsole,  Prev: mysql-installer-workflow,  Up: mysql-installer

2.3.3.14 MySQL Installer Product Catalog and Dashboard
......................................................

   * *note windows-product-catalog::

   * *note windows-product-dashboard::

   * *note locate-products::

   * *note upgrade-mysql-installer::

This section describes the MySQL Installer product catalog and the
dashboard.

*Product Catalog*

The product catalog stores the complete list of released MySQL products
for Microsoft Windows that are available to download from MySQL
Downloads (https://dev.mysql.com/downloads/).  By default, and when an
Internet connection is present, MySQL Installer updates the catalog
daily.  You can also update the catalog manually from the dashboard
(described later).

An up-to-date catalog performs the following actions:

   * Populates the 'Available Products' pane of the Select Products and
     Features step.  This step appears when you select:

        * The 'Custom' setup type during the *note initial setup:
          mysql-installer-setup.

        * The 'Add' operation from the dashboard.

   * Identifies when product updates are available for the installed
     products listed in the dashboard.

The catalog includes all development releases (Pre-Release), general
releases (Current GA), and minor releases (Other Releases).  Products in
the catalog will vary somewhat, depending on the MySQL Installer release
that you download.

*MySQL Installer Dashboard*

The MySQL Installer dashboard is the default view that you see when you
start MySQL Installer after the *note initial setup:
mysql-installer-setup. finishes.  If you closed MySQL Installer before
the setup was finished, MySQL Installer resumes the initial setup before
it displays the dashboard.

FIGURE GOES HERE: MySQL Installer Dashboard Elements

*Description of MySQL Installer Dashboard Elements*

  1. MySQL Installer dashboard operations provide a variety of actions
     that apply to installed products or products listed in the catalog.
     To initiate the following operations, first click the operation
     link and then select the product or products to manage:

        * 'Add': This operation opens the Select Products and Features
          page.  From there, you can filter the product in the product
          catalog, select one or more products to download (as needed),
          and begin the installation.  For hints about using the filter,
          see *note locate-products::.

        * 'Modify': Use this operation to add or remove the features
          associated with installed products.  Features that you can
          modify vary in complexity by product.  When the 'Program
          Shortcut' check box is selected, the product appears in the
          Start menu under the 'MySQL' group.

        * 'Upgrade': This operation loads the Select Products to Upgrade
          page and populates it with all the upgrade candidates.  An
          installed product can have more than one upgrade version and
          requires a current product catalog.

          * Important server upgrade conditions:*

             * MySQL Installer does not permit server upgrades between
               major release versions or minor release versions, but
               does permit upgrades within a release series, such as an
               upgrade from 5.7.18 to 5.7.19.

             * Upgrades between milestone releases (or from a milestone
               release to a GA release) are not supported.  Significant
               development changes take place in milestone releases and
               you may encounter compatibility issues or problems
               starting the server.

             * For upgrades to MySQL 8.0.16 server and higher, a check
               box enables you to skip the upgrade check and process for
               system tables, while checking and processing data
               dictionary tables normally.  MySQL Installer does not
               prompt you with the check box when the previous server
               upgrade was skipped or when the server was configured as
               a sandbox InnoDB cluster.  This behavior represents a
               change in how MySQL Server performs an upgrade (see What
               the MySQL Upgrade Process Upgrades
               (https://dev.mysql.com/doc/refman/8.0/en/upgrading-what-is-upgraded.html))
               and it alters the sequence of steps that MySQL Installer
               applies to the configuration process.

               If you select 'Skip system tables upgrade check and
               process. (Not recommended)', MySQL Installer starts the
               upgraded server with the '--upgrade=MINIMAL'
               (https://dev.mysql.com/doc/refman/8.0/en/server-options.html#option_mysqld_upgrade)
               server option, which upgrades the data dictionary only.
               If you stop and then restart the server without the
               '--upgrade=MINIMAL'
               (https://dev.mysql.com/doc/refman/8.0/en/server-options.html#option_mysqld_upgrade)
               option, the server upgrades the system tables
               automatically, if needed.

               The following information appears in the 'Log' tab and
               log file after the upgrade configuration (with system
               tables skipped) is complete:

                    WARNING: The system tables upgrade was skipped after upgrading MySQL Server. The
                    server will be started now with the --upgrade=MINIMAL option, but then each
                    time the server is started it will attempt to upgrade the system tables, unless
                    you modify the Windows service (command line) to add --upgrade=MINIMAL to bypass
                    the upgrade.

                    FOR THE BEST RESULTS: Run mysqld.exe --upgrade=FORCE on the command line to upgrade
                    the system tables manually.

          To choose a new product version:

            1. Click 'Upgrade'.  Confirm that the check box next to
               product name in the 'Upgradeable Products' pane has a
               check mark.  Deselect the products that you do not intend
               to upgrade at this time.

               *Note*:

               For server milestone releases in the same release series,
               MySQL Installer deselects the server upgrade and displays
               a warning to indicate that the upgrade is not supported,
               identifies the risks of continuing, and provides a
               summary of the steps to perform a logical upgrade
               manually.  You can reselect server upgrade at your own
               risk.  For instructions on how to perform a logical
               upgrade with a milestone release, see *note
               upgrade-procedure-logical::.

            2. Click a product in the list to highlight it.  This action
               populates the 'Upgradeable Versions' pane with the
               details of each available version for the selected
               product: version number, published date, and a 'Changes'
               link to open the release notes for that version.

          MySQL Installer upgrades all of the selected products in one
          action.  Click 'Show Details' to view the actions performed by
          MySQL Installer.

        * 'Remove': This operation opens the Remove Products page and
          populates it with the MySQL products installed on the host.
          Select the MySQL products you want to remove (uninstall) and
          then click 'Execute' to begin the removal process.  During the
          operation, an indicator shows the number of steps that are
          executed as a percentage of all steps.

          To select products to remove, do one of the following:

             * Select the check box for one or more products.

             * Select the 'Product' check box to select all products.

          To remove a local MySQL server:

            1. Determine whether the local data directory should be
               removed.  If you retain the data directory, another
               server installation can reuse the data.  This option is
               enabled by default (removes the data directory).

            2. If the local server is a member of an InnoDB cluster,
               reconfigure the cluster as follows:

                 1. Type the administrator password for the cluster
                    affected when the local server is removed and then
                    click 'Test Connection' to verify the credentials.
                    MySQL Installer can perform the following actions,
                    depending on the configuration of the existing
                    cluster:

                       * If the local server is a seed instance and the
                         number of instances in the cluster is one,
                         dissolve the cluster when you remove the local
                         server.

                       * If the local server is a seed instance and the
                         number of instances in the cluster is greater
                         than one, remove the instance from the cluster
                         or dissolve the cluster when you remove the
                         local server.

                       * If the local server is a slave instance within
                         the cluster and the number of instances in the
                         cluster is greater than two, remove the local
                         instance from the cluster.  (A single slave
                         instance within a cluster reverts to a seed
                         instance automatically.)

                       * If the local server is configured as a sandbox
                         InnoDB cluster, remove all instances created
                         for the sandbox server installation.

                 2. When prompted, do one of the following:

                       * Select an action to apply to the cluster and
                         click 'Next'.

                       * Click 'Next' without selecting an action.  In
                         most cases, MySQL Group Replication can manage
                         the cluster when the local server becomes
                         unavailable.  A warning message reminds you
                         that skipping the step may result in an
                         inconsistent InnoDB cluster configuration.

            3. Click 'Execute' to begin uninstalling the local server.
               Note that all products that you selected to remove are
               also uninstalled at this time.

            4. (Optional) Click the 'Log' tab to display the current
               actions performed by MySQL Installer.

  2. The 'Reconfigure' link in the Quick Action column next to each
     installed server loads the current configuration values for the
     server and then cycles through all configuration steps enabling you
     to change the options and values.  You must provide credentials
     with root privileges to reconfigure these items.  Click the 'Log'
     tab to show the output of each configuration step performed by
     MySQL Installer.

     On completion, MySQL Installer stops the server, applies the
     configuration changes, and restarts the server for you.  For a
     description of each configuration option, see *note
     mysql-installer-workflow-server::.  Installed 'Samples and
     Examples' associated with a specific MySQL server version can be
     also be reconfigured to apply new feature settings, if any.

  3. The 'Catalog' link enables you to download the latest catalog of
     MySQL products manually and then to integrate those product changes
     with MySQL Installer.  The catalog-download action does not perform
     an upgrade of the products already installed on the host.  Instead,
     it returns to the dashboard and displays an arrow icon in the
     Version column for each installed product that has a newer version.
     Use the 'Upgrade' operation to install the newer product version.

     You can also use the 'Catalog' link to display the current change
     history of each product without downloading the new catalog.
     Select the 'Do not update at this time' check box to view the
     change history only.

  4. The MySQL Installer About icon (

     About icon

     ) shows the current version of MySQL Installer and general
     information about MySQL. The version number is located above the
     'Back' button.

     *Tip*:

     Always include this version number when reporting a problem with
     MySQL Installer.

     In addition to the About MySQL information (

     About MySQL icon

     ), you can also select the following icons from the side panel:

        * License icon (

          License icon

          ) for MySQL Installer.

          This product may include third-party software, used under
          license.  If you are using a Commercial release of MySQL
          Installer, the icon opens the MySQL Installer Commercial
          License Information User Manual for licensing information,
          including licensing information relating to third-party
          software that may be included in this Commercial release.  If
          you are using a Community release of MySQL Installer, the icon
          opens the MySQL Installer Community License Information User
          Manual for licensing information, including licensing
          information relating to third-party software that may be
          included in this Community release.

        * Resource links icon (

          Resource links icon

          ) to the latest MySQL product documentation, blogs, webinars,
          and more.

  5. The MySQL Installer Options icon (

     ) includes the following tabs:

        * 'Product Catalog': Manages the daily automatic catalog
          updates.  By default, catalog updates are scheduled at a fixed
          hour.

          When new products or product versions are available, MySQL
          Installer adds them to the catalog and then displays an arrow
          icon (

          ) next to the version number of installed products listed in
          the dashboard.

          Use this option to enable or disable automatic catalog updates
          and to reset the time of day when the MySQL Installer updates
          the catalog automatically.  For specific settings, see the
          task named 'ManifestUpdate' in the Windows Task Scheduler.

        * 'Connectivity Settings': Several operations performed by MySQL
          Installer require internet access.  This option enables you to
          use a default value to validate the connection or to use a
          different URL, one selected from a list or added by you
          manually.  With the 'Manual' option selected, new URLs can be
          added and all URLs in the list can be moved or deleted.  When
          the 'Automatic' option is selected, MySQL Installer attempts
          to connect to each default URL in the list (in order) until a
          connection is made.  If no connection can be made, it raises
          an error.

*Locating Products to Install*

MySQL products in the catalog are listed by category: MySQL Servers,
Applications, MySQL Connectors, and Documentation.  Only the latest GA
versions appear in the 'Available Products' pane by default.  If you are
looking for a pre-release or older version of a product, it may not be
visible in the default list.

To change the default product list, click 'Add' on the dashboard to open
the Select Products and Features page, and then click 'Edit' to open the
filter dialog box (see the figure that follows).  Modify the product
values and then click 'Filter'.

FIGURE GOES HERE: Filter Available Products

Reset one or more of the following values to filter the list of
available products:

   * Text: Filter by text.

   * Category: All Software (default), MySQL Servers, Applications,
     MySQL Connectors, or Documentation (for samples and documentation).

   * Maturity: Current Bundle (appears initially with the full package
     only), Pre-Release, Current GA, or Other Releases.

     *Note*:

     The Commercial release of MySQL Installer does not display any
     MySQL products when you select the Pre-Release age filter.
     Products in development are available from the Community release of
     MySQL Installer only.

   * Already Downloaded (the check box is deselected by default).

   * Architecture: Any (default), 32-bit, or 64-bit.

*Upgrading MySQL Installer*

MySQL Installer remains installed on your computer, and like other
software, MySQL Installer can be upgraded from the previous version.  In
some cases, other MySQL software may require that you upgrade MySQL
Installer for compatibility.  This section describes how to identify the
current version of MySQL Installer and how to upgrade MySQL Installer
manually.

*To locate the installed version of MySQL Installer:*

  1. Start MySQL Installer from the search menu.  The MySQL Installer
     dashboard opens.

  2. Click the MySQL Installer About icon (

     About icon

     ).  The version number is located above the 'Back' button.

*To initiate an on-demand upgrade of MySQL Installer:*

  1. Connect the computer with MySQL Installer installed to the
     internet.

  2. Start MySQL Installer from the search menu.  The MySQL Installer
     dashboard opens.

  3. Click 'Catalog' on the bottom of the dashboard to open the Update
     Catalog window.

  4. Click 'Execute' to begin the process.  If the installed version of
     MySQL Installer can be upgraded, you will be prompted to start the
     upgrade.

  5. Click 'Next' to review all changes to the catalog and then click
     'Finish' to return to the dashboard.

  6. Verify the (new) installed version of MySQL Installer (see the
     previous procedure).


File: manual.info.tmp,  Node: MySQLInstallerConsole,  Prev: mysql-installer-catalog-dashboard,  Up: mysql-installer

2.3.3.15 MySQLInstallerConsole Reference
........................................

*note 'MySQLInstallerConsole.exe': MySQLInstallerConsole. provides
command-line functionality that is similar to MySQL Installer.  It is
installed when MySQL Installer is initially executed and then available
within the 'MySQL Installer' directory.  Typically, that is in
'C:\Program Files (x86)\MySQL\MySQL Installer\', and the console must be
executed with administrative privileges.

To use, invoke the command prompt with administrative privileges by
choosing 'Start', 'Accessories', then right-click on 'Command Prompt'
and choose 'Run as administrator'.  And from the command line,
optionally change the directory to where *note
'MySQLInstallerConsole.exe': MySQLInstallerConsole. is located:

     C:\> cd Program Files (x86)\MySQL\MySQL Installer for Windows
     C:\Program Files (x86)\MySQL\MySQL Installer for Windows> MySQLInstallerConsole.exe help
     =================== Start Initialization ===================
     MySQL Installer is running in Community mode

     Attempting to update manifest.
     Initializing product requirements
     Loading product catalog
     Checking for product catalog snippets
     Checking for product packages in the bundle
     Categorizing product catalog
     Finding all installed packages.
     Your product catalog was last updated at 11/1/2016 4:10:38 PM
     =================== End Initialization ===================

     The following commands are available:

     Configure - Configures one or more of your installed programs.
     Help      - Provides list of available commands.
     Install   - Install and configure one or more available MySQL programs.
     List      - Provides an interactive way to list all products available.
     Modify    - Modifies the features of installed products.
     Remove    - Removes one or more products from your system.
     Status    - Shows the status of all installed products.
     Update    - Update the current product catalog.
     Upgrade   - Upgrades one or more of your installed programs.

*note 'MySQLInstallerConsole.exe': MySQLInstallerConsole. supports the
following commands:

*Note*:

Configuration block values that contain a colon (":") must be wrapped in
double quotes.  For example, installdir="C:\MySQL\MySQL Server 8.0".

   * 
     'configure [PRODUCT1]:[SETTING]=[VALUE];
     [PRODUCT2]:[SETTING]=[VALUE]; [...]'

     Configure one or more MySQL products on your system.  Multiple
     setting=value pairs can be configured for each product.

     Switches include:

        * '-showsettings' : Displays the available options for the
          selected product, by passing in the product name after
          '-showsettings'.

        * '-silent' : Disable confirmation prompts.

          C:\> MySQLInstallerConsole configure -showsettings server
          C:\> MySQLInstallerConsole configure server:port=3307

   * 
     'help [COMMAND]'

     Displays a help message with usage examples, and then exits.  Pass
     in an additional command to receive help specific to that command.

          C:\> MySQLInstallerConsole help
          C:\> MySQLInstallerConsole help install

   * 
     'install [PRODUCT]:[FEATURES]:[CONFIG BLOCK]:[CONFIG BLOCK]:[CONFIG
     BLOCK]; [...]'

     Install one or more MySQL products on your system.  If pre-release
     products are available, both GA and pre-release products are
     installed when the value of the '-type' switch is 'Developer',
     'Client', or 'Full'.  Use the '-only_ga_products' switch to
     restrict the product set to GA products only when using these setup
     types.

     Switches and syntax options include:

        * '-only_ga_products' : Restricts the product set to include GA
          products only.

        * '-type=[SetupType]' : Installs a predefined set of software.
          The "SetupType" can be one of the following:

          *Note*:

          Non-custom setup types can only be chosen if no other MySQL
          products are installed.

             * *Developer*: Installs a complete development environment.

             * *Server*: Installs a single MySQL server

             * *Client*: Installs client programs and libraries

             * *Full*: Installs everything

             * *Custom*: Installs user selected products.  This is the
               default option.

        * '-showsettings' : Displays the available options for the
          selected product, by passing in the product name after
          '-showsettings'.

        * '-silent' : Disable confirmation prompts.

        * [CONFIG BLOCK]: One or more configuration blocks can be
          specified.  Each configuration block is a semicolon separated
          list of key value pairs.  A block can include either a
          "config" or "user" type key, where "config" is the default
          type if one is not defined.

          Configuration block values that contain a colon character
          (':') must be wrapped in double quotes.  For example,
          'installdir="C:\MySQL\MySQL Server 8.0"'.

          Only one "config" type block can be defined per product.  A
          "user" block should be defined for each user that should be
          created during the product's installation.

          *Note*:

          Adding users is not supported when a product is being
          reconfigured.

        * [FEATURE]: The feature block is a semicolon separated list of
          features, or an asterisk character ('*') to select all
          features.

          C:\> MySQLInstallerConsole install server;5.6.25:*:port=3307;serverid=2:type=user;username=foo;password=bar;role=DBManager
          C:\> MySQLInstallerConsole install server;5.6.25;x64 -silent

     An example that passes in additional configuration blocks,
     separated by '^' to fit:

          C:\> MySQLInstallerConsole install server;5.6.25;x64:*:type=config;openfirewall=true; ^
                    generallog=true;binlog=true;serverid=3306;enable_tcpip=true;port=3306;rootpasswd=pass; ^
                    installdir="C:\MySQL\MySQL Server 5.6":type=user;datadir="C:\MySQL\data";username=foo;password=bar;role=DBManager

   * 
     'list'

     Lists an interactive console where all of the available MySQL
     products can be searched.  Execute 'MySQLInstallerConsole list' to
     launch the console, and enter in a substring to search.

          C:\> MySQLInstallerConsole list

   * 
     'modify [PRODUCT1:-REMOVELIST|+ADDLIST]
     [PRODUCT2:-REMOVELIST|+ADDLIST] [...]'

     Modifies or displays features of a previously installed MySQL
     product.

        * '-silent' : Disable confirmation prompts.

          C:\> MySQLInstallerConsole modify server
          C:\> MySQLInstallerConsole modify server:+documentation
          C:\> MySQLInstallerConsole modify server:-debug

   * 
     'remove [PRODUCT1] [PRODUCT2] [...]'

     Removes one ore more products from your system.

        * '*' : Pass in '*' to remove all of the MySQL products.

        * '-continue' : Continue the operation even if an error occurs.

        * '-silent' : Disable confirmation prompts.

          C:\> MySQLInstallerConsole remove *
          C:\> MySQLInstallerConsole remove server

   * 
     'status'

     Provides a quick overview of the MySQL products that are installed
     on the system.  Information includes product name and version,
     architecture, date installed, and install location.

          C:\> MySQLInstallerConsole status

   * 
     'update'

     Downloads the latest MySQL product catalog to your system.  On
     success, the download catalog will be applied the next time either
     MySQLInstaller or MySQLInstallerConsole is executed.

          C:\> MySQLInstallerConsole UPDATE

     *Note*:

     The 'Automatic Catalog Update' GUI option executes this command
     from the Windows Task Scheduler.

   * 
     'upgrade [PRODUCT1:VERSION] [PRODUCT2:VERSION] [...]'

     Upgrades one or more products on your system.  Syntax options
     include:

        * '*' : Pass in '*' to upgrade all products to the latest
          version, or pass in specific products.

        * '!' : Pass in '!' as a version number to upgrade the MySQL
          product to its latest version.

        * '-silent' : Disable confirmation prompts.

          C:\> MySQLInstallerConsole upgrade *
          C:\> MySQLInstallerConsole upgrade workbench:6.3.5
          C:\> MySQLInstallerConsole upgrade workbench:!
          C:\> MySQLInstallerConsole upgrade workbench:6.3.5 excel:1.3.2


File: manual.info.tmp,  Node: windows-using-installer,  Next: mysql-config-wizard,  Prev: mysql-installer,  Up: windows-installation

2.3.4 Installing MySQL on Microsoft Windows Using an MSI Package
----------------------------------------------------------------

* Menu:

* windows-install-wizard::       Using the MySQL Installation Wizard
* windows-installer-msi-quiet::  Automating MySQL Installation on Microsoft Windows Using the MSI Package
* windows-installer-uninstalling::  Removing MySQL When Installed from the MSI Package

The MSI package is designed to install and configure MySQL in such a way
that you can immediately get started using MySQL.

The MySQL Installation Wizard and MySQL Configuration Wizard are
available in the Complete install package, which is recommended for most
standard MySQL installations.  Exceptions include users who need to
install multiple instances of MySQL on a single server host and advanced
users who want complete control of server configuration.

   * For information on installing using the GUI MSI installer process,
     see *note windows-install-wizard::.

   * For information on installing using the command line using the MSI
     package, see *note windows-installer-msi-quiet::.

   * If you have previously installed MySQL using the MSI package and
     want to remove MySQL, see *note windows-installer-uninstalling::.

The workflow sequence for using the installer is shown in the figure
below:

FIGURE GOES HERE: Installation Workflow for Windows Using MSI Installer

*Note*:

Microsoft Windows XP and later include a firewall which specifically
blocks ports.  If you plan on using MySQL through a network port then
you should open and create an exception for this port before performing
the installation.  To check and if necessary add an exception to the
firewall settings:

  1. First ensure that you are logged in as an Administrator or a user
     with Administrator privileges.

  2. Go to the 'Control Panel', and double click the 'Windows Firewall'
     icon.

  3. Choose the 'Allow a program through Windows Firewall' option and
     click the 'Add port' button.

  4. Enter 'MySQL' into the 'Name' text box and '3306' (or the port of
     your choice) into the 'Port number' text box.

  5. Also ensure that the 'TCP' protocol radio button is selected.

  6. If you wish, you can also limit access to the MySQL server by
     choosing the 'Change scope' button.

  7. Confirm your choices by clicking the 'OK' button.

Additionally, when running the MySQL Installation Wizard on Windows
Vista or newer, ensure that you are logged in as a user with
administrative rights.

*Note*:

When using Windows Vista or newer, you may want to disable User Account
Control (UAC) before performing the installation.  If you do not do so,
then MySQL may be identified as a security risk, which will mean that
you need to enable MySQL. You can disable the security checking by
following these instructions:

  1. Open 'Control Panel'.

  2. Under the 'User Accounts and Family Safety', select 'Add or remove
     user accounts.'

  3. Click the 'Got to the main User Accounts page' link.

  4. Click on 'Turn User Account Control on or off'.  You may be
     prompted to provide permission to change this setting.  Click
     'Continue'.

  5. Deselect or uncheck the check box next to 'Use User Account Control
     (UAC) to help protect your computer'.  Click 'OK' to save the
     setting.

You will need to restart to complete the process.  Click 'Restart Now'
to reboot the machine and apply the changes.  You can then follow the
instructions below for installing Windows.


File: manual.info.tmp,  Node: windows-install-wizard,  Next: windows-installer-msi-quiet,  Prev: windows-using-installer,  Up: windows-using-installer

2.3.4.1 Using the MySQL Installation Wizard
...........................................

* Menu:

* mysql-install-wizard-starting::  Downloading and Starting the MySQL Installation Wizard
* mysql-install-wizard-install-type::  Choosing an Install Type
* mysql-install-wizard-custom-install::  The Custom Install Dialog
* mysql-install-wizard-confirmation-dialog::  The Confirmation Dialog
* mysql-install-wizard-changes::  Changes Made by MySQL Installation Wizard
* mysql-install-wizard-upgrading::  Upgrading MySQL with the Installation Wizard

MySQL Installation Wizard is an installer for the MySQL server that uses
the latest installer technologies for Microsoft Windows.  The MySQL
Installation Wizard, in combination with the MySQL Configuration Wizard,
enables a user to install and configure a MySQL server that is ready for
use immediately after installation.

The MySQL Installation Wizard is the standard installer for all MySQL
server distributions, version 4.1.5 and higher.  Users of previous
versions of MySQL need to shut down and remove their existing MySQL
installations manually before installing MySQL with the MySQL
Installation Wizard.  See *note mysql-install-wizard-upgrading::, for
more information on upgrading from a previous version.

Microsoft has included an improved version of their Microsoft Windows
Installer (MSI) in the recent versions of Windows.  MSI has become the
de-facto standard for application installations on Windows 2000, Windows
XP, and Windows Server 2003.  The MySQL Installation Wizard makes use of
this technology to provide a smoother and more flexible installation
process.

The Microsoft Windows Installer Engine was updated with the release of
Windows XP; those using a previous version of Windows can reference this
Microsoft Knowledge Base article
(http://support.microsoft.com/default.aspx?scid=kb;EN-US;292539) for
information on upgrading to the latest version of the Windows Installer
Engine.

In addition, Microsoft has introduced the WiX (Windows Installer XML)
toolkit recently.  This is the first highly acknowledged Open Source
project from Microsoft.  We have switched to WiX because it is an Open
Source project and it enables us to handle the complete Windows
installation process in a flexible manner using scripts.

Improving the MySQL Installation Wizard depends on the support and
feedback of users like you.  If you find that the MySQL Installation
Wizard is lacking some feature important to you, or if you discover a
bug, please report it in our bugs database using the instructions given
in *note bug-reports::.


File: manual.info.tmp,  Node: mysql-install-wizard-starting,  Next: mysql-install-wizard-install-type,  Prev: windows-install-wizard,  Up: windows-install-wizard

2.3.4.2 Downloading and Starting the MySQL Installation Wizard
..............................................................

The MySQL installation packages can be downloaded from
<https://dev.mysql.com/downloads/>.  If the package you download is
contained within a ZIP archive, you need to extract the archive first.

*Note*:

If you are installing on Windows Vista or newer, it is best to open a
network port before beginning the installation.  To do this, first
ensure that you are logged in as an Administrator, go to the 'Control
Panel', and double-click the 'Windows Firewall' icon.  Choose the 'Allow
a program through Windows Firewall' option and click the 'Add port'
button.  Enter 'MySQL' into the 'Name' text box and '3306' (or the port
of your choice) into the 'Port number' text box.  Also ensure that the
'TCP' protocol radio button is selected.  If you wish, you can also
limit access to the MySQL server by choosing the 'Change scope' button.
Confirm your choices by clicking the 'OK' button.  If you do not open a
port prior to installation, you cannot configure the MySQL server
immediately after installation.  Additionally, when running the MySQL
Installation Wizard on Windows Vista or newer, ensure that you are
logged in as a user with administrative rights.

The process for starting the wizard depends on the contents of the
installation package you download.  If there is a 'setup.exe' file
present, double-click it to start the installation process.  If there is
an '.msi' file present, double-click it to start the installation
process.


File: manual.info.tmp,  Node: mysql-install-wizard-install-type,  Next: mysql-install-wizard-custom-install,  Prev: mysql-install-wizard-starting,  Up: windows-install-wizard

2.3.4.3 Choosing an Install Type
................................

There are three installation types available: *Typical*, *Complete*, and
*Custom*.

The *Typical* installation type installs the MySQL server, the *note
'mysql': mysql. command-line client, and the command-line utilities.
The command-line clients and utilities include *note 'mysqldump':
mysqldump, *note 'myisamchk': myisamchk, and several other tools to help
you manage the MySQL server.

The *Complete* installation type installs all components included in the
installation package.  The full installation package includes components
such as the embedded server library, the benchmark suite, support
scripts, and documentation.

The *Custom* installation type gives you complete control over which
packages you wish to install and the installation path that is used.
See *note mysql-install-wizard-custom-install::, for more information on
performing a custom install.

If you choose the *Typical* or *Complete* installation types and click
the 'Next' button, you advance to the confirmation screen to verify your
choices and begin the installation.  If you choose the *Custom*
installation type and click the 'Next' button, you advance to the custom
installation dialog, described in *note
mysql-install-wizard-custom-install::.


File: manual.info.tmp,  Node: mysql-install-wizard-custom-install,  Next: mysql-install-wizard-confirmation-dialog,  Prev: mysql-install-wizard-install-type,  Up: windows-install-wizard

2.3.4.4 The Custom Install Dialog
.................................

If you wish to change the installation path or the specific components
that are installed by the MySQL Installation Wizard, choose the *Custom*
installation type.

*Caution*:

To avoid having user data removed unintentionally during an upgrade, do
not use the server installation folder as the destination folder for the
server data files, which you can configure in the MySQL Server 5.5 Setup
dialog.

A tree view on the left side of the custom install dialog lists all
available components.  Components that are not installed have a red 'X'
icon; components that are installed have a gray icon.  To change whether
a component is installed, click that component's icon and choose a new
option from the drop-down list that appears.

You can change the default installation path by clicking the 'Change...'
button to the right of the displayed installation path.

After choosing your installation components and installation path, click
the 'Next' button to advance to the confirmation dialog.


File: manual.info.tmp,  Node: mysql-install-wizard-confirmation-dialog,  Next: mysql-install-wizard-changes,  Prev: mysql-install-wizard-custom-install,  Up: windows-install-wizard

2.3.4.5 The Confirmation Dialog
...............................

After you choose an installation type and optionally choose your
installation components, you advance to the confirmation dialog.  Your
installation type and installation path are displayed for you to review.

To install MySQL if you are satisfied with your settings, click the
'Install' button.  To change your settings, click the 'Back' button.  To
exit the MySQL Installation Wizard without installing MySQL, click the
'Cancel' button.

The final screen of the installer provides a summary of the installation
and gives you the option to launch the MySQL Configuration Wizard, which
you can use to create a configuration file, install the MySQL service,
and configure security settings.


File: manual.info.tmp,  Node: mysql-install-wizard-changes,  Next: mysql-install-wizard-upgrading,  Prev: mysql-install-wizard-confirmation-dialog,  Up: windows-install-wizard

2.3.4.6 Changes Made by MySQL Installation Wizard
.................................................

When you click the 'Install' button, the MySQL Installation Wizard
begins the installation process and makes certain changes to your system
which are described in the sections that follow.

*Changes to the Registry*

The MySQL Installation Wizard creates one Windows registry key in a
typical install situation, located in 'HKEY_LOCAL_MACHINE\SOFTWARE\MySQL
AB'.

The MySQL Installation Wizard creates a key named after the release
series of the server that is being installed, such as 'MySQL Server
5.5'.  It contains two string values, 'Location' and 'Version'.  The
'Location' string contains the path to the installation directory.  In a
default installation it contains 'C:\Program Files\MySQL\MySQL Server
5.5\'.  The 'Version' string contains the release number.  For example,
for an installation of MySQL Server 5.5.62, the key contains a value of
'5.5.62'.

These registry keys are used to help external tools identify the
installed location of the MySQL server, preventing a complete scan of
the hard-disk to determine the installation path of the MySQL server.
The registry keys are not required to run the server, and if you install
MySQL using the 'noinstall' ZIP archive, the registry keys are not
created.

*Changes to the Start Menu*

The MySQL Installation Wizard creates a new entry in the Windows 'Start'
menu under a common MySQL menu heading named after the release series of
MySQL that you have installed.  For example, if you install MySQL 5.5,
the MySQL Installation Wizard creates a 'MySQL Server 5.5' section in
the 'Start' menu.

The following entries are created within the new 'Start' menu section:

   * 'MySQL Command-Line Client': This is a shortcut to the *note
     'mysql': mysql. command-line client and is configured to connect as
     the 'root' user.  The shortcut prompts for a 'root' user password
     when you connect.

   * 'MySQL Server Instance Config Wizard': This is a shortcut to the
     MySQL Configuration Wizard.  Use this shortcut to configure a newly
     installed server, or to reconfigure an existing server.

   * 'MySQL Documentation': This is a link to the MySQL server
     documentation that is stored locally in the MySQL server
     installation directory.

*Changes to the File System*

The MySQL Installation Wizard by default installs the MySQL 5.5 server
to 'C:\PROGRAM FILES\MySQL\MySQL Server 5.5', where PROGRAM FILES is the
default location for applications in your system, and 5.5 is the release
series of your MySQL server.  This is the recommended location for the
MySQL server, replacing the former default location 'C:\mysql'.

By default, all MySQL applications are stored in a common directory at
'C:\PROGRAM FILES\MySQL', where PROGRAM FILES is the default location
for applications in your Windows installation.  A typical MySQL
installation on a developer machine might look like this:

     C:\Program Files\MySQL\MySQL Server 5.5
     C:\Program Files\MySQL\MySQL Workbench 5.1 OSS

This approach makes it easier to manage and maintain all MySQL
applications installed on a particular system.

The default location of the data directory is the 'AppData' directory
configured for the user that installed the MySQL application.


File: manual.info.tmp,  Node: mysql-install-wizard-upgrading,  Prev: mysql-install-wizard-changes,  Up: windows-install-wizard

2.3.4.7 Upgrading MySQL with the Installation Wizard
....................................................

The MySQL Installation Wizard can perform server upgrades automatically
using the upgrade capabilities of MSI. That means you do not need to
remove a previous installation manually before installing a new release.
The installer automatically shuts down and removes the previous MySQL
service before installing the new version.

*Warning*:

If you selected the server installation folder as the destination folder
for your server data files during the previous installation, move or
back up your data folder before beginning the upgrade on Windows.  The
Installation Wizard overwrites the data folder during the upgrade.
Using the installation folder for data files is not recommended.

Automatic upgrades are available only when upgrading between
installations that have the same major and minor version numbers.  For
example, you can upgrade automatically from MySQL 5.5.5 to MySQL 5.5.6,
but not from MySQL 5.1 to MySQL 5.5.

See *note windows-upgrading::.


File: manual.info.tmp,  Node: windows-installer-msi-quiet,  Next: windows-installer-uninstalling,  Prev: windows-install-wizard,  Up: windows-using-installer

2.3.4.8 Automating MySQL Installation on Microsoft Windows Using the MSI Package
................................................................................

The Microsoft Installer (MSI) supports a both a _quiet_ and a _passive_
mode that can be used to install MySQL automatically without requiring
intervention.  You can use this either in scripts to automatically
install MySQL or through a terminal connection such as Telnet where you
do not have access to the standard Windows user interface.  The MSI
packages can also be used in combination with Microsoft's Group Policy
system (part of Windows Server 2003 and Windows Server 2008) to install
MySQL across multiple machines.

To install MySQL from one of the MSI packages automatically from the
command line (or within a script), you need to use the 'msiexec.exe'
tool.  For example, to perform a quiet installation (which shows no
dialog boxes or progress):

     shell> msiexec /i mysql-5.5.62.msi /quiet

The '/i' indicates that you want to perform an installation.  The
'/quiet' option indicates that you want no interactive elements.

To provide a dialog box showing the progress during installation, and
the dialog boxes providing information on the installation and
registration of MySQL, use '/passive' mode instead of '/quiet':

     shell> msiexec /i mysql-5.5.62.msi /passive

Regardless of the mode of the installation, installing the package in
this manner performs a 'Typical' installation, and installs the default
components into the standard location.

You can also use this method to uninstall MySQL by using the
'/uninstall' or '/x' options:

     shell> msiexec /x mysql-5.5.62.msi /uninstall

To install MySQL and configure a MySQL instance from the command line,
see *note mysql-config-wizard-cmdline::.

For information on using MSI packages to install software automatically
using Group Policy, see How to use Group Policy to remotely install
software in Windows Server 2003
(http://support.microsoft.com/kb/816102).


File: manual.info.tmp,  Node: windows-installer-uninstalling,  Prev: windows-installer-msi-quiet,  Up: windows-using-installer

2.3.4.9 Removing MySQL When Installed from the MSI Package
..........................................................

To uninstall MySQL when you installed it using the MSI package, you must
use the 'Add/Remove Programs' tool within 'Control Panel'.  To do this:

  1. Right-click the 'start' menu and choose 'Control Panel'.

  2. If the Control Panel is set to category mode (you will see 'Pick a
     category' at the top of the 'Control Panel' window), double-click
     'Add or Remove Programs'.  If the Control is set to classic mode,
     double-click the 'Add or Remove Programs' icon.

  3. Find MySQL in the list of installed software.  MySQL Server is
     installed against release series numbers (MySQL 5.1, MySQL 5.5,
     etc.).  Select the version that you want to remove and click
     'Remove'.

  4. You will be prompted to confirm the removal.  Click 'Yes' to remove
     MySQL.

When MySQL is removed using this method, only the installed components
are removed.  Any database information (including the tables and data),
import or export files, log files, and binary logs produced during
execution are kept in their configured location.

If you try to install MySQL again the information will be retained and
you will be prompted to enter the password configured with the original
installation.

If you want to delete MySQL completely:

   * Delete the associated data directory.  On Windows XP and Windows
     Server 2003, the default data directory is the configured AppData
     directory, which is 'C:\Documents and Settings\All
     Users\Application Data\MySQL' by default.

   * On Windows 7 and Windows Server 2008, the default data directory
     location is 'C:\ProgramData\Mysql'.

     *Note*:

     The 'C:\ProgramData' directory is hidden by default.  You must
     change your folder options to view the hidden file.  Choose
     'Organize', 'Folder and search options', 'Show hidden folders'.


File: manual.info.tmp,  Node: mysql-config-wizard,  Next: windows-install-archive,  Prev: windows-using-installer,  Up: windows-installation

2.3.5 MySQL Server Instance Configuration Wizard
------------------------------------------------

* Menu:

* mysql-config-wizard-starting::  Starting the MySQL Server Instance Configuration Wizard
* mysql-config-wizard-maintenance::  Choosing a Maintenance Option
* mysql-config-wizard-configuration-type::  Choosing a Configuration Type
* mysql-config-wizard-server-type::  The Server Type Dialog
* mysql-config-wizard-database-usage::  The Database Usage Dialog
* mysql-config-wizard-tablespace::  The InnoDB Tablespace Dialog
* mysql-config-wizard-connections::  The Concurrent Connections Dialog
* mysql-config-wizard-networking::  The Networking and Strict Mode Options Dialog
* mysql-config-wizard-character-set::  The Character Set Dialog
* mysql-config-wizard-service::  The Service Options Dialog
* mysql-config-wizard-security::  The Security Options Dialog
* mysql-config-wizard-confirmation::  The Confirmation Dialog
* mysql-config-wizard-cmdline::  MySQL Server Instance Config Wizard: Creating an Instance from the Command Line

The MySQL Server Instance Configuration Wizard helps automate the
process of configuring your server.  It creates a custom MySQL
configuration file ('my.ini' or 'my.cnf') by asking you a series of
questions and then applying your responses to a template to generate the
configuration file that is tuned to your installation.

The MySQL Server Instance Configuration Wizard is included with the
MySQL 5.5 server.  The MySQL Server Instance Configuration Wizard is
only available for Windows.


File: manual.info.tmp,  Node: mysql-config-wizard-starting,  Next: mysql-config-wizard-maintenance,  Prev: mysql-config-wizard,  Up: mysql-config-wizard

2.3.5.1 Starting the MySQL Server Instance Configuration Wizard
...............................................................

The MySQL Server Instance Configuration Wizard is normally started as
part of the installation process.  You should only need to run the MySQL
Server Instance Configuration Wizard again when you need to change the
configuration parameters of your server.

If you chose not to open a port prior to installing MySQL on Windows
Vista or newer, you can choose to use the MySQL Server Configuration
Wizard after installation.  However, you must open a port in the Windows
Firewall.  To do this see the instructions given in *note
mysql-install-wizard-starting::.  Rather than opening a port, you also
have the option of adding MySQL as a program that bypasses the Windows
Firewall.  One or the other option is sufficient--you need not do both.
Additionally, when running the MySQL Server Configuration Wizard on
Windows Vista or newer, ensure that you are logged in as a user with
administrative rights.

FIGURE GOES HERE: Standalone Wizard for Installing MySQL

You can launch the MySQL Configuration Wizard by clicking the 'MySQL
Server Instance Config Wizard' entry in the 'MySQL' section of the
Windows 'Start' menu.

Alternatively, you can navigate to the 'bin' directory of your MySQL
installation and launch the 'MySQLInstanceConfig.exe' file directly.

The MySQL Server Instance Configuration Wizard places the 'my.ini' file
in the installation directory for the MySQL server.  This helps
associate configuration files with particular server instances.

To ensure that the MySQL server knows where to look for the 'my.ini'
file, an argument similar to this is passed to the MySQL server as part
of the service installation:

     --defaults-file="C:\PROGRAM FILES\MYSQL\MYSQL SERVER 5.5\my.ini"

Here, C:\PROGRAM FILES\MYSQL\MYSQL SERVER 5.5 is replaced with the
installation path to the MySQL Server.  The '--defaults-file' option
instructs the MySQL server to read the specified file for configuration
options when it starts.

Apart from making changes to the 'my.ini' file by running the MySQL
Server Instance Configuration Wizard again, you can modify it by opening
it with a text editor and making any necessary changes.  You can also
modify the server configuration with the
<http://www.mysql.com/products/administrator/> utility.  For more
information about server configuration, see *note server-options::.

MySQL clients and utilities such as the *note 'mysql': mysql. and *note
'mysqldump': mysqldump. command-line clients are not able to locate the
'my.ini' file located in the server installation directory.  To
configure the client and utility applications, create a new 'my.ini'
file in the Windows installation directory (for example, 'C:\WINDOWS').

Under Windows Server 2003, Windows Server 2000, Windows XP, and Windows
Vista, MySQL Server Instance Configuration Wizard will configure MySQL
to work as a Windows service.  To start and stop MySQL you use the
'Services' application that is supplied as part of the Windows
Administrator Tools.


File: manual.info.tmp,  Node: mysql-config-wizard-maintenance,  Next: mysql-config-wizard-configuration-type,  Prev: mysql-config-wizard-starting,  Up: mysql-config-wizard

2.3.5.2 Choosing a Maintenance Option
.....................................

If the MySQL Server Instance Configuration Wizard detects an existing
configuration file, you have the option of either reconfiguring your
existing server, or removing the server instance by deleting the
configuration file and stopping and removing the MySQL service.

To reconfigure an existing server, choose the 'Re-configure Instance'
option and click the 'Next' button.  Any existing configuration file is
not overwritten, but renamed (within the same directory) using a
timestamp (Windows) or sequential number (Linux).  To remove the
existing server instance, choose the 'Remove Instance' option and click
the 'Next' button.

If you choose the 'Remove Instance' option, you advance to a
confirmation window.  Click the 'Execute' button.  The MySQL Server
Configuration Wizard stops and removes the MySQL service, and then
deletes the configuration file.  The server installation and its 'data'
folder are not removed.

If you choose the 'Re-configure Instance' option, you advance to the
'Configuration Type' dialog where you can choose the type of
installation that you wish to configure.


File: manual.info.tmp,  Node: mysql-config-wizard-configuration-type,  Next: mysql-config-wizard-server-type,  Prev: mysql-config-wizard-maintenance,  Up: mysql-config-wizard

2.3.5.3 Choosing a Configuration Type
.....................................

When you start the MySQL Server Instance Configuration Wizard for a new
MySQL installation, or choose the 'Re-configure Instance' option for an
existing installation, you advance to the 'Configuration Type' dialog.

FIGURE GOES HERE: Configuration Types

There are two configuration types available: 'Detailed Configuration'
and 'Standard Configuration'.  The 'Standard Configuration' option is
intended for new users who want to get started with MySQL quickly
without having to make many decisions about server configuration.  The
'Detailed Configuration' option is intended for advanced users who want
more fine-grained control over server configuration.

If you are new to MySQL and need a server configured as a single-user
developer machine, the 'Standard Configuration' should suit your needs.
Choosing the 'Standard Configuration' option causes the MySQL
Configuration Wizard to set all configuration options automatically with
the exception of 'Service Options' and 'Security Options'.

The 'Standard Configuration' sets options that may be incompatible with
systems where there are existing MySQL installations.  If you have an
existing MySQL installation on your system in addition to the
installation you wish to configure, the 'Detailed Configuration' option
is recommended.

To complete the 'Standard Configuration', please refer to the sections
on 'Service Options' and 'Security Options' in *note
mysql-config-wizard-service::, and *note mysql-config-wizard-security::,
respectively.


File: manual.info.tmp,  Node: mysql-config-wizard-server-type,  Next: mysql-config-wizard-database-usage,  Prev: mysql-config-wizard-configuration-type,  Up: mysql-config-wizard

2.3.5.4 The Server Type Dialog
..............................

There are three different server types available to choose from.  The
server type that you choose affects the decisions that the MySQL Server
Instance Configuration Wizard makes with regard to memory, disk, and
processor usage.

FIGURE GOES HERE: Server Type

   * 'Developer Machine': Choose this option for a typical desktop
     workstation where MySQL is intended only for personal use.  It is
     assumed that many other desktop applications are running.  The
     MySQL server is configured to use minimal system resources.

   * 'Server Machine': Choose this option for a server machine where the
     MySQL server is running alongside other server applications such as
     FTP, email, and Web servers.  The MySQL server is configured to use
     a moderate portion of the system resources.

   * 'Dedicated MySQL Server Machine': Choose this option for a server
     machine that is intended to run only the MySQL server.  It is
     assumed that no other applications are running.  The MySQL server
     is configured to use all available system resources.

*Note*:

By selecting one of the preconfigured configurations, the values and
settings of various options in your 'my.cnf' or 'my.ini' will be altered
accordingly.  The default values and options as described in the
reference manual may therefore be different to the options and values
that were created during the execution of the configuration wizard.


File: manual.info.tmp,  Node: mysql-config-wizard-database-usage,  Next: mysql-config-wizard-tablespace,  Prev: mysql-config-wizard-server-type,  Up: mysql-config-wizard

2.3.5.5 The Database Usage Dialog
.................................

The 'Database Usage' dialog enables you to indicate the storage engines
that you expect to use when creating MySQL tables.  The option you
choose determines whether the 'InnoDB' storage engine is available and
what percentage of the server resources are available to 'InnoDB'.

FIGURE GOES HERE: Database Usage

   * 'Multifunctional Database': This option enables both the 'InnoDB'
     and 'MyISAM' storage engines and divides resources evenly between
     the two.  This option is recommended for users who use both storage
     engines on a regular basis.

   * 'Transactional Database Only': This option enables both the
     'InnoDB' and 'MyISAM' storage engines, but dedicates most server
     resources to the 'InnoDB' storage engine.  This option is
     recommended for users who use 'InnoDB' almost exclusively and make
     only minimal use of 'MyISAM'.

   * 'Non-Transactional Database Only': This option disables the
     'InnoDB' storage engine completely and dedicates all server
     resources to the 'MyISAM' storage engine.  This option is
     recommended for users who do not use 'InnoDB'.

The Configuration Wizard uses a template to generate the server
configuration file.  The 'Database Usage' dialog sets one of the
following option strings:

     Multifunctional Database:        MIXED
     Transactional Database Only:     INNODB
     Non-Transactional Database Only: MYISAM

When these options are processed through the default template
(my-template.ini) the result is:

     Multifunctional Database:
     default-storage-engine=InnoDB
     _myisam_pct=50

     Transactional Database Only:
     default-storage-engine=InnoDB
     _myisam_pct=5

     Non-Transactional Database Only:
     default-storage-engine=MyISAM
     _myisam_pct=100
     skip-innodb

The '_myisam_pct' value is used to calculate the percentage of resources
dedicated to 'MyISAM'.  The remaining resources are allocated to
'InnoDB'.


File: manual.info.tmp,  Node: mysql-config-wizard-tablespace,  Next: mysql-config-wizard-connections,  Prev: mysql-config-wizard-database-usage,  Up: mysql-config-wizard

2.3.5.6 The InnoDB Tablespace Dialog
....................................

Some users may want to locate the 'InnoDB' tablespace files in a
different location than the MySQL server data directory.  Placing the
tablespace files in a separate location can be desirable if your system
has a higher capacity or higher performance storage device available,
such as a RAID storage system.

FIGURE GOES HERE: InnoDB Tablespace

To change the default location for the 'InnoDB' tablespace files, choose
a new drive from the drop-down list of drive letters and choose a new
path from the drop-down list of paths.  To create a custom path, click
the '...' button.

If you are modifying the configuration of an existing server, you must
click the 'Modify' button before you change the path.  In this situation
you must move the existing tablespace files to the new location manually
before starting the server.


File: manual.info.tmp,  Node: mysql-config-wizard-connections,  Next: mysql-config-wizard-networking,  Prev: mysql-config-wizard-tablespace,  Up: mysql-config-wizard

2.3.5.7 The Concurrent Connections Dialog
.........................................

To prevent the server from running out of resources, it is important to
limit the number of concurrent connections to the MySQL server that can
be established.  The 'Concurrent Connections' dialog enables you to
choose the expected usage of your server, and sets the limit for
concurrent connections accordingly.  It is also possible to set the
concurrent connection limit manually.

FIGURE GOES HERE: Concurrent Connections

   * 'Decision Support (DSS)/OLAP': Choose this option if your server
     does not require a large number of concurrent connections.  The
     maximum number of connections is set at 100, with an average of 20
     concurrent connections assumed.

   * 'Online Transaction Processing (OLTP)': Choose this option if your
     server requires a large number of concurrent connections.  The
     maximum number of connections is set at 500.

   * 'Manual Setting': Choose this option to set the maximum number of
     concurrent connections to the server manually.  Choose the number
     of concurrent connections from the drop-down box provided, or enter
     the maximum number of connections into the drop-down box if the
     number you desire is not listed.


File: manual.info.tmp,  Node: mysql-config-wizard-networking,  Next: mysql-config-wizard-character-set,  Prev: mysql-config-wizard-connections,  Up: mysql-config-wizard

2.3.5.8 The Networking and Strict Mode Options Dialog
.....................................................

Use the 'Networking Options' dialog to enable or disable TCP/IP
networking and to configure the port number that is used to connect to
the MySQL server.

FIGURE GOES HERE: Networking and Strict Mode Options

TCP/IP networking is enabled by default.  To disable TCP/IP networking,
uncheck the box next to the 'Enable TCP/IP Networking' option.

Port 3306 is used by default.  To change the port used to access MySQL,
choose a new port number from the drop-down box or type a new port
number directly into the drop-down box.  If the port number you choose
is in use, you are prompted to confirm your choice of port number.

Set the 'Server SQL Mode' to either enable or disable strict mode.
Enabling strict mode (default) makes MySQL behave more like other
database management systems.  _If you run applications that rely on
MySQL's old 'forgiving' behavior, make sure to either adapt those
applications or to disable strict mode._  For more information about
strict mode, see *note sql-mode::.


File: manual.info.tmp,  Node: mysql-config-wizard-character-set,  Next: mysql-config-wizard-service,  Prev: mysql-config-wizard-networking,  Up: mysql-config-wizard

2.3.5.9 The Character Set Dialog
................................

The MySQL server supports multiple character sets and it is possible to
set a default server character set that is applied to all tables,
columns, and databases unless overridden.  Use the 'Character Set'
dialog to change the default character set of the MySQL server.

FIGURE GOES HERE: Character Set

   * 'Standard Character Set': Choose this option if you want to use
     'latin1' as the default server character set.  'latin1' is used for
     English and many Western European languages.

   * 'Best Support For Multilingualism': Choose this option if you want
     to use 'utf8' as the default server character set.  This is a
     Unicode character set that can store characters from many different
     languages.

   * 'Manual Selected Default Character Set / Collation': Choose this
     option if you want to pick the server's default character set
     manually.  Choose the desired character set from the provided
     drop-down list.


File: manual.info.tmp,  Node: mysql-config-wizard-service,  Next: mysql-config-wizard-security,  Prev: mysql-config-wizard-character-set,  Up: mysql-config-wizard

2.3.5.10 The Service Options Dialog
...................................

On Windows platforms, the MySQL server can be installed as a Windows
service.  When installed this way, the MySQL server can be started
automatically during system startup, and even restarted automatically by
Windows in the event of a service failure.

The MySQL Server Instance Configuration Wizard installs the MySQL server
as a service by default, using the service name 'MySQL'.  If you do not
wish to install the service, uncheck the box next to the 'Install As
Windows Service' option.  You can change the service name by picking a
new service name from the drop-down box provided or by entering a new
service name into the drop-down box.

*Note*:

Service names can include any legal character except forward ('/') or
backward ('\') slashes, and must be less than 256 characters long.

*Warning*:

If you are installing multiple versions of MySQL onto the same machine,
you _must_ choose a different service name for each version that you
install.  If you do not choose a different service for each installed
version then the service manager information will be inconsistent and
this will cause problems when you try to uninstall a previous version.

If you have already installed multiple versions using the same service
name, you must manually edit the contents of the
'HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services' parameters within
the Windows registry to update the association of the service name with
the correct server version.

Typically, when installing multiple versions you create a service name
based on the version information.  For example, you might install MySQL
5.x as 'mysql5', or specific versions such as MySQL 5.5.0 as
'mysql50500'.

To install the MySQL server as a service but not have it started
automatically at startup, uncheck the box next to the 'Launch the MySQL
Server Automatically' option.


File: manual.info.tmp,  Node: mysql-config-wizard-security,  Next: mysql-config-wizard-confirmation,  Prev: mysql-config-wizard-service,  Up: mysql-config-wizard

2.3.5.11 The Security Options Dialog
....................................

The content of the security options portion of the MySQL Server Instance
Configuration Wizard will depend on whether this is a new installation,
or modifying an existing installation.

   * *Setting the root password for a new installation*

     _It is strongly recommended that you set a 'root' password for your
     MySQL server_, and the MySQL Server Instance Config Wizard requires
     by default that you do so.  If you do not wish to set a 'root'
     password, uncheck the box next to the 'Modify Security Settings'
     option.

     FIGURE GOES HERE: Security Options

   * To set the 'root' password, enter the desired password into both
     the 'New root password' and 'Confirm' boxes.

     *Setting the root password for an existing installation*

     If you are modifying the configuration of an existing
     configuration, or you are installing an upgrade and the MySQL
     Server Instance Configuration Wizard has detected an existing MySQL
     system, then you must enter the existing password for 'root' before
     changing the configuration information.

     FIGURE GOES HERE: Root Password

     If you want to change the current 'root' password, enter the
     desired new password into both the 'New root password' and
     'Confirm' boxes.

To permit 'root' logins from across the network, check the box next to
the 'Enable root access from remote machines' option.  This decreases
the security of your 'root' account.

To create an anonymous user account, check the box next to the 'Create
An Anonymous Account' option.  Creating an anonymous account can
decrease server security and cause login and permission difficulties.
For this reason, it is not recommended.


File: manual.info.tmp,  Node: mysql-config-wizard-confirmation,  Next: mysql-config-wizard-cmdline,  Prev: mysql-config-wizard-security,  Up: mysql-config-wizard

2.3.5.12 The Confirmation Dialog
................................

The final dialog in the MySQL Server Instance Configuration Wizard is
the 'Confirmation Dialog'.  To start the configuration process, click
the 'Execute' button.  To return to a previous dialog, click the 'Back'
button.  To exit the MySQL Server Instance Configuration Wizard without
configuring the server, click the 'Cancel' button.

FIGURE GOES HERE: Confirmation

After you click the 'Execute' button, the MySQL Server Instance
Configuration Wizard performs a series of tasks and displays the
progress onscreen as the tasks are performed.

The MySQL Server Instance Configuration Wizard first determines
configuration file options based on your choices using a template
prepared by MySQL developers and engineers.  This template is named
'my-template.ini' and is located in your server installation directory.

The MySQL Configuration Wizard then writes these options to the
corresponding configuration file.

If you chose to create a service for the MySQL server, the MySQL Server
Instance Configuration Wizard creates and starts the service.  If you
are reconfiguring an existing service, the MySQL Server Instance
Configuration Wizard restarts the service to apply your configuration
changes.

If you chose to set a 'root' password, the MySQL Configuration Wizard
connects to the server, sets your new 'root' password, and applies any
other security settings you may have selected.

After the MySQL Server Instance Configuration Wizard has completed its
tasks, it displays a summary.  Click the 'Finish' button to exit the
MySQL Server Configuration Wizard.


File: manual.info.tmp,  Node: mysql-config-wizard-cmdline,  Prev: mysql-config-wizard-confirmation,  Up: mysql-config-wizard

2.3.5.13 MySQL Server Instance Config Wizard: Creating an Instance from the Command Line
........................................................................................

In addition to using the GUI interface to the MySQL Server Instance
Config Wizard, you can also create instances automatically from the
command line.

To use the MySQL Server Instance Config Wizard on the command line, you
need to use the 'MySQLInstanceConfig.exe' command that is installed with
MySQL in the 'bin' directory within the installation directory.
'MySQLInstanceConfig.exe' takes a number of command-line arguments the
set the properties that would normally be selected through the GUI
interface, and then creates a new configuration file ('my.ini') by
combining these selections with a template configuration file to produce
the working configuration file.

The main command line options are provided in the table below.  Some of
the options are required, while some options are optional.

*MySQL Server Instance Config Wizard Required Command-Line Options*

Option         Description
               
'-nPRODUCTNAME'The name of the instance when installed
               
'-pPATH'       Path of the base directory for
               installation.  This is equivalent to the
               directory when using the 'basedir'
               configuration parameter
               
'-vVERSION'    The version tag to use for this
               installation

*MySQL Server Instance Config Wizard Action-Specifier Command-Line
Options*

Option         Description
               
'-i'           Install an instance
               
'-r'           Remove an instance
               
'-s'           Stop an existing instance
               
'-q'           Perform the operation quietly
               
'-lFILENAME'   Save the installation progress in a
               logfile

*MySQL Server Instance Config Wizard Configuration File Command-Line
Options*

Option         Description
               
'-tFILENAME'   Path to the template config file that
               will be used to generate the installed
               configuration file
               
'-cFILENAME'   Path to a config file to be generated

The '-t' and '-c' options work together to set the configuration
parameters for a new instance.  The '-t' option specifies the template
configuration file to use as the basic configuration, which are then
merged with the configuration parameters generated by the MySQL Server
Instance Config Wizard into the configuration file specified by the '-c'
option.

A sample template file, 'my-template.ini' is provided in the toplevel
MySQL installation directory.  The file contains elements are replaced
automatically by the MySQL Server Instance Config Wizard during
configuration.

If you specify a configuration file that already exists, the existing
configuration file will be saved in the file with the original, with the
date and time added.  For example, the 'mysql.ini' will be copied to
'mysql 2009-10-27 1646.ini.bak'.

The parameters that you can specify on the command line are listed in
the table below.

*MySQL Server Instance Config Wizard Parameters*

Parameter      Description
               
'ServiceName=$'Specify the name of the service to be
               created
               
'AddBinToPath={yesSpecifies whether to add the binary
| no}'         directory of MySQL to the standard 'PATH'
               environment variable
               
'ServerType={DEVELOPMENTSpecify the server type.  For more
| SERVER |     information, see
DEDICATED}'    *note mysql-config-wizard-server-type::
               
'DatabaseType={MIXEDSpecify the default database type.  For
| INNODB |     more information, see
MYISAM}'       *note mysql-config-wizard-database-usage::
               
'ConnectionUsage={DSSSpecify the type of connection support,
| OLTP}'       this automates the setting for the number
               of concurrent connections (see the
               'ConnectionCount' parameter).  For more
               information, see
               *note mysql-config-wizard-connections::
               
'ConnectionCount=#'Specify the number of concurrent
               connections to support.  For more
               information, see
               *note mysql-config-wizard-server-type::
               
'SkipNetworking={yesSpecify whether network support should be
| no}'         supported.  Specifying 'yes' disables
               network access altogether
               
'Port=#'       Specify the network port number to use
               for network connections.  For more
               information, see
               *note mysql-config-wizard-networking::
               
'StrictMode={yesSpecify whether to use the 'strict' SQL
| no}'         mode.  For more information, see
               *note mysql-config-wizard-networking::
               
'Charset=$'    Specify the default character set.  For
               more information, see
               *note mysql-config-wizard-character-set::
               
'RootPassword=$'Specify the root password
               
'RootCurrentPassword=$'Specify the current root password then
               stopping or reconfiguring an existing
               service

*Note*:

When specifying options on the command line, you can enclose the entire
command-line option and the value you are specifying using double
quotation marks.  This enables you to use spaces in the options.  For
example, '"-cC:\mysql.ini"'.

The following command installs a MySQL Server 5.5 instance from the
directory 'C:\Program Files\MySQL\MySQL Server 5.5' using the service
name 'MySQL55' and setting the root password to 1234.

     shell> MySQLInstanceConfig.exe -i -q "-lC:\mysql_install_log.txt" »
        "-nMySQL Server 5.5" "-pC:\Program Files\MySQL\MySQL Server 5.5" -v5.5.62 »
        "-tmy-template.ini" "-cC:\mytest.ini" ServerType=DEVELOPMENT DatabaseType=MIXED »
        ConnectionUsage=DSS Port=3311 ServiceName=MySQL55 RootPassword=1234

In the above example, a log file will be generated in
'mysql_install_log.txt' containing the information about the instance
creation process.  The log file generated by the above example is shown
below:

     Welcome to the MySQL Server Instance Configuration Wizard 1.0.16.0
     Date: 2009-10-27 17:07:21

     Installing service ...

     Product Name:         MySQL Server 5.5
     Version:              5.5.62
     Installation Path:    C:\Program Files\MySQL\MySQL Server 5.5\

     Creating configuration file C:\mytest.ini using template my-template.ini.
     Options:
     DEVELOPMENT
     MIXED
     DSS
     STRICTMODE

     Variables:
     port: 3311
     default-character-set: latin1
     basedir: "C:/Program Files/MySQL/MySQL Server 5.5/"
     datadir: "C:/Program Files/MySQL/MySQL Server 5.5/Data/"

     Creating Windows service entry.
     Service name: "MySQL55"
     Parameters:   "C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqld" --defaults-file="C:\mytest.ini" MySQL55.
     Windows service MySQL55 installed.

When using the command line, the return values in the following table
indicate an error performing the specified option.

*Return Value from MySQL Server Instance Config Wizard*

Value          Description
               
2              Configuration template file cannot be found
               
3              The Windows service entry cannot be created
               
4              Could not connect to the Service Control Manager
               
5              The MySQL service cannot be started
               
6              The MySQL service cannot be stopped
               
7              The security settings cannot be applied
               
8              The configuration file cannot be written
               
9              The Windows service entry cannot be removed

You can perform an installation of MySQL automatically using the MSI
package.  For more information, see *note windows-installer-msi-quiet::.


File: manual.info.tmp,  Node: windows-install-archive,  Next: windows-troubleshooting,  Prev: mysql-config-wizard,  Up: windows-installation

2.3.6 Installing MySQL on Microsoft Windows Using a 'noinstall' ZIP Archive
---------------------------------------------------------------------------

* Menu:

* windows-extract-archive::      Extracting the Install Archive
* windows-create-option-file::   Creating an Option File
* windows-select-server::        Selecting a MySQL Server Type
* windows-server-first-start::   Starting the Server for the First Time
* windows-start-command-line::   Starting MySQL from the Windows Command Line
* mysql-installation-windows-path::  Customizing the PATH for MySQL Tools
* windows-start-service::        Starting MySQL as a Windows Service
* windows-testing::              Testing The MySQL Installation

Users who are installing from the 'noinstall' package can use the
instructions in this section to manually install MySQL. The process for
installing MySQL from a ZIP Archive package is as follows:

  1. Extract the archive to the desired install directory

  2. Create an option file

  3. Choose a MySQL server type

  4. Start the MySQL server

  5. Secure the default user accounts

This process is described in the sections that follow.


File: manual.info.tmp,  Node: windows-extract-archive,  Next: windows-create-option-file,  Prev: windows-install-archive,  Up: windows-install-archive

2.3.6.1 Extracting the Install Archive
......................................

To install MySQL manually, do the following:

  1. If you are upgrading from a previous version please refer to *note
     windows-upgrading::, before beginning the upgrade process.

  2. Make sure that you are logged in as a user with administrator
     privileges.

  3. Choose an installation location.  Traditionally, the MySQL server
     is installed in 'C:\mysql'.  The MySQL Installation Wizard installs
     MySQL under 'C:\Program Files\MySQL'.  If you do not install MySQL
     at 'C:\mysql', you must specify the path to the install directory
     during startup or in an option file.  See *note
     windows-create-option-file::.

     *Note*:

     The MySQL Installer installs MySQL under 'C:\Program Files\MySQL'.

  4. Extract the install archive to the chosen installation location
     using your preferred file-compression tool.  Some tools may extract
     the archive to a folder within your chosen installation location.
     If this occurs, you can move the contents of the subfolder into the
     chosen installation location.


File: manual.info.tmp,  Node: windows-create-option-file,  Next: windows-select-server,  Prev: windows-extract-archive,  Up: windows-install-archive

2.3.6.2 Creating an Option File
...............................

If you need to specify startup options when you run the server, you can
indicate them on the command line or place them in an option file.  For
options that are used every time the server starts, you may find it most
convenient to use an option file to specify your MySQL configuration.
This is particularly true under the following circumstances:

   * The installation or data directory locations are different from the
     default locations ('C:\Program Files\MySQL\MySQL Server 5.5' and
     'C:\Program Files\MySQL\MySQL Server 5.5\data').

   * You need to tune the server settings, such as memory, cache, or
     InnoDB configuration information.

When the MySQL server starts on Windows, it looks for option files in
several locations, such as the Windows directory, 'C:\', and the MySQL
installation directory (for the full list of locations, see *note
option-files::).  The Windows directory typically is named something
like 'C:\WINDOWS'.  You can determine its exact location from the value
of the 'WINDIR' environment variable using the following command:

     C:\> echo %WINDIR%

MySQL looks for options in each location first in the 'my.ini' file, and
then in the 'my.cnf' file.  However, to avoid confusion, it is best if
you use only one file.  If your PC uses a boot loader where 'C:' is not
the boot drive, your only option is to use the 'my.ini' file.  Whichever
option file you use, it must be a plain text file.

*Note*:

When using the MySQL Installer to install MySQL Server, it will create
the 'my.ini' at the default location.  And as of MySQL Server 5.5.27,
the user running MySQL Installer is granted full permissions to this new
'my.ini'.

In other words, be sure that the MySQL Server user has permission to
read the 'my.ini' file.

You can also make use of the example option files included with your
MySQL distribution; see *note server-configuration-defaults::.

An option file can be created and modified with any text editor, such as
Notepad.  For example, if MySQL is installed in 'E:\mysql' and the data
directory is in 'E:\mydata\data', you can create an option file
containing a '[mysqld]' section to specify values for the 'basedir' and
'datadir' options:

     [mysqld]
     # set basedir to your installation path
     basedir=E:/mysql
     # set datadir to the location of your data directory
     datadir=E:/mydata/data

Microsoft Windows path names are specified in option files using
(forward) slashes rather than backslashes.  If you do use backslashes,
double them:

     [mysqld]
     # set basedir to your installation path
     basedir=E:\\mysql
     # set datadir to the location of your data directory
     datadir=E:\\mydata\\data

The rules for use of backslash in option file values are given in *note
option-files::.

The data directory is located within the 'AppData' directory for the
user running MySQL.

If you would like to use a data directory in a different location, you
should copy the entire contents of the 'data' directory to the new
location.  For example, if you want to use 'E:\mydata' as the data
directory instead, you must do two things:

  1. Move the entire 'data' directory and all of its contents from the
     default location (for example 'C:\Program Files\MySQL\MySQL Server
     5.5\data') to 'E:\mydata'.

  2. Use a '--datadir' option to specify the new data directory location
     each time you start the server.


File: manual.info.tmp,  Node: windows-select-server,  Next: windows-server-first-start,  Prev: windows-create-option-file,  Up: windows-install-archive

2.3.6.3 Selecting a MySQL Server Type
.....................................

The following table shows the available servers for Windows in MySQL
5.5.

Binary         Description
               
*note 'mysqld': mysqld.Optimized binary with named-pipe support
               
*note 'mysqld-debug': mysqld.Like *note 'mysqld': mysqld, but compiled with full
               debugging and automatic memory allocation checking

All of the preceding binaries are optimized for modern Intel processors,
but should work on any Intel i386-class or higher processor.

Each of the servers in a distribution support the same set of storage
engines.  The *note 'SHOW ENGINES': show-engines. statement displays
which engines a given server supports.

All Windows MySQL 5.5 servers have support for symbolic linking of
database directories.

MySQL supports TCP/IP on all Windows platforms.  MySQL servers on
Windows also support named pipes, if you start the server with the
'named_pipe' system variable enabled.  It is necessary to enable this
variable explicitly because some users have experienced problems with
shutting down the MySQL server when named pipes were used.  The default
is to use TCP/IP regardless of platform because named pipes are slower
than TCP/IP in many Windows configurations.


File: manual.info.tmp,  Node: windows-server-first-start,  Next: windows-start-command-line,  Prev: windows-select-server,  Up: windows-install-archive

2.3.6.4 Starting the Server for the First Time
..............................................

This section gives a general overview of starting the MySQL server.  The
following sections provide more specific information for starting the
MySQL server from the command line or as a Windows service.

The information here applies primarily if you installed MySQL using the
'noinstall' version, or if you wish to configure and test MySQL manually
rather than with the GUI tools.

*Note*:

MySQL server will automatically start after using MySQL Installer, and
MySQL Notifier
(https://dev.mysql.com/doc/mysql-notifier/en/mysql-notifier-overview.html)
can be used to start/stop/restart at any time.

The examples in these sections assume that MySQL is installed under the
default location of 'C:\Program Files\MySQL\MySQL Server 5.5'.  Adjust
the path names shown in the examples if you have MySQL installed in a
different location.

Clients have two options.  They can use TCP/IP, or they can use a named
pipe if the server supports named-pipe connections.

MySQL for Windows also supports shared-memory connections if the server
is started with the 'shared_memory' system variable enabled.  Clients
can connect through shared memory by using the '--protocol=MEMORY'
option.

For information about which server binary to run, see *note
windows-select-server::.

Testing is best done from a command prompt in a console window (or 'DOS
window').  In this way you can have the server display status messages
in the window where they are easy to see.  If something is wrong with
your configuration, these messages make it easier for you to identify
and fix any problems.

To start the server, enter this command:

     C:\> "C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqld" --console

For a server that includes 'InnoDB' support, you should see the messages
similar to those following as it starts (the path names and sizes may
differ):

     InnoDB: The first specified datafile c:\ibdata\ibdata1 did not exist:
     InnoDB: a new database to be created!
     InnoDB: Setting file c:\ibdata\ibdata1 size to 209715200
     InnoDB: Database physically writes the file full: wait...
     InnoDB: Log file c:\iblogs\ib_logfile0 did not exist: new to be created
     InnoDB: Setting log file c:\iblogs\ib_logfile0 size to 31457280
     InnoDB: Log file c:\iblogs\ib_logfile1 did not exist: new to be created
     InnoDB: Setting log file c:\iblogs\ib_logfile1 size to 31457280
     InnoDB: Log file c:\iblogs\ib_logfile2 did not exist: new to be created
     InnoDB: Setting log file c:\iblogs\ib_logfile2 size to 31457280
     InnoDB: Doublewrite buffer not found: creating new
     InnoDB: Doublewrite buffer created
     InnoDB: creating foreign key constraint system tables
     InnoDB: foreign key constraint system tables created
     011024 10:58:25  InnoDB: Started

When the server finishes its startup sequence, you should see something
like this, which indicates that the server is ready to service client
connections:

     mysqld: ready for connections
     Version: '5.5.62'  socket: ''  port: 3306

The server continues to write to the console any further diagnostic
output it produces.  You can open a new console window in which to run
client programs.

If you omit the '--console' option, the server writes diagnostic output
to the error log in the data directory ('C:\Program Files\MySQL\MySQL
Server 5.5\data' by default).  The error log is the file with the '.err'
extension, and may be set using the '--log-error' option.

*Note*:

The accounts that are listed in the MySQL grant tables initially have no
passwords.  After starting the server, you should set up passwords for
them using the instructions in *note default-privileges::.


File: manual.info.tmp,  Node: windows-start-command-line,  Next: mysql-installation-windows-path,  Prev: windows-server-first-start,  Up: windows-install-archive

2.3.6.5 Starting MySQL from the Windows Command Line
....................................................

The MySQL server can be started manually from the command line.  This
can be done on any version of Windows.

*Note*:

MySQL Notifier
(https://dev.mysql.com/doc/mysql-notifier/en/mysql-notifier-overview.html)
can also be used to start/stop/restart the MySQL server.

To start the *note 'mysqld': mysqld. server from the command line, you
should start a console window (or 'DOS window') and enter this command:

     C:\> "C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqld"

The path to *note 'mysqld': mysqld. may vary depending on the install
location of MySQL on your system.

You can stop the MySQL server by executing this command:

     C:\> "C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqladmin" -u root shutdown

*Note*:

If the MySQL 'root' user account has a password, you need to invoke
*note 'mysqladmin': mysqladmin. with the '-p' option and supply the
password when prompted.

This command invokes the MySQL administrative utility *note
'mysqladmin': mysqladmin. to connect to the server and tell it to shut
down.  The command connects as the MySQL 'root' user, which is the
default administrative account in the MySQL grant system.

*Note*:

Users in the MySQL grant system are wholly independent from any
operating system users under Microsoft Windows.

If *note 'mysqld': mysqld. doesn't start, check the error log to see
whether the server wrote any messages there to indicate the cause of the
problem.  By default, the error log is located in the 'C:\Program
Files\MySQL\MySQL Server 5.5\data' directory.  It is the file with a
suffix of '.err', or may be specified by passing in the '--log-error'
option.  Alternatively, you can try to start the server with the
'--console' option; in this case, the server may display some useful
information on the screen that will help solve the problem.

The last option is to start *note 'mysqld': mysqld. with the
'--standalone' and '--debug' options.  In this case, *note 'mysqld':
mysqld. writes a log file 'C:\mysqld.trace' that should contain the
reason why *note 'mysqld': mysqld. doesn't start.  See *note
dbug-package::.

Use *note 'mysqld --verbose --help': mysqld. to display all the options
that *note 'mysqld': mysqld. supports.


File: manual.info.tmp,  Node: mysql-installation-windows-path,  Next: windows-start-service,  Prev: windows-start-command-line,  Up: windows-install-archive

2.3.6.6 Customizing the PATH for MySQL Tools
............................................

To make it easier to invoke MySQL programs, you can add the path name of
the MySQL 'bin' directory to your Windows system 'PATH' environment
variable:

   * On the Windows desktop, right-click the 'My Computer' icon, and
     select 'Properties'.

   * Next select the 'Advanced' tab from the 'System Properties' menu
     that appears, and click the 'Environment Variables' button.

   * Under 'System Variables', select 'Path', and then click the 'Edit'
     button.  The 'Edit System Variable' dialogue should appear.

   * Place your cursor at the end of the text appearing in the space
     marked 'Variable Value'.  (Use the 'End' key to ensure that your
     cursor is positioned at the very end of the text in this space.)
     Then enter the complete path name of your MySQL 'bin' directory
     (for example, 'C:\Program Files\MySQL\MySQL Server 5.5\bin')

     *Note*:

     There must be a semicolon separating this path from any values
     present in this field.

     Dismiss this dialogue, and each dialogue in turn, by clicking 'OK'
     until all of the dialogues that were opened have been dismissed.
     You should now be able to invoke any MySQL executable program by
     typing its name at the DOS prompt from any directory on the system,
     without having to supply the path.  This includes the servers, the
     *note 'mysql': mysql. client, and all MySQL command-line utilities
     such as *note 'mysqladmin': mysqladmin. and *note 'mysqldump':
     mysqldump.

     You should not add the MySQL 'bin' directory to your Windows 'PATH'
     if you are running multiple MySQL servers on the same machine.

*Warning*:

You must exercise great care when editing your system 'PATH' by hand;
accidental deletion or modification of any portion of the existing
'PATH' value can leave you with a malfunctioning or even unusable
system.


File: manual.info.tmp,  Node: windows-start-service,  Next: windows-testing,  Prev: mysql-installation-windows-path,  Up: windows-install-archive

2.3.6.7 Starting MySQL as a Windows Service
...........................................

On Windows, the recommended way to run MySQL is to install it as a
Windows service, so that MySQL starts and stops automatically when
Windows starts and stops.  A MySQL server installed as a service can
also be controlled from the command line using 'SC' commands, 'NET'
commands, or the graphical 'Services' utility.  Generally, to install
MySQL as a Windows service you should be logged in using an account that
has administrator rights.

*Note*:

MySQL Notifier
(https://dev.mysql.com/doc/mysql-notifier/en/mysql-notifier-overview.html)
can also be used to monitor the status of the MySQL service.

The 'Services' utility (the Windows 'Service Control Manager') can be
found in the Windows Control Panel.  To avoid conflicts, it is advisable
to close the 'Services' utility while performing server installation or
removal operations from the command line.

*Installing the service*

Before installing MySQL as a Windows service, you should first stop the
current server if it is running by using the following command:

     C:\> "C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqladmin"
               -u root shutdown

*Note*:

If the MySQL 'root' user account has a password, you need to invoke
*note 'mysqladmin': mysqladmin. with the '-p' option and supply the
password when prompted.

This command invokes the MySQL administrative utility *note
'mysqladmin': mysqladmin. to connect to the server and tell it to shut
down.  The command connects as the MySQL 'root' user, which is the
default administrative account in the MySQL grant system.

*Note*:

Users in the MySQL grant system are wholly independent from any
operating system users under Windows.

Install the server as a service using this command:

     C:\> "C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqld" --install

The service-installation command does not start the server.
Instructions for that are given later in this section.

To make it easier to invoke MySQL programs, you can add the path name of
the MySQL 'bin' directory to your Windows system 'PATH' environment
variable:

   * On the Windows desktop, right-click the 'My Computer' icon, and
     select 'Properties'.

   * Next select the 'Advanced' tab from the 'System Properties' menu
     that appears, and click the 'Environment Variables' button.

   * Under 'System Variables', select 'Path', and then click the 'Edit'
     button.  The 'Edit System Variable' dialogue should appear.

   * Place your cursor at the end of the text appearing in the space
     marked 'Variable Value'.  (Use the 'End' key to ensure that your
     cursor is positioned at the very end of the text in this space.)
     Then enter the complete path name of your MySQL 'bin' directory
     (for example, 'C:\Program Files\MySQL\MySQL Server 5.5\bin'), and
     there should be a semicolon separating this path from any values
     present in this field.  Dismiss this dialogue, and each dialogue in
     turn, by clicking 'OK' until all of the dialogues that were opened
     have been dismissed.  You should now be able to invoke any MySQL
     executable program by typing its name at the DOS prompt from any
     directory on the system, without having to supply the path.  This
     includes the servers, the *note 'mysql': mysql. client, and all
     MySQL command-line utilities such as *note 'mysqladmin':
     mysqladmin. and *note 'mysqldump': mysqldump.

     You should not add the MySQL 'bin' directory to your Windows 'PATH'
     if you are running multiple MySQL servers on the same machine.

*Warning*:

You must exercise great care when editing your system 'PATH' by hand;
accidental deletion or modification of any portion of the existing
'PATH' value can leave you with a malfunctioning or even unusable
system.

The following additional arguments can be used when installing the
service:

   * You can specify a service name immediately following the
     '--install' option.  The default service name is 'MySQL'.

   * If a service name is given, it can be followed by a single option.
     By convention, this should be '--defaults-file=FILE_NAME' to
     specify the name of an option file from which the server should
     read options when it starts.

     The use of a single option other than '--defaults-file' is possible
     but discouraged.  '--defaults-file' is more flexible because it
     enables you to specify multiple startup options for the server by
     placing them in the named option file.

   * You can also specify a '--local-service' option following the
     service name.  This causes the server to run using the
     'LocalService' Windows account that has limited system privileges.
     This account is available only for Windows XP or newer.  If both
     '--defaults-file' and '--local-service' are given following the
     service name, they can be in any order.

For a MySQL server that is installed as a Windows service, the following
rules determine the service name and option files that the server uses:

   * If the service-installation command specifies no service name or
     the default service name ('MySQL') following the '--install'
     option, the server uses the service name of 'MySQL' and reads
     options from the '[mysqld]' group in the standard option files.

   * If the service-installation command specifies a service name other
     than 'MySQL' following the '--install' option, the server uses that
     service name.  It reads options from the '[mysqld]' group and the
     group that has the same name as the service in the standard option
     files.  This enables you to use the '[mysqld]' group for options
     that should be used by all MySQL services, and an option group with
     the service name for use by the server installed with that service
     name.

   * If the service-installation command specifies a '--defaults-file'
     option after the service name, the server reads options the same
     way as described in the previous item, except that it reads options
     only from the named file and ignores the standard option files.

As a more complex example, consider the following command:

     C:\> "C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqld"
               --install MySQL --defaults-file=C:\my-opts.cnf

Here, the default service name ('MySQL') is given after the '--install'
option.  If no '--defaults-file' option had been given, this command
would have the effect of causing the server to read the '[mysqld]' group
from the standard option files.  However, because the '--defaults-file'
option is present, the server reads options from the '[mysqld]' option
group, and only from the named file.

*Note*:

On Windows, if the server is started with the '--defaults-file' and
'--install' options, '--install' must be first.  Otherwise, 'mysqld.exe'
will attempt to start the MySQL server.

You can also specify options as Start parameters in the Windows
'Services' utility before you start the MySQL service.

Finally, before trying to start the MySQL service, make sure the user
variables '%TEMP%' and '%TMP%' (and also '%TMPDIR%', if it has ever been
set) for the operating system user who is to run the service are
pointing to a folder to which the user has write access.  The default
user for running the MySQL service is 'LocalSystem', and the default
value for its '%TEMP%' and '%TMP%' is 'C:\Windows\Temp', a directory
'LocalSystem' has write access to by default.  However, if there are any
changes to that default setup (for example, changes to the user who runs
the service or to the mentioned user variables, or the '--tmpdir' option
has been used to put the temporary directory somewhere else), the MySQL
service might fail to run because write access to the temporary
directory has not been granted to the proper user.

*Starting the service*

After a MySQL server instance has been installed as a service, Windows
starts the service automatically whenever Windows starts.  The service
also can be started immediately from the 'Services' utility, or by using
an 'sc start MYSQLD_SERVICE_NAME' or 'NET START MYSQLD_SERVICE_NAME'
command.  'SC' and 'NET' commands are not case-sensitive.

When run as a service, *note 'mysqld': mysqld. has no access to a
console window, so no messages can be seen there.  If *note 'mysqld':
mysqld. does not start, check the error log to see whether the server
wrote any messages there to indicate the cause of the problem.  The
error log is located in the MySQL data directory (for example,
'C:\Program Files\MySQL\MySQL Server 5.5\data').  It is the file with a
suffix of '.err'.

When a MySQL server has been installed as a service, and the service is
running, Windows stops the service automatically when Windows shuts
down.  The server also can be stopped manually using the 'Services'
utility, the 'sc stop MYSQLD_SERVICE_NAME' command, the 'NET START
MYSQLD_SERVICE_NAME' command, or the *note 'mysqladmin shutdown':
mysqladmin. command.

You also have the choice of installing the server as a manual service if
you do not wish for the service to be started automatically during the
boot process.  To do this, use the '--install-manual' option rather than
the '--install' option:

     C:\> "C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqld" --install-manual

*Removing the service*

To remove a server that is installed as a service, first stop it if it
is running by executing 'SC STOP MYSQLD_SERVICE_NAME' or 'NET STOP
MYSQLD_SERVICE_NAME'.  Then use 'SC DELETE MYSQLD_SERVICE_NAME' to
remove it:

     C:\> SC DELETE mysql

Alternatively, use the *note 'mysqld': mysqld. '--remove' option to
remove the service.

     C:\> "C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqld" --remove

If *note 'mysqld': mysqld. is not running as a service, you can start it
from the command line.  For instructions, see *note
windows-start-command-line::.

If you encounter difficulties during installation, see *note
windows-troubleshooting::.

For more information about stopping or removing a Windows service, see
*note multiple-windows-services::.


File: manual.info.tmp,  Node: windows-testing,  Prev: windows-start-service,  Up: windows-install-archive

2.3.6.8 Testing The MySQL Installation
......................................

You can test whether the MySQL server is working by executing any of the
following commands:

     C:\> "C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqlshow"
     C:\> "C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqlshow" -u root mysql
     C:\> "C:\Program Files\MySQL\MySQL Server 5.5\bin\mysqladmin" version status proc
     C:\> "C:\Program Files\MySQL\MySQL Server 5.5\bin\mysql" test

If *note 'mysqld': mysqld. is slow to respond to TCP/IP connections from
client programs, there is probably a problem with your DNS. In this
case, start *note 'mysqld': mysqld. with the 'skip_name_resolve' system
variable enabled and use only 'localhost' and IP addresses in the 'Host'
column of the MySQL grant tables.  (Be sure that an account exists that
specifies an IP address or you may not be able to connect.)

You can force a MySQL client to use a named-pipe connection rather than
TCP/IP by specifying the '--pipe' or '--protocol=PIPE' option, or by
specifying '.' (period) as the host name.  Use the '--socket' option to
specify the name of the pipe if you do not want to use the default pipe
name.

If you have set a password for the 'root' account, deleted the anonymous
account, or created a new user account, then to connect to the MySQL
server you must use the appropriate '-u' and '-p' options with the
commands shown previously.  See *note connecting::.

For more information about *note 'mysqlshow': mysqlshow, see *note
mysqlshow::.


File: manual.info.tmp,  Node: windows-troubleshooting,  Next: windows-postinstallation,  Prev: windows-install-archive,  Up: windows-installation

2.3.7 Troubleshooting a Microsoft Windows MySQL Server Installation
-------------------------------------------------------------------

When installing and running MySQL for the first time, you may encounter
certain errors that prevent the MySQL server from starting.  This
section helps you diagnose and correct some of these errors.

Your first resource when troubleshooting server issues is the error log.
The MySQL server uses the error log to record information relevant to
the error that prevents the server from starting.  The error log is
located in the data directory specified in your 'my.ini' file.  The
default data directory location is 'C:\Program Files\MySQL\MySQL Server
5.5\data', or 'C:\ProgramData\Mysql' on Windows 7 and Windows Server
2008.  The 'C:\ProgramData' directory is hidden by default.  You need to
change your folder options to see the directory and contents.  For more
information on the error log and understanding the content, see *note
error-log::.

For information regarding possible errors, also consult the console
messages displayed when the MySQL service is starting.  Use the 'SC
START MYSQLD_SERVICE_NAME' or 'NET START MYSQLD_SERVICE_NAME' command
from the command line after installing *note 'mysqld': mysqld. as a
service to see any error messages regarding the starting of the MySQL
server as a service.  See *note windows-start-service::.

The following examples show other common error messages you might
encounter when installing MySQL and starting the server for the first
time:

   * If the MySQL server cannot find the 'mysql' privileges database or
     other critical files, it displays these messages:

          System error 1067 has occurred.
          Fatal error: Can't open and lock privilege tables:
          Table 'mysql.user' doesn't exist

     These messages often occur when the MySQL base or data directories
     are installed in different locations than the default locations
     ('C:\Program Files\MySQL\MySQL Server 5.5' and 'C:\Program
     Files\MySQL\MySQL Server 5.5\data', respectively).

     This situation can occur when MySQL is upgraded and installed to a
     new location, but the configuration file is not updated to reflect
     the new location.  In addition, old and new configuration files
     might conflict.  Be sure to delete or rename any old configuration
     files when upgrading MySQL.

     If you have installed MySQL to a directory other than 'C:\Program
     Files\MySQL\MySQL Server 5.5', ensure that the MySQL server is
     aware of this through the use of a configuration ('my.ini') file.
     Put the 'my.ini' file in your Windows directory, typically
     'C:\WINDOWS'.  To determine its exact location from the value of
     the 'WINDIR' environment variable, issue the following command from
     the command prompt:

          C:\> echo %WINDIR%

     You can create or modify an option file with any text editor, such
     as Notepad.  For example, if MySQL is installed in 'E:\mysql' and
     the data directory is 'D:\MySQLdata', you can create the option
     file and set up a '[mysqld]' section to specify values for the
     'basedir' and 'datadir' options:

          [mysqld]
          # set basedir to your installation path
          basedir=E:/mysql
          # set datadir to the location of your data directory
          datadir=D:/MySQLdata

     Microsoft Windows path names are specified in option files using
     (forward) slashes rather than backslashes.  If you do use
     backslashes, double them:

          [mysqld]
          # set basedir to your installation path
          basedir=C:\\Program Files\\MySQL\\MySQL Server 5.5
          # set datadir to the location of your data directory
          datadir=D:\\MySQLdata

     The rules for use of backslash in option file values are given in
     *note option-files::.

     If you change the 'datadir' value in your MySQL configuration file,
     you must move the contents of the existing MySQL data directory
     before restarting the MySQL server.

     See *note windows-create-option-file::.

   * If you reinstall or upgrade MySQL without first stopping and
     removing the existing MySQL service and install MySQL using the
     MySQL Installer, you might see this error:

          Error: Cannot create Windows service for MySql. Error: 0

     This occurs when the Configuration Wizard tries to install the
     service and finds an existing service with the same name.

     One solution to this problem is to choose a service name other than
     'mysql' when using the configuration wizard.  This enables the new
     service to be installed correctly, but leaves the outdated service
     in place.  Although this is harmless, it is best to remove old
     services that are no longer in use.

     To permanently remove the old 'mysql' service, execute the
     following command as a user with administrative privileges, on the
     command line:

          C:\> SC DELETE mysql
          [SC] DeleteService SUCCESS

     If the 'SC' utility is not available for your version of Windows,
     download the 'delsrv' utility from
     <http://www.microsoft.com/windows2000/techinfo/reskit/tools/existing/delsrv-o.asp>
     and use the 'delsrv mysql' syntax.


File: manual.info.tmp,  Node: windows-postinstallation,  Next: windows-restrictions,  Prev: windows-troubleshooting,  Up: windows-installation

2.3.8 Windows Postinstallation Procedures
-----------------------------------------

GUI tools exist that perform most of the tasks described in this
section, including:

   * *note MySQL Installer: mysql-installer.: Used to install and
     upgrade MySQL products.

   * *note MySQL Workbench: workbench.: Manages the MySQL server and
     edits SQL statements.

   * MySQL Notifier
     (https://dev.mysql.com/doc/mysql-notifier/en/mysql-notifier-overview.html):
     Starts, stops, or restarts the MySQL server, and monitors its
     status.

   * MySQL for Excel (https://dev.mysql.com/doc/mysql-for-excel/en/):
     Edits MySQL data with Microsoft Excel.

On Windows, you need not create the data directory and the grant tables.
MySQL distributions for Windows include the grant tables with a set of
preinitialized accounts in the 'mysql' database under the data
directory.

Regarding passwords, if you installed MySQL using the MySQL Installer,
you may have already assigned passwords to the accounts.  (See *note
mysql-installer::.)  Otherwise, use the password-assignment procedure
given in *note default-privileges::.

Before assigning passwords, you might want to try running some client
programs to make sure that you can connect to the server and that it is
operating properly.  Make sure that the server is running (see *note
windows-server-first-start::).  You can also set up a MySQL service that
runs automatically when Windows starts (see *note
windows-start-service::).

These instructions assume that your current location is the MySQL
installation directory and that it has a 'bin' subdirectory containing
the MySQL programs used here.  If that is not true, adjust the command
path names accordingly.

If you installed MySQL using MySQL Installer (see *note
mysql-installer::), the default installation directory is 'C:\Program
Files\MySQL\MySQL Server 5.5':

     C:\> cd "C:\Program Files\MySQL\MySQL Server 5.5"

A common installation location for installation from a ZIP archive is
'C:\mysql':

     C:\> cd C:\mysql

Alternatively, add the 'bin' directory to your 'PATH' environment
variable setting.  That enables your command interpreter to find MySQL
programs properly, so that you can run a program by typing only its
name, not its path name.  See *note mysql-installation-windows-path::.

With the server running, issue the following commands to verify that you
can retrieve information from the server.  The output should be similar
to that shown here.

Use *note 'mysqlshow': mysqlshow. to see what databases exist:

     C:\> bin\mysqlshow
     +--------------------+
     |     Databases      |
     +--------------------+
     | information_schema |
     | mysql              |
     | performance_schema |
     | test               |
     +--------------------+

The list of installed databases may vary, but will always include the
minimum of 'mysql' and 'information_schema'.

The preceding command (and commands for other MySQL programs such as
*note 'mysql': mysql.) may not work if the correct MySQL account does
not exist.  For example, the program may fail with an error, or you may
not be able to view all databases.  If you installed MySQL using MySQL
Installer, the 'root' user will have been created automatically with the
password you supplied.  In this case, you should use the '-u root' and
'-p' options.  (You must use those options if you have already secured
the initial MySQL accounts.)  With '-p', the client program prompts for
the 'root' password.  For example:

     C:\> bin\mysqlshow -u root -p
     Enter password: (ENTER ROOT PASSWORD HERE)
     +--------------------+
     |     Databases      |
     +--------------------+
     | information_schema |
     | mysql              |
     | performance_schema |
     | test               |
     +--------------------+

If you specify a database name, *note 'mysqlshow': mysqlshow. displays a
list of the tables within the database:

     C:\> bin\mysqlshow mysql
     Database: mysql
     +---------------------------+
     |          Tables           |
     +---------------------------+
     | columns_priv              |
     | db                        |
     | event                     |
     | func                      |
     | general_log               |
     | help_category             |
     | help_keyword              |
     | help_relation             |
     | help_topic                |
     | host                      |
     | ndb_binlog_index          |
     | plugin                    |
     | proc                      |
     | procs_priv                |
     | proxies_priv              |
     | servers                   |
     | slow_log                  |
     | tables_priv               |
     | time_zone                 |
     | time_zone_leap_second     |
     | time_zone_name            |
     | time_zone_transition      |
     | time_zone_transition_type |
     | user                      |
     +---------------------------+

Use the *note 'mysql': mysql. program to select information from a table
in the 'mysql' database:

     C:\> bin\mysql -e "SELECT User, Host, plugin FROM mysql.user" mysql
     +------+-----------+-----------------------+
     | User | Host      | plugin                |
     +------+-----------+-----------------------+
     | root | localhost | mysql_native_password |
     +------+-----------+-----------------------+

For more information about *note 'mysql': mysql. and *note 'mysqlshow':
mysqlshow, see *note mysql::, and *note mysqlshow::.


File: manual.info.tmp,  Node: windows-restrictions,  Prev: windows-postinstallation,  Up: windows-installation

2.3.9 Windows Platform Restrictions
-----------------------------------

The following restrictions apply to use of MySQL on the Windows
platform:

   * *Process memory*

     On Windows 32-bit platforms, it is not possible by default to use
     more than 2GB of RAM within a single process, including MySQL. This
     is because the physical address limit on Windows 32-bit is 4GB and
     the default setting within Windows is to split the virtual address
     space between kernel (2GB) and user/applications (2GB).

     Some versions of Windows have a boot time setting to enable larger
     applications by reducing the kernel application.  Alternatively, to
     use more than 2GB, use a 64-bit version of Windows.

   * *File system aliases*

     When using 'MyISAM' tables, you cannot use aliases within Windows
     link to the data files on another volume and then link back to the
     main MySQL 'datadir' location.

     This facility is often used to move the data and index files to a
     RAID or other fast solution, while retaining the main '.frm' files
     in the default data directory configured with the 'datadir' option.

   * *Limited number of ports*

     Windows systems have about 4,000 ports available for client
     connections, and after a connection on a port closes, it takes two
     to four minutes before the port can be reused.  In situations where
     clients connect to and disconnect from the server at a high rate,
     it is possible for all available ports to be used up before closed
     ports become available again.  If this happens, the MySQL server
     appears to be unresponsive even though it is running.  Ports may be
     used by other applications running on the machine as well, in which
     case the number of ports available to MySQL is lower.

     For more information about this problem, see
     <http://support.microsoft.com/default.aspx?scid=kb;en-us;196271>.

   * *'DATA DIRECTORY' and 'INDEX DIRECTORY'*

     The 'DATA DIRECTORY' and 'INDEX DIRECTORY' options for *note
     'CREATE TABLE': create-table. are ignored on Windows, because MySQL
     does not support Windows symbolic links.  These options also are
     ignored on systems that have a nonfunctional 'realpath()' call.

   * **note 'DROP DATABASE': drop-database.*

     You cannot drop a database that is in use by another session.

   * *Case-insensitive names*

     File names are not case-sensitive on Windows, so MySQL database and
     table names are also not case-sensitive on Windows.  The only
     restriction is that database and table names must be specified
     using the same case throughout a given statement.  See *note
     identifier-case-sensitivity::.

   * *Directory and file names*

     On Windows, MySQL Server supports only directory and file names
     that are compatible with the current ANSI code pages.  For example,
     the following Japanese directory name will not work in the Western
     locale (code page 1252):

          datadir="C:/私たちのプロジェクトのデータ"

     The same limitation applies to directory and file names referred to
     in SQL statements, such as the data file path name in *note 'LOAD
     DATA': load-data.

   * *The '\' path name separator character*

     Path name components in Windows are separated by the '\' character,
     which is also the escape character in MySQL. If you are using *note
     'LOAD DATA': load-data. or *note 'SELECT ... INTO OUTFILE':
     select-into, use Unix-style file names with '/' characters:

          mysql> LOAD DATA INFILE 'C:/tmp/skr.txt' INTO TABLE skr;
          mysql> SELECT * INTO OUTFILE 'C:/tmp/skr.txt' FROM skr;

     Alternatively, you must double the '\' character:

          mysql> LOAD DATA INFILE 'C:\\tmp\\skr.txt' INTO TABLE skr;
          mysql> SELECT * INTO OUTFILE 'C:\\tmp\\skr.txt' FROM skr;

   * *Problems with pipes*

     Pipes do not work reliably from the Windows command-line prompt.
     If the pipe includes the character '^Z' / 'CHAR(24)', Windows
     thinks that it has encountered end-of-file and aborts the program.

     This is mainly a problem when you try to apply a binary log as
     follows:

          C:\> mysqlbinlog BINARY_LOG_FILE | mysql --user=root

     If you have a problem applying the log and suspect that it is
     because of a '^Z' / 'CHAR(24)' character, you can use the following
     workaround:

          C:\> mysqlbinlog BINARY_LOG_FILE --result-file=/tmp/bin.sql
          C:\> mysql --user=root --execute "source /tmp/bin.sql"

     The latter command also can be used to reliably read any SQL file
     that may contain binary data.


File: manual.info.tmp,  Node: osx-installation,  Next: linux-installation,  Prev: windows-installation,  Up: installing

2.4 Installing MySQL on OS X
============================

* Menu:

* osx-installation-notes::       General Notes on Installing MySQL on OS X
* osx-installation-pkg::         Installing MySQL on OS X Using Native Packages
* osx-installation-launchd::     Installing a MySQL Launch Daemon
* osx-installation-prefpane::    Installing and Using the MySQL Preference Pane

For a list of OS X versions that the MySQL server supports, see
<https://www.mysql.com/support/supportedplatforms/database.html>.

MySQL for OS X is available in a number of different forms:

   * Native Package Installer, which uses the native OS X installer
     (DMG) to walk you through the installation of MySQL. For more
     information, see *note osx-installation-pkg::.  You can use the
     package installer with OS X. The user you use to perform the
     installation must have administrator privileges.

   * Compressed TAR archive, which uses a file packaged using the Unix
     'tar' and 'gzip' commands.  To use this method, you will need to
     open a 'Terminal' window.  You do not need administrator privileges
     using this method, as you can install the MySQL server anywhere
     using this method.  For more information on using this method, you
     can use the generic instructions for using a tarball, *note
     binary-installation::.

     In addition to the core installation, the Package Installer also
     includes *note osx-installation-launchd:: and *note
     osx-installation-prefpane::, both of which simplify the management
     of your installation.

For additional information on using MySQL on OS X, see *note
osx-installation-notes::.


File: manual.info.tmp,  Node: osx-installation-notes,  Next: osx-installation-pkg,  Prev: osx-installation,  Up: osx-installation

2.4.1 General Notes on Installing MySQL on OS X
-----------------------------------------------

You should keep the following issues and notes in mind:

   * As of MySQL server 5.5.45, the DMG bundles a launchd daemon instead
     of the deprecated startup item.  Startup items do not function as
     of OS X 10.10 (Yosemite), so using launchd is preferred.  The
     available MySQL preference pane under OS X 'System Preferences' was
     also updated to use launchd.

   * You may need (or want) to create a specific 'mysql' user to own the
     MySQL directory and data.  You can do this through the 'Directory
     Utility', and the 'mysql' user should already exist.  For use in
     single user mode, an entry for '_mysql' (note the underscore
     prefix) should already exist within the system '/etc/passwd' file.

   * Because the MySQL package installer installs the MySQL contents
     into a version and platform specific directory, you can use this to
     upgrade and migrate your database between versions.  You will need
     to either copy the 'data' directory from the old version to the new
     version, or alternatively specify an alternative 'datadir' value to
     set location of the data directory.  By default, the MySQL
     directories are installed under '/usr/local/'.

   * You might want to add aliases to your shell's resource file to make
     it easier to access commonly used programs such as *note 'mysql':
     mysql. and *note 'mysqladmin': mysqladmin. from the command line.
     The syntax for 'bash' is:

          alias mysql=/usr/local/mysql/bin/mysql
          alias mysqladmin=/usr/local/mysql/bin/mysqladmin

     For 'tcsh', use:

          alias mysql /usr/local/mysql/bin/mysql
          alias mysqladmin /usr/local/mysql/bin/mysqladmin

     Even better, add '/usr/local/mysql/bin' to your 'PATH' environment
     variable.  You can do this by modifying the appropriate startup
     file for your shell.  For more information, see *note
     invoking-programs::.

   * After you have copied over the MySQL database files from the
     previous installation and have successfully started the new server,
     you should consider removing the old installation files to save
     disk space.  Additionally, you should also remove older versions of
     the Package Receipt directories located in
     '/Library/Receipts/mysql-VERSION.pkg'.

   * Prior to OS X 10.7, MySQL server was bundled with OS X Server.


File: manual.info.tmp,  Node: osx-installation-pkg,  Next: osx-installation-launchd,  Prev: osx-installation-notes,  Up: osx-installation

2.4.2 Installing MySQL on OS X Using Native Packages
----------------------------------------------------

The package is located inside a disk image ('.dmg') file that you first
need to mount by double-clicking its icon in the Finder.  It should then
mount the image and display its contents.

*Note*:

Before proceeding with the installation, be sure to stop all running
MySQL server instances by using either the MySQL Manager Application (on
OS X Server), the preference pane, or *note 'mysqladmin shutdown':
mysqladmin. on the command line.

When installing from the package version, you can also install the MySQL
preference pane, which will enable you to control the startup and
execution of your MySQL server from System Preferences.  For more
information, see *note osx-installation-prefpane::.

When installing using the package installer, the files are installed
into a directory within '/usr/local' matching the name of the
installation version and platform.  For example, the installer file
'mysql-5.5.62-OSX10.9-X86_64.DMG' installs MySQL into
'/usr/local/mysql-5.5.62-osx10.9-x86_64/ '.  The following table shows
the layout of the installation directory.

*MySQL Installation Layout on OS X*

Directory                        Contents of Directory
                                 
'bin', 'scripts'                 *note 'mysqld': mysqld. server, client
                                 and utility programs
                                 
'data'                           Log files, databases
                                 
'docs'                           Helper documents, like the Release
                                 Notes and build information
                                 
'include'                        Include (header) files
                                 
'lib'                            Libraries
                                 
'man'                            Unix manual pages
                                 
'mysql-test'                     MySQL test suite
                                 
'share'                          Miscellaneous support files, including
                                 error messages, sample configuration
                                 files, SQL for database installation
                                 
'sql-bench'                      Benchmarks
                                 
'support-files'                  Scripts and sample configuration files
                                 
'/tmp/mysql.sock'                Location of the MySQL Unix socket

During the package installer process, a symbolic link from
'/usr/local/mysql' to the version/platform specific directory created
during installation will be created automatically.

  1. Download and open the MySQL package installer, which is provided on
     a disk image ('.dmg') that includes the main MySQL installation
     package file.  Double-click the disk image to open it.

     FIGURE GOES HERE: MySQL Package Installer: DMG Contents

  2. Double-click the MySQL installer package.  It will be named
     according to the version of MySQL you have downloaded.  For
     example, if you have downloaded MySQL server 5.5.62, double-click
     'mysql-5.5.62-osx-10.9-X86_64.pkg'.

  3. You will be presented with the opening installer dialog.  Click
     'Continue' to begin installation.

     FIGURE GOES HERE: MySQL Package Installer: Introduction

  4. If you have downloaded the community version of MySQL, you will be
     shown a copy of the relevant GNU General Public License.  Click
     'Continue' and then 'Agree' to continue.

  5. From the 'Installation Type' page you can either click 'Install' to
     execute the installation wizard using all defaults, click
     'Customize' to alter which components to install (MySQL server,
     Preference Pane, Launchd Support - all enabled by default).

     *Note*:

     Although the 'Change Install Location' option is visible, the
     installation location cannot be changed.

     FIGURE GOES HERE: MySQL Package Installer: Installation Type

     FIGURE GOES HERE: MySQL Package Installer: Customize

  6. Click 'Install' to begin the installation process.

  7. Once the installation has been completed successfully, you will be
     shown an 'Install Succeeded' message with a short summary.  Now,
     'Close' the wizard and begin using the MySQL server.

     FIGURE GOES HERE: MySQL Package Installer: Summary

MySQL server is now installed, but it is not loaded (started) by
default.  Use either launchctl from the command line, or start MySQL by
clicking "Start" using the MySQL preference pane.  For additional
information, see *note osx-installation-launchd::, and *note
osx-installation-prefpane::.


File: manual.info.tmp,  Node: osx-installation-launchd,  Next: osx-installation-prefpane,  Prev: osx-installation-pkg,  Up: osx-installation

2.4.3 Installing a MySQL Launch Daemon
--------------------------------------

OS X uses launch daemons to automatically start, stop, and manage
processes and applications such as MySQL.

*Note*:

Before MySQL 5.5.45, the OS X builds installed startup items instead of
launchd daemons.  However, startup items do not function as of OS X
10.10 (Yosemite).  The OS X builds now install launchd daemons.

By default, the installation package (DMG) on OS X installs a launchd
file named '/Library/LaunchDaemons/com.oracle.oss.mysql.mysqld.plist'
that contains a plist definition similar to:


     <?xml version="1.0" encoding="utf-8"?>
     <!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN"
       "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
     <plist version="1.0">
     <dict>
         <key>Label</key>             <string>com.oracle.oss.mysql.mysqld</string>
         <key>ProcessType</key>       <string>Interactive</string>
         <key>Disabled</key>          <false/>
         <key>RunAtLoad</key>         <true/>
         <key>KeepAlive</key>         <true/>
         <key>SessionCreate</key>     <true/>
         <key>LaunchOnlyOnce</key>    <false/>
         <key>UserName</key>          <string>_mysql</string>
         <key>GroupName</key>         <string>_mysql</string>
         <key>ExitTimeOut</key>       <integer>600</integer>
         <key>Program</key>           <string>/usr/local/mysql/bin/mysqld</string>
         <key>ProgramArguments</key>
             <array>
                 <string>/usr/local/mysql/bin/mysqld</string>
                 <string>--user=_mysql</string>
                 <string>--basedir=/usr/local/mysql</string>
                 <string>--datadir=/usr/local/mysql/data</string>
                 <string>--plugin-dir=/usr/local/mysql/lib/plugin</string>
                 <string>--log-error=/usr/local/mysql/data/mysqld.local.err</string>
                 <string>--pid-file=/usr/local/mysql/data/mysqld.local.pid</string>
                 <string>--port=3306</string>
             </array>
         <key>WorkingDirectory</key>  <string>/usr/local/mysql</string>
     </dict>
     </plist>

*Note*:

Some users report that adding a plist DOCTYPE declaration causes the
launchd operation to fail, despite it passing the lint check.  We
suspect it's a copy-n-paste error.  The md5 checksum of a file
containing the above snippet is 60d7963a0bb2994b69b8b9c123db09df.

To enable the launchd service, you can either:

   * Click 'Start MySQL Server' from the MySQL preference pane.

     FIGURE GOES HERE: MySQL Preference Pane: Location

     FIGURE GOES HERE: MySQL Preference Pane: Usage

   * Or, manually load the launchd file.

          shell> cd /Library/LaunchDaemons
          shell> sudo launchctl load -F com.oracle.oss.mysql.mysqld.plist

*Note*:

When upgrading MySQL server, the launchd installation process will
remove the old startup items that were installed with MySQL server
5.5.44 and below.


File: manual.info.tmp,  Node: osx-installation-prefpane,  Prev: osx-installation-launchd,  Up: osx-installation

2.4.4 Installing and Using the MySQL Preference Pane
----------------------------------------------------

The MySQL Installation Package includes a MySQL preference pane that
enables you to start, stop, and control automated startup during boot of
your MySQL installation.

This preference pane is installed by default, and is listed under your
system's _System Preferences_ window.

FIGURE GOES HERE: MySQL Preference Pane: Location

To install the MySQL Preference Pane:

  1. Download and open the MySQL package installer, which is provided on
     a disk image ('.dmg') that includes the main MySQL installation
     package.

     *Note*:

     Before MySQL 5.5.45, OS X packages included the deprecated startup
     items instead of launchd daemons, and the preference pane managed
     that intstead of launchd.

     FIGURE GOES HERE: MySQL Package Installer: DMG Contents

  2. Go through the process of installing the MySQL server, as described
     in the documentation at *note osx-installation-pkg::.

  3. Click 'Customize' at the 'Installation Type' step.  The "Preference
     Pane" option is listed there and enabled by default.

     FIGURE GOES HERE: MySQL Installer on OS X: Customize

  4. Complete the MySQL server installation process.

*Note*:

The MySQL preference pane only starts and stops MySQL installation
installed from the MySQL package installation that have been installed
in the default location.

Once the MySQL preference pane has been installed, you can control your
MySQL server instance using the preference pane.  To use the preference
pane, open the 'System Preferences...' from the Apple menu.  Select the
MySQL preference pane by clicking the MySQL icon within the preference
panes list.

FIGURE GOES HERE: MySQL Preference Pane: Location

FIGURE GOES HERE: MySQL Preference Pane: Usage

The MySQL Preference Pane shows the current status of the MySQL server,
showing 'stopped' (in red) if the server is not running and 'running'
(in green) if the server has already been started.  The preference pane
also shows the current setting for whether the MySQL server has been set
to start automatically.

   * *To start the MySQL server using the preference pane: *

     Click 'Start MySQL Server'.  You may be prompted for the username
     and password of a user with administrator privileges to start the
     MySQL server.

   * *To stop the MySQL server using the preference pane: *

     Click 'Stop MySQL Server'.  You may be prompted for the username
     and password of a user with administrator privileges to stop the
     MySQL server.

   * *To automatically start the MySQL server when the system boots:*

     Check the check box next to 'Automatically Start MySQL Server on
     Startup'.

   * *To disable automatic MySQL server startup when the system boots:*

     Uncheck the check box next to 'Automatically Start MySQL Server on
     Startup'.

You can close the 'System Preferences...' window once you have completed
your settings.


File: manual.info.tmp,  Node: linux-installation,  Next: uln-installation,  Prev: osx-installation,  Up: installing

2.5 Installing MySQL on Linux
=============================

* Menu:

* linux-installation-rpm::       Installing MySQL on Linux Using RPM Packages
* linux-installation-debian::    Installing MySQL on Linux Using Debian Packages
* linux-installation-docker::    Deploying MySQL on Linux with Docker
* linux-installation-native::    Installing MySQL on Linux Using Native Package Managers

Linux supports a number of different solutions for installing MySQL. The
recommended method is to use one of the distributions from Oracle.  If
you choose this method, there are several options available:

   * Installing from a generic binary package in '.tar.gz' format.  For
     details, see *note binary-installation::.

   * Extracting and compiling MySQL from a source distribution.  For
     details, see *note source-installation::.

   * Installing using a precompiled RPM package.  For details, see *note
     linux-installation-rpm::.

   * Installing using a precompiled Debian package.  For details, see
     *note linux-installation-debian::.

   * Deploying MySQL Server with Docker.  For details, see *note
     linux-installation-docker::

   * Installing using Oracle's Unbreakable Linux Network (ULN). For
     details, see *note uln-installation::.

As an alternative, you can use the native package manager within your
Linux distribution to automatically download and install MySQL for you.
Native package installations can take care of the download and
dependencies required to run MySQL, but the MySQL version will often be
some versions behind the currently available release.  You will also
normally be unable to install development releases, as these are not
usually made available in the native repository.  For more information
on using the native package installers, see *note
linux-installation-native::.

*Note*:

For many Linux installations, you will want to set up MySQL to be
started automatically when your machine starts.  Many of the native
package installations perform this operation for you, but for source,
binary and RPM solutions you may need to set this up separately.  The
required script, *note 'mysql.server': mysql-server, can be found in the
'support-files' directory under the MySQL installation directory or in a
MySQL source tree.  You can install it as '/etc/init.d/mysql' for
automatic MySQL startup and shutdown.  See *note mysql-server::.


File: manual.info.tmp,  Node: linux-installation-rpm,  Next: linux-installation-debian,  Prev: linux-installation,  Up: linux-installation

2.5.1 Installing MySQL on Linux Using RPM Packages
--------------------------------------------------

*Note*:

To install or upgrade to MySQL 5.5.31, be sure to read the special
instructions at the end of this section.

The recommended way to install MySQL on RPM-based Linux distributions is
by using the RPM packages.  The RPMs that we provide to the community
should work on all versions of Linux that support RPM packages and use
'glibc' 2.3.  To obtain RPM packages, see *note getting-mysql::.

For non-RPM Linux distributions, you can install MySQL using a '.tar.gz'
package.  See *note binary-installation::.

Installations created from our Linux RPM distributions result in files
under the system directories shown in the following table.

*MySQL Installation Layout for Linux RPM Packages*

Directory                        Contents of Directory
                                 
'/usr/bin'                       Client programs and scripts
                                 
'/usr/sbin'                      The *note 'mysqld': mysqld. server
                                 
'/var/lib/mysql'                 Log files, databases
                                 
'/var/lib/mysql-files'           Value of 'secure_file_priv'
                                 
'/usr/share/info'                MySQL manual in Info format
                                 
'/usr/share/man'                 Unix manual pages
                                 
'/usr/include/mysql'             Include (header) files
                                 
'/usr/lib/mysql'                 Libraries
                                 
'/usr/share/mysql'               Miscellaneous support files, including
                                 error messages, character set files,
                                 sample configuration files, SQL for
                                 database installation
                                 
'/usr/share/sql-bench'           Benchmarks

*Note*:

RPM distributions of MySQL are also provided by other vendors.  Be aware
that they may differ from those built by Oracle in features,
capabilities, and conventions (including communication setup), and that
the instructions in this manual do not necessarily apply to installing
them.  The vendor's instructions should be consulted instead.  Because
of these differences, RPM packages built by Oracle check whether such
RPMs built by other vendors are installed.  If so, the RPM does not
install and produces a message explaining this.

Conflicts can arise when an RPM from another vendor is already
installed, such as when a vendor's conventions about which files belong
with the server and which belong with the client library differ from the
breakdown used for Oracle packages.  In such cases, attempts to install
an Oracle RPM with 'rpm -i' may result in messages that files in the RPM
to be installed conflict with files from an installed package (denoted
'mysql-libs' in the following paragraphs).

Each MySQL release provides a 'MySQL-shared-compat' package that is
meant to replace 'mysql-libs' and provides a replacement-compatible
client library for older MySQL series.  'MySQL-shared-compat' is set up
to make 'mysql-libs' obsolete, but 'rpm' explicitly refuses to replace
obsoleted packages when invoked with '-i' (unlike '-U'), which is why
installation with 'rpm -i' produces a conflict.

'MySQL-shared-compat' can safely be installed alongside 'mysql-libs'
because libraries are installed to different locations.  Therefore, it
is possible to install 'MySQL-shared-compat' first, then manually remove
'mysql-libs' before continuing with the installation.  After
'mysql-libs' is removed, the dynamic linker stops looking for the client
library in the location where 'mysql-libs' puts it, and the library
provided by the 'MySQL-shared-compat' package takes over.

Another alternative is to install packages using 'yum'.  In a directory
containing all RPM packages for a MySQL release, 'yum install MySQL*rpm'
installs them in the correct order and removes 'mysql-libs' in one step
without conflicts.

In most cases, you need install only the 'MySQL-server' and
'MySQL-client' packages to get a functional standard MySQL installation.
The other packages are not required for a standard installation.

RPMs for NDB Cluster

Standard MySQL server RPMs built by MySQL do not provide support for the
*note 'NDBCLUSTER': mysql-cluster. storage engine.

*Important*:

When upgrading an NDB Cluster RPM installation, you must upgrade _all_
installed RPMs, including the 'Server' and 'Client' RPMs.

For more information about installing NDB Cluster from RPMs, see *note
mysql-cluster-installation::.

For upgrades, if your installation was originally produced by installing
multiple RPM packages, it is best to upgrade all the installed packages,
not just some.  For example, if you previously installed the server and
client RPMs, do not upgrade just the server RPM.

If the data directory exists at RPM installation time, the installation
process does not modify existing data.  This has the effect, for
example, that accounts in the grant tables are not initialized to the
default set of accounts.

If you get a dependency failure when trying to install MySQL packages
(for example, 'error: removing these packages would break dependencies:
libmysqlclient.so.10 is needed by ...'), you should also install the
'MySQL-shared-compat' package, which includes the shared libraries for
older releases for backward compatibility.

The following list shows the available RPM packages.  The names shown
here use a suffix of '.glibc23.i386.rpm', but particular packages can
have different suffixes, described later.  If you plan to install
multiple RPM packages, you may wish to download the RPM Bundle 'tar'
file instead, which contains multiple RPM packages so that you need not
download them separately.

   * 'MySQL-server-VERSION.glibc23.i386.rpm'

     The MySQL server.  You need this unless you only want to connect to
     a MySQL server running on another machine.

   * 'MySQL-client-VERSION.glibc23.i386.rpm'

     The standard MySQL client programs.  You probably always want to
     install this package.

   * 'MySQL-devel-VERSION.glibc23.i386.rpm'

     The libraries and include files needed to compile other MySQL
     clients, such as the Perl MySQL module.  Install this RPM if you
     intend to compile C API applications.

   * 'MySQL-shared-VERSION.glibc23.i386.rpm'

     The shared libraries ('libmysqlclient.so*') that certain languages
     and applications need to dynamically load and use MySQL. It
     contains single-threaded and thread-safe libraries.  Install this
     RPM if you intend to compile or run C API applications that depend
     on the shared client library.  Prior to MySQL 5.5.6, if you install
     this package, do not install the 'MySQL-shared-compat' package.

   * 'MySQL-shared-compat-VERSION.glibc23.i386.rpm'

     The shared libraries for older releases.  It contains
     single-threaded and thread-safe libraries.  Install this package if
     you have applications installed that are dynamically linked against
     older versions of MySQL but you want to upgrade to the current
     version without breaking the library dependencies.  Before MySQL
     5.5.6, 'MySQL-shared-compat' also includes the libraries for the
     current release, so if you install it, you should not also install
     'MySQL-shared'.  As of 5.5.6, 'MySQL-shared-compat' does not
     include the current library version, so there is no conflict.

     As of MySQL 5.5.23, the 'MySQL-shared-compat' RPM package enables
     users of Red Hat-provided 'mysql-*-5.1' RPM packages to migrate to
     Oracle-provided 'MySQL-*-5.5' packages.  'MySQL-shared-compat'
     replaces the Red Hat 'mysql-libs' package by replacing
     'libmysqlclient.so' files of the latter package, thus satisfying
     dependencies of other packages on 'mysql-libs'.  This change
     affects only users of Red Hat (or Red Hat-compatible) RPM packages.
     Nothing is different for users of Oracle RPM packages.

   * 'MySQL-embedded-VERSION.glibc23.i386.rpm'

     The embedded MySQL server library.

   * 'MySQL-test-VERSION.glibc23.i386.rpm'

     The MySQL test suite.

   * 'MySQL-VERSION.src.rpm'

     The source code for all of the previous packages.  It can also be
     used to rebuild the RPMs on other architectures (for example,
     SPARC).

In RPM package names, the suffix (following the VERSION value) has the
following syntax:

     .PLATFORM.CPU.rpm

The PLATFORM and CPU values indicate the type of system for which the
package is built.  PLATFORM indicates the platform and CPU indicates the
processor type or family.

All packages are dynamically linked against 'glibc' 2.3.  The PLATFORM
value indicates whether the package is platform independent or intended
for a specific platform, as shown in the following table.

*MySQL Linux RPM Package Platforms*

PLATFORM Value     Intended Use
                   
'glibc23'          Platform independent, should run on any Linux
                   distribution that supports 'glibc' 2.3
                   
'rhel4', 'rhel5'   Red Hat Enterprise Linux 4 or 5
                   
'el6'              Enterprise Linux 6
                   
'sles10',          SuSE Linux Enterprise Server 10 or 11
'sles11'

In MySQL 5.5, only 'glibc23' packages are available currently.

The CPU value indicates the processor type or family for which the
package is built, as shown in the following table.

*MySQL Linux RPM Package CPU Identifiers*

CPU Value          Intended Processor Type or Family
                   
'i386', 'i586',    Pentium processor or better, 32 bit
'i686'             

'x86_64'           64-bit x86 processor
                   
'ia64'             Itanium (IA-64) processor

To see all files in an RPM package (for example, a 'MySQL-server' RPM),
run a command like this (modify the platform and CPU identifiers
appropriately for your system):

     shell> rpm -qpl MySQL-server-VERSION.glibc23.i386.rpm

To perform a standard minimal installation, install the server and
client RPMs:

     shell> rpm -i MySQL-server-VERSION.glibc23.i386.rpm
     shell> rpm -i MySQL-client-VERSION.glibc23.i386.rpm

To install only the client programs, install just the client RPM:

     shell> rpm -i MySQL-client-VERSION.glibc23.i386.rpm

RPM provides a feature to verify the integrity and authenticity of
packages before installing them.  To learn more about this feature, see
*note verifying-package-integrity::.

The server RPM places data under the '/var/lib/mysql' directory.  The
RPM also creates a login account for a user named 'mysql' (if one does
not exist) to use for running the MySQL server, and creates the
appropriate entries in '/etc/init.d/' to start the server automatically
at boot time.  (This means that if you have performed a previous
installation and have made changes to its startup script, you may want
to make a copy of the script so that you can reinstall it after you
install a newer RPM.) See *note automatic-start::, for more information
on how MySQL can be started automatically at system startup.

In MySQL 5.5.5 and later, during a new installation using RPM packages,
the server boot scripts are installed, but the MySQL server is not
started at the end of the installation, since the status of the server
during an unattended installation is not known.

In MySQL 5.5.5 and later, during an upgrade installation using RPM
packages, if the MySQL server is running when the upgrade occurs, the
MySQL server is stopped, the upgrade occurs, and the MySQL server is
restarted.  If the MySQL server is not already running when the RPM
upgrade occurs, the MySQL server is not started at the end of the
installation.

If something goes wrong, you can find more information in the binary
installation section.  See *note binary-installation::.

*Note*:

The accounts created in the MySQL grant tables for an RPM installation
initially have no passwords.  After starting the server, you should
assign passwords to them using the instructions in *note
postinstallation::.

An RPM installation creates a user named 'mysql' and a group named
'mysql' on the system using the 'useradd', 'groupadd', and 'usermod'
commands.  Those commands require appropriate administrative privileges,
which is required for locally managed users and groups (as listed in the
'/etc/passwd' and '/etc/group' files) by the RPM installation process
being run by 'root'.

If you log in as the 'mysql' user, you may find that MySQL displays
'Invalid (old?) table or database name' errors that mention '.mysqlgui',
'lost+found', '.mysqlgui', '.bash_history', '.fonts.cache-1',
'.lesshst', '.mysql_history', '.profile', '.viminfo', and similar files
created by MySQL or operating system utilities.  You can safely ignore
these error messages or remove the files or directories that cause them
if you do not need them.

For nonlocal user management (LDAP, NIS, and so forth), the
administrative tools may require additional authentication (such as a
password), and will fail if the installing user does not provide this
authentication.  Even if they fail, the RPM installation will not abort
but succeed, and this is intentional.  If they failed, some of the
intended transfer of ownership may be missing, and it is recommended
that the system administrator then manually ensures some appropriate
user and group exists and manually transfers ownership following the
actions in the RPM spec file.

In MySQL 5.5.31, the RPM spec file has been updated, which has the
following consequences:

   * For a non-upgrade installation (no existing MySQL version
     installed), it possible to install MySQL using 'yum'.

   * For upgrades, it is necessary to clean up any earlier MySQL
     installations.  In effect, the update is performed by removing the
     old installations and installing the new one.

Additional details follow.

For a non-upgrade installation of MySQL 5.5.31, it is possible to
install using 'yum':

     shell> yum install MySQL-server-NEWVERSION.glibc23.i386.rpm

For upgrades to MySQL 5.5.31, the upgrade is performed by removing the
old installation and installing the new one.  To do this, use the
following procedure:

  1. Remove the existing 5.5.X installation.  OLDVERSION is the version
     to remove.

          shell> rpm -e MySQL-server-OLDVERSION.glibc23.i386.rpm

     Repeat this step for all installed MySQL RPMs.

  2. Install the new version.  NEWVERSION is the version to install.

          shell> rpm -ivh MySQL-server-NEWVERSION.glibc23.i386.rpm

Alternatively, the removal and installation can be done using 'yum':

     shell> yum remove MySQL-server-OLDVERSION.glibc23.i386.rpm
     shell> yum install MySQL-server-NEWVERSION.glibc23.i386.rpm

For some Linux distributions, it might be necessary to increase the
limit on number of file descriptors available to *note 'mysqld': mysqld.
See *note not-enough-file-handles::


File: manual.info.tmp,  Node: linux-installation-debian,  Next: linux-installation-docker,  Prev: linux-installation-rpm,  Up: linux-installation

2.5.2 Installing MySQL on Linux Using Debian Packages
-----------------------------------------------------

Oracle provides Debian packages for installation on Debian or
Debian-like Linux systems.  To obtain a package, see *note
getting-mysql::.

*Note*:

Debian distributions of MySQL are also provided by other vendors.  Be
aware that they may differ from those built by us in features,
capabilities, and conventions (including communication setup), and that
the instructions in this manual do not necessarily apply to installing
them.  The vendor's instructions should be consulted instead.

Debian package files have names in 'mysql-MVER-DVER-CPU.deb' format.
MVER is the MySQL version and DVER is the Debian version.  The CPU value
indicates the processor type or family for which the package is built,
as shown in the following table.

*MySQL Installation Packages for Linux CPU Identifiers*

CPU Value          Intended Processor Type or Family
                   
'i686'             Pentium processor or better, 32 bit
                   
'x86_64'           64-bit x86 processor

After downloading a Debian package, use the following command to install
it;

     shell> dpkg -i mysql-MVER-DVER-CPU.deb

The Debian package installs files in the '/opt/mysql/server-5.5'
directory.

You may also need to install the 'libaio' library if it is not already
present on your system:

     shell> sudo apt-get install libaio1


File: manual.info.tmp,  Node: linux-installation-docker,  Next: linux-installation-native,  Prev: linux-installation-debian,  Up: linux-installation

2.5.3 Deploying MySQL on Linux with Docker
------------------------------------------

* Menu:

* docker-mysql-getting-started::  Basic Steps for MySQL Server Deployment with Docker
* docker-mysql-more-topics::     More Topics on Deploying MySQL Server with Docker

The Docker deployment framework supports easy installation and
configuration of MySQL Server.  This section explains how to use a MySQL
Server Docker image.

You need to have Docker installed on your system before you can use a
MySQL Server Docker image.  See Install Docker
(https://docs.docker.com/engine/installation/) for instructions.

*Important*:

You need to either run 'docker' commands with 'sudo', or create a
'docker' usergroup, and then add to it any users who want to run
'docker' commands.  See details here
(https://docs.docker.com/engine/installation/linux/linux-postinstall/).
Because Docker containers are always run with root privileges, you
should understand the Docker daemon attack surface
(https://docs.docker.com/engine/security/security/#docker-daemon-attack-surface)
and properly mitigate the related risks.

The instructions for using the MySQL Docker container are divided into
two sections.


File: manual.info.tmp,  Node: docker-mysql-getting-started,  Next: docker-mysql-more-topics,  Prev: linux-installation-docker,  Up: linux-installation-docker

2.5.3.1 Basic Steps for MySQL Server Deployment with Docker
...........................................................

*Warning*:

The MySQL Docker images maintained by the MySQL team are built
specifically for Linux platforms.  Other platforms are not supported,
and users using these MySQL Docker images on them are doing so at their
own risk.

   * *note docker-download-image::

   * *note docker-starting-mysql-server::

   * *note docker-connecting-within-container::

   * *note docker-shell-access::

   * *note docker-stopping-deleting::

   * *note docker-more-topics::

*Downloading a MySQL Server Docker Image*

Downloading the server image in a separate step is not strictly
necessary; however, performing this step before you create your Docker
container ensures your local image is up to date.  To download the MySQL
Community Server image, run this command:

     docker pull mysql/mysql-server:TAG

The TAG is the label for the image version you want to pull (for
example, '5.5', '5.6', '5.7', '8.0', or 'latest').  If :TAG is omitted,
the 'latest' label is used, and the image for the latest GA version of
MySQL Community Server is downloaded.  Refer to the list of tags for
available versions on the mysql/mysql-server page in the Docker Hub
(https://hub.docker.com/r/mysql/mysql-server/tags/).

You can list downloaded Docker images with this command:

     shell> docker images
     REPOSITORY           TAG                 IMAGE ID            CREATED             SIZE
     mysql/mysql-server   latest              3157d7f55f8d        4 weeks ago         241MB

*Starting a MySQL Server Instance*

Start a new Docker container for the MySQL Server with this command:

     docker run --name=mysql1 -d mysql/mysql-server:TAG

The '--name' option, for supplying a custom name for your server
container ('mysql1' in the example), is optional; if no container name
is supplied, a random one is generated.  If the Docker image of the
specified name and tag has not been downloaded by an earlier 'docker
pull' or 'docker run' command, the image is now downloaded.  After
download completes, initialization for the container begins, and the
container appears in the list of running containers when you run the
'docker ps' command; for example:

     shell> docker ps
     CONTAINER ID   IMAGE                COMMAND                  CREATED             STATUS                              PORTS                NAMES
     a24888f0d6f4   mysql/mysql-server   "/entrypoint.sh my..."   14 seconds ago      Up 13 seconds (health: starting)    3306/tcp, 33060/tcp  mysql1

The container initialization might take some time.  When the server is
ready for use, the 'STATUS' of the container in the output of the
'docker ps' command changes from '(health: starting)' to '(healthy)'.

The '-d' option used in the 'docker run' command above makes the
container run in the background.  Use this command to monitor the output
from the container:

     docker logs mysql1

Once initialization is finished, the command's output is going to
contain the random password generated for the root user; check the
password with, for example, this command:

     shell> docker logs mysql1 2>&1 | grep GENERATED
     GENERATED ROOT PASSWORD: Axegh3kAJyDLaRuBemecis&EShOs

*Connecting to MySQL Server from within the Container*

Once the server is ready, you can run the *note 'mysql': mysql. client
within the MySQL Server container you just started, and connect it to
the MySQL Server.  Use the 'docker exec -it' command to start a *note
'mysql': mysql. client inside the Docker container you have started,
like the following:

     docker exec -it mysql1 mysql -uroot -p

When asked, enter the generated root password (see the last step in
*note docker-starting-mysql-server:: above on how to find the password).
After you have connected a *note 'mysql': mysql. client to the server,
you should reset the server root password by issuing this statement:

     mysql> ALTER USER 'root'@'localhost' IDENTIFIED BY 'NEWPASSWORD';

Substitute NEWPASSWORD with the password of your choice.  Once the
password is reset, the server is ready for use.

*Container Shell Access*

To have shell access to your MySQL Server container, use the 'docker
exec -it' command to start a bash shell inside the container:

     shell> docker exec -it mysql1 bash
     bash-4.2#

You can then run Linux commands inside the container.  For example, to
view contents in the server's data directory inside the container, use
this command:

     bash-4.2# ls /var/lib/mysql
     auto.cnf    ca.pem	     client-key.pem  ib_logfile0  ibdata1  mysql       mysql.sock.lock	   private_key.pem  server-cert.pem  sys
     ca-key.pem  client-cert.pem  ib_buffer_pool  ib_logfile1  ibtmp1   mysql.sock  performance_schema  public_key.pem   server-key.pem

*Stopping and Deleting a MySQL Container*

To stop the MySQL Server container we have created, use this command:

     docker stop mysql1

'docker stop' sends a SIGTERM signal to the *note 'mysqld': mysqld.
process, so that the server is shut down gracefully.

Also notice that when the main process of a container (*note 'mysqld':
mysqld. in the case of a MySQL Server container) is stopped, the Docker
container stops automatically.

To start the MySQL Server container again:

     docker start mysql1

To stop and start again the MySQL Server container with a single
command:

     docker restart mysql1

To delete the MySQL container, stop it first, and then use the 'docker
rm' command:

     docker stop mysql1

     docker rm mysql1

If you want the Docker volume for the server's data directory to be
deleted at the same time, add the '-v' option to the 'docker rm'
command.

*More Topics on Deploying MySQL Server with Docker*

For more topics on deploying MySQL Server with Docker like server
configuration, persisting data and configuration, server error log, and
container environment variables, see *note docker-mysql-more-topics::.


File: manual.info.tmp,  Node: docker-mysql-more-topics,  Prev: docker-mysql-getting-started,  Up: linux-installation-docker

2.5.3.2 More Topics on Deploying MySQL Server with Docker
.........................................................

   * *note docker-optimized-installation::

   * *note docker-configuring-server::

   * *note docker-persisting-data-configuration::

   * *note docker-additional-init::

   * *note docker-app-in-another-container::

   * *note docker-server-error-log::

   * *note docker-environment-variables::

*The Optimized MySQL Installation for Docker*

Docker images for MySQL are optimized for code size, which means they
only include crucial components that are expected to be relevant for the
majority of users who run MySQL instances in Docker containers.  A MySQL
Docker installation is different from a common, non-Docker installation
in the following aspects:

   * Included binaries are limited to:

        * /usr/bin/my_print_defaults

        * /usr/bin/mysql

        * /usr/bin/mysql_config

        * /usr/bin/mysql_install_db

        * /usr/bin/mysql_tzinfo_to_sql

        * /usr/bin/mysql_upgrade

        * /usr/bin/mysqladmin

        * /usr/bin/mysqlcheck

        * /usr/bin/mysqldump

        * /usr/sbin/mysqld

   * All binaries are stripped; they contain no debug information.

*Configuring the MySQL Server*

When you start the MySQL Docker container, you can pass configuration
options to the server through the 'docker run' command; for example, for
the MySQL Server:

     docker run --name mysql1 -d mysql/mysql-server --character-set-server=utf8mb4 --collation-server=utf8mb4_col

The command starts your MySQL Server with 'utf8mb4' as the default
character set and 'utf8mb4_col' as the default collation for your
databases.

Another way to configure the MySQL Server is to prepare a configuration
file and mount it at the location of the server configuration file
inside the container.  See *note docker-persisting-data-configuration::
for details.

*Persisting Data and Configuration Changes*

Docker containers are in principle ephemeral, and any data or
configuration are expected to be lost if the container is deleted or
corrupted (see discussions here
(https://docs.docker.com/engine/userguide/eng-image/dockerfile_best-practices/)).
Docker volumes (https://docs.docker.com/engine/admin/volumes/volumes/),
however, provides a mechanism to persist data created inside a Docker
container.  At its initialization, the MySQL Server container creates a
Docker volume for the server data directory.  The JSON output for
running the 'docker inspect' command on the container has a 'Mount' key,
whose value provides information on the data directory volume:

     shell> docker inspect mysql1
     ...
      "Mounts": [
                 {
                     "Type": "volume",
                     "Name": "4f2d463cfc4bdd4baebcb098c97d7da3337195ed2c6572bc0b89f7e845d27652",
                     "Source": "/var/lib/docker/volumes/4f2d463cfc4bdd4baebcb098c97d7da3337195ed2c6572bc0b89f7e845d27652/_data",
                     "Destination": "/var/lib/mysql",
                     "Driver": "local",
                     "Mode": "",
                     "RW": true,
                     "Propagation": ""
                 }
             ],
     ...

The output shows that the source folder'
/var/lib/docker/volumes/4f2d463cfc4bdd4baebcb098c97d7da3337195ed2c6572bc0b89f7e845d27652/_data',
in which data is persisted on the host, has been mounted at
'/var/lib/mysql', the server data directory inside the container.

Another way to preserve data is to bind-mount
(https://docs.docker.com/engine/reference/commandline/service_create/#add-bind-mounts-or-volumes)
a host directory using the '--mount' option when creating the container.
The same technique can be used to persist the configuration of the
server.  The following command creates a MySQL Server container and
bind-mounts both the data directory and the server configuration file:

     docker run --name=mysql1 \
     --mount type=bind,src=/PATH-ON-HOST-MACHINE/MY.CNF,dst=/etc/my.cnf \
     --mount type=bind,src=/PATH-ON-HOST-MACHINE/DATADIR,dst=/var/lib/mysql \
     -d mysql/mysql-server:TAG

The command mounts 'PATH-ON-HOST-MACHINE/MY.CNF' at '/etc/my.cnf' (the
server configuration file inside the container), and
'PATH-ON-HOST-MACHINE/DATADIR' at '/var/lib/mysql' (the data directory
inside the container).  The following conditions must be met for the
bind-mounting to work:

   * The configuration file 'PATH-ON-HOST-MACHINE/MY.CNF' must already
     exist, and it must contain the specification for starting the
     server using the user 'mysql':

          [mysqld]
          user=mysql

     You can also include other server configuration options in the
     file.

   * The data directory 'PATH-ON-HOST-MACHINE/DATADIR' must already
     exist.  For server initialization to happen, the directory must be
     empty.  You can also mount a directory prepopulated with data and
     start the server with it; however, you must make sure you start the
     Docker container with the same configuration as the server that
     created the data, and any host files or directories required are
     mounted when starting the container.

*Running Additional Initialization Scripts*

If there are any '.sh' or '.sql' scripts you want to run on the database
immediately after it has been created, you can put them into a host
directory and then mount the directory at '/docker-entrypoint-initdb.d/'
inside the container.  For example, for a MySQL Server container:

     docker run --name=mysql1 \
     --mount type=bind,src=/PATH-ON-HOST-MACHINE/SCRIPTS/,dst=/docker-entrypoint-initdb.d/ \
     -d mysql/mysql-server:TAG

*Connect to MySQL from an Application in Another Docker Container*

By setting up a Docker network, you can allow multiple Docker containers
to communicate with each other, so that a client application in another
Docker container can access the MySQL Server in the server container.
First, create a Docker network:

     docker network create MY-CUSTOM-NET

Then, when you are creating and starting the server and the client
containers, use the '--network' option to put them on network you
created.  For example:

     docker run --name=mysql1 --network=MY-CUSTOM-NET -d mysql/mysql-server

     docker run --name=myapp1 --network=MY-CUSTOM-NET -d myapp

The 'myapp1' container can then connect to the 'mysql1' container with
the 'mysql1' hostname and vice versa, as Docker automatically sets up a
DNS for the given container names.  In the following example, we run the
*note 'mysql': mysql. client from inside the 'myapp1' container to
connect to host 'mysql1' in its own container:

     docker exec -it myapp1 mysql --host=mysql1 --user=myuser --password

For other networking techniques for containers, see the Docker container
networking (https://docs.docker.com/engine/userguide/networking/)
section in the Docker Documentation.

*Server Error Log*

When the MySQL Server is first started with your server container, a
*note server error log: error-log. is NOT generated if either of the
following conditions is true:

   * A server configuration file from the host has been mounted, but the
     file does not contain the system variable 'log_error' (see *note
     docker-persisting-data-configuration:: on bind-mounting a server
     configuration file).

   * A server configuration file from the host has not been mounted, but
     the Docker environment variable 'MYSQL_LOG_CONSOLE' is 'true' (the
     variable's default state for MySQL 5.5 server containers is
     'false').  The MySQL Server's error log is then redirected to
     'stderr', so that the error log goes into the Docker container's
     log and is viewable using the 'docker logs MYSQLD-CONTAINER'
     command.

To make MySQL Server generate an error log when either of the two
conditions is true, use the '--log-error' option to configure the server
to generate the error log at a specific location inside the container.
To persist the error log, mount a host file at the location of the error
log inside the container as explained in *note
docker-persisting-data-configuration::.  However, you must make sure
your MySQL Server inside its container has write access to the mounted
host file.

*Docker Environment Variables*

When you create a MySQL Server container, you can configure the MySQL
instance by using the '--env' option ('-e' in short) and specifying one
or more of the following environment variables.

*Notes*:

   * None of the variables below has any effect if the data directory
     you mount is not empty, as no server initialization is going to be
     attempted then (see *note docker-persisting-data-configuration::
     for more details).  Any pre-existing contents in the folder,
     including any old server settings, are not modified during the
     container startup.

   * The boolean variables including 'MYSQL_RANDOM_ROOT_PASSWORD',
     'MYSQL_ALLOW_EMPTY_PASSWORD', and 'MYSQL_LOG_CONSOLE' are made true
     by setting them with any strings of nonzero lengths.

     Therefore, setting them to, for example, '0', 'false', or 'no' does
     not make them false, but actually makes them true.  This is a known
     issue of the MySQL Server containers.

   * 'MYSQL_RANDOM_ROOT_PASSWORD': When this variable is true (which is
     its default state, unless 'MYSQL_ROOT_PASSWORD' or
     'MYSQL_ALLOW_EMPTY_PASSWORD' is set to true), a random password for
     the server's root user is generated when the Docker container is
     started.  The password is printed to 'stdout' of the container and
     can be found by looking at the container's log (see *note
     docker-starting-mysql-server::).

   * 'MYSQL_DATABASE': This variable allows you to specify the name of a
     database to be created on image startup.  If a user name and a
     password are supplied with 'MYSQL_USER' and 'MYSQL_PASSWORD', the
     user is created and granted superuser access to this database
     (corresponding to 'GRANT ALL').  The specified database is created
     by a *note CREATE DATABASE IF NOT EXIST: create-database.
     statement, so that the variable has no effect if the database
     already exists.

   * 'MYSQL_USER', 'MYSQL_PASSWORD': These variables are used in
     conjunction to create a user and set that user's password, and the
     user is granted superuser permissions for the database specified by
     the 'MYSQL_DATABASE' variable.  Both 'MYSQL_USER' and
     'MYSQL_PASSWORD' are required for a user to be created--if any of
     the two variables is not set, the other is ignored.  If both
     variables are set but 'MYSQL_DATABASE' is not, the user is created
     without any privileges.

     *Note*:

     There is no need to use this mechanism to create the root
     superuser, which is created by default with the password set by
     either one of the mechanisms discussed in the descriptions for
     'MYSQL_ROOT_PASSWORD' and 'MYSQL_RANDOM_ROOT_PASSWORD', unless
     'MYSQL_ALLOW_EMPTY_PASSWORD' is true.

   * 'MYSQL_ROOT_HOST': By default, MySQL creates the
     ''root'@'localhost'' account.  This account can only be connected
     to from inside the container as described in *note
     docker-connecting-within-container::.  To allow root connections
     from other hosts, set this environment variable.  For example, the
     value '172.17.0.1', which is the default Docker gateway IP, allows
     connections from the host machine that runs the container.  The
     option accepts only one entry, but wildcards are allowed (for
     example, 'MYSQL_ROOT_HOST=172.*.*.*' or 'MYSQL_ROOT_HOST=%').

   * 'MYSQL_LOG_CONSOLE': When the variable is true (the variable's
     default state for MySQL 5.5 server containers is 'false'), the
     MySQL Server's error log is redirected to 'stderr', so that the
     error log goes into the Docker container's log and is viewable
     using the 'docker logs MYSQLD-CONTAINER' command.

     *Note*:

     The variable has no effect if a server configuration file from the
     host has been mounted (see *note
     docker-persisting-data-configuration:: on bind-mounting a
     configuration file).

   * 'MYSQL_ROOT_PASSWORD': This variable specifies a password that is
     set for the MySQL root account.

     *Warning*:

     Setting the MySQL root user password on the command line is
     insecure.  As an alternative to specifying the password explicitly,
     you can set the variable with a container file path for a password
     file, and then mount a file from your host that contains the
     password at the container file path.  This is still not very
     secure, as the location of the password file is still exposed.  It
     is preferable to use the default settings of
     'MYSQL_RANDOM_ROOT_PASSWORD=true' being true.

   * 'MYSQL_ALLOW_EMPTY_PASSWORD'.  Set it to true to allow the
     container to be started with a blank password for the root user.

     *Warning*:

     Setting this variable to true is insecure, because it is going to
     leave your MySQL instance completely unprotected, allowing anyone
     to gain complete superuser access.  It is preferable to use the
     default settings of 'MYSQL_RANDOM_ROOT_PASSWORD=true' being true.


File: manual.info.tmp,  Node: linux-installation-native,  Prev: linux-installation-docker,  Up: linux-installation

2.5.4 Installing MySQL on Linux Using Native Package Managers
-------------------------------------------------------------

Many Linux distributions include a version of the MySQL server, client
tools, and development components in their native software repositories
and can be installed with the platforms' standard package management
systems.  This section provides basic instructions for installing MySQL
using those package management systems.

*Important*:

Native package installations can take care of the download and
dependencies required to run MySQL, but the MySQL version will often be
some way behind the currently available release.  You will also normally
be unable to install development releases, as these are not usually made
available in the native repository.

Distribution specific instructions are shown below:

   * *Red Hat Linux, Fedora, CentOS*

     For Red Hat and similar distributions, the MySQL distribution is
     divided into a number of separate packages, 'mysql' for the client
     tools, 'mysql-server' for the server and associated tools, and
     'mysql-libs' for the libraries.  The libraries are required if you
     want to provide connectivity from different languages and
     environments such as Perl, Python and others.

     To install, use the 'yum' command to specify the packages that you
     want to install.  For example:

          root-shell> yum install mysql mysql-server mysql-libs mysql-server
          Loaded plugins: presto, refresh-packagekit
          Setting up Install Process
          Resolving Dependencies
          --> Running transaction check
          ---> Package mysql.x86_64 0:5.1.48-2.fc13 set to be updated
          ---> Package mysql-libs.x86_64 0:5.1.48-2.fc13 set to be updated
          ---> Package mysql-server.x86_64 0:5.1.48-2.fc13 set to be updated
          --> Processing Dependency: perl-DBD-MySQL for package: mysql-server-5.1.48-2.fc13.x86_64
          --> Running transaction check
          ---> Package perl-DBD-MySQL.x86_64 0:4.017-1.fc13 set to be updated
          --> Finished Dependency Resolution

          Dependencies Resolved

          ================================================================================
           Package               Arch          Version               Repository      Size
          ================================================================================
          Installing:
           mysql                 x86_64        5.1.48-2.fc13         updates        889 k
           mysql-libs            x86_64        5.1.48-2.fc13         updates        1.2 M
           mysql-server          x86_64        5.1.48-2.fc13         updates        8.1 M
          Installing for dependencies:
           perl-DBD-MySQL        x86_64        4.017-1.fc13          updates        136 k

          Transaction Summary
          ================================================================================
          Install       4 Package(s)
          Upgrade       0 Package(s)

          Total download size: 10 M
          Installed size: 30 M
          Is this ok [y/N]: y
          Downloading Packages:
          Setting up and reading Presto delta metadata
          Processing delta metadata
          Package(s) data still to download: 10 M
          (1/4): mysql-5.1.48-2.fc13.x86_64.rpm                    | 889 kB     00:04
          (2/4): mysql-libs-5.1.48-2.fc13.x86_64.rpm               | 1.2 MB     00:06
          (3/4): mysql-server-5.1.48-2.fc13.x86_64.rpm             | 8.1 MB     00:40
          (4/4): perl-DBD-MySQL-4.017-1.fc13.x86_64.rpm            | 136 kB     00:00
          --------------------------------------------------------------------------------
          Total                                           201 kB/s |  10 MB     00:52
          Running rpm_check_debug
          Running Transaction Test
          Transaction Test Succeeded
          Running Transaction
            Installing     : mysql-libs-5.1.48-2.fc13.x86_64                          1/4
            Installing     : mysql-5.1.48-2.fc13.x86_64                               2/4
            Installing     : perl-DBD-MySQL-4.017-1.fc13.x86_64                       3/4
            Installing     : mysql-server-5.1.48-2.fc13.x86_64                        4/4

          Installed:
            mysql.x86_64 0:5.1.48-2.fc13            mysql-libs.x86_64 0:5.1.48-2.fc13
            mysql-server.x86_64 0:5.1.48-2.fc13

          Dependency Installed:
            perl-DBD-MySQL.x86_64 0:4.017-1.fc13

          Complete!

     MySQL and the MySQL server should now be installed.  A sample
     configuration file is installed into '/etc/my.cnf'.  An init
     script, to start and stop the server, will have been installed into
     '/etc/init.d/mysqld'.  To start the MySQL server use 'service':

          root-shell> service mysqld start

     To enable the server to be started and stopped automatically during
     boot, use 'chkconfig':

          root-shell> chkconfig --levels 235 mysqld on

     Which enables the MySQL server to be started (and stopped)
     automatically at the specified the run levels.

     The database tables will have been automatically created for you,
     if they do not already exist.  You should, however, run *note
     'mysql_secure_installation': mysql-secure-installation. to set the
     root passwords on your server.

   * *Debian, Ubuntu, Kubuntu*

     On Debian and related distributions, there are two packages,
     'mysql-client' and 'mysql-server', for the client and server
     components respectively.  You should specify an explicit version,
     for example 'mysql-client-5.1', to ensure that you install the
     version of MySQL that you want.

     To download and install, including any dependencies, use the
     'apt-get' command, specifying the packages that you want to
     install.

     *Note*:

     Before installing, make sure that you update your 'apt-get' index
     files to ensure you are downloading the latest available version.

     A sample installation of the MySQL packages might look like this
     (some sections trimmed for clarity):

          root-shell> apt-get install mysql-client-5.1 mysql-server-5.1
          Reading package lists... Done
          Building dependency tree
          Reading state information... Done
          The following packages were automatically installed and are no longer required:
            linux-headers-2.6.28-11 linux-headers-2.6.28-11-generic
          Use 'apt-get autoremove' to remove them.
          The following extra packages will be installed:
            bsd-mailx libdbd-mysql-perl libdbi-perl libhtml-template-perl
            libmysqlclient15off libmysqlclient16 libnet-daemon-perl libplrpc-perl mailx
            mysql-common postfix
          Suggested packages:
            dbishell libipc-sharedcache-perl tinyca procmail postfix-mysql postfix-pgsql
            postfix-ldap postfix-pcre sasl2-bin resolvconf postfix-cdb
          The following NEW packages will be installed
            bsd-mailx libdbd-mysql-perl libdbi-perl libhtml-template-perl
            libmysqlclient15off libmysqlclient16 libnet-daemon-perl libplrpc-perl mailx
            mysql-client-5.1 mysql-common mysql-server-5.1 postfix
          0 upgraded, 13 newly installed, 0 to remove and 182 not upgraded.
          Need to get 1907kB/25.3MB of archives.
          After this operation, 59.5MB of additional disk space will be used.
          Do you want to continue [Y/n]? Y
          Get: 1 http://gb.archive.ubuntu.com jaunty-updates/main mysql-common 5.1.30really5.0.75-0ubuntu10.5 [63.6kB]
          Get: 2 http://gb.archive.ubuntu.com jaunty-updates/main libmysqlclient15off 5.1.30really5.0.75-0ubuntu10.5 [1843kB]
          Fetched 1907kB in 9s (205kB/s)
          Preconfiguring packages ...
          Selecting previously deselected package mysql-common.
          (Reading database ... 121260 files and directories currently installed.)
          ...
          Processing 1 added doc-base file(s)...
          Registering documents with scrollkeeper...
          Setting up libnet-daemon-perl (0.43-1) ...
          Setting up libplrpc-perl (0.2020-1) ...
          Setting up libdbi-perl (1.607-1) ...
          Setting up libmysqlclient15off (5.1.30really5.0.75-0ubuntu10.5) ...

          Setting up libdbd-mysql-perl (4.008-1) ...
          Setting up libmysqlclient16 (5.1.31-1ubuntu2) ...

          Setting up mysql-client-5.1 (5.1.31-1ubuntu2) ...

          Setting up mysql-server-5.1 (5.1.31-1ubuntu2) ...
           * Stopping MySQL database server mysqld
             ...done.
          100825 11:46:15  InnoDB: Started; log sequence number 0 46409
          100825 11:46:15  InnoDB: Starting shutdown...
          100825 11:46:17  InnoDB: Shutdown completed; log sequence number 0 46409
          100825 11:46:17 [Warning] Forcing shutdown of 1 plugins
           * Starting MySQL database server mysqld
             ...done.
           * Checking for corrupt, not cleanly closed and upgrade needing tables.
          ...
          Processing triggers for libc6 ...
          ldconfig deferred processing now taking place

     *Note*:

     The 'apt-get' command will install a number of packages, including
     the MySQL server, in order to provide the typical tools and
     application environment.  This can mean that you install a large
     number of packages in addition to the main MySQL package.

     During installation, the initial database will be created, and you
     will be prompted for the MySQL root password (and confirmation).  A
     configuration file will have been created in '/etc/mysql/my.cnf'.
     An init script will have been created in '/etc/init.d/mysql'.

     The server will already be started.  You can manually start and
     stop the server using:

          root-shell> service mysql [start|stop]

     The service will automatically be added to the 2, 3 and 4 run
     levels, with stop scripts in the single, shutdown and restart
     levels.

   * *Gentoo Linux*

     As a source-based distribution, installing MySQL on Gentoo involves
     downloading the source, patching the Gentoo specifics, and then
     compiling the MySQL server and installing it.  This process is
     handled automatically by the 'emerge' command.

     The MySQL server and client tools are provided within a single
     package, 'dev-db/mysql'.  You can obtain a list of the versions
     available to install by looking at the portage directory for the
     package:

          root-shell> ls /usr/portage/dev-db/mysql/mysql-5.5*
          mysql-5.5.46.ebuild
          mysql-5.5.47.ebuild

     To install a specific MySQL version, you must specify the entire
     atom.  For example:

          root-shell> emerge =dev-db/mysql-5.5.46

     After installation, you should initialize the data directory and
     set the password for the MySQL ROOT user (see *note
     data-directory-initialization::).  Alternatively, use the
     configuration interface to perform those tasks:

          root-shell> emerge --config =dev-db/mysql-5.5.46

     During installation, a sample configuration file is created for you
     in '/etc/mysql/my.cnf', and an init script is created in
     '/etc/init.d/mysql'.

     To enable MySQL to start automatically at the normal (default) run
     levels, use this command:

          root-shell> rc-update add mysql default


File: manual.info.tmp,  Node: uln-installation,  Next: solaris-installation,  Prev: linux-installation,  Up: installing

2.6 Installing MySQL Using Unbreakable Linux Network (ULN)
==========================================================

Linux supports a number of different solutions for installing MySQL,
covered in *note linux-installation::.  One of the methods, covered in
this section, is installing from Oracle's Unbreakable Linux Network
(ULN). You can find information about Oracle Linux and ULN under
<http://linux.oracle.com/>.

To use ULN, you need to obtain a ULN login and register the machine used
for installation with ULN. This is described in detail in the ULN FAQ
(https://linux.oracle.com/uln_faq.html).  The page also describes how to
install and update packages.  The MySQL packages are in the 'MySQL for
Oracle Linux 6' channel for your system architecture on ULN.

*Note*:

At the time of this writing, ULN provides MySQL 5.5 for Oracle Linux 6.

Once MySQL has been installed using ULN, you can find information on
starting and stopping the server, and more, in *note this section:
linux-installation-native, particularly under *note
linux-installation-rpm::.

If you're updating an existing MySQL installation to an installation
using ULN, the recommended procedure is to export your data using *note
'mysqldump': mysqldump, remove the existing installation, install MySQL
from ULN, and load the exported data into your freshly installed MySQL.

If the existing MySQL installation you're upgrading from is from a
previous release series (prior to MySQL 5.5), make sure to read the
section on upgrading MySQL, *note upgrading::.


File: manual.info.tmp,  Node: solaris-installation,  Next: freebsd-installation,  Prev: uln-installation,  Up: installing

2.7 Installing MySQL on Solaris
===============================

* Menu:

* solaris-installation-pkg::     Installing MySQL on Solaris Using a Solaris PKG

*Note*:

MySQL 5.5 supports Solaris 10 (Update 11 and later), and Solaris 11
(Update 3 and later).

MySQL on Solaris is available in a number of different formats.

   * For information on installing using the native Solaris PKG format,
     see *note solaris-installation-pkg::.

   * To use a standard 'tar' binary installation, use the notes provided
     in *note binary-installation::.  Check the notes and hints at the
     end of this section for Solaris specific notes that you may need
     before or after installation.

To obtain a binary MySQL distribution for Solaris in tarball or PKG
format, <https://dev.mysql.com/downloads/mysql/5.5.html>.

Additional notes to be aware of when installing and using MySQL on
Solaris:

   * If you want to use MySQL with the 'mysql' user and group, use the
     'groupadd' and 'useradd' commands:

          groupadd mysql
          useradd -g mysql -s /bin/false mysql

   * If you install MySQL using a binary tarball distribution on
     Solaris, because the Solaris 'tar' cannot handle long file names,
     use GNU 'tar' ('gtar') to unpack the distribution.  If you do not
     have GNU 'tar' on your system, install it with the following
     command:

          pkg install archiver/gnu-tar

   * You should mount any file systems on which you intend to store
     'InnoDB' files with the 'forcedirectio' option.  (By default
     mounting is done without this option.)  Failing to do so will cause
     a significant drop in performance when using the 'InnoDB' storage
     engine on this platform.

   * If you would like MySQL to start automatically, you can copy
     'support-files/mysql.server' to '/etc/init.d' and create a symbolic
     link to it named '/etc/rc3.d/S99mysql.server'.

   * If too many processes try to connect very rapidly to *note
     'mysqld': mysqld, you should see this error in the MySQL log:

          Error in accept: Protocol error

     You might try starting the server with the '--back_log=50' option
     as a workaround for this.

   * To configure the generation of core files on Solaris you should use
     the 'coreadm' command.  Because of the security implications of
     generating a core on a 'setuid()' application, by default, Solaris
     does not support core files on 'setuid()' programs.  However, you
     can modify this behavior using 'coreadm'.  If you enable 'setuid()'
     core files for the current user, they will be generated using the
     mode 600 and owned by the superuser.


File: manual.info.tmp,  Node: solaris-installation-pkg,  Prev: solaris-installation,  Up: solaris-installation

2.7.1 Installing MySQL on Solaris Using a Solaris PKG
-----------------------------------------------------

You can install MySQL on Solaris using a binary package using the native
Solaris PKG format instead of the binary tarball distribution.

To use this package, download the corresponding
'mysql-VERSION-solaris10-PLATFORM.pkg.gz' file, then uncompress it.  For
example:

     shell> gunzip mysql-5.5.62-solaris10-x86_64.pkg.gz

To install a new package, use 'pkgadd' and follow the onscreen prompts.
You must have root privileges to perform this operation:

     shell> pkgadd -d mysql-5.5.62-solaris10-x86_64.pkg

     The following packages are available:
       1  mysql     MySQL Community Server (GPL)
                    (i86pc) 5.5.62

     Select package(s) you wish to process (or 'all' to process
     all packages). (default: all) [?,??,q]:

The PKG installer installs all of the files and tools needed, and then
initializes your database if one does not exist.  To complete the
installation, you should set the root password for MySQL as provided in
the instructions at the end of the installation.  Alternatively, you can
run the *note 'mysql_secure_installation': mysql-secure-installation.
script that comes with the installation.

By default, the PKG package installs MySQL under the root path
'/opt/mysql'.  You can change only the installation root path when using
'pkgadd', which can be used to install MySQL in a different Solaris
zone.  If you need to install in a specific directory, use a binary
'tar' file distribution.

The 'pkg' installer copies a suitable startup script for MySQL into
'/etc/init.d/mysql'.  To enable MySQL to startup and shutdown
automatically, you should create a link between this file and the init
script directories.  For example, to ensure safe startup and shutdown of
MySQL you could use the following commands to add the right links:

     shell> ln /etc/init.d/mysql /etc/rc3.d/S91mysql
     shell> ln /etc/init.d/mysql /etc/rc0.d/K02mysql

To remove MySQL, the installed package name is 'mysql'.  You can use
this in combination with the 'pkgrm' command to remove the installation.

To upgrade when using the Solaris package file format, you must remove
the existing installation before installing the updated package.
Removal of the package does not delete the existing database
information, only the server, binaries and support files.  The typical
upgrade sequence is therefore:

     shell> mysqladmin shutdown
     shell> pkgrm mysql
     shell> pkgadd -d mysql-5.5.62-solaris10-x86_64.pkg
     shell> mysqld_safe &
     shell> mysql_upgrade

You should check the notes in *note upgrading:: before performing any
upgrade.


File: manual.info.tmp,  Node: freebsd-installation,  Next: source-installation,  Prev: solaris-installation,  Up: installing

2.8 Installing MySQL on FreeBSD
===============================

This section provides information about installing MySQL on variants of
FreeBSD Unix.

You can install MySQL on FreeBSD by using the binary distribution
provided by Oracle.  For more information, see *note
binary-installation::.

The easiest (and preferred) way to install MySQL is to use the *note
'mysql-server': mysql-server. and 'mysql-client' ports available at
<http://www.freebsd.org/>.  Using these ports gives you the following
benefits:

   * A working MySQL with all optimizations enabled that are known to
     work on your version of FreeBSD.

   * Automatic configuration and build.

   * Startup scripts installed in '/usr/local/etc/rc.d'.

   * The ability to use 'pkg_info -L' to see which files are installed.

   * The ability to use 'pkg_delete' to remove MySQL if you no longer
     want it on your machine.

The MySQL build process requires GNU make ('gmake') to work.  If GNU
'make' is not available, you must install it first before compiling
MySQL.

To install using the ports system:

     # cd /usr/ports/databases/mysql55-server
     # make
     ...
     # cd /usr/ports/databases/mysql55-client
     # make
     ...

The standard port installation places the server into
'/usr/local/libexec/mysqld', with the startup script for the MySQL
server placed in '/usr/local/etc/rc.d/mysql-server'.

Some additional notes on the BSD implementation:

   * To remove MySQL after installation using the ports system:

          # cd /usr/ports/databases/mysql55-server
          # make deinstall
          ...
          # cd /usr/ports/databases/mysql55-client
          # make deinstall
          ...

   * If you get problems with the current date in MySQL, setting the
     'TZ' variable should help.  See *note environment-variables::.


File: manual.info.tmp,  Node: source-installation,  Next: postinstallation,  Prev: freebsd-installation,  Up: installing

2.9 Installing MySQL from Source
================================

* Menu:

* source-installation-methods::  Source Installation Methods
* source-installation-prerequisites::  Source Installation Prerequisites
* source-installation-layout::   MySQL Layout for Source Installation
* installing-source-distribution::  Installing MySQL Using a Standard Source Distribution
* installing-development-tree::  Installing MySQL Using a Development Source Tree
* source-ssl-library-configuration::  Configuring SSL Library Support
* source-configuration-options::  MySQL Source-Configuration Options
* compilation-problems::         Dealing with Problems Compiling MySQL
* source-configuration-third-party::  MySQL Configuration and Third-Party Tools

Building MySQL from the source code enables you to customize build
parameters, compiler optimizations, and installation location.  For a
list of systems on which MySQL is known to run, see
<https://www.mysql.com/support/supportedplatforms/database.html>.

Before you proceed with an installation from source, check whether
Oracle produces a precompiled binary distribution for your platform and
whether it works for you.  We put a great deal of effort into ensuring
that our binaries are built with the best possible options for optimal
performance.  Instructions for installing binary distributions are
available in *note binary-installation::.

*Warning*:

Building MySQL with nonstandard options may lead to reduced
functionality, performance, or security.

*Note*:

This section describes how to build MySQL from source using 'CMake'.
Before MySQL 5.5, source builds used the GNU autotools on Unix-like
systems.  Source builds on Windows used 'CMake', but the process was
different from that described here.  For source-building instructions
for older versions of MySQL, see the 'MySQL 5.1 Reference Manual'.  If
you are familiar with autotools but not 'CMake', you might find these
transition instructions helpful: Autotools to CMake Transition Guide
(https://dev.mysql.com/doc/internals/en/autotools-to-cmake.html)


File: manual.info.tmp,  Node: source-installation-methods,  Next: source-installation-prerequisites,  Prev: source-installation,  Up: source-installation

2.9.1 Source Installation Methods
---------------------------------

There are two methods for installing MySQL from source:

   * Use a standard MySQL source distribution.  To obtain a standard
     distribution, see *note getting-mysql::.  For instructions on
     building from a standard distribution, see *note
     installing-source-distribution::.

     Standard distributions are available as compressed 'tar' files, Zip
     archives, or RPM packages.  Distribution files have names of the
     form 'mysql-VERSION.tar.gz', 'mysql-VERSION.zip', or
     'mysql-VERSION.rpm', where VERSION is a number like '5.5.62'.  File
     names for source distributions can be distinguished from those for
     precompiled binary distributions in that source distribution names
     are generic and include no platform name, whereas binary
     distribution names include a platform name indicating the type of
     system for which the distribution is intended (for example,
     'pc-linux-i686' or 'winx64').

   * Use a MySQL development tree.  For information on building from one
     of the development trees, see *note installing-development-tree::.


File: manual.info.tmp,  Node: source-installation-prerequisites,  Next: source-installation-layout,  Prev: source-installation-methods,  Up: source-installation

2.9.2 Source Installation Prerequisites
---------------------------------------

Installation of MySQL from source requires several development tools.
Some of these tools are needed no matter whether you use a standard
source distribution or a development source tree.  Other tool
requirements depend on which installation method you use.

To install MySQL from source, the following system requirements must be
satisfied, regardless of installation method:

   * 'CMake', which is used as the build framework on all platforms.
     'CMake' can be downloaded from <http://www.cmake.org>.

   * A good 'make' program.  Although some platforms come with their own
     'make' implementations, it is highly recommended that you use GNU
     'make' 3.75 or higher.  It may already be available on your system
     as 'gmake'.  GNU 'make' is available from
     <http://www.gnu.org/software/make/>.

   * A working ANSI C++ compiler.  GCC 4.2.1 or later, Sun Studio 12 or
     later, Visual Studio 2008 or later, and many current
     vendor-supplied compilers are known to work.

     For NDB Cluster 7.2 on Linux and similar platforms, GCC 4 (4.2.1 or
     later) or GCC 5 is required to compile from source; GCC 6 and later
     versions of GCC are not supported.

   * An SSL library is required for support of encrypted connections,
     entropy for random number generation, and other encryption-related
     operations.  To specify the library explicitly, use the 'WITH_SSL'
     option when you invoke 'CMake'.  For additional information, see
     *note source-ssl-library-configuration::.

   * The ncurses (https://www.gnu.org/software/ncurses/ncurses.html)
     library.

   * Sufficient free memory.  If you encounter problems such as
     'internal compiler error' when compiling large source files, it may
     be that you have too little memory.  If compiling on a virtual
     machine, try increasing the memory allocation.

   * Perl is needed if you intend to run test scripts.  Most Unix-like
     systems include Perl.  On Windows, you can use a version such as
     ActiveState Perl.

To install MySQL from a standard source distribution, one of the
following tools is required to unpack the distribution file:

   * For a '.tar.gz' compressed 'tar' file: GNU 'gunzip' to uncompress
     the distribution and a reasonable 'tar' to unpack it.  If your
     'tar' program supports the 'z' option, it can both uncompress and
     unpack the file.

     GNU 'tar' is known to work.  The standard 'tar' provided with some
     operating systems is not able to unpack the long file names in the
     MySQL distribution.  You should download and install GNU 'tar', or
     if available, use a preinstalled version of GNU tar.  Usually this
     is available as 'gnutar', 'gtar', or as 'tar' within a GNU or Free
     Software directory, such as '/usr/sfw/bin' or '/usr/local/bin'.
     GNU 'tar' is available from <http://www.gnu.org/software/tar/>.

   * For a '.zip' Zip archive: 'WinZip' or another tool that can read
     '.zip' files.

   * For an '.rpm' RPM package: The 'rpmbuild' program used to build the
     distribution unpacks it.

To install MySQL from a development source tree, the following
additional tools are required:

   * The Git revision control system is required to obtain the
     development source code.  The GitHub Help
     (https://help.github.com/) provides instructions for downloading
     and installing Git on different platforms.  MySQL officially joined
     GitHub in September, 2014.  For more information about MySQL's move
     to GitHub, refer to the announcement on the MySQL Release
     Engineering blog: MySQL on GitHub
     (http://mysqlrelease.com/2014/09/mysql-on-github/)

   * 'bison' 2.1 or higher, available from
     <http://www.gnu.org/software/bison/>.  (Version 1 is no longer
     supported.)  Use the latest version of 'bison' where possible; if
     you experience problems, upgrade to a later version, rather than
     revert to an earlier one.

     'bison' is available from <http://www.gnu.org/software/bison/>.
     'bison' for Windows can be downloaded from
     <http://gnuwin32.sourceforge.net/packages/bison.htm>.  Download the
     package labeled 'Complete package, excluding sources'.  On Windows,
     the default location for 'bison' is the 'C:\Program Files\GnuWin32'
     directory.  Some utilities may fail to find 'bison' because of the
     space in the directory name.  Also, Visual Studio may simply hang
     if there are spaces in the path.  You can resolve these problems by
     installing into a directory that does not contain a space (for
     example 'C:\GnuWin32').

   * On Solaris Express, 'm4' must be installed in addition to 'bison'.
     'm4' is available from <http://www.gnu.org/software/m4/>.

*Note*:

If you have to install any programs, modify your 'PATH' environment
variable to include any directories in which the programs are located.
See *note setting-environment-variables::.

If you run into problems and need to file a bug report, please use the
instructions in *note bug-reports::.


File: manual.info.tmp,  Node: source-installation-layout,  Next: installing-source-distribution,  Prev: source-installation-prerequisites,  Up: source-installation

2.9.3 MySQL Layout for Source Installation
------------------------------------------

By default, when you install MySQL after compiling it from source, the
installation step installs files under '/usr/local/mysql'.  The
component locations under the installation directory are the same as for
binary distributions.  See *note binary-installation-layout::, and *note
windows-installation-layout::.  To configure installation locations
different from the defaults, use the options described at *note
source-configuration-options::.


File: manual.info.tmp,  Node: installing-source-distribution,  Next: installing-development-tree,  Prev: source-installation-layout,  Up: source-installation

2.9.4 Installing MySQL Using a Standard Source Distribution
-----------------------------------------------------------

To install MySQL from a standard source distribution:

  1. Verify that your system satisfies the tool requirements listed at
     *note source-installation-prerequisites::.

  2. Obtain a distribution file using the instructions in *note
     getting-mysql::.

  3. Configure, build, and install the distribution using the
     instructions in this section.

  4. Perform postinstallation procedures using the instructions in *note
     postinstallation::.

MySQL uses 'CMake' as the build framework on all platforms.  The
instructions given here should enable you to produce a working
installation.  For additional information on using 'CMake' to build
MySQL, see How to Build MySQL Server with CMake
(https://dev.mysql.com/doc/internals/en/cmake.html).

If you start from a source RPM, use the following command to make a
binary RPM that you can install.  If you do not have 'rpmbuild', use
'rpm' instead.

     shell> rpmbuild --rebuild --clean MySQL-VERSION.src.rpm

The result is one or more binary RPM packages that you install as
indicated in *note linux-installation-rpm::.

The sequence for installation from a compressed 'tar' file or Zip
archive source distribution is similar to the process for installing
from a generic binary distribution (see *note binary-installation::),
except that it is used on all platforms and includes steps to configure
and compile the distribution.  For example, with a compressed 'tar' file
source distribution on Unix, the basic installation command sequence
looks like this:

     # Preconfiguration setup
     shell> groupadd mysql
     shell> useradd -r -g mysql -s /bin/false mysql
     # Beginning of source-build specific instructions
     shell> tar zxvf mysql-VERSION.tar.gz
     shell> cd mysql-VERSION
     shell> mkdir bld
     shell> cd bld
     shell> cmake ..
     shell> make
     shell> make install
     # End of source-build specific instructions
     # Postinstallation setup
     shell> cd /usr/local/mysql
     shell> chown -R mysql .
     shell> chgrp -R mysql .
     shell> scripts/mysql_install_db --user=mysql
     shell> chown -R root .
     shell> chown -R mysql data
     # Next command is optional
     shell> cp support-files/my-medium.cnf /etc/my.cnf
     shell> bin/mysqld_safe --user=mysql &
     # Next command is optional
     shell> cp support-files/mysql.server /etc/init.d/mysql.server

A more detailed version of the source-build specific instructions is
shown following.

*Note*:

The procedure shown here does not set up any passwords for MySQL
accounts.  After following the procedure, proceed to *note
postinstallation::, for postinstallation setup and testing.

   * *note installing-source-distribution-preconfiguration::

   * *note installing-source-distribution-obtain-distribution::

   * *note installing-source-distribution-configure-distribution::

   * *note installing-source-distribution-build-distribution::

   * *note installing-source-distribution-install-distribution::

   * *note installing-source-distribution-postinstallation::

*Perform Preconfiguration Setup*

On Unix, set up the 'mysql' user and group that will be used to run and
execute the MySQL server and own the database directory.  For details,
see *note binary-installation-createsysuser::.  Then perform the
following steps as the 'mysql' user, except as noted.

*Obtain and Unpack the Distribution*

Pick the directory under which you want to unpack the distribution and
change location into it.

Obtain a distribution file using the instructions in *note
getting-mysql::.

Unpack the distribution into the current directory:

   * To unpack a compressed 'tar' file, 'tar' can uncompress and unpack
     the distribution if it has 'z' option support:

          shell> tar zxvf mysql-VERSION.tar.gz

     If your 'tar' does not have 'z' option support, use 'gunzip' to
     unpack the distribution and 'tar' to unpack it:

          shell> gunzip < mysql-VERSION.tar.gz | tar xvf -

     Alternatively, 'CMake' can uncompress and unpack the distribution:

          shell> cmake -E tar zxvf mysql-VERSION.tar.gz

   * To unpack a Zip archive, use 'WinZip' or another tool that can read
     '.zip' files.

Unpacking the distribution file creates a directory named
'mysql-VERSION'.

*Configure the Distribution*

Change location into the top-level directory of the unpacked
distribution:

     shell> cd mysql-VERSION

Build outside of the source tree to keep the tree clean.  If the
top-level source directory is named 'mysql-src' under your current
working directory, you can build in a directory named 'bld' at the same
level.  Create the directory and go there:

     shell> mkdir bld
     shell> cd bld

Configure the build directory.  The minimum configuration command
includes no options to override configuration defaults:

     shell> cmake ../mysql-src

The build directory needs not be outside the source tree.

For example, you can build in a directory named 'bld' under the
top-level source tree.  To do this, starting with 'mysql-src' as your
current working directory, create the directory 'bld' and then go there:

     shell> mkdir bld
     shell> cd bld

Configure the build directory.  The minimum configuration command
includes no options to override configuration defaults:

     shell> cmake ..

If you have multiple source trees at the same level (for example, to
build multiple versions of MySQL), the second strategy can be
advantageous.  The first strategy places all build directories at the
same level, which requires that you choose a unique name for each.  With
the second strategy, you can use the same name for the build directory
within each source tree.  The following instructions assume this second
strategy.

On Windows, specify the development environment.  For example, the
following commands configure MySQL for 32-bit or 64-bit builds,
respectively:

     shell> cmake .. -G "Visual Studio 9 2008"
     shell> cmake .. -G "Visual Studio 9 2008 Win64"

On macOS, to use the Xcode IDE:

     shell> cmake .. -G Xcode

When you run 'cmake', you might want to add options to the command line.
Here are some examples:

   * '-DBUILD_CONFIG=mysql_release': Configure the source with the same
     build options used by Oracle to produce binary distributions for
     official MySQL releases.

   * '-DCMAKE_INSTALL_PREFIX=DIR_NAME': Configure the distribution for
     installation under a particular location.

   * '-DCPACK_MONOLITHIC_INSTALL=1': Cause 'make package' to generate a
     single installation file rather than multiple files.

   * '-DWITH_DEBUG=1': Build the distribution with debugging support.

For a more extensive list of options, see *note
source-configuration-options::.

To list the configuration options, use one of the following commands:

     shell> cmake .. -L   # overview
     shell> cmake .. -LH  # overview with help text
     shell> cmake .. -LAH # all params with help text
     shell> ccmake ..     # interactive display

If 'CMake' fails, you might need to reconfigure by running it again with
different options.  If you do reconfigure, take note of the following:

   * If 'CMake' is run after it has previously been run, it may use
     information that was gathered during its previous invocation.  This
     information is stored in 'CMakeCache.txt'.  When 'CMake' starts, it
     looks for that file and reads its contents if it exists, on the
     assumption that the information is still correct.  That assumption
     is invalid when you reconfigure.

   * Each time you run 'CMake', you must run 'make' again to recompile.
     However, you may want to remove old object files from previous
     builds first because they were compiled using different
     configuration options.

To prevent old object files or configuration information from being
used, run these commands in the build direcotry on Unix before
re-running 'CMake':

     shell> make clean
     shell> rm CMakeCache.txt

Or, on Windows:

     shell> devenv MySQL.sln /clean
     shell> del CMakeCache.txt

Before asking on the MySQL Community Slack
(https://mysqlcommunity.slack.com/), check the files in the 'CMakeFiles'
directory for useful information about the failure.  To file a bug
report, please use the instructions in *note bug-reports::.

*Build the Distribution*

On Unix:

     shell> make
     shell> make VERBOSE=1

The second command sets 'VERBOSE' to show the commands for each compiled
source.

Use 'gmake' instead on systems where you are using GNU 'make' and it has
been installed as 'gmake'.

On Windows:

     shell> devenv MySQL.sln /build RelWithDebInfo

If you have gotten to the compilation stage, but the distribution does
not build, see *note compilation-problems::, for help.  If that does not
solve the problem, please enter it into our bugs database using the
instructions given in *note bug-reports::.  If you have installed the
latest versions of the required tools, and they crash trying to process
our configuration files, please report that also.  However, if you get a
'command not found' error or a similar problem for required tools, do
not report it.  Instead, make sure that all the required tools are
installed and that your 'PATH' variable is set correctly so that your
shell can find them.

*Install the Distribution*

On Unix:

     shell> make install

This installs the files under the configured installation directory (by
default, '/usr/local/mysql').  You might need to run the command as
'root'.

To install in a specific directory, add a 'DESTDIR' parameter to the
command line:

     shell> make install DESTDIR="/opt/mysql"

Alternatively, generate installation package files that you can install
where you like:

     shell> make package

This operation produces one or more '.tar.gz' files that can be
installed like generic binary distribution packages.  See *note
binary-installation::.  If you run 'CMake' with
'-DCPACK_MONOLITHIC_INSTALL=1', the operation produces a single file.
Otherwise, it produces multiple files.

On Windows, generate the data directory, then create a '.zip' archive
installation package:

     shell> devenv MySQL.sln /build RelWithDebInfo /project initial_database
     shell> devenv MySQL.sln /build RelWithDebInfo /project package

You can install the resulting '.zip' archive where you like.  See *note
windows-install-archive::.

*Perform Postinstallation Setup*

The remainder of the installation process involves setting up the
configuration file, creating the core databases, and starting the MySQL
server.  For instructions, see *note postinstallation::.

*Note*:

The accounts that are listed in the MySQL grant tables initially have no
passwords.  After starting the server, you should set up passwords for
them using the instructions in *note postinstallation::.


File: manual.info.tmp,  Node: installing-development-tree,  Next: source-ssl-library-configuration,  Prev: installing-source-distribution,  Up: source-installation

2.9.5 Installing MySQL Using a Development Source Tree
------------------------------------------------------

This section describes how to install MySQL from the latest development
source code, which is hosted on GitHub (https://github.com/).  To obtain
the MySQL Server source code from this repository hosting service, you
can set up a local MySQL Git repository.

On GitHub (https://github.com/), MySQL Server and other MySQL projects
are found on the MySQL (https://github.com/mysql) page.  The MySQL
Server project is a single repository that contains branches for several
MySQL series.

MySQL officially joined GitHub in September, 2014.  For more information
about MySQL's move to GitHub, refer to the announcement on the MySQL
Release Engineering blog: MySQL on GitHub
(http://mysqlrelease.com/2014/09/mysql-on-github/)

   * *note installing-development-tree-prerequisites::

   * *note installing-development-tree-git::

*Prerequisites for Installing from Development Source*

To install MySQL from a development source tree, your system must
satisfy the tool requirements listed at *note
source-installation-prerequisites::.

*Setting Up a MySQL Git Repository*

To set up a MySQL Git repository on your machine, use this procedure:

  1. Clone the MySQL Git repository to your machine.  The following
     command clones the MySQL Git repository to a directory named
     'mysql-server'.  The initial download will take some time to
     complete, depending on the speed of your connection.

          ~$ git clone https://github.com/mysql/mysql-server.git
          Cloning into 'mysql-server'...
          remote: Counting objects: 1035465, done.
          remote: Total 1035465 (delta 0), reused 0 (delta 0)
          Receiving objects: 100% (1035465/1035465), 437.48 MiB | 5.10 MiB/s, done.
          Resolving deltas: 100% (855607/855607), done.
          Checking connectivity... done.
          Checking out files: 100% (21902/21902), done.

  2. When the clone operation completes, the contents of your local
     MySQL Git repository appear similar to the following:

          ~$ cd mysql-server

          ~/mysql-server$ ls
          BUILD            COPYING             libmysqld    regex          tests
          BUILD-CMAKE      dbug                libservices  scripts        unittest
          client           Docs                man          sql            VERSION
          cmake            extra               mysql-test   sql-bench      vio
          CMakeLists.txt   include             mysys        sql-common     win
          cmd-line-utils   INSTALL-SOURCE      packaging    storage        zlib
          config.h.cmake   INSTALL-WIN-SOURCE  plugin       strings
          configure.cmake  libmysql            README       support-files

  3. Use the 'git branch -r' command to view the remote tracking
     branches for the MySQL repository.

          ~/mysql-server$ git branch -r
            origin/5.5
            origin/5.6
            origin/5.7
            origin/HEAD -> origin/5.7
            origin/cluster-7.2
            origin/cluster-7.3
            origin/cluster-7.4

  4. To view the branches that are checked out in your local repository,
     issue the 'git branch' command.  When you cloned the MySQL Git
     repository, the MySQL 5.7 branch was checked out automatically.
     The asterisk identifies the 5.7 branch as the active branch.

          ~/mysql-server$ git branch
          * 5.7

  5. To check out a different MySQL branch, run the 'git checkout'
     command, specifying the branch name.  For example, to check out the
     MySQL 5.5 branch:

          ~/mysql-server$ git checkout 5.5
          Branch 5.5 set up to track remote branch 5.5 from origin.
          Switched to a new branch '5.5'

  6. Run 'git branch' again to verify that the MySQL 5.5 branch is
     present.  MySQL 5.5, which is the last branch you checked out, is
     marked by an asterisk indicating that it is the active branch.

          ~/mysql-server$ git branch
          * 5.5
            5.7

     The 'git checkout' command is also used to switch branches.  For
     example, to make MySQL 5.7 the active branch again, you would run
     'git checkout 5.7'.

  7. To obtain changes made after your initial setup of the MySQL Git
     repository, switch to the branch you want to update and issue the
     'git pull' command:

          ~/mysql-server$ git checkout 5.5
          ~/mysql-server$ git pull

     To examine the commit history, use the 'git log' option:

          ~/mysql-server$ git log

     You can also browse commit history and source code on the GitHub
     MySQL (https://github.com/mysql) site.

     If you see changes or code that you have a question about, ask on
     the MySQL Community Slack (https://mysqlcommunity.slack.com/).  For
     information about contributing a patch, see Contributing to MySQL
     Server (http://mysqlserverteam.com/contributing-to-mysql-server/).

  8. After you have cloned the MySQL Git repository and have checked out
     the branch you want to build, you can build MySQL Server from the
     source code.  Instructions are provided in *note
     installing-source-distribution::, except that you skip the part
     about obtaining and unpacking the distribution.

     Be careful about installing a build from a distribution source tree
     on a production machine.  The installation command may overwrite
     your live release installation.  If you already have MySQL
     installed and do not want to overwrite it, run 'CMake' with values
     for the 'CMAKE_INSTALL_PREFIX', 'MYSQL_TCP_PORT', and
     'MYSQL_UNIX_ADDR' options different from those used by your
     production server.  For additional information about preventing
     multiple servers from interfering with each other, see *note
     multiple-servers::.

     Play hard with your new installation.  For example, try to make new
     features crash.  Start by running 'make test'.  See *note
     mysql-test-suite::.


File: manual.info.tmp,  Node: source-ssl-library-configuration,  Next: source-configuration-options,  Prev: installing-development-tree,  Up: source-installation

2.9.6 Configuring SSL Library Support
-------------------------------------

An SSL library is required for support of encrypted connections, entropy
for random number generation, and other encryption-related operations.
Your system must support either OpenSSL or yaSSL:

   * MySQL Enterprise Edition binary distributions are compiled using
     yaSSL.

   * MySQL Community Edition binary distributions are compiled using
     yaSSL.

   * MySQL Community Edition source distributions can be compiled using
     either OpenSSL or yaSSL.

If you compile MySQL from a source distribution, 'CMake' configures the
distribution to use yaSSL by default.  To compile using OpenSSL instead,
use this procedure:

  1. Ensure that OpenSSL 1.0.1 or higher is installed on your system.
     If it is necessary to obtain OpenSSL, visit
     <http://www.openssl.org>.

  2. The 'WITH_SSL' 'CMake' option determines which SSL library to use
     for compiling MySQL (see *note source-configuration-options::).
     The default is '-DWITH_SSL=bundled', which uses yaSSL. To use
     OpenSSL, add the '-DWITH_SSL=system' option to the 'CMake' command
     you normally use to configure the MySQL source distribution.  For
     example:

          cmake . -DWITH_SSL=system

     That command configures the distribution to use the installed
     OpenSSL library.

  3. Compile and install the distribution.

To check whether a *note 'mysqld': mysqld. server supports encrypted
connections, examine the value of the 'have_ssl' system variable:

     mysql> SHOW VARIABLES LIKE 'have_ssl';
     +---------------+-------+
     | Variable_name | Value |
     +---------------+-------+
     | have_ssl      | YES   |
     +---------------+-------+

If the value is 'YES', the server supports encrypted connections.  If
the value is 'DISABLED', the server is capable of supporting encrypted
connections but was not started with the appropriate '--ssl-XXX' options
to enable encrypted connections to be used; see *note
using-encrypted-connections::.


File: manual.info.tmp,  Node: source-configuration-options,  Next: compilation-problems,  Prev: source-ssl-library-configuration,  Up: source-installation

2.9.7 MySQL Source-Configuration Options
----------------------------------------

The 'CMake' program provides a great deal of control over how you
configure a MySQL source distribution.  Typically, you do this using
options on the 'CMake' command line.  For information about options
supported by 'CMake', run either of these commands in the top-level
source directory:

     cmake . -LH
     ccmake .

You can also affect 'CMake' using certain environment variables.  See
*note environment-variables::.

For boolean options, the value may be specified as 1 or 'ON' to enable
the option, or as 0 or 'OFF' to disable the option.

Many options configure compile-time defaults that can be overridden at
server startup.  For example, the 'CMAKE_INSTALL_PREFIX',
'MYSQL_TCP_PORT', and 'MYSQL_UNIX_ADDR' options that configure the
default installation base directory location, TCP/IP port number, and
Unix socket file can be changed at server startup with the '--basedir',
'--port', and '--socket' options for *note 'mysqld': mysqld.  Where
applicable, configuration option descriptions indicate the corresponding
*note 'mysqld': mysqld. startup option.

The following sections provide more information about 'CMake' options.

   * *note cmake-option-reference::

   * *note cmake-general-options::

   * *note cmake-installation-layout-options::

   * *note option_cmake_storage_engine_options::

   * *note cmake-feature-options::

   * *note cmake-compiler-flags::

   * *note cmake-mysql-cluster-options::

*CMake Option Reference*

The following table shows the available 'CMake' options.  In the
'Default' column, 'PREFIX' stands for the value of the
'CMAKE_INSTALL_PREFIX' option, which specifies the installation base
directory.  This value is used as the parent location for several of the
installation subdirectories.

*MySQL Source-Configuration Option Reference (CMake)*

Formats                Description            Default        IntroducedRemoved
                                                                     
'BUILD_CONFIG'         Use same build                        5.5.7   
                       options as official                   
                       releases
                       
'CMAKE_BUILD_TYPE'     Type of build to       'RelWithDebInfo'5.5.7  
                       produce                               
                       
'CMAKE_CXX_FLAGS'      Flags for C++                                 
                       Compiler
                       
'CMAKE_C_FLAGS'        Flags for C Compiler                          
                       
'CMAKE_INSTALL_PREFIX' Installation base      '/usr/local/mysql'5.5.8
                       directory                             
                       
'COMPILATION_COMMENT'  Comment about                         5.5.7   
                       compilation                           
                       environment
                       
'CPACK_MONOLITHIC_INSTALL'Whether package     'OFF'          5.5.7   
                       build produces                        
                       single file
                       
'DEFAULT_CHARSET'      The default server     'latin1'       5.5.7   
                       character set                         
                       
'DEFAULT_COLLATION'    The default server     'latin1_swedish_ci'5.5.7
                       collation                             
                       
'ENABLED_LOCAL_INFILE' Whether to enable      'OFF'          5.5.7   
                       LOCAL for LOAD DATA                   
                       
'ENABLED_PROFILING'    Whether to enable      'ON'           5.5.7   
                       query profiling code                  
                       
'ENABLE_DEBUG_SYNC'    Whether to enable      'ON'           5.5.7   5.5.55
                       Debug Sync support                            
                       
'ENABLE_DOWNLOADS'     Whether to download    'OFF'          5.5.7   
                       optional files                        
                       
'ENABLE_DTRACE'        Whether to include                    5.5.7   
                       DTrace support                        
                       
'ENABLE_GCOV'          Whether to include                    5.5.14  
                       gcov support                          
                       
'IGNORE_AIO_CHECK'     With                   'OFF'          5.5.9   
                       -DBUILD_CONFIG=mysql_release,         
                       ignore libaio check
                       
'INSTALL_BINDIR'       User executables       'PREFIX/bin'   5.5.7   
                       directory                             
                       
'INSTALL_DOCDIR'       Documentation          'PREFIX/docs'  5.5.7   
                       directory                             
                       
'INSTALL_DOCREADMEDIR' README file            'PREFIX'       5.5.7   
                       directory                             
                       
'INSTALL_INCLUDEDIR'   Header file            'PREFIX/include'5.5.7  
                       directory                             
                       
'INSTALL_INFODIR'      Info file directory    'PREFIX/docs'  5.5.7   
                                                             
'INSTALL_LAYOUT'       Select predefined      'STANDALONE'   5.5.7   
                       installation layout                   
                       
'INSTALL_LIBDIR'       Library file           'PREFIX/lib'   5.5.7   
                       directory                             
                       
'INSTALL_MANDIR'       Manual page            'PREFIX/man'   5.5.7   
                       directory                             
                       
'INSTALL_MYSQLSHAREDIR'Shared data            'PREFIX/share' 5.5.7   
                       directory                             
                       
'INSTALL_MYSQLTESTDIR' mysql-test directory   'PREFIX/mysql-test'5.5.7
                                                             
'INSTALL_PLUGINDIR'    Plugin directory       'PREFIX/lib/plugin'5.5.7
                                                             
'INSTALL_SBINDIR'      Server executable      'PREFIX/bin'   5.5.7   
                       directory                             
                       
'INSTALL_SCRIPTDIR'    Scripts directory      'PREFIX/scripts'5.5.7  
                                                             
'INSTALL_SECURE_FILE_PRIVDIR'secure_file_priv 'platform      5.5.53  
                       default value          specific'      
                                              
'INSTALL_SECURE_FILE_PRIV_EMBEDDEDDIR'secure_file_priv       5.5.53  
                       default value for                     
                       libmysqld
                       
'INSTALL_SHAREDIR'     aclocal/mysql.m4       'PREFIX/share' 5.5.7   
                       installation                          
                       directory
                       
'INSTALL_SQLBENCHDIR'  sql-bench directory    'PREFIX'       5.5.7   
                                                             
'INSTALL_SUPPORTFILESDIR'Extra support files  'PREFIX/support-files'5.5.7
                       directory                             
                       
'MEMCACHED_HOME'       Path to memcached      '[none]'       5.5.16-ndb-7.2.2
                                                             
'MYSQL_DATADIR'        Data directory                        5.5.7   
                                                             
'MYSQL_MAINTAINER_MODE'Whether to enable      'OFF'          5.5.7   
                       MySQL                                 
                       maintainer-specific
                       development
                       environment
                       
'MYSQL_PROJECT_NAME'   Windows/OS X project   'MySQL'        5.5.21  
                       name                                  
                       
'MYSQL_TCP_PORT'       TCP/IP port number     '3306'         5.5.7   
                                                             
'MYSQL_UNIX_ADDR'      Unix socket file       '/tmp/mysql.sock'5.5.7 
                                                             
'ODBC_INCLUDES'        ODBC includes                                 
                       directory
                       
'ODBC_LIB_DIR'         ODBC library                                  
                       directory
                       
'REPRODUCIBLE_BUILD'   Take extra care to                    5.5.57  
                       create a build                        
                       result independent
                       of build location
                       and time
                       
'SYSCONFDIR'           Option file                           5.5.7   
                       directory                             
                       
'TMPDIR'               tmpdir default value                  5.5.36  
                                                             
'WITHOUT_xxx_STORAGE_ENGINE'Exclude storage                  5.5.7   
                       engine xxx from                       
                       build
                       
'WITH_ASAN'            Enable                 'OFF'          5.5.35  
                       AddressSanitizer                      
                       
'WITH_BUNDLED_LIBEVENT'Use bundled libevent   'ON'           5.5.16-ndb-7.2.2
                       when building                         
                       ndbmemcache
                       
'WITH_BUNDLED_MEMCACHED'Use bundled           'ON'           5.5.16-ndb-7.2.2
                       memcached when                        
                       building ndbmemcache
                       
'WITH_CLASSPATH'       Classpath to use       ''                     
                       when building MySQL    
                       Cluster Connector
                       for Java.  Default
                       is an empty string.
                       
'WITH_DEBUG'           Whether to include     'OFF'          5.5.7   
                       debugging support                     
                       
'WITH_EMBEDDED_SERVER' Whether to build       'OFF'          5.5.7   
                       embedded server                       
                       
'WITH_EMBEDDED_SHARED_LIBRARY'Whether to build a'OFF'        5.5.37  
                       shared embedded                       
                       server library
                       
'WITH_ERROR_INSERT'    Enable error           'OFF'                  
                       injection in the NDB   
                       storage engine.
                       Should not be used
                       for building
                       binaries intended
                       for production.
                       
'WITH_EXTRA_CHARSETS'  Which extra            'all'          5.5.7   
                       character sets to                     
                       include
                       
'WITH_LIBEDIT'         Use bundled libedit    'ON'           5.5.7   
                       library                               
                       
'WITH_LIBWRAP'         Whether to include     'OFF'          5.5.7   
                       libwrap (TCP                          
                       wrappers) support
                       
'WITH_NDBCLUSTER'      Build the NDB          'ON'                   
                       storage engine;        
                       alias for
                       WITH_NDBCLUSTER_STORAGE_ENGINE
                       
'WITH_NDBCLUSTER_STORAGE_ENGINE'Build the NDB 'ON'                   
                       storage engine         
                       
'WITH_NDBMTD'          Build multithreaded    'ON'                   
                       data node.             
                       
'WITH_NDB_BINLOG'      Enable binary          'ON'                   
                       logging by default     
                       by mysqld.
                       
'WITH_NDB_DEBUG'       Produce a debug        'OFF'                  
                       build for testing or   
                       troubleshooting.
                       
'WITH_NDB_JAVA'        Enable building of     'ON'           5.5.27-ndb-7.2.9
                       Java and ClusterJ                     
                       support.  Enabled by
                       default.  Supported
                       in MySQL Cluster
                       only.
                       
'WITH_NDB_PORT'        Default port used by   '[none]'               
                       a management server    
                       built with this
                       option.  If this
                       option was not used
                       to build it, the
                       management server's
                       default port is
                       1186.
                       
'WITH_NDB_TEST'        Include NDB API test   'OFF'                  
                       programs.              
                       
'WITH_READLINE'        Use bundled readline   'OFF'          5.5.7   
                       library                               
                       
'WITH_SSL'             Type of SSL support    'bundled'      5.5.7   
                                                             
'WITH_UNIT_TESTS'      Compile MySQL with     'ON'                   
                       unit tests             
                       
'WITH_UNIXODBC'        Enable unixODBC        'OFF'                  
                       support                
                       
'WITH_VALGRIND'        Whether to compile     'OFF'          5.5.6   
                       in Valgrind header                    
                       files
                       
'WITH_ZLIB'            Type of zlib support   'bundled'      5.5.7   
                                                             
'WITH_xxx_STORAGE_ENGINE'Compile storage                     5.5.7
                       engine xxx                            
                       statically into
                       server
                       

*General Options*

   * 
     '-DBUILD_CONFIG=mysql_release'

     This option configures a source distribution with the same build
     options used by Oracle to produce binary distributions for official
     MySQL releases.

   * 
     '-DCMAKE_BUILD_TYPE=TYPE'

     The type of build to produce:

        * 'RelWithDebInfo': Enable optimizations and generate debugging
          information.  This is the default MySQL build type.

        * 'Debug': Disable optimizations and generate debugging
          information.  This build type is also used if the 'WITH_DEBUG'
          option is enabled.  That is, '-DWITH_DEBUG=1' has the same
          effect as '-DCMAKE_BUILD_TYPE=Debug'.

   * 
     '-DCPACK_MONOLITHIC_INSTALL=BOOL'

     This option affects whether the 'make package' operation produces
     multiple installation package files or a single file.  If disabled,
     the operation produces multiple installation package files, which
     may be useful if you want to install only a subset of a full MySQL
     installation.  If enabled, it produces a single file for installing
     everything.

*Installation Layout Options*

The 'CMAKE_INSTALL_PREFIX' option indicates the base installation
directory.  Other options with names of the form 'INSTALL_XXX' that
indicate component locations are interpreted relative to the prefix and
their values are relative pathnames.  Their values should not include
the prefix.

   * 
     '-DCMAKE_INSTALL_PREFIX=DIR_NAME'

     The installation base directory.

     This value can be set at server startup with the '--basedir'
     option.

   * 
     '-DINSTALL_BINDIR=DIR_NAME'

     Where to install user programs.

   * 
     '-DINSTALL_DOCDIR=DIR_NAME'

     Where to install documentation.

   * 
     '-DINSTALL_DOCREADMEDIR=DIR_NAME'

     Where to install 'README' files.

   * 
     '-DINSTALL_INCLUDEDIR=DIR_NAME'

     Where to install header files.

   * 
     '-DINSTALL_INFODIR=DIR_NAME'

     Where to install Info files.

   * 
     '-DINSTALL_LAYOUT=NAME'

     Select a predefined installation layout:

        * 'STANDALONE': Same layout as used for '.tar.gz' and '.zip'
          packages.  This is the default.

        * 'RPM': Layout similar to RPM packages.

        * 'SVR4': Solaris package layout.

        * 'DEB': DEB package layout (experimental).

     You can select a predefined layout but modify individual component
     installation locations by specifying other options.  For example:

          cmake . -DINSTALL_LAYOUT=SVR4 -DMYSQL_DATADIR=/var/mysql/data

   * 
     '-DINSTALL_LIBDIR=DIR_NAME'

     Where to install library files.

   * 
     '-DINSTALL_MANDIR=DIR_NAME'

     Where to install manual pages.

   * 
     '-DINSTALL_MYSQLSHAREDIR=DIR_NAME'

     Where to install shared data files.

   * 
     '-DINSTALL_MYSQLTESTDIR=DIR_NAME'

     Where to install the 'mysql-test' directory.  As of MySQL 5.5.32,
     to suppress installation of this directory, explicitly set the
     option to the empty value ('-DINSTALL_MYSQLTESTDIR=').

   * 
     '-DINSTALL_PLUGINDIR=DIR_NAME'

     The location of the plugin directory.

     This value can be set at server startup with the '--plugin_dir'
     option.

   * 
     '-DINSTALL_SBINDIR=DIR_NAME'

     Where to install the *note 'mysqld': mysqld. server.

   * 
     '-DINSTALL_SCRIPTDIR=DIR_NAME'

     Where to install *note 'mysql_install_db': mysql-install-db.

   * 
     '-DINSTALL_SECURE_FILE_PRIVDIR=DIR_NAME'

     The default value for the 'secure_file_priv' system variable.  The
     default value is platform specific and depends on the value of the
     'INSTALL_LAYOUT' 'CMake' option; see the description of the
     'secure_file_priv' system variable in *note
     server-system-variables::.

     This option was added in MySQL 5.5.53.  To set the value for the
     'libmysqld' embedded server, use
     'INSTALL_SECURE_FILE_PRIV_EMBEDDEDDIR'.

   * 
     '-DINSTALL_SECURE_FILE_PRIV_EMBEDDEDDIR=DIR_NAME'

     The default value for the 'secure_file_priv' system variable, for
     the 'libmysqld' embedded server.  This option was added in MySQL
     5.5.53.

   * 
     '-DINSTALL_SHAREDIR=DIR_NAME'

     Where to install 'aclocal/mysql.m4'.

   * 
     '-DINSTALL_SQLBENCHDIR=DIR_NAME'

     Where to install the 'sql-bench' directory.  To suppress
     installation of this directory, explicitly set the option to the
     empty value ('-DINSTALL_SQLBENCHDIR=').

   * 
     '-DINSTALL_SUPPORTFILESDIR=DIR_NAME'

     Where to install extra support files.

   * 
     '-DMYSQL_DATADIR=DIR_NAME'

     The location of the MySQL data directory.

     This value can be set at server startup with the '--datadir'
     option.

   * 
     '-DODBC_INCLUDES=DIR_NAME'

     The location of the ODBC includes directory, and may be used while
     configuring Connector/ODBC.

   * 
     '-DODBC_LIB_DIR=DIR_NAME'

     The location of the ODBC library directory, and may be used while
     configuring Connector/ODBC.

   * 
     '-DSYSCONFDIR=DIR_NAME'

     The default 'my.cnf' option file directory.

     This location cannot be set at server startup, but you can start
     the server with a given option file using the
     '--defaults-file=FILE_NAME' option, where FILE_NAME is the full
     path name to the file.

   * 
     '-DTMPDIR=DIR_NAME'

     The default location to use for the 'tmpdir' system variable.  If
     unspecified, the value defaults to 'P_tmpdir' in '<stdio.h>'.  This
     option was added in MySQL 5.6.16.

*Storage Engine Options*

Storage engines are built as plugins.  You can build a plugin as a
static module (compiled into the server) or a dynamic module (built as a
dynamic library that must be installed into the server using the *note
'INSTALL PLUGIN': install-plugin. statement or the '--plugin-load'
option before it can be used).  Some plugins might not support static or
dynamic building.

The *note 'InnoDB': innodb-storage-engine, *note 'MyISAM':
myisam-storage-engine, *note 'MERGE': merge-storage-engine, *note
'MEMORY': memory-storage-engine, and *note 'CSV': csv-storage-engine.
engines are mandatory (always compiled into the server) and need not be
installed explicitly.

To compile a storage engine statically into the server, use
'-DWITH_ENGINE_STORAGE_ENGINE=1'.  Some permissible ENGINE values are
'ARCHIVE', 'BLACKHOLE', 'EXAMPLE', 'FEDERATED', 'NDBCLUSTER' (*note
'NDB': mysql-cluster.), 'PARTITION' (partitioning support), and
'PERFSCHEMA' (Performance Schema).  Examples:

     -DWITH_ARCHIVE_STORAGE_ENGINE=1
     -DWITH_BLACKHOLE_STORAGE_ENGINE=1
     -DWITH_PERFSCHEMA_STORAGE_ENGINE=1

*Note*:

'WITH_NDBCLUSTER_STORAGE_ENGINE' is supported only when building NDB
Cluster using the NDB Cluster sources.  It cannot be used to enable
clustering support in other MySQL source trees or distributions.  In
MySQL NDB Cluster 7.2 source distributions, it is enabled by default.
See *note mysql-cluster-install-linux-source::, and *note
mysql-cluster-install-windows-source::, for more information.

To exclude a storage engine from the build, use
'-DWITHOUT_ENGINE_STORAGE_ENGINE=1'.  Examples:

     -DWITHOUT_EXAMPLE_STORAGE_ENGINE=1
     -DWITHOUT_FEDERATED_STORAGE_ENGINE=1
     -DWITHOUT_PARTITION_STORAGE_ENGINE=1

If neither '-DWITH_ENGINE_STORAGE_ENGINE' nor
'-DWITHOUT_ENGINE_STORAGE_ENGINE' are specified for a given storage
engine, the engine is built as a shared module, or excluded if it cannot
be built as a shared module.

*Feature Options*

   * 
     '-DCOMPILATION_COMMENT=STRING'

     A descriptive comment about the compilation environment.

   * 
     '-DDEFAULT_CHARSET=CHARSET_NAME'

     The server character set.  By default, MySQL uses the 'latin1'
     (cp1252 West European) character set.

     CHARSET_NAME may be one of 'binary', 'armscii8', 'ascii', 'big5',
     'cp1250', 'cp1251', 'cp1256', 'cp1257', 'cp850', 'cp852', 'cp866',
     'cp932', 'dec8', 'eucjpms', 'euckr', 'gb2312', 'gbk', 'geostd8',
     'greek', 'hebrew', 'hp8', 'keybcs2', 'koi8r', 'koi8u', 'latin1',
     'latin2', 'latin5', 'latin7', 'macce', 'macroman', 'sjis', 'swe7',
     'tis620', 'ucs2', 'ujis', 'utf8', 'utf8mb4', 'utf16', 'utf32'.  The
     permissible character sets are listed in the
     'cmake/character_sets.cmake' file as the value of
     'CHARSETS_AVAILABLE'.

     This value can be set at server startup with the
     '--character_set_server' option.

   * 
     '-DDEFAULT_COLLATION=COLLATION_NAME'

     The server collation.  By default, MySQL uses 'latin1_swedish_ci'.
     Use the *note 'SHOW COLLATION': show-collation. statement to
     determine which collations are available for each character set.

     This value can be set at server startup with the
     '--collation_server' option.

   * 
     '-DENABLE_DEBUG_SYNC=BOOL'

     *Note*:

     As of MySQL 5.5.55, 'ENABLE_DEBUG_SYNC' is removed and enabling
     'WITH_DEBUG' enables Debug Sync.

     Whether to compile the Debug Sync facility into the server.  This
     facility is used for testing and debugging.  This option is enabled
     by default, but has no effect unless MySQL is configured with
     debugging enabled.  If debugging is enabled and you want to disable
     Debug Sync, use '-DENABLE_DEBUG_SYNC=0'.

     When compiled in, Debug Sync is disabled by default at runtime.  To
     enable it, start *note 'mysqld': mysqld. with the
     '--debug-sync-timeout=N' option, where N is a timeout value greater
     than 0.  (The default value is 0, which disables Debug Sync.)  N
     becomes the default timeout for individual synchronization points.

     For a description of the Debug Sync facility and how to use
     synchronization points, see MySQL Internals: Test Synchronization
     (https://dev.mysql.com/doc/internals/en/test-synchronization.html).

   * 
     '-DENABLE_DOWNLOADS=BOOL'

     Whether to download optional files.  For example, with this option
     enabled, 'CMake' downloads the Google Test distribution that is
     used by the test suite to run unit tests.

   * 
     '-DENABLE_DTRACE=BOOL'

     Whether to include support for DTrace probes.  For information
     about DTrace, wee *note dba-dtrace-server::

   * 
     '-DENABLE_GCOV=BOOL'

     Whether to include gcov support (Linux only).

   * 
     '-DENABLED_LOCAL_INFILE=BOOL'

     This option controls the compiled-in default 'LOCAL' capability for
     the MySQL client library.  Clients that make no explicit
     arrangements therefore have 'LOCAL' capability disabled or enabled
     according to the 'ENABLED_LOCAL_INFILE' setting specified at MySQL
     build time.

     By default, the client library in MySQL binary distributions is
     compiled with 'ENABLED_LOCAL_INFILE' enabled.  If you compile MySQL
     from source, configure it with 'ENABLED_LOCAL_INFILE' disabled or
     enabled based on whether clients that make no explicit arrangements
     should have 'LOCAL' capability disabled or enabled, respectively.

     'ENABLED_LOCAL_INFILE' controls the default for client-side 'LOCAL'
     capability.  For the server, the 'local_infile' system variable
     controls server-side 'LOCAL' capability.  To explicitly cause the
     server to refuse or permit *note 'LOAD DATA LOCAL':
     load-data-local. statements (regardless of how client programs and
     libraries are configured at build time or runtime), start *note
     'mysqld': mysqld. with 'local_infile' disabled or enabled,
     respectively.  'local_infile' can also be set at runtime.  See
     *note load-data-local::.

   * 
     '-DENABLED_PROFILING=BOOL'

     Whether to enable query profiling code (for the *note 'SHOW
     PROFILE': show-profile. and *note 'SHOW PROFILES': show-profiles.
     statements).

   * 
     '-DIGNORE_AIO_CHECK=BOOL'

     If the '-DBUILD_CONFIG=mysql_release' option is given on Linux, the
     'libaio' library must be linked in by default.  If you do not have
     'libaio' or do not want to install it, you can suppress the check
     for it by specifying '-DIGNORE_AIO_CHECK=1'.

   * 
     '-DMYSQL_MAINTAINER_MODE=BOOL'

     Whether to enable a MySQL maintainer-specific development
     environment.  If enabled, this option causes compiler warnings to
     become errors.

   * 
     '-DMYSQL_PROJECT_NAME=NAME'

     For Windows or macOS, the project name to incorporate into the
     project file name.  This option was added in MySQL 5.5.21.

   * 
     '-DMYSQL_TCP_PORT=PORT_NUM'

     The port number on which the server listens for TCP/IP connections.
     The default is 3306.

     This value can be set at server startup with the '--port' option.

   * 
     '-DMYSQL_UNIX_ADDR=FILE_NAME'

     The Unix socket file path on which the server listens for socket
     connections.  This must be an absolute path name.  The default is
     '/tmp/mysql.sock'.

     This value can be set at server startup with the '--socket' option.

   * '-DREPRODUCIBLE_BUILD=BOOL'

     For builds on Linux systems, this option controls whether to take
     extra care to create a build result independent of build location
     and time.

     This option was added in MySQL 5.5.55.

   * 
     '-DWITH_ASAN=BOOL'

     Whether to enable AddressSanitizer, for compilers that support it.
     The default is off.  This option was added in MySQL 5.5.35.

   * 
     '-DWITH_DEBUG=BOOL'

     Whether to include debugging support.

     Configuring MySQL with debugging support enables you to use the
     '--debug="d,parser_debug"' option when you start the server.  This
     causes the Bison parser that is used to process SQL statements to
     dump a parser trace to the server's standard error output.
     Typically, this output is written to the error log.

     As of MySQL 5.5.55, enabling 'WITH_DEBUG' also enables Debug Sync.
     For a description of the Debug Sync facility and how to use
     synchronization points, see MySQL Internals: Test Synchronization
     (https://dev.mysql.com/doc/internals/en/test-synchronization.html).

   * 
     '-DWITH_EMBEDDED_SERVER=BOOL'

     Whether to build the 'libmysqld' embedded server library.

   * 
     '-DWITH_EMBEDDED_SHARED_LIBRARY=BOOL'

     Whether to build a shared 'libmysqld' embedded server library.
     This option was added in MySQL 5.5.37.

   * 
     '-DWITH_EXTRA_CHARSETS=NAME'

     Which extra character sets to include:

        * 'all': All character sets.  This is the default.

        * 'complex': Complex character sets.

        * 'none': No extra character sets.

   * 
     '-DWITH_LIBEDIT=BOOL'

     Whether to use the 'libedit' library bundled with the distribution.

   * 
     '-DWITH_LIBWRAP=BOOL'

     Whether to include 'libwrap' (TCP wrappers) support.

   * 
     '-DWITH_READLINE=BOOL'

     Whether to use the 'readline' library bundled with the
     distribution.

   * 
     '-DWITH_SSL=SSL_TYPE'

     For support of encrypted connections, entropy for random number
     generation, and other encryption-related operations, MySQL must be
     built using an SSL library.  This option specifies which SSL
     library to use:

        * 'no': No SSL support.  This is the default before MySQL
          5.5.56.  As of 5.5.56, this is no longer a permitted value and
          the default is 'bundled'.

        * 'yes': Use the system OpenSSL library if present, else the
          library bundled with the distribution.

        * 'bundled': Use the SSL library bundled with the distribution.
          This is the default as of MySQL 5.5.56.

        * 'system': Use the system OpenSSL library.

     For additional information about configuring the SSL library, see
     *note source-ssl-library-configuration::.

   * 
     '-DWITH_UNIT_TESTS={ON|OFF}'

     If enabled, compile MySQL with unit tests.  The default is ON
     unless the server is not being compiled.

   * 
     '-DWITH_UNIXODBC=1'

     Enables unixODBC support, for Connector/ODBC.

   * 
     '-DWITH_VALGRIND=BOOL'

     Whether to compile in the Valgrind header files, which exposes the
     Valgrind API to MySQL code.  The default is 'OFF'.

     To generate a Valgrind-aware debug build, '-DWITH_VALGRIND=1'
     normally is combined with '-DWITH_DEBUG=1'.  See Building Debug
     Configurations
     (https://dev.mysql.com/doc/internals/en/debug-configurations.html).

   * 
     '-DWITH_ZLIB=ZLIB_TYPE'

     Some features require that the server be built with compression
     library support, such as the 'COMPRESS()' and 'UNCOMPRESS()'
     functions, and compression of the client/server protocol.  The
     'WITH_ZLIB' indicates the source of 'zlib' support:

        * 'bundled': Use the 'zlib' library bundled with the
          distribution.  This is the default.

        * 'system': Use the system 'zlib' library.

*Compiler Flags*

   * 
     '-DCMAKE_C_FLAGS="FLAGS'"

     Flags for the C Compiler.

   * 
     '-DCMAKE_CXX_FLAGS="FLAGS'"

     Flags for the C++ Compiler.

To specify your own C and C++ compiler flags, for flags that do not
affect optimization, use the 'CMAKE_C_FLAGS' and 'CMAKE_CXX_FLAGS' CMake
options.

When providing your own compiler flags, you might want to specify
'CMAKE_BUILD_TYPE' as well.

For example, to create a 32-bit release build on a 64-bit Linux machine,
do this:

     mkdir bld
     cd bld
     cmake .. -DCMAKE_C_FLAGS=-m32 \
       -DCMAKE_CXX_FLAGS=-m32 \
       -DCMAKE_BUILD_TYPE=RelWithDebInfo

If you set flags that affect optimization ('-ONUMBER'), you must set the
'CMAKE_C_FLAGS_BUILD_TYPE' and/or 'CMAKE_CXX_FLAGS_BUILD_TYPE' options,
where BUILD_TYPE corresponds to the 'CMAKE_BUILD_TYPE' value.  To
specify a different optimization for the default build type
('RelWithDebInfo') set the 'CMAKE_C_FLAGS_RELWITHDEBINFO' and
'CMAKE_CXX_FLAGS_RELWITHDEBINFO' options.  For example, to compile on
Linux with '-O3' and with debug symbols, do this:

     cmake .. -DCMAKE_C_FLAGS_RELWITHDEBINFO="-O3 -g" \
       -DCMAKE_CXX_FLAGS_RELWITHDEBINFO="-O3 -g"

*CMake Options for Compiling NDB Cluster*

The following options are for use when building MySQL NDB Cluster 7.2 or
later.  These options are supported only with the MySQL NDB Cluster 7.2
and later NDB Cluster sources; they are not supported when using sources
from the MySQL 5.5 Server tree.

   * 
     '-DMEMCACHED_HOME=DIR_NAME'

     Perform the build using the memcached (version 1.6 or later)
     installed in the system directory indicated by DIR_NAME.  Files
     from this installation that are used in the build include the
     memcached binary, header files, and libraries, as well as the
     'memcached_utilities' library and the header file
     'engine_testapp.h'.

     You must leave this option unset when building 'ndbmemcache' using
     the bundled memcached sources ('WITH_BUNDLED_MEMCACHED' option); in
     other words, the bundled sources are used by default).

     This option was added in MySQL NDB Cluster 7.2.2.

     While additional 'CMake' options--such as for SASL authorization
     and for providing 'dtrace' support--are available for use when
     compiling 'memcached' from external sources, these options are
     currently not enabled for the 'memcached' sources bundled with NDB
     Cluster.

   * 
     '-DWITH_BUNDLED_LIBEVENT={ON|OFF}'

     Use the 'libevent' included in the NDB Cluster sources when
     building NDB Cluster with ndbmemcached support (MySQL NDB Cluster
     7.2.2 and later).  Enabled by default.  OFF causes the system's
     libevent to be used instead.

   * 
     '-DWITH_BUNDLED_MEMCACHED={ON|OFF}'

     Build the memcached sources included in the NDB Cluster source tree
     (MySQL NDB Cluster 7.2.3 and later), then use the resulting
     memcached server when building the ndbmemcache engine.  In this
     case, 'make install' places the 'memcached' binary in the
     installation 'bin' directory, and the ndbmemcache engine shared
     library file 'ndb_engine.so' in the installation 'lib' directory.

     This option is ON by default.

   * 
     '-DWITH_CLASSPATH=PATH'

     Sets the classpath for building NDB Cluster Connector for Java.
     The default is empty.  In MySQL NDB Cluster 7.2.9 and later, this
     option is ignored if '-DWITH_NDB_JAVA=OFF' is used.

   * 
     '-DWITH_ERROR_INSERT={ON|OFF}'

     Enables error injection in the *note 'NDB': mysql-cluster. kernel.
     For testing only; not intended for use in building production
     binaries.  The default is 'OFF'.

   * 
     '-DWITH_NDBCLUSTER_STORAGE_ENGINE={ON|OFF}'

     Build and link in support for the *note 'NDB': mysql-cluster.
     (*note 'NDBCLUSTER': mysql-cluster.) storage engine in *note
     'mysqld': mysqld.  The default is 'ON'.

   * 
     '-DWITH_NDBCLUSTER={ON|OFF}'

     This is an alias for 'WITH_NDBCLUSTER_STORAGE_ENGINE'.

   * 
     '-DWITH_NDBMTD={ON|OFF}'

     Build the multithreaded data node executable *note 'ndbmtd':
     mysql-cluster-programs-ndbmtd.  The default is 'ON'.

   * 
     '-DWITH_NDB_BINLOG={ON|OFF}'

     Enable binary logging by default in the *note 'mysqld': mysqld.
     built using this option.  ON by default.

   * 
     '-DWITH_NDB_DEBUG={ON|OFF}'

     Enable building the debug versions of the NDB Cluster binaries.
     OFF by default.

   * 
     '-DWITH_NDB_JAVA={ON|OFF}'

     Enable building NDB Cluster with Java support, including
     'ClusterJ'.

     This option was added in MySQL NDB Cluster 7.2.9, and is ON by
     default.  If you do not wish to compile NDB Cluster with Java
     support, you must disable it explicitly by specifying
     '-DWITH_NDB_JAVA=OFF' when running 'CMake'.  Otherwise, if Java
     cannot be found, configuration of the build fails.

   * 
     '-DWITH_NDB_PORT=PORT'

     Causes the NDB Cluster management server (*note 'ndb_mgmd':
     mysql-cluster-programs-ndb-mgmd.) that is built to use this PORT by
     default.  If this option is unset, the resulting management server
     tries to use port 1186 by default.

   * 
     '-DWITH_NDB_TEST={ON|OFF}'

     If enabled, include a set of NDB API test programs.  The default is
     OFF.


File: manual.info.tmp,  Node: compilation-problems,  Next: source-configuration-third-party,  Prev: source-configuration-options,  Up: source-installation

2.9.8 Dealing with Problems Compiling MySQL
-------------------------------------------

The solution to many problems involves reconfiguring.  If you do
reconfigure, take note of the following:

   * If 'CMake' is run after it has previously been run, it may use
     information that was gathered during its previous invocation.  This
     information is stored in 'CMakeCache.txt'.  When 'CMake' starts, it
     looks for that file and reads its contents if it exists, on the
     assumption that the information is still correct.  That assumption
     is invalid when you reconfigure.

   * Each time you run 'CMake', you must run 'make' again to recompile.
     However, you may want to remove old object files from previous
     builds first because they were compiled using different
     configuration options.

To prevent old object files or configuration information from being
used, run the following commands before re-running 'CMake':

On Unix:

     shell> make clean
     shell> rm CMakeCache.txt

On Windows:

     shell> devenv MySQL.sln /clean
     shell> del CMakeCache.txt

If you build outside of the source tree, remove and recreate your build
directory before re-running 'CMake'.  For instructions on building
outside of the source tree, see How to Build MySQL Server with CMake
(https://dev.mysql.com/doc/internals/en/cmake.html).

On some systems, warnings may occur due to differences in system include
files.  The following list describes other problems that have been found
to occur most often when compiling MySQL:

   * 
     To define which C and C++ compilers to use, you can define the 'CC'
     and 'CXX' environment variables.  For example:

          shell> CC=gcc
          shell> CXX=g++
          shell> export CC CXX

     To specify your own C and C++ compiler flags, use the
     'CMAKE_C_FLAGS' and 'CMAKE_CXX_FLAGS' CMake options.  See *note
     cmake-compiler-flags::.

     To see what flags you might need to specify, invoke *note
     'mysql_config': mysql-config. with the '--cflags' option.

   * To see what commands are executed during the compile stage, after
     using 'CMake' to configure MySQL, run 'make VERBOSE=1' rather than
     just 'make'.

   * If compilation fails, check whether the 'MYSQL_MAINTAINER_MODE'
     option is enabled.  This mode causes compiler warnings to become
     errors, so disabling it may enable compilation to proceed.

   * If your compile fails with errors such as any of the following, you
     must upgrade your version of 'make' to GNU 'make':

          make: Fatal error in reader: Makefile, line 18:
          Badly formed macro assignment

     Or:

          make: file `Makefile' line 18: Must be a separator (:

     Or:

          pthread.h: No such file or directory

     Solaris and FreeBSD are known to have troublesome 'make' programs.

     GNU 'make' 3.75 is known to work.

   * The 'sql_yacc.cc' file is generated from 'sql_yacc.yy'.  Normally,
     the build process does not need to create 'sql_yacc.cc' because
     MySQL comes with a pregenerated copy.  However, if you do need to
     re-create it, you might encounter this error:

          "sql_yacc.yy", line XXX fatal: default action causes potential...

     This is a sign that your version of 'yacc' is deficient.  You
     probably need to install a recent version of 'bison' (the GNU
     version of 'yacc') and use that instead.

     Versions of 'bison' older than 1.75 may report this error:

          sql_yacc.yy:#####: fatal error: maximum table size (32767) exceeded

     The maximum table size is not actually exceeded; the error is
     caused by bugs in older versions of 'bison'.

For information about acquiring or updating tools, see the system
requirements in *note source-installation::.


File: manual.info.tmp,  Node: source-configuration-third-party,  Prev: compilation-problems,  Up: source-installation

2.9.9 MySQL Configuration and Third-Party Tools
-----------------------------------------------

Third-party tools that need to determine the MySQL version from the
MySQL source can read the 'VERSION' file in the top-level source
directory.  The file lists the pieces of the version separately.  For
example, if the version is MySQL 5.7.4-m14, the file looks like this:

     MYSQL_VERSION_MAJOR=5
     MYSQL_VERSION_MINOR=7
     MYSQL_VERSION_PATCH=4
     MYSQL_VERSION_EXTRA=-m14

If the source is not for a General Availablility (GA) release, the
'MYSQL_VERSION_EXTRA' value will be nonempty.  For the example, the
value corresponds to Milestone 14.

To construct a five-digit number from the version components, use this
formula:

     MYSQL_VERSION_MAJOR*10000 + MYSQL_VERSION_MINOR*100 + MYSQL_VERSION_PATCH


File: manual.info.tmp,  Node: postinstallation,  Next: upgrading,  Prev: source-installation,  Up: installing

2.10 Postinstallation Setup and Testing
=======================================

* Menu:

* data-directory-initialization::  Initializing the Data Directory
* starting-server::              Starting the Server
* testing-server::               Testing the Server
* default-privileges::           Securing the Initial MySQL Accounts
* automatic-start::              Starting and Stopping MySQL Automatically

This section discusses tasks that you should perform after installing
MySQL:

   * If necessary, initialize the data directory and create the MySQL
     grant tables.  For some MySQL installation methods, data directory
     initialization may be done for you automatically:

        * Installation on Windows

        * Installation on Linux using a server RPM distribution.

        * Installation using the native packaging system on many
          platforms, including Debian Linux, Ubuntu Linux, Gentoo Linux,
          and others.

        * Installation on macOS using a DMG distribution.

     For other platforms and installation types, you must initialize the
     data directory manually.  These include installation from generic
     binary and source distributions on Unix and Unix-like system, and
     installation from a ZIP Archive package on Windows.  For
     instructions, see *note data-directory-initialization::.

   * For instructions, see *note starting-server::, and *note
     testing-server::.

   * Assign passwords to any initial accounts in the grant tables, if
     that was not already done during data directory initialization.
     Passwords prevent unauthorized access to the MySQL server.  You may
     also wish to restrict access to test databases.  For instructions,
     see *note default-privileges::.

   * Optionally, arrange for the server to start and stop automatically
     when your system starts and stops.  For instructions, see *note
     automatic-start::.

   * Optionally, populate time zone tables to enable recognition of
     named time zones.  For instructions, see *note time-zone-support::.

When you are ready to create additional user accounts, you can find
information on the MySQL access control system and account management in
*note access-control::.


File: manual.info.tmp,  Node: data-directory-initialization,  Next: starting-server,  Prev: postinstallation,  Up: postinstallation

2.10.1 Initializing the Data Directory
--------------------------------------

* Menu:

* mysql-install-db-problems::    Problems Running mysql_install_db

After MySQL is installed, the data directory must be initialized,
including the tables in the 'mysql' system database:

   * For some MySQL installation methods, data directory initialization
     is automatic, as described in *note postinstallation::.

   * For other installation methods, you must initialize the data
     directory manually.  These include installation from generic binary
     and source distributions on Unix and Unix-like systems, and
     installation from a ZIP Archive package on Windows.

This section describes how to initialize the data directory manually for
MySQL installation methods for which data directory initialization is
not automatic.  For some suggested commands that enable testing whether
the server is accessible and working properly, see *note
testing-server::.

In the examples shown here, the server is intended to run under the user
ID of the 'mysql' login account.  This assumes that such an account
exists.  Either create the account if it does not exist (see *note
binary-installation-createsysuser::), or substitute the name of a
different existing login account that you plan to use for running the
server.

  1. Change location to the top-level directory of your MySQL
     installation, represented here by BASEDIR:

          cd BASEDIR

     BASEDIR is likely to be something like '/usr/local/mysql' or
     '/usr/local'.  The following steps assume that you have changed
     location to this directory.

     You will find several files and subdirectories in the BASEDIR
     directory.  The most important for installation purposes are the
     'bin' and 'scripts' subdirectories, which contain the server as
     well as client and utility programs.

  2. If necessary, ensure that the distribution contents are accessible
     to 'mysql'.  If you installed the distribution as 'mysql', no
     further action is required.  If you installed the distribution as
     'root', its contents will be owned by 'root'.  Change its ownership
     to 'mysql' by executing the following commands as 'root' in the
     installation directory.  The first command changes the owner
     attribute of the files to the 'mysql' user.  The second changes the
     group attribute to the 'mysql' group.

          chown -R mysql .
          chgrp -R mysql .

  3. If necessary, initialize the data directory, including the 'mysql'
     database containing the initial MySQL grant tables that determine
     how users are permitted to connect to the server.

     Typically, data directory initialization need be done only the
     first time you install MySQL. For upgrades to an existing
     installation, you should run *note 'mysql_upgrade': mysql-upgrade.
     instead (see *note mysql-upgrade::).  However, the command that
     initializes the data directory does not overwrite any existing
     privilege tables, so it should be safe to run in any circumstances.
     Use the server to initialize the data directory; for example:

          scripts/mysql_install_db --user=mysql

     It is important to make sure that the database directories and
     files are owned by the 'mysql' login account so that the server has
     read and write access to them when you run it later.  To ensure
     this if you run *note 'mysql_install_db': mysql-install-db. as
     'root', include the '--user' option as shown.  Otherwise, you
     should execute the program while logged in as 'mysql', in which
     case you can omit the '--user' option from the command.

     The *note 'mysql_install_db': mysql-install-db. command creates the
     server's data directory.  Under the data directory, it creates
     directories for the 'mysql' database that holds the grant tables
     and the 'test' database that you can use to test MySQL. The program
     also creates privilege table entries for the initial account or
     accounts.  'test_'.  For a complete listing and description of the
     grant tables, see *note access-control::.

     It might be necessary to specify other options such as '--basedir'
     or '--datadir' if *note 'mysql_install_db': mysql-install-db. does
     not identify the correct locations for the installation directory
     or data directory.  For example (enter the command on a single
     line):

          scripts/mysql_install_db --user=mysql
            --basedir=/opt/mysql/mysql
            --datadir=/opt/mysql/mysql/data

     If you do not want to have the 'test' database, you can remove it
     after starting the server, using the instructions in *note
     default-privileges::.

     If you have trouble with *note 'mysql_install_db':
     mysql-install-db. at this point, see *note
     mysql-install-db-problems::.

  4. After initializing the data directory, you can establish the final
     installation ownership settings.  To leave the installation owned
     by 'mysql', no action is required here.  Otherwise, most of the
     MySQL installation can be owned by 'root' if you like.  The
     exception is that the data directory must be owned by 'mysql'.  To
     accomplish this, run the following commands as 'root' in the
     installation directory.  For some distribution types, the data
     directory might be named 'var' rather than 'data'; adjust the
     second command accordingly.

          chown -R root .
          chown -R mysql data

     If the plugin directory (the directory named by the 'plugin_dir'
     system variable) is writable by the server, it may be possible for
     a user to write executable code to a file in the directory using
     *note 'SELECT ... INTO DUMPFILE': select-into.  This can be
     prevented by making the plugin directory read only to the server or
     by setting the 'secure_file_priv' system variable at server startup
     to a directory where *note 'SELECT': select. writes can be
     performed safely.

  5. In the absence of any option files, the server starts with its
     default settings.  (See *note server-configuration-defaults::.)  If
     you installed MySQL using a source distribution, you may want to
     optionally copy one of the provided configuration files from the
     'support-files' directory into your '/etc' directory.  There are
     different sample configuration files for different use cases,
     server types, and CPU and RAM configurations.  To use one of these
     standard files, copy it to '/etc/my.cnf', or '/etc/mysql/my.cnf'
     and edit and check the configuration before starting your MySQL
     server for the first time.

     You can also create 'my.cnf' yourself and place into it the options
     the server should use at startup.  (See *note option-files::.)  For
     example, you can use an option file to set the 'secure_file_priv'
     system variable.

     If you do not copy one of the standard configuration files or
     create your own, the MySQL server starts with its default settings.

  6. To arrange for MySQL to start automatically at system boot time,
     see *note automatic-start::.

Data directory initialization creates time zone tables in the 'mysql'
database but does not populate them.  To do so, use the instructions in
*note time-zone-support::.


File: manual.info.tmp,  Node: mysql-install-db-problems,  Prev: data-directory-initialization,  Up: data-directory-initialization

2.10.1.1 Problems Running mysql_install_db
..........................................

The purpose of the *note 'mysql_install_db': mysql-install-db. program
is to initialize the data directory, including the tables in the 'mysql'
system database.  It does not overwrite existing MySQL privilege tables,
and it does not affect any other data.

To re-create your privilege tables, first stop the *note 'mysqld':
mysqld. server if it is running.  Then rename the 'mysql' directory
under the data directory to save it, and run *note 'mysql_install_db':
mysql-install-db.  Suppose that your current directory is the MySQL
installation directory and that *note 'mysql_install_db':
mysql-install-db. is located in the 'bin' directory and the data
directory is named 'data'.  To rename the 'mysql' database and re-run
*note 'mysql_install_db': mysql-install-db, use these commands.

     mv data/mysql data/mysql.old
     scripts/mysql_install_db --user=mysql

When you run *note 'mysql_install_db': mysql-install-db, you might
encounter the following problems:

   * **note 'mysql_install_db': mysql-install-db. fails to install the
     grant tables*

     You may find that *note 'mysql_install_db': mysql-install-db. fails
     to install the grant tables and terminates after displaying the
     following messages:

          Starting mysqld daemon with databases from XXXXXX
          mysqld ended

     In this case, you should examine the error log file very carefully.
     The log should be located in the directory 'XXXXXX' named by the
     error message and should indicate why *note 'mysqld': mysqld. did
     not start.  If you do not understand what happened, include the log
     when you post a bug report.  See *note bug-reports::.

   * *There is a *note 'mysqld': mysqld. process running*

     This indicates that the server is running, in which case the grant
     tables have probably been created already.  If so, there is no need
     to run *note 'mysql_install_db': mysql-install-db. at all because
     it needs to be run only once, when you first install MySQL.

   * *Installing a second *note 'mysqld': mysqld. server does not work
     when one server is running*

     This can happen when you have an existing MySQL installation, but
     want to put a new installation in a different location.  For
     example, you might have a production installation, but you want to
     create a second installation for testing purposes.  Generally the
     problem that occurs when you try to run a second server is that it
     tries to use a network interface that is in use by the first
     server.  In this case, you should see one of the following error
     messages:

          Can't start server: Bind on TCP/IP port:
          Address already in use
          Can't start server: Bind on unix socket...

     For instructions on setting up multiple servers, see *note
     multiple-servers::.

   * 
     *You do not have write access to the '/tmp' directory*

     If you do not have write access to create temporary files or a Unix
     socket file in the default location (the '/tmp' directory) or the
     'TMPDIR' environment variable, if it has been set, an error occurs
     when you run *note 'mysql_install_db': mysql-install-db. or the
     *note 'mysqld': mysqld. server.

     You can specify different locations for the temporary directory and
     Unix socket file by executing these commands prior to starting
     *note 'mysql_install_db': mysql-install-db. or *note 'mysqld':
     mysqld, where SOME_TMP_DIR is the full path name to some directory
     for which you have write permission:

          TMPDIR=/SOME_TMP_DIR/
          MYSQL_UNIX_PORT=/SOME_TMP_DIR/mysql.sock
          export TMPDIR MYSQL_UNIX_PORT

     Then you should be able to run *note 'mysql_install_db':
     mysql-install-db. and start the server with these commands:

          scripts/mysql_install_db --user=mysql
          bin/mysqld_safe --user=mysql &

     If *note 'mysql_install_db': mysql-install-db. is located in the
     'scripts' directory, modify the first command to
     'scripts/mysql_install_db'.

     See *note problems-with-mysql-sock::, and *note
     environment-variables::.

There are some alternatives to running the *note 'mysql_install_db':
mysql-install-db. program provided in the MySQL distribution:

   * If you want the initial privileges to differ from the standard
     defaults, use account-management statements such as *note 'CREATE
     USER': create-user, *note 'GRANT': grant, and *note 'REVOKE':
     revoke. to change the privileges _after_ the grant tables have been
     set up.  In other words, run *note 'mysql_install_db':
     mysql-install-db, and then use 'mysql -u root mysql' to connect to
     the server as the MySQL 'root' user so that you can issue the
     necessary statements.  (See *note account-management-statements::.)

     To install MySQL on several machines with the same privileges, put
     the *note 'CREATE USER': create-user, *note 'GRANT': grant, and
     *note 'REVOKE': revoke. statements in a file and execute the file
     as a script using 'mysql' after running *note 'mysql_install_db':
     mysql-install-db.  For example:

          scripts/mysql_install_db --user=mysql
          bin/mysql -u root < your_script_file

     This enables you to avoid issuing the statements manually on each
     machine.

   * It is possible to re-create the grant tables completely after they
     have previously been created.  You might want to do this if you are
     just learning how to use *note 'CREATE USER': create-user, *note
     'GRANT': grant, and *note 'REVOKE': revoke. and have made so many
     modifications after running *note 'mysql_install_db':
     mysql-install-db. that you want to wipe out the tables and start
     over.

     To re-create the grant tables, stop the server if it is running and
     remove the 'mysql' database directory.  Then run *note
     'mysql_install_db': mysql-install-db. again.


File: manual.info.tmp,  Node: starting-server,  Next: testing-server,  Prev: data-directory-initialization,  Up: postinstallation

2.10.2 Starting the Server
--------------------------

* Menu:

* starting-server-troubleshooting::  Troubleshooting Problems Starting the MySQL Server

This section describes how start the server on Unix and Unix-like
systems.  (For Windows, see *note windows-server-first-start::.)  For
some suggested commands that you can use to test whether the server is
accessible and working properly, see *note testing-server::.

Start the MySQL server like this:

     shell> bin/mysqld_safe --user=mysql &

It is important that the MySQL server be run using an unprivileged
(non-'root') login account.  To ensure this if you run *note
'mysqld_safe': mysqld-safe. as 'root', include the '--user' option as
shown.  Otherwise, execute the program while logged in as 'mysql', in
which case you can omit the '--user' option from the command.

For further instructions for running MySQL as an unprivileged user, see
*note changing-mysql-user::.

If the command fails immediately and prints 'mysqld ended', look for
information in the error log (which by default is the 'HOST_NAME.err'
file in the data directory).

If the server is unable to access the data directory it starts or read
the grant tables in the 'mysql' database, it writes a message to its
error log.  Such problems can occur if you neglected to create the grant
tables by initializing the data directory before proceeding to this
step, or if you ran the command that initializes the data directory
without the '--user' option.  Remove the 'data' directory and run the
command with the '--user' option.

If you have other problems starting the server, see *note
starting-server-troubleshooting::.  For more information about *note
'mysqld_safe': mysqld-safe, see *note mysqld-safe::.

You can set up new accounts using the 'bin/mysql_setpermission' script
if you install the 'DBI' and 'DBD::mysql' Perl modules.  See *note
mysql-setpermission::.  For Perl module installation instructions, see
*note perl-support::.

If you would like to use *note 'mysqlaccess': mysqlaccess. and have the
MySQL distribution in some nonstandard location, you must change the
location where *note 'mysqlaccess': mysqlaccess. expects to find the
*note 'mysql': mysql. client.  Edit the 'bin/mysqlaccess' script at
approximately line 18.  Search for a line that looks like this:

     $MYSQL     = '/usr/local/bin/mysql';    # path to mysql executable

Change the path to reflect the location where *note 'mysql': mysql.
actually is stored on your system.  If you do not do this, a 'Broken
pipe' error will occur when you run *note 'mysqlaccess': mysqlaccess.


File: manual.info.tmp,  Node: starting-server-troubleshooting,  Prev: starting-server,  Up: starting-server

2.10.2.1 Troubleshooting Problems Starting the MySQL Server
...........................................................

This section provides troubleshooting suggestions for problems starting
the server.  For additional suggestions for Windows systems, see *note
windows-troubleshooting::.

If you have problems starting the server, here are some things to try:

   * Check the error log to see why the server does not start.

   * Specify any special options needed by the storage engines you are
     using.

   * Make sure that the server knows where to find the data directory.

   * Make sure that the server can access the data directory.  The
     ownership and permissions of the data directory and its contents
     must be set such that the server can read and modify them.

   * Verify that the network interfaces the server wants to use are
     available.

Some storage engines have options that control their behavior.  You can
create a 'my.cnf' file and specify startup options for the engines that
you plan to use.  If you are going to use storage engines that support
transactional tables ('InnoDB', *note 'NDB': mysql-cluster.), be sure
that you have them configured the way you want before starting the
server:

If you are using 'InnoDB' tables, see *note innodb-configuration::.

Storage engines will use default option values if you specify none, but
it is recommended that you review the available options and specify
explicit values for those for which the defaults are not appropriate for
your installation.

When the *note 'mysqld': mysqld. server starts, it changes location to
the data directory.  This is where it expects to find databases and
where it expects to write log files.  The server also writes the pid
(process ID) file in the data directory.

The data directory location is hardwired in when the server is compiled.
This is where the server looks for the data directory by default.  If
the data directory is located somewhere else on your system, the server
will not work properly.  You can determine what the default path
settings are by invoking *note 'mysqld': mysqld. with the '--verbose'
and '--help' options.

If the default locations do not match the MySQL installation layout on
your system, you can override them by specifying options to *note
'mysqld': mysqld. or *note 'mysqld_safe': mysqld-safe. on the command
line or in an option file.

To specify the location of the data directory explicitly, use the
'--datadir' option.  However, normally you can tell *note 'mysqld':
mysqld. the location of the base directory under which MySQL is
installed and it looks for the data directory there.  You can do this
with the '--basedir' option.

To check the effect of specifying path options, invoke *note 'mysqld':
mysqld. with those options followed by the '--verbose' and '--help'
options.  For example, if you change location to the directory where
*note 'mysqld': mysqld. is installed and then run the following command,
it shows the effect of starting the server with a base directory of
'/usr/local':

     shell> ./mysqld --basedir=/usr/local --verbose --help

You can specify other options such as '--datadir' as well, but
'--verbose' and '--help' must be the last options.

Once you determine the path settings you want, start the server without
'--verbose' and '--help'.

If *note 'mysqld': mysqld. is currently running, you can find out what
path settings it is using by executing this command:

     shell> mysqladmin variables

Or:

     shell> mysqladmin -h HOST_NAME variables

HOST_NAME is the name of the MySQL server host.

If you get 'Errcode 13' (which means 'Permission denied') when starting
*note 'mysqld': mysqld, this means that the privileges of the data
directory or its contents do not permit server access.  In this case,
you change the permissions for the involved files and directories so
that the server has the right to use them.  You can also start the
server as 'root', but this raises security issues and should be avoided.

Change location to the data directory and check the ownership of the
data directory and its contents to make sure the server has access.  For
example, if the data directory is '/usr/local/mysql/var', use this
command:

     shell> ls -la /usr/local/mysql/var

If the data directory or its files or subdirectories are not owned by
the login account that you use for running the server, change their
ownership to that account.  If the account is named 'mysql', use these
commands:

     shell> chown -R mysql /usr/local/mysql/var
     shell> chgrp -R mysql /usr/local/mysql/var

Even with correct ownership, MySQL might fail to start up if there is
other security software running on your system that manages application
access to various parts of the file system.  In this case, reconfigure
that software to enable *note 'mysqld': mysqld. to access the
directories it uses during normal operation.

If the server fails to start up correctly, check the error log.  Log
files are located in the data directory (typically 'C:\Program
Files\MySQL\MySQL Server 5.5\data' on Windows, '/usr/local/mysql/data'
for a Unix/Linux binary distribution, and '/usr/local/var' for a
Unix/Linux source distribution).  Look in the data directory for files
with names of the form 'HOST_NAME.err' and 'HOST_NAME.log', where
HOST_NAME is the name of your server host.  Then examine the last few
lines of these files.  You can use 'tail' to display them:

     shell> tail HOST_NAME.err
     shell> tail HOST_NAME.log

The error log should contain information that indicates why the server
could not start.

If either of the following errors occur, it means that some other
program (perhaps another *note 'mysqld': mysqld. server) is using the
TCP/IP port or Unix socket file that *note 'mysqld': mysqld. is trying
to use:

     Can't start server: Bind on TCP/IP port: Address already in use
     Can't start server: Bind on unix socket...

Use 'ps' to determine whether you have another *note 'mysqld': mysqld.
server running.  If so, shut down the server before starting *note
'mysqld': mysqld. again.  (If another server is running, and you really
want to run multiple servers, you can find information about how to do
so in *note multiple-servers::.)

If no other server is running, try to execute the command 'telnet
YOUR_HOST_NAME TCP_IP_PORT_NUMBER'.  (The default MySQL port number is
3306.)  Then press Enter a couple of times.  If you do not get an error
message like 'telnet: Unable to connect to remote host: Connection
refused', some other program is using the TCP/IP port that *note
'mysqld': mysqld. is trying to use.  You will need to track down what
program this is and disable it, or else tell *note 'mysqld': mysqld. to
listen to a different port with the '--port' option.  In this case, you
will also need to specify the port number for client programs when
connecting to the server using TCP/IP.

Another reason the port might be inaccessible is that you have a
firewall running that blocks connections to it.  If so, modify the
firewall settings to permit access to the port.

If the server starts but you cannot connect to it, you should make sure
that you have an entry in '/etc/hosts' that looks like this:

     127.0.0.1       localhost

If you cannot get *note 'mysqld': mysqld. to start, you can try to make
a trace file to find the problem by using the '--debug' option.  See
*note dbug-package::.


File: manual.info.tmp,  Node: testing-server,  Next: default-privileges,  Prev: starting-server,  Up: postinstallation

2.10.3 Testing the Server
-------------------------

After the data directory is initialized and you have started the server,
perform some simple tests to make sure that it works satisfactorily.
This section assumes that your current location is the MySQL
installation directory and that it has a 'bin' subdirectory containing
the MySQL programs used here.  If that is not true, adjust the command
path names accordingly.

Alternatively, add the 'bin' directory to your 'PATH' environment
variable setting.  That enables your shell (command interpreter) to find
MySQL programs properly, so that you can run a program by typing only
its name, not its path name.  See *note setting-environment-variables::.

Use *note 'mysqladmin': mysqladmin. to verify that the server is
running.  The following commands provide simple tests to check whether
the server is up and responding to connections:

     shell> bin/mysqladmin version
     shell> bin/mysqladmin variables

If you cannot connect to the server, specify a '-u root' option to
connect as 'root'.  If you have assigned a password for the 'root'
account already, you'll also need to specify '-p' on the command line
and enter the password when prompted.  For example:

     shell> bin/mysqladmin -u root -p version
     Enter password: (ENTER ROOT PASSWORD HERE)

The output from *note 'mysqladmin version': mysqladmin. varies slightly
depending on your platform and version of MySQL, but should be similar
to that shown here:

     shell> bin/mysqladmin version
     mysqladmin  Ver 14.12 Distrib 5.5.62, for pc-linux-gnu on i686
     ...

     Server version          5.5.62
     Protocol version        10
     Connection              Localhost via UNIX socket
     UNIX socket             /var/lib/mysql/mysql.sock
     Uptime:                 14 days 5 hours 5 min 21 sec

     Threads: 1  Questions: 366  Slow queries: 0
     Opens: 0  Flush tables: 1  Open tables: 19
     Queries per second avg: 0.000

To see what else you can do with *note 'mysqladmin': mysqladmin, invoke
it with the '--help' option.

Verify that you can shut down the server (include a '-p' option if the
'root' account has a password already):

     shell> bin/mysqladmin -u root shutdown

Verify that you can start the server again.  Do this by using *note
'mysqld_safe': mysqld-safe. or by invoking *note 'mysqld': mysqld.
directly.  For example:

     shell> bin/mysqld_safe --user=mysql &

If *note 'mysqld_safe': mysqld-safe. fails, see *note
starting-server-troubleshooting::.

Run some simple tests to verify that you can retrieve information from
the server.  The output should be similar to that shown here.

Use *note 'mysqlshow': mysqlshow. to see what databases exist:

     shell> bin/mysqlshow
     +--------------------+
     |     Databases      |
     +--------------------+
     | information_schema |
     | mysql              |
     | performance_schema |
     | test               |
     +--------------------+

The list of installed databases may vary, but always includes at least
'mysql' and 'information_schema'.

If you specify a database name, *note 'mysqlshow': mysqlshow. displays a
list of the tables within the database:

     shell> bin/mysqlshow mysql
     Database: mysql
     +---------------------------+
     |          Tables           |
     +---------------------------+
     | columns_priv              |
     | db                        |
     | event                     |
     | func                      |
     | general_log               |
     | help_category             |
     | help_keyword              |
     | help_relation             |
     | help_topic                |
     | host                      |
     | ndb_binlog_index          |
     | plugin                    |
     | proc                      |
     | procs_priv                |
     | proxies_priv              |
     | servers                   |
     | slow_log                  |
     | tables_priv               |
     | time_zone                 |
     | time_zone_leap_second     |
     | time_zone_name            |
     | time_zone_transition      |
     | time_zone_transition_type |
     | user                      |
     +---------------------------+

Use the *note 'mysql': mysql. program to select information from a table
in the 'mysql' database:

     shell> bin/mysql -e "SELECT User, Host, plugin FROM mysql.user" mysql
     +------+-----------+-----------------------+
     | User | Host      | plugin                |
     +------+-----------+-----------------------+
     | root | localhost | mysql_native_password |
     +------+-----------+-----------------------+

At this point, your server is running and you can access it.  To tighten
security if you have not yet assigned passwords to the initial account
or accounts, follow the instructions in *note default-privileges::.

For more information about *note 'mysql': mysql, *note 'mysqladmin':
mysqladmin, and *note 'mysqlshow': mysqlshow, see *note mysql::, *note
mysqladmin::, and *note mysqlshow::.


File: manual.info.tmp,  Node: default-privileges,  Next: automatic-start,  Prev: testing-server,  Up: postinstallation

2.10.4 Securing the Initial MySQL Accounts
------------------------------------------

The MySQL installation process involves initializing the data directory,
including the grant tables in the 'mysql' system database that define
MySQL accounts.  For details, see *note data-directory-initialization::.

This section describes how to assign passwords to the initial accounts
created during the MySQL installation procedure, if you have not already
done so.

The 'mysql.user' grant table defines the initial MySQL user accounts and
their access privileges:

   * Some accounts have the user name 'root'.  These are superuser
     accounts that have all privileges and can do anything.  If these
     'root' accounts have empty passwords, anyone can connect to the
     MySQL server as 'root' _without a password_ and be granted all
     privileges.

        * On Windows, 'root' accounts are created that permit
          connections from the local host only.  Connections can be made
          by specifying the host name 'localhost', the IP address
          '127.0.0.1', or the IPv6 address '::1'.  If the user selects
          the 'Enable root access from remote machines' option during
          installation, the Windows installer creates another 'root'
          account that permits connections from any host.

        * On Unix, each 'root' account permits connections from the
          local host.  Connections can be made by specifying the host
          name 'localhost', the IP address '127.0.0.1', the IPv6 address
          '::1', or the actual host name or IP address.

     An attempt to connect to the host '127.0.0.1' normally resolves to
     the 'localhost' account.  However, this fails if the server is run
     with 'skip_name_resolve' enabled, so the '127.0.0.1' account is
     useful in that case.  The '::1' account is used for IPv6
     connections.

   * 
     If accounts for anonymous users were created, these have an empty
     user name.  The anonymous accounts have no password, so anyone can
     use them to connect to the MySQL server.

        * On Windows, there is one anonymous account that permits
          connections from the local host.  Connections can be made by
          specifying a host name of 'localhost'.

        * On Unix, each anonymous account permits connections from the
          local host.  Connections can be made by specifying a host name
          of 'localhost' for one of the accounts, or the actual host
          name or IP address for the other.

        * The ''root'@'localhost'' account also has a row in the
          'mysql.proxies_priv' table that enables granting the 'PROXY'
          privilege for '''@''', that is, for all users and all hosts.
          This enables 'root' to set up proxy users, as well as to
          delegate to other accounts the authority to set up proxy
          users.  See *note proxy-users::.

To display which accounts exist in the 'mysql.user' system table and
check whether their passwords are empty, use the following statement:

     mysql> SELECT User, Host, Password FROM mysql.user;
     +------+--------------------+----------+
     | User | Host               | Password |
     +------+--------------------+----------+
     | root | localhost          |          |
     | root | myhost.example.com |          |
     | root | 127.0.0.1          |          |
     | root | ::1                |          |
     |      | localhost          |          |
     |      | myhost.example.com |          |
     +------+--------------------+----------+

This output indicates that there are several 'root' and anonymous-user
accounts, none of which have passwords.  The output might differ on your
system, but the presence of accounts with empty passwords means that
your MySQL installation is unprotected until you do something about it:

   * Assign a password to each MySQL 'root' account that does not have
     one.

   * To prevent clients from connecting as anonymous users without a
     password, either assign a password to each anonymous account or
     remove the accounts.

In addition, the 'mysql.db' table contains rows that permit all accounts
to access the 'test' database and other databases with names that start
with 'test_'.  This is true even for accounts that otherwise have no
special privileges such as the default anonymous accounts.  This is
convenient for testing but inadvisable on production servers.
Administrators who want database access restricted only to accounts that
have permissions granted explicitly for that purpose should remove these
'mysql.db' table rows.

The following instructions describe how to set up passwords for the
initial MySQL accounts, first for the 'root' accounts, then for the
anonymous accounts.  The instructions also cover how to remove anonymous
accounts, should you prefer not to permit anonymous access at all, and
describe how to remove permissive access to test databases.  Replace
NEW_PASSWORD in the examples with the password that you want to use.
Replace HOST_NAME with the name of the server host.  You can determine
this name from the output of the preceding *note 'SELECT': select.
statement.  For the output shown, HOST_NAME is 'myhost.example.com'.

You need not remove anonymous entries in the 'mysql.proxies_priv' table,
which are used to support proxy users.  See *note proxy-users::.

*Note*:

For additional information about setting passwords, see *note
assigning-passwords::.  If you forget your 'root' password after setting
it, see *note resetting-permissions::.

To set up additional accounts, see *note creating-accounts::.

You might want to defer setting the passwords until later, to avoid the
need to specify them while you perform additional setup or testing.
However, be sure to set them before using your installation for
production purposes.

*Note*:

On Windows, you can also perform the process described in this section
using the Configuration Wizard (see *note
mysql-config-wizard-security::).  On all platforms, the MySQL
distribution includes *note 'mysql_secure_installation':
mysql-secure-installation, a command-line utility that automates much of
the process of securing a MySQL installation.  MySQL Workbench is
available on all platforms, and also offers the ability to manage user
accounts (see *note workbench:: ).

   * *note default-privileges-assigning-root-account-passwords::

   * *note default-privileges-assigning-anonymous-account-passwords::

   * *note default-privileges-removing-anonymous-accounts::

   * *note default-privileges-securing-test-databases::

*Assigning root Account Passwords*

A 'root' account password can be set several ways.  The following
discussion demonstrates three methods:

   * Use the *note 'SET PASSWORD': set-password. statement

   * Use the *note 'UPDATE': update. statement

   * Use the *note 'mysqladmin': mysqladmin. command-line client program

To assign passwords using *note 'SET PASSWORD': set-password, connect to
the server as 'root' and issue a *note 'SET PASSWORD': set-password.
statement for each 'root' account listed in the 'mysql.user' system
table.

For Windows, do this:

     shell> mysql -u root
     mysql> SET PASSWORD FOR 'root'@'localhost' = PASSWORD('NEW_PASSWORD');
     mysql> SET PASSWORD FOR 'root'@'127.0.0.1' = PASSWORD('NEW_PASSWORD');
     mysql> SET PASSWORD FOR 'root'@'::1' = PASSWORD('NEW_PASSWORD');
     mysql> SET PASSWORD FOR 'root'@'%' = PASSWORD('NEW_PASSWORD');

The last statement is unnecessary if the 'mysql.user' table has no
'root' account with a host value of '%'.

For Unix, do this:

     shell> mysql -u root
     mysql> SET PASSWORD FOR 'root'@'localhost' = PASSWORD('NEW_PASSWORD');
     mysql> SET PASSWORD FOR 'root'@'127.0.0.1' = PASSWORD('NEW_PASSWORD');
     mysql> SET PASSWORD FOR 'root'@'::1' = PASSWORD('NEW_PASSWORD');
     mysql> SET PASSWORD FOR 'root'@'HOST_NAME' = PASSWORD('NEW_PASSWORD');

You can also use a single statement that assigns a password to all
'root' accounts by using *note 'UPDATE': update. to modify the
'mysql.user' table directly.  This method works on any platform:

     shell> mysql -u root
     mysql> UPDATE mysql.user SET Password = PASSWORD('NEW_PASSWORD')
         ->     WHERE User = 'root';
     mysql> FLUSH PRIVILEGES;

The *note 'FLUSH': flush. statement causes the server to reread the
grant tables.  Without it, the password change remains unnoticed by the
server until you restart it.

To assign passwords to the 'root' accounts using *note 'mysqladmin':
mysqladmin, execute the following commands:

     shell> mysqladmin -u root password "NEW_PASSWORD"
     shell> mysqladmin -u root -h HOST_NAME password "NEW_PASSWORD"

Those commands apply both to Windows and to Unix.  The double quotation
marks around the password are not always necessary, but you should use
them if the password contains spaces or other characters that are
special to your command interpreter.

The *note 'mysqladmin': mysqladmin. method of setting the 'root' account
passwords does not work for the ''root'@'127.0.0.1'' or ''root'@'::1''
account.  Use the *note 'SET PASSWORD': set-password. method shown
earlier.

After the 'root' passwords have been set, you must supply the
appropriate password whenever you connect as 'root' to the server.  For
example, to shut down the server with *note 'mysqladmin': mysqladmin,
use this command:

     shell> mysqladmin -u root -p shutdown
     Enter password: (ENTER ROOT PASSWORD HERE)

The *note 'mysql': mysql. commands in the following instructions include
a '-p' option based on the assumption that you have assigned the 'root'
account passwords using the preceding instructions and must specify that
password when connecting to the server.

*Assigning Anonymous Account Passwords*

To assign passwords to the anonymous accounts, connect to the server as
'root', then use either *note 'SET PASSWORD': set-password. or *note
'UPDATE': update.

To use *note 'SET PASSWORD': set-password. on Windows, do this:

     shell> mysql -u root -p
     Enter password: (ENTER ROOT PASSWORD HERE)
     mysql> SET PASSWORD FOR ''@'localhost' = PASSWORD('NEW_PASSWORD');

To use *note 'SET PASSWORD': set-password. on Unix, do this:

     shell> mysql -u root -p
     Enter password: (ENTER ROOT PASSWORD HERE)
     mysql> SET PASSWORD FOR ''@'localhost' = PASSWORD('NEW_PASSWORD');
     mysql> SET PASSWORD FOR ''@'HOST_NAME' = PASSWORD('NEW_PASSWORD');

To set the anonymous-user account passwords with a single *note
'UPDATE': update. statement, do this (on any platform):

     shell> mysql -u root -p
     Enter password: (ENTER ROOT PASSWORD HERE)
     mysql> UPDATE mysql.user SET Password = PASSWORD('NEW_PASSWORD')
         ->     WHERE User = '';
     mysql> FLUSH PRIVILEGES;

The *note 'FLUSH': flush. statement causes the server to reread the
grant tables.  Without it, the password change remains unnoticed by the
server until you restart it.

*Removing Anonymous Accounts*

If you prefer to remove any anonymous accounts rather than assigning
them passwords, do so as follows on Windows:

     shell> mysql -u root -p
     Enter password: (ENTER ROOT PASSWORD HERE)
     mysql> DROP USER ''@'localhost';

On Unix, remove the anonymous accounts like this:

     shell> mysql -u root -p
     Enter password: (ENTER ROOT PASSWORD HERE)
     mysql> DROP USER ''@'localhost';
     mysql> DROP USER ''@'HOST_NAME';

*Securing Test Databases*

By default, the 'mysql.db' table contains rows that permit access by any
user to the 'test' database and other databases with names that start
with 'test_'.  (These rows have an empty 'User' column value, which for
access-checking purposes matches any user name.)  This means that such
databases can be used even by accounts that otherwise possess no
privileges.  If you want to remove any-user access to test databases, do
so as follows:

     shell> mysql -u root -p
     Enter password: (ENTER ROOT PASSWORD HERE)
     mysql> DELETE FROM mysql.db WHERE Db LIKE 'test%';
     mysql> FLUSH PRIVILEGES;

The *note 'FLUSH': flush. statement causes the server to reread the
grant tables.  Without it, the privilege change remains unnoticed by the
server until you restart it.

With the preceding change, only users who have global database
privileges or privileges granted explicitly for the 'test' database can
use it.  However, if you prefer that the database not exist at all, drop
it:

     mysql> DROP DATABASE test;


File: manual.info.tmp,  Node: automatic-start,  Prev: default-privileges,  Up: postinstallation

2.10.5 Starting and Stopping MySQL Automatically
------------------------------------------------

This section discusses methods for starting and stopping the MySQL
server.

Generally, you start the *note 'mysqld': mysqld. server in one of these
ways:

   * Invoke *note 'mysqld': mysqld. directly.  This works on any
     platform.

   * On Windows, you can set up a MySQL service that runs automatically
     when Windows starts.  See *note windows-start-service::.

   * On Unix and Unix-like systems, you can invoke *note 'mysqld_safe':
     mysqld-safe, which tries to determine the proper options for *note
     'mysqld': mysqld. and then runs it with those options.  See *note
     mysqld-safe::.

   * On systems that use System V-style run directories (that is,
     '/etc/init.d' and run-level specific directories), invoke *note
     'mysql.server': mysql-server.  This script is used primarily at
     system startup and shutdown.  It usually is installed under the
     name 'mysql'.  The *note 'mysql.server': mysql-server. script
     starts the server by invoking *note 'mysqld_safe': mysqld-safe.
     See *note mysql-server::.

   * On macOS, install a launchd daemon to enable automatic MySQL
     startup at system startup.  The daemon starts the server by
     invoking *note 'mysqld_safe': mysqld-safe.  For details, see *note
     osx-installation-launchd::.  A MySQL Preference Pane also provides
     control for starting and stopping MySQL through the System
     Preferences.  See *note osx-installation-prefpane::.

   * On Solaris, use the service management framework (SMF) system to
     initiate and control MySQL startup.

The *note 'mysqld_safe': mysqld-safe. and *note 'mysql.server':
mysql-server. scripts, Solaris SMF, and the macOS Startup Item (or MySQL
Preference Pane) can be used to start the server manually, or
automatically at system startup time.  *note 'mysql.server':
mysql-server. and the Startup Item also can be used to stop the server.

The following table shows which option groups the server and startup
scripts read from option files.

*MySQL Startup Scripts and Supported Server Option Groups*

Script         Option Groups
               
*note 'mysqld': mysqld.'[mysqld]', '[server]', '[mysqld-MAJOR_VERSION]'
               
*note 'mysqld_safe': mysqld-safe.'[mysqld]', '[server]', '[mysqld_safe]'
               
*note 'mysql.server': mysql-server.'[mysqld]', '[mysql.server]', '[server]'

'[mysqld-MAJOR_VERSION]' means that groups with names like
'[mysqld-5.1]' and '[mysqld-5.5]' are read by servers having versions
5.1.x, 5.5.x, and so forth.  This feature can be used to specify options
that can be read only by servers within a given release series.

For backward compatibility, *note 'mysql.server': mysql-server. also
reads the '[mysql_server]' group and *note 'mysqld_safe': mysqld-safe.
also reads the '[safe_mysqld]' group.  However, you should update your
option files to use the '[mysql.server]' and '[mysqld_safe]' groups
instead.

For more information on MySQL configuration files and their structure
and contents, see *note option-files::.


File: manual.info.tmp,  Node: upgrading,  Next: downgrading,  Prev: postinstallation,  Up: installing

2.11 Upgrading MySQL
====================

* Menu:

* upgrade-before-you-begin::     Before You Begin
* upgrade-paths::                Upgrade Paths
* upgrading-from-previous-series::  Changes in MySQL 5.5
* upgrade-binary-package::       Upgrading MySQL Binary or Package-based Installations on Unix/Linux
* windows-upgrading::            Upgrading MySQL on Windows
* upgrade-troubleshooting::      Upgrade Troubleshooting
* rebuilding-tables::            Rebuilding or Repairing Tables or Indexes
* copying-databases::            Copying MySQL Databases to Another Machine

This section describes the steps to upgrade a MySQL installation.

Upgrading is a common procedure, as you pick up bug fixes within the
same MySQL release series or significant features between major MySQL
releases.  You perform this procedure first on some test systems to make
sure everything works smoothly, and then on the production systems.

*Note*:

In the following discussion, MySQL commands that must be run using a
MySQL account with administrative privileges include '-u root' on the
command line to specify the MySQL 'root' user.  Commands that require a
password for 'root' also include a '-p' option.  Because '-p' is
followed by no option value, such commands prompt for the password.
Type the password when prompted and press Enter.

SQL statements can be executed using the *note 'mysql': mysql.
command-line client (connect as 'root' to ensure that you have the
necessary privileges).


File: manual.info.tmp,  Node: upgrade-before-you-begin,  Next: upgrade-paths,  Prev: upgrading,  Up: upgrading

2.11.1 Before You Begin
-----------------------

Review the information in this section before upgrading.  Perform any
recommended actions.

   * Protect your data by creating a backup.  The backup should include
     the 'mysql' system database, which contains the MySQL system
     tables.  See *note backup-methods::.

   * Review *note upgrade-paths:: to ensure that your intended upgrade
     path is supported.

   * Review *note upgrading-from-previous-series:: for changes that you
     should be aware of before upgrading.  Some changes may require
     action.

   * Review *note mysql-nutshell:: for deprecated and removed features.
     An upgrade may require changes with respect to those features if
     you use any of them.

   * Review Deprecated, or Removed in MySQL 5.7.  If you use deprecated
     or removed variables, an upgrade may require configuration changes.

   * Review the Release Notes
     (https://dev.mysql.com/doc/relnotes/mysql/5.5/en/) for information
     about fixes, changes, and new features.

   * If you use replication, review *note replication-upgrade::.

   * Upgrade procedures vary by platform and how the initial
     installation was performed.  Use the procedure that applies to your
     current MySQL installation:

        * For binary and package-based installations on non-Windows
          platforms, refer to *note upgrade-binary-package::.

        * For installations on Windows, refer to *note
          windows-upgrading::.

   * If your MySQL installation contains a large amount of data that
     might take a long time to convert after an in-place upgrade, it may
     be useful to create a test instance for assessing the conversions
     that are required and the work involved to perform them.  To create
     a test instance, make a copy of your MySQL instance that contains
     the 'mysql' database and other databases without the data.  Run the
     upgrade procedure on the test instance to assess the work involved
     to perform the actual data conversion.

   * Rebuilding and reinstalling MySQL language interfaces is
     recommended when you install or upgrade to a new release of MySQL.
     This applies to MySQL interfaces such as PHP 'mysql' extensions and
     the Perl 'DBD::mysql' module.


File: manual.info.tmp,  Node: upgrade-paths,  Next: upgrading-from-previous-series,  Prev: upgrade-before-you-begin,  Up: upgrading

2.11.2 Upgrade Paths
--------------------

   * Upgrade is only supported between General Availability (GA)
     releases.

   * Upgrade from MySQL 5.1 to 5.5 is supported.  Upgrading to the
     latest release is recommended before upgrading to the next version.
     For example, upgrade to the latest MySQL 5.1 release before
     upgrading to MySQL 5.5.

   * Upgrade that skips versions is not supported.  For example,
     upgrading directly from MySQL 5.0 to 5.5 is not supported.

   * Upgrade within a release series is supported.  For example,
     upgrading from MySQL 5.5.X to 5.5.Y is supported.  Skipping a
     release is also supported.  For example, upgrading from MySQL 5.5.X
     to 5.5.Z is supported.


File: manual.info.tmp,  Node: upgrading-from-previous-series,  Next: upgrade-binary-package,  Prev: upgrade-paths,  Up: upgrading

2.11.3 Changes in MySQL 5.5
---------------------------

Before upgrading to MySQL 5.5, review the changes described in this
section to identify those that apply to your current MySQL installation
and applications.  Perform any recommended actions.

Changes marked as *Incompatible change* are incompatibilities with
earlier versions of MySQL, and may require your attention _before
upgrading_.  Our aim is to avoid these changes, but occasionally they
are necessary to correct problems that would be worse than an
incompatibility between releases.  If an upgrade issue applicable to
your installation involves an incompatibility, follow the instructions
given in the description.  Sometimes this involves dumping and reloading
tables, or use of a statement such as *note 'CHECK TABLE': check-table.
or *note 'REPAIR TABLE': repair-table.

For dump and reload instructions, see *note rebuilding-tables::.  Any
procedure that involves *note 'REPAIR TABLE': repair-table. with the
'USE_FRM' option _must_ be done before upgrading.  Use of this statement
with a version of MySQL different from the one used to create the table
(that is, using it after upgrading) may damage the table.  See *note
repair-table::.

   * *note upgrade-configuration-changes::

   * *note upgrade-server-changes::

   * *note upgrade-innodb-changes::

   * *note upgrade-sql-changes::

*Configuration Changes*

   * *Incompatible change*: The 'InnoDB Plugin' is included in MySQL 5.5
     releases.  It becomes the built-in version of 'InnoDB' in MySQL
     Server, replacing the version previously included as the built-in
     'InnoDB' engine.  'InnoDB Plugin' is also available in MySQL 5.1 as
     of 5.1.38, but it is an optional storage engine that must be
     enabled explicitly using two server options:

          [mysqld]
          ignore-builtin-innodb
          plugin-load=innodb=ha_innodb_plugin.so

     If you were using 'InnoDB Plugin' in MySQL 5.1 by means of those
     options, you must remove them after an upgrade to 5.5 or the server
     will fail to start.

     In addition, in 'InnoDB Plugin', the 'innodb_file_io_threads'
     system variable has been removed and replaced with
     'innodb_read_io_threads' and 'innodb_write_io_threads'.  If you
     upgrade from MySQL 5.1 to MySQL 5.5 and previously explicitly set
     'innodb_file_io_threads' at server startup, you must change your
     configuration.  Either remove any reference to
     'innodb_file_io_threads' or replace it with references to
     'innodb_read_io_threads' and 'innodb_write_io_threads'.

   * *Incompatible change*: In MySQL 5.5, the server includes a plugin
     services interface that complements the plugin API. The services
     interface enables server functionality to be exposed as a 'service'
     that plugins can access through a function-call interface.  The
     'libmysqlservices' library provides access to the available
     services and dynamic plugins now must be linked against this
     library (use the '-lmysqlservices' flag).  For an example showing
     how to configure for 'CMake', see *note plugin-services::.

*Server Changes*

   * 
     On Linux systems, the 'libaio' library may be needed.  Install it
     first, if it is not already present on your system.

   * As of MySQL 5.5.32, for new installations, the 'url' columns in the
     'mysql' database help tables are now created as type *note 'TEXT':
     blob. to accommodate longer URLs.  For upgrades, *note
     'mysql_upgrade': mysql-upgrade. does _not_ update the columns.
     Modify them manually using these statements:

          ALTER TABLE mysql.help_category MODIFY url TEXT NOT NULL;
          ALTER TABLE mysql.help_topic MODIFY url TEXT NOT NULL;

   * *Incompatible change*: As of MySQL 5.5.3, due to work done for Bug
     #989, 'FLUSH TABLES' is not permitted when there is an active *note
     'LOCK TABLES ... READ': lock-tables.  To provide a workaround for
     this restriction, 'FLUSH TABLES' has a new variant, 'FLUSH TABLES
     TBL_LIST WITH READ LOCK', that enables tables to be flushed and
     locked in a single operation.  As a result of this change,
     applications that previously used this statement sequence to lock
     and flush tables will fail:

          LOCK TABLES TBL_LIST READ;
          FLUSH TABLES TBL_LIST;

     Such applications should now use this statement instead:

          FLUSH TABLES TBL_LIST WITH READ LOCK;

   * 
     *Incompatible change*: As of MySQL 5.5.7, the server requires that
     a new grant table, 'proxies_priv', be present in the 'mysql'
     database.  If you are upgrading to 5.5.7 from a previous MySQL
     release rather than performing a new installation, the server will
     find that this table is missing and exit during startup with the
     following message:

          Table 'mysql.proxies_priv' doesn't exist

     To create the 'proxies_priv' table, start the server with the
     '--skip-grant-tables' option to cause it to skip the normal grant
     table checks, then run *note 'mysql_upgrade': mysql-upgrade.  For
     example:

          mysqld --skip-grant-tables &
          mysql_upgrade

     Then stop the server and restart it normally.

     You can specify other options on the *note 'mysqld': mysqld.
     command line if necessary.  Alternatively, if your installation is
     configured so that the server normally reads options from an option
     file, use the '--defaults-file' option to specify the file (enter
     each command on a single line):

          mysqld --defaults-file=/usr/local/mysql/etc/my.cnf
            --skip-grant-tables &
          mysql_upgrade

     With the '--skip-grant-tables' option, the server does no password
     or privilege checking, so any client can connect and effectively
     have all privileges.  For additional security, enable the
     'skip_networking' system variable as well to prevent remote clients
     from connecting.

     *Note*:

     This problem is fixed in MySQL 5.5.8; the server treats a missing
     'proxies_priv' table as equivalent to an empty table.  However,
     after starting the server, you should still run *note
     'mysql_upgrade': mysql-upgrade. to create the table.

   * *Incompatible change*: As of MySQL 5.5.7, 'InnoDB' always uses the
     fast truncation technique, equivalent to *note 'DROP TABLE':
     drop-table. and *note 'CREATE TABLE': create-table.  It no longer
     performs a row-by-row delete for tables with parent-child foreign
     key relationships.  *note 'TRUNCATE TABLE': truncate-table. returns
     an error for such tables.  Modify your SQL to issue 'DELETE FROM
     TABLE_NAME' for such tables instead.

   * *Incompatible change*: Prior to MySQL 5.5.7, if you flushed the
     logs using 'FLUSH LOGS' or *note 'mysqladmin flush-logs':
     mysqladmin. and *note 'mysqld': mysqld. was writing the error log
     to a file (for example, if it was started with the '--log-error'
     option), it renames the current log file with the suffix '-old',
     then created a new empty log file.  This had the problem that a
     second log-flushing operation thus caused the original error log
     file to be lost unless you saved it under a different name.  For
     example, you could use the following commands to save the file:

          mysqladmin flush-logs
          mv HOST_NAME.err-old BACKUP-DIRECTORY

     To avoid the preceding file-loss problem, no renaming occurs as of
     MySQL 5.5.7; the server merely closes and reopens the log file.  To
     rename the file, you can do so manually before flushing.  Then
     flushing the logs reopens a new file with the original file name.
     For example, you can rename the file and create a new one using the
     following commands:

          mv HOST_NAME.err HOST_NAME.err-old
          mysqladmin flush-logs
          mv HOST_NAME.err-old BACKUP-DIRECTORY

   * *Incompatible change*: As of MySQL 5.5.6, handling of *note 'CREATE
     TABLE IF NOT EXISTS ... SELECT': create-table-select. statements
     has been changed for the case that the destination table already
     exists:

        * Previously, for *note 'CREATE TABLE IF NOT EXISTS ... SELECT':
          create-table-select, MySQL produced a warning that the table
          exists, but inserted the rows and wrote the statement to the
          binary log anyway.  By contrast, *note 'CREATE TABLE ...
          SELECT': create-table-select. (without 'IF NOT EXISTS') failed
          with an error, but MySQL inserted no rows and did not write
          the statement to the binary log.

        * MySQL now handles both statements the same way when the
          destination table exists, in that neither statement inserts
          rows or is written to the binary log.  The difference between
          them is that MySQL produces a warning when 'IF NOT EXISTS' is
          present and an error when it is not.

     This change in handling of 'IF NOT EXISTS' results in an
     incompatibility for statement-based replication from a MySQL 5.1
     master with the original behavior and a MySQL 5.5 slave with the
     new behavior.  Suppose that *note 'CREATE TABLE IF NOT EXISTS ...
     SELECT': create-table-select. is executed on the master and the
     destination table exists.  The result is that rows are inserted on
     the master but not on the slave.  (Row-based replication does not
     have this problem.)

     To address this issue, statement-based binary logging for *note
     'CREATE TABLE IF NOT EXISTS ... SELECT': create-table-select. is
     changed in MySQL 5.1 as of 5.1.51:

        * If the destination table does not exist, there is no change:
          The statement is logged as is.

        * If the destination table does exist, the statement is logged
          as the equivalent pair of *note 'CREATE TABLE IF NOT EXISTS':
          create-table-select. and *note 'INSERT ... SELECT':
          insert-select. statements.  (If the *note 'SELECT': select. in
          the original statement is preceded by 'IGNORE' or *note
          'REPLACE': replace, the *note 'INSERT': insert. becomes *note
          'INSERT IGNORE': insert. or *note 'REPLACE': replace,
          respectively.)

     This change provides forward compatibility for statement-based
     replication from MySQL 5.1 to 5.5 because when the destination
     table exists, the rows will be inserted on both the master and
     slave.  To take advantage of this compatibility measure, the 5.1
     server must be at least 5.1.51 and the 5.5 server must be at least
     5.5.6.

     To upgrade an existing 5.1-to-5.5 replication scenario, upgrade the
     master first to 5.1.51 or higher.  Note that this differs from the
     usual replication upgrade advice of upgrading the slave first.

     A workaround for applications that wish to achieve the original
     effect (rows inserted regardless of whether the destination table
     exists) is to use *note 'CREATE TABLE IF NOT EXISTS':
     create-table-select. and *note 'INSERT ... SELECT': insert-select.
     statements rather than *note 'CREATE TABLE IF NOT EXISTS ...
     SELECT': create-table-select. statements.

     Along with the change just described, the following related change
     was made: Previously, if an existing view was named as the
     destination table for *note 'CREATE TABLE IF NOT EXISTS ...
     SELECT': create-table-select, rows were inserted into the
     underlying base table and the statement was written to the binary
     log.  As of MySQL 5.1.51 and 5.5.6, nothing is inserted or logged.

   * *Incompatible change*: Prior to MySQL 5.5.6, if the server was
     started with 'character_set_server' set to 'utf16', it crashed
     during full-text stopword initialization.  Now the stopword file is
     loaded and searched using 'latin1' if 'character_set_server' is
     'ucs2', 'utf16', or 'utf32'.  If any table was created with
     'FULLTEXT' indexes while the server character set was 'ucs2',
     'utf16', or 'utf32', it should be repaired using this statement:

          REPAIR TABLE TBL_NAME QUICK;

   * *Incompatible change*: As of MySQL 5.5.5, all numeric operators and
     functions on integer, floating-point and *note 'DECIMAL':
     fixed-point-types. values throw an 'out of range' error
     ('ER_DATA_OUT_OF_RANGE') rather than returning an incorrect value
     or 'NULL', when the result is out of the supported range for the
     corresponding data type.  See *note out-of-range-and-overflow::.

   * 
     *Incompatible change*: In very old versions of MySQL (prior to
     4.1), the *note 'TIMESTAMP': datetime. data type supported a
     display width, which was silently ignored beginning with MySQL 4.1.
     This is deprecated in MySQL 5.1, and removed altogether in MySQL
     5.5.  These changes in behavior can lead to two problem scenarios
     when trying to use *note 'TIMESTAMP(N)': datetime. columns with a
     MySQL 5.5 or later server:

        * When importing a dump file (for example, one created using
          *note 'mysqldump': mysqldump.) created in a MySQL 5.0 or
          earlier server into a server from a newer release series, a
          *note 'CREATE TABLE': create-table. or *note 'ALTER TABLE':
          alter-table. statement containing *note 'TIMESTAMP(N)':
          datetime. causes the import to fail with a syntax error.

          To fix this problem, edit the dump file in a text editor to
          replace any instances of *note 'TIMESTAMP(N)': datetime. with
          *note 'TIMESTAMP': datetime. prior to importing the file.  Be
          sure to use a plain text editor for this, and not a word
          processor; otherwise, the result is almost certain to be
          unusable for importing into the MySQL server.

        * When trying replicate any *note 'CREATE TABLE': create-table.
          or *note 'ALTER TABLE': alter-table. statement containing
          *note 'TIMESTAMP(N)': datetime. from a master MySQL server
          that supports the *note 'TIMESTAMP(N)': datetime. syntax to a
          MySQL 5.5.3 or higher slave, the statement causes replication
          to fail.  Similarly, when you try to restore from a binary log
          written by a server that supports *note 'TIMESTAMP(N)':
          datetime. to a MySQL 5.5.3 or higher server, any *note 'CREATE
          TABLE': create-table. or *note 'ALTER TABLE': alter-table.
          statement containing *note 'TIMESTAMP(N)': datetime. causes
          the backup to fail.  This holds true regardless of the logging
          format.

          It may be possible to fix such issues using a hex editor, by
          replacing any width arguments used with *note 'TIMESTAMP':
          datetime, and the parentheses containing them, with space
          characters (hexadecimal '20').

          Be sure to use a programmer's binary hex editor and not a
          regular text editor or word processor for this; otherwise, the
          result is almost certain to be a corrupted binary log file.
          To guard against accidental corruption of the binary log, you
          should always work on a copy of the file rather than the
          original.

     You should try to handle potential issues of these types
     proactively by updating with *note 'ALTER TABLE': alter-table. any
     *note 'TIMESTAMP(N)': datetime. columns in your databases so that
     they use *note 'TIMESTAMP': datetime. instead, before performing
     any upgrades.

   * *Incompatible change*: As of MySQL 5.5.3, the Unicode
     implementation has been extended to provide support for
     supplementary characters that lie outside the Basic Multilingual
     Plane (BMP). Noteworthy features:

        * 'utf16' and 'utf32' character sets have been added.  These
          correspond to the UTF-16 and UTF-32 encodings of the Unicode
          character set, and they both support supplementary characters.

        * The 'utf8mb4' character set has been added.  This is similar
          to 'utf8', but its encoding allows up to four bytes per
          character to enable support for supplementary characters.

        * The 'ucs2' character set is essentially unchanged except for
          the inclusion of some newer BMP characters.

     In most respects, upgrading to MySQL 5.5 should present few
     problems with regard to Unicode usage, although there are some
     potential areas of incompatibility.  These are the primary areas of
     concern:

        * For the variable-length character data types (*note 'VARCHAR':
          char. and the *note 'TEXT': blob. types), the maximum length
          in characters is less for 'utf8mb4' columns than for 'utf8'
          columns.

        * For all character data types (*note 'CHAR': char, *note
          'VARCHAR': char, and the *note 'TEXT': blob. types), the
          maximum number of characters that can be indexed is less for
          'utf8mb4' columns than for 'utf8' columns.

     Consequently, if you want to upgrade tables from 'utf8' to
     'utf8mb4' to take advantage of supplementary-character support, it
     may be necessary to change some column or index definitions.

     For additional details about the new Unicode character sets and
     potential incompatibilities, see *note charset-unicode::, and *note
     charset-unicode-conversion::.

   * *Incompatible change*: As of MySQL 5.5.3, the server includes
     'dtoa', a library for conversion between strings and numbers by
     David M. Gay.  In MySQL, this library provides the basis for
     improved conversion between string or *note 'DECIMAL':
     fixed-point-types. values and approximate-value (*note 'FLOAT':
     floating-point-types. or *note 'DOUBLE': floating-point-types.)
     numbers.

     Because the conversions produced by this library differ in some
     cases from previous results, the potential exists for
     incompatibilities in applications that rely on previous results.
     For example, applications that depend on a specific exact result
     from previous conversions might need adjustment to accommodate
     additional precision.

     For additional information about the properties of 'dtoa'
     conversions, see *note type-conversion::.

   * *Incompatible change*: In MySQL 5.5, several changes were made
     regarding the language and character set of error messages:

        * The '--language' option for specifying the directory for the
          error message file is now deprecated.  The new
          'lc_messages_dir' and 'lc_messages' system variables should be
          used instead, and the server treats '--language' as an alias
          for 'lc_messages_dir'.

        * The 'language' system variable has been removed and replaced
          with the new 'lc_messages_dir' and 'lc_messages' system
          variables.  'lc_messages_dir' has only a global value and is
          read only.  'lc_messages' has global and session values and
          can be modified at runtime, so the error message language can
          be changed while the server is running, and individual clients
          each can have a different error message language by changing
          their session 'lc_messages' value to a different locale name.

        * Error messages previously were constructed in a mix of
          character sets.  This issue is resolved by constructing error
          messages internally within the server using UTF-8 and
          returning them to the client in the character set specified by
          the 'character_set_results' system variable.  The content of
          error messages therefore may in some cases differ from the
          messages returned previously.

     For more information, see *note error-message-language::, and *note
     charset-errors::.

   * *Incompatible change*: MySQL 5.5 implements new functions used to
     calculate row placement for tables partitioned by 'KEY' and 'LINEAR
     KEY'.  Tables that were created using 'KEY' or 'LINEAR KEY'
     partitioning in MySQL 5.1 can be upgraded in MySQL 5.5.31 and later
     using *note 'ALTER TABLE ... PARTITION BY ALGORITHM=2 [LINEAR] KEY
     (...)': alter-table-partition-operations.  (Bug #14521864, Bug
     #66462)

*InnoDB Changes*

As of MySQL 5.5.62, the zlib library (http://www.zlib.net/) version
bundled with MySQL was raised from version 1.2.3 to version 1.2.11.

The zlib 'compressBound()' function in zlib 1.2.11 returns a slightly
higher estimate of the buffer size required to compress a given length
of bytes than it did in zlib version 1.2.3.  The 'compressBound()'
function is called by 'InnoDB' functions that determine the maximum row
size permitted when creating compressed 'InnoDB' tables or inserting
rows into compressed 'InnoDB' tables.  As a result, *note 'CREATE TABLE
... ROW_FORMAT=COMPRESSED': create-table. or *note 'INSERT': insert.
operations with row sizes very close to the maximum row size that were
successful in earlier releases could now fail.

If you have compressed 'InnoDB' tables with large rows, it is
recommended that you test compressed table *note 'CREATE TABLE':
create-table. statements on a MySQL 5.5 test instance prior to
upgrading.

*SQL Changes*

   * *Incompatible change*: Previously, the parser accepted an 'INTO'
     clause in nested *note 'SELECT': select. statements, which is
     invalid because such statements must return their results to the
     outer context.  As of MySQL 5.5.3, this syntax is no longer
     permitted and statements that use it must be changed.

   * *Incompatible change*: In MySQL 5.5.3, several changes were made to
     alias resolution in multiple-table *note 'DELETE': delete.
     statements so that it is no longer possible to have inconsistent or
     ambiguous table aliases.

        * In MySQL 5.1.23, alias declarations outside the
          TABLE_REFERENCES part of the statement were disallowed for the
          'USING' variant of multiple-table *note 'DELETE': delete.
          syntax, to reduce the possibility of ambiguous aliases that
          could lead to ambiguous statements that have unexpected
          results such as deleting rows from the wrong table.

          As of MySQL 5.5.3, alias declarations outside TABLE_REFERENCES
          are disallowed for all multiple-table *note 'DELETE': delete.
          statements.  Alias declarations are permitted only in the
          TABLE_REFERENCES part.

          Incorrect:

               DELETE FROM t1 AS a2 USING t1 AS a1 INNER JOIN t2 AS a2;
               DELETE t1 AS a2 FROM t1 AS a1 INNER JOIN t2 AS a2;

          Correct:

               DELETE FROM t1 USING t1 AS a1 INNER JOIN t2 AS a2;
               DELETE t1 FROM t1 AS a1 INNER JOIN t2 AS a2;

        * Previously, for alias references in the list of tables from
          which to delete rows in a multiple-table delete, the default
          database is used unless one is specified explicitly.  For
          example, if the default database is 'db1', the following
          statement does not work because the unqualified alias
          reference 'a2' is interpreted as having a database of 'db1':

               DELETE a1, a2 FROM db1.t1 AS a1 INNER JOIN db2.t2 AS a2
               WHERE a1.id=a2.id;

          To correctly match an alias that refers to a table outside the
          default database, you must explicitly qualify the reference
          with the name of the proper database:

               DELETE a1, db2.a2 FROM db1.t1 AS a1 INNER JOIN db2.t2 AS a2
               WHERE a1.id=a2.id;

          As of MySQL 5.5.3, alias resolution does not require
          qualification and alias references should not be qualified
          with the database name.  Qualified names are interpreted as
          referring to tables, not aliases.

     Statements containing alias constructs that are no longer permitted
     must be rewritten.

   * Some keywords may be reserved in MySQL 5.5 that were not reserved
     in MySQL 5.1.  See *note keywords::.  This can cause words
     previously used as identifiers to become illegal.  To fix affected
     statements, use identifier quoting.  See *note identifiers::.


File: manual.info.tmp,  Node: upgrade-binary-package,  Next: windows-upgrading,  Prev: upgrading-from-previous-series,  Up: upgrading

2.11.4 Upgrading MySQL Binary or Package-based Installations on Unix/Linux
--------------------------------------------------------------------------

This section describes how to upgrade MySQL binary and package-based
installations on Unix/Linux.  In-place and logical upgrade methods are
described.

   * *note upgrade-procedure-inplace::

   * *note upgrade-procedure-logical::

*Note*:

A logical upgrade is recommended when upgrading from a previous version.
For example, use this method when upgrading from 5.1 to 5.5.

*In-Place Upgrade*

An in-place upgrade involves shutting down the old MySQL server,
replacing the old MySQL binaries or packages with the new ones,
restarting MySQL on the existing data directory, and upgrading any
remaining parts of the existing installation that require upgrading.

*Note*:

If you upgrade an installation originally produced by installing
multiple RPM packages, upgrade all the packages, not just some.  For
example, if you previously installed the server and client RPMs, do not
upgrade just the server RPM.

To perform an in-place upgrade:

  1. If you use XA transactions with 'InnoDB', run *note 'XA RECOVER':
     xa-statements. before upgrading to check for uncommitted XA
     transactions.  If results are returned, either commit or rollback
     the XA transactions by issuing an *note 'XA COMMIT': xa-statements.
     or *note 'XA ROLLBACK': xa-statements. statement.

  2. If you use 'InnoDB', configure MySQL to perform a slow shutdown by
     setting 'innodb_fast_shutdown' to '0'.  For example:

          mysql -u root -p --execute="SET GLOBAL innodb_fast_shutdown=0"

     With a slow shutdown, 'InnoDB' performs a full purge and change
     buffer merge before shutting down, which ensures that data files
     are fully prepared in case of file format differences between
     releases.

  3. Shut down the old MySQL server.  For example:

          mysqladmin -u root -p shutdown

  4. Upgrade the MySQL binary installation or packages.  If upgrading a
     binary installation, unpack the new MySQL binary distribution
     package.  See *note binary-installation-unpack::.  For
     package-based installations, install the new packages.

  5. Start the MySQL 5.5 server, using the existing data directory.  For
     example:

          mysqld_safe --user=mysql --datadir=/PATH/TO/EXISTING-DATADIR &

  6. Run *note 'mysql_upgrade': mysql-upgrade.  For example:

          mysql_upgrade -u root -p

     *note 'mysql_upgrade': mysql-upgrade. examines all tables in all
     databases for incompatibilities with the current version of MySQL.
     *note 'mysql_upgrade': mysql-upgrade. also upgrades the 'mysql'
     system database so that you can take advantage of new privileges or
     capabilities.

     *Note*:

     *note 'mysql_upgrade': mysql-upgrade. does not upgrade the contents
     of the time zone tables or help tables.  For upgrade instructions,
     see *note time-zone-support::, and *note
     server-side-help-support::.

  7. Shut down and restart the MySQL server to ensure that any changes
     made to the system tables take effect.  For example:

          mysqladmin -u root -p shutdown
          mysqld_safe --user=mysql --datadir=/PATH/TO/EXISTING-DATADIR &

*Logical Upgrade*

A logical upgrade involves exporting SQL from the old MySQL instance
using a backup or export utility such as *note 'mysqldump': mysqldump,
installing the new MySQL server, and applying the SQL to your new MySQL
instance.

To perform a logical upgrade:

  1. Review the information in *note upgrade-before-you-begin::.

  2. Export your existing data from the previous MySQL installation:

          mysqldump -u root -p
            --add-drop-table --routines --events
            --all-databases --force > data-for-upgrade.sql

     *Note*:

     Use the '--routines' and '--events' options with *note 'mysqldump':
     mysqldump. (as shown above) if your databases include stored
     programs.  The '--all-databases' option includes all databases in
     the dump, including the 'mysql' database that holds the system
     tables.

  3. Shut down the old MySQL server.  For example:

          mysqladmin -u root -p shutdown

  4. Install MySQL 5.5.  For installation instructions, see *note
     installing::.

  5. Initialize a new data directory, as described at *note
     data-directory-initialization::.  For example:

          scripts/mysql_install_db --user=mysql --datadir=/PATH/TO/5.5-DATADIR

  6. Start the MySQL 5.5 server, using the new data directory.  For
     example:

          mysqld_safe --user=mysql --datadir=/PATH/TO/5.5-DATADIR &

  7. Load the previously created dump file into the new MySQL server.
     For example:

          mysql -u root -p --force < data-for-upgrade.sql

  8. Run *note 'mysql_upgrade': mysql-upgrade.  For example:

          mysql_upgrade -u root -p

     *note 'mysql_upgrade': mysql-upgrade. examines all tables in all
     databases for incompatibilities with the current version of MySQL.
     *note 'mysql_upgrade': mysql-upgrade. also upgrades the 'mysql'
     system database so that you can take advantage of new privileges or
     capabilities.

     *Note*:

     *note 'mysql_upgrade': mysql-upgrade. does not upgrade the contents
     of the time zone tables or help tables.  For upgrade instructions,
     see *note time-zone-support::, and *note
     server-side-help-support::.

  9. Shut down and restart the MySQL server to ensure that any changes
     made to the system tables take effect.  For example:

          mysqladmin -u root -p shutdown
          mysqld_safe --user=mysql --datadir=/PATH/TO/5.5-DATADIR &


File: manual.info.tmp,  Node: windows-upgrading,  Next: upgrade-troubleshooting,  Prev: upgrade-binary-package,  Up: upgrading

2.11.5 Upgrading MySQL on Windows
---------------------------------

There are two approaches for upgrading MySQL on Windows:

   * Using MySQL Installer

   * Using the Windows ZIP archive distribution

The approach you select depends on how the existing installation was
performed.  Before proceeding, review *note upgrading:: for additional
information on upgrading MySQL that is not specific to Windows.

*Note*:

Whichever approach you choose, always back up your current MySQL
installation before performing an upgrade.  See *note backup-methods::.

Upgrades between milestone releases (or from a milestone release to a GA
release) are not supported.  Significant development changes take place
in milestone releases and you may encounter compatibility issues or
problems starting the server.  For instructions on how to perform a
logical upgrade with a milestone release, see *note
upgrade-procedure-logical::.

*Note*:

MySQL Installer does not support upgrades between _Community_ releases
and _Commercial_ releases.  If you require this type of upgrade, perform
it using the ZIP archive approach.

*Upgrading MySQL with MySQL Installer*

Performing an upgrade with MySQL Installer is the best approach when the
current server installation was performed with it and the upgrade is
within the current release series.  MySQL Installer does not support
upgrades between release series, such as from 5.1 to 5.5, and it does
not provide an upgrade indicator to prompt you to upgrade.  For
instructions on upgrading between release series, see *note
windows-upgrading-zip-distribution::.

To perform an upgrade using MySQL Installer:

  1. Start MySQL Installer.

  2. From the dashboard, click 'Catalog' to download the latest changes
     to the catalog.  The installed server can be upgraded only if the
     dashboard displays an arrow next to the version number of the
     server.

  3. Click 'Upgrade'.  All products that have a newer version now appear
     in a list.

     *Note*:

     MySQL Installer deselects the server upgrade option for milestone
     releases (Pre-Release) in the same release series.  In addition, it
     displays a warning to indicate that the upgrade is not supported,
     identifies the risks of continuing, and provides a summary of the
     steps to perform a logical upgrade manually.  You can reselect
     server upgrade and proceed at your own risk.

  4. Deselect all but the MySQL server product, unless you intend to
     upgrade other products at this time, and click 'Next'.

  5. Click 'Execute' to start the download.  When the download finishes,
     click 'Next' to begin the upgrade operation.

  6. Configure the server.

*Note*:

MySQL Workbench 6.3 is the last Workbench version to fully support MySQL
Server 5.5.

*Upgrading MySQL Using the Windows ZIP Distribution*

To perform an upgrade using the Windows ZIP archive distribution:

  1. Download the latest Windows distribution of MySQL from
     <https://dev.mysql.com/downloads/>.

  2. If the server is running, stop it.  If the server is installed as a
     service, stop the service with the following command from the
     command prompt:

          C:\> SC STOP MYSQLD_SERVICE_NAME

     Alternatively, use 'NET STOP MYSQLD_SERVICE_NAME'.

     If you are not running the MySQL server as a service, use *note
     'mysqladmin': mysqladmin. to stop it.  For example, before
     upgrading from MySQL 5.1 to 5.5, use *note 'mysqladmin':
     mysqladmin. from MySQL 5.1 as follows:

          C:\> "C:\Program Files\MySQL\MySQL Server 5.1\bin\mysqladmin" -u root shutdown

     *Note*:

     If the MySQL 'root' user account has a password, invoke *note
     'mysqladmin': mysqladmin. with the '-p' option and enter the
     password when prompted.

  3. If you are using the MySQL Installation Wizard, start the wizard as
     described in *note windows-install-wizard::.

  4. If you are upgrading MySQL from a ZIP archive, extract the archive.
     You may either overwrite your existing MySQL installation (usually
     located at 'C:\mysql'), or install it into a different directory,
     such as 'C:\mysql5'.  Overwriting the existing installation is
     recommended.  However, for upgrades (as opposed to installing for
     the first time), you must remove the data directory from your
     existing MySQL installation to avoid replacing your current data
     files.  To do so, follow these steps:

       1. Unzip the ZIP archive in some location other than your current
          MySQL installation

       2. Remove the data directory

       3. Move the data directory from the current MySQL installation to
          the location of the just-removed data directory

       4. Remove the current MySQL installation

       5. Move the unzipped installation to the location of the
          just-removed installation

  5. Restart the server.  For example, use the 'SC START
     MYSQLD_SERVICE_NAME' or 'NET START MYSQLD_SERVICE_NAME' command if
     you run MySQL as a service, or invoke *note 'mysqld': mysqld.
     directly otherwise.

  6. As Administrator, run *note 'mysql_upgrade': mysql-upgrade. to
     check your tables, attempt to repair them if necessary, and update
     your grant tables if they have changed so that you can take
     advantage of any new capabilities.  See *note mysql-upgrade::.

  7. If you encounter errors, see *note windows-troubleshooting::.


File: manual.info.tmp,  Node: upgrade-troubleshooting,  Next: rebuilding-tables,  Prev: windows-upgrading,  Up: upgrading

2.11.6 Upgrade Troubleshooting
------------------------------

   * If problems occur, such as that the new *note 'mysqld': mysqld.
     server does not start or that you cannot connect without a
     password, verify that you do not have an old 'my.cnf' file from
     your previous installation.  You can check this with the
     '--print-defaults' option (for example, *note 'mysqld
     --print-defaults': mysqld.).  If this command displays anything
     other than the program name, you have an active 'my.cnf' file that
     affects server or client operation.

   * If, after an upgrade, you experience problems with compiled client
     programs, such as 'Commands out of sync' or unexpected core dumps,
     you probably have used old header or library files when compiling
     your programs.  In this case, check the date for your 'mysql.h'
     file and 'libmysqlclient.a' library to verify that they are from
     the new MySQL distribution.  If not, recompile your programs with
     the new headers and libraries.  Recompilation might also be
     necessary for programs compiled against the shared client library
     if the library major version number has changed (for example, from
     'libmysqlclient.so.15' to 'libmysqlclient.so.16').

   * If you have created a user-defined function (UDF) with a given name
     and upgrade MySQL to a version that implements a new built-in
     function with the same name, the UDF becomes inaccessible.  To
     correct this, use *note 'DROP FUNCTION': drop-function. to drop the
     UDF, and then use *note 'CREATE FUNCTION': create-function. to
     re-create the UDF with a different nonconflicting name.  The same
     is true if the new version of MySQL implements a built-in function
     with the same name as an existing stored function.  See *note
     function-resolution::, for the rules describing how the server
     interprets references to different kinds of functions.


File: manual.info.tmp,  Node: rebuilding-tables,  Next: copying-databases,  Prev: upgrade-troubleshooting,  Up: upgrading

2.11.7 Rebuilding or Repairing Tables or Indexes
------------------------------------------------

This section describes how to rebuild or repair tables or indexes, which
may be necessitated by:

   * Changes to how MySQL handles data types or character sets.  For
     example, an error in a collation might have been corrected,
     necessitating a table rebuild to update the indexes for character
     columns that use the collation.

   * Required table repairs or upgrades reported by *note 'CHECK TABLE':
     check-table, *note 'mysqlcheck': mysqlcheck, or *note
     'mysql_upgrade': mysql-upgrade.

Methods for rebuilding a table include:

   * *note rebuilding-tables-dump-reload::

   * *note rebuilding-tables-alter-table::

   * *note rebuilding-tables-repair-table::

*Dump and Reload Method*

If you are rebuilding tables because a different version of MySQL will
not handle them after a binary (in-place) upgrade or downgrade, you must
use the dump-and-reload method.  Dump the tables _before_ upgrading or
downgrading using your original version of MySQL. Then reload the tables
_after_ upgrading or downgrading.

If you use the dump-and-reload method of rebuilding tables only for the
purpose of rebuilding indexes, you can perform the dump either before or
after upgrading or downgrading.  Reloading still must be done afterward.

If you need to rebuild an 'InnoDB' table because a *note 'CHECK TABLE':
check-table. operation indicates that a table upgrade is required, use
*note 'mysqldump': mysqldump. to create a dump file and *note 'mysql':
mysql. to reload the file.  If the *note 'CHECK TABLE': check-table.
operation indicates that there is a corruption or causes 'InnoDB' to
fail, refer to *note forcing-innodb-recovery:: for information about
using the 'innodb_force_recovery' option to restart 'InnoDB'.  To
understand the type of problem that *note 'CHECK TABLE': check-table.
may be encountering, refer to the 'InnoDB' notes in *note check-table::.

To rebuild a table by dumping and reloading it, use *note 'mysqldump':
mysqldump. to create a dump file and *note 'mysql': mysql. to reload the
file:

     mysqldump DB_NAME t1 > dump.sql
     mysql DB_NAME < dump.sql

To rebuild all the tables in a single database, specify the database
name without any following table name:

     mysqldump DB_NAME > dump.sql
     mysql DB_NAME < dump.sql

To rebuild all tables in all databases, use the '--all-databases'
option:

     mysqldump --all-databases > dump.sql
     mysql < dump.sql

*ALTER TABLE Method*

To rebuild a table with *note 'ALTER TABLE': alter-table, use a 'null'
alteration; that is, an *note 'ALTER TABLE': alter-table. statement that
'changes' the table to use the storage engine that it already has.  For
example, if 't1' is an 'InnoDB' table, use this statement:

     ALTER TABLE t1 ENGINE = InnoDB;

If you are not sure which storage engine to specify in the *note 'ALTER
TABLE': alter-table. statement, use *note 'SHOW CREATE TABLE':
show-create-table. to display the table definition.

*REPAIR TABLE Method*

The *note 'REPAIR TABLE': repair-table. method is only applicable to
'MyISAM', 'ARCHIVE', and 'CSV' tables.

You can use *note 'REPAIR TABLE': repair-table. if the table checking
operation indicates that there is a corruption or that an upgrade is
required.  For example, to repair a 'MyISAM' table, use this statement:

     REPAIR TABLE t1;

*note 'mysqlcheck --repair': mysqlcheck. provides command-line access to
the *note 'REPAIR TABLE': repair-table. statement.  This can be a more
convenient means of repairing tables because you can use the
'--databases' or '--all-databases' option to repair all tables in
specific databases or all databases, respectively:

     mysqlcheck --repair --databases DB_NAME ...
     mysqlcheck --repair --all-databases


File: manual.info.tmp,  Node: copying-databases,  Prev: rebuilding-tables,  Up: upgrading

2.11.8 Copying MySQL Databases to Another Machine
-------------------------------------------------

In cases where you need to transfer databases between different
architectures, you can use *note 'mysqldump': mysqldump. to create a
file containing SQL statements.  You can then transfer the file to the
other machine and feed it as input to the *note 'mysql': mysql. client.

*Note*:

You can copy the '.frm', '.MYI', and '.MYD' files for 'MyISAM' tables
between different architectures that support the same floating-point
format.  (MySQL takes care of any byte-swapping issues.)  See *note
myisam-storage-engine::.

Use *note 'mysqldump --help': mysqldump. to see what options are
available.

The easiest (although not the fastest) way to move a database between
two machines is to run the following commands on the machine on which
the database is located:

     mysqladmin -h 'OTHER_HOSTNAME' create DB_NAME
     mysqldump DB_NAME | mysql -h 'OTHER_HOSTNAME' DB_NAME

If you want to copy a database from a remote machine over a slow
network, you can use these commands:

     mysqladmin create DB_NAME
     mysqldump -h 'OTHER_HOSTNAME' --compress DB_NAME | mysql DB_NAME

You can also store the dump in a file, transfer the file to the target
machine, and then load the file into the database there.  For example,
you can dump a database to a compressed file on the source machine like
this:

     mysqldump --quick DB_NAME | gzip > DB_NAME.gz

Transfer the file containing the database contents to the target machine
and run these commands there:

     mysqladmin create DB_NAME
     gunzip < DB_NAME.gz | mysql DB_NAME

You can also use *note 'mysqldump': mysqldump. and *note 'mysqlimport':
mysqlimport. to transfer the database.  For large tables, this is much
faster than simply using *note 'mysqldump': mysqldump.  In the following
commands, DUMPDIR represents the full path name of the directory you use
to store the output from *note 'mysqldump': mysqldump.

First, create the directory for the output files and dump the database:

     mkdir DUMPDIR
     mysqldump --tab=DUMPDIR DB_NAME

Then transfer the files in the DUMPDIR directory to some corresponding
directory on the target machine and load the files into MySQL there:

     mysqladmin create DB_NAME           # create database
     cat DUMPDIR/*.sql | mysql DB_NAME   # create tables in database
     mysqlimport DB_NAME DUMPDIR/*.txt   # load data into tables

Do not forget to copy the 'mysql' database because that is where the
grant tables are stored.  You might have to run commands as the MySQL
'root' user on the new machine until you have the 'mysql' database in
place.

After you import the 'mysql' database on the new machine, execute *note
'mysqladmin flush-privileges': mysqladmin. so that the server reloads
the grant table information.


File: manual.info.tmp,  Node: downgrading,  Next: perl-support,  Prev: upgrading,  Up: installing

2.12 Downgrading MySQL
======================

* Menu:

* downgrade-before-you-begin::   Before You Begin
* downgrade-paths::              Downgrade Paths
* downgrading-to-previous-series::  Downgrade Notes
* downgrade-binary-package::     Downgrading MySQL Binary and Package Installations on Unix/Linux
* downgrading-from-enterprise::  Downgrading from MySQL Enterprise Edition to MySQL Community Server
* downgrade-troubleshooting::    Downgrade Troubleshooting

This section describes the steps to downgrade a MySQL installation.

Downgrading is a less common operation than upgrade.  Downgrading is
typically performed because of a compatibility or performance issue that
occurs on a production system, and was not uncovered during initial
upgrade verification on the test systems.  As with the upgrade procedure
verification on the test systems.  As with the upgrade procedure *note
upgrading::), perform and verify the downgrade procedure on some test
systems first, before using it on a production system.

*Note*:

In the following discussion, MySQL commands that must be run using a
MySQL account with administrative privileges include '-u root' on the
command line to specify the MySQL 'root' user.  Commands that require a
password for 'root' also include a '-p' option.  Because '-p' is
followed by no option value, such commands prompt for the password.
Type the password when prompted and press Enter.

SQL statements can be executed using the *note 'mysql': mysql.
command-line client (connect as 'root' to ensure that you have the
necessary privileges).


File: manual.info.tmp,  Node: downgrade-before-you-begin,  Next: downgrade-paths,  Prev: downgrading,  Up: downgrading

2.12.1 Before You Begin
-----------------------

Review the information in this section before downgrading.  Perform any
recommended actions.

   * Protect your data by taking a backup.  The backup should include
     the 'mysql' database, which contains the MySQL system tables.  See
     *note backup-methods::.

   * Review *note downgrade-paths:: to ensure that your intended
     downgrade path is supported.

   * Review *note downgrading-to-previous-series:: for items that may
     require action before downgrading.

     *Note*:

     The downgrade procedures described in the following sections assume
     you are downgrading with data files created or modified by the
     newer MySQL version.  However, if you did not modify your data
     after upgrading, downgrading using backups taken _before_ upgrading
     to the new MySQL version is recommended.  Many of the changes
     described in *note downgrading-to-previous-series:: that require
     action are not applicable when downgrading using backups taken
     _before_ upgrading to the new MySQL version.

   * Use of new features, new configuration options, or new
     configuration option values that are not supported by a previous
     release may cause downgrade errors or failures.  Before
     downgrading, reverse changes resulting from the use of new features
     and remove configuration settings that are not supported by the
     release you are downgrading to.


File: manual.info.tmp,  Node: downgrade-paths,  Next: downgrading-to-previous-series,  Prev: downgrade-before-you-begin,  Up: downgrading

2.12.2 Downgrade Paths
----------------------

   * Downgrade is only supported between General Availability (GA)
     releases.

   * Downgrade from MySQL 5.5 to 5.1 is supported using the _logical
     downgrade_ method.

   * Downgrade that skips versions is not supported.  For example,
     downgrading directly from MySQL 5.5 to 5.0 is not supported.

   * Downgrade within a release series is supported.  For example,
     downgrading from MySQL 5.5.Z to 5.5.Y is supported.  Skipping a
     release is also supported.  For example, downgrading from MySQL
     5.5.Z to 5.5.X is supported.


File: manual.info.tmp,  Node: downgrading-to-previous-series,  Next: downgrade-binary-package,  Prev: downgrade-paths,  Up: downgrading

2.12.3 Downgrade Notes
----------------------

Before downgrading from MySQL 5.5, review the information in this
section.  Some items may require action before downgrading.

   * System Tables

     The 'mysql.proc.comment' column definition changed between MySQL
     5.1 and 5.5.  After downgrading from 5.5 to 5.1, this table is seen
     as corrupt and in need of repair.  Running *note 'mysql_upgrade':
     mysql-upgrade. from the version of MySQL to which you downgraded
     (as documented in the downgrade procedures) reverts the
     'mysql.proc.comment' column definition.

   * InnoDB

     MySQL 5.5 uses 'InnoDB Plugin' as the built-in version of 'InnoDB'.
     MySQL 5.1 includes 'InnoDB Plugin' as of 5.1.38, but as an option
     that must be enabled explicitly.  See the Release Notes
     (https://dev.mysql.com/doc/relnotes/mysql/5.5/en/) for MySQL
     5.1.38.

   * InnoDB

     In MySQL 5.5.14, the length limit for index prefix keys is
     increased from 767 bytes to 3072 bytes, for 'InnoDB' tables using
     'ROW_FORMAT=DYNAMIC' or 'ROW_FORMAT=COMPRESSED'.  See *note
     innodb-limits:: for details.  If you downgrade from one of these
     releases or higher, to an earlier release with a lower length
     limit, the index prefix keys could be truncated at 767 bytes or the
     downgrade could fail.  This issue could only occur if the
     configuration option 'innodb_large_prefix' was enabled on the
     server being downgraded.

   * Tables partitioned by [LINEAR] KEY

     MySQL 5.5 implements new functions used to calculate row placement
     for tables partitioned by 'KEY' and 'LINEAR KEY'.  Tables that were
     created using 'KEY' or 'LINEAR KEY' partitioning in MySQL 5.5
     cannot be used by a MySQL 5.1 server.  In MySQL 5.5.31 and later,
     you can downgrade such tables with *note 'ALTER TABLE ... PARTITION
     BY ALGORITHM=1 [LINEAR] KEY (...)':
     alter-table-partition-operations. to make them compatible with
     MySQL 5.1.


File: manual.info.tmp,  Node: downgrade-binary-package,  Next: downgrading-from-enterprise,  Prev: downgrading-to-previous-series,  Up: downgrading

2.12.4 Downgrading MySQL Binary and Package Installations on Unix/Linux
-----------------------------------------------------------------------

This section describes how to downgrade MySQL binary and package-based
installations on Unix/Linux.  In-place and logical downgrade methods are
described.

   * *note downgrade-procedure-inplace::

   * *note downgrade-procedure-logical::

*In-Place Downgrade*

In-place downgrade involves shutting down the new MySQL version,
replacing the new MySQL binaries or packages with the old ones, and
restarting the old MySQL version on the existing data directory.

In-place downgrade is supported for downgrades between GA releases
within the same release series.

To perform an in-place downgrade:

  1. Review the information in *note downgrade-before-you-begin::.

  2. If you use XA transactions with 'InnoDB', run *note 'XA RECOVER':
     xa-statements. before downgrading to check for uncommitted XA
     transactions.  If results are returned, either commit or rollback
     the XA transactions by issuing an *note 'XA COMMIT': xa-statements.
     or *note 'XA ROLLBACK': xa-statements. statement.

  3. If you use 'InnoDB', configure MySQL to perform a slow shutdown by
     setting 'innodb_fast_shutdown' to '0'.  For example:

          mysql -u root -p --execute="SET GLOBAL innodb_fast_shutdown=0"

     With a slow shutdown, 'InnoDB' performs a full purge and change
     buffer merge before shutting down, which ensures that data files
     are fully prepared in case of file format differences between
     releases.

  4. Shut down the newer MySQL server.  For example:

          mysqladmin -u root -p shutdown

  5. After the slow shutdown, remove the 'InnoDB' redo log files (the
     'ib_logfile*' files) from the 'data' directory to avoid downgrade
     issues related to redo log file format changes that may have
     occurred between releases.

          rm ib_logfile*

  6. Downgrade the MySQL binaries or packages in-place by replacing the
     newer binaries or packages with the older ones.

  7. Start the older (downgraded) MySQL server, using the existing data
     directory.  For example:

          mysqld_safe --user=mysql --datadir=/PATH/TO/EXISTING-DATADIR

  8. Run *note 'mysql_upgrade': mysql-upgrade.  For example:

          mysql_upgrade -u root -p

  9. Shut down and restart the MySQL server to ensure that any changes
     made to the system tables take effect.  For example:

          mysqladmin -u root -p shutdown
          mysqld_safe --user=mysql --datadir=/PATH/TO/EXISTING-DATADIR

*Logical Downgrade*

Logical downgrade involves using *note 'mysqldump': mysqldump. to dump
all tables from the new MySQL version, and then loading the dump file
into the old MySQL version.

Logical downgrades are supported for downgrades between releases within
the same release series and for downgrades to the previous release
level.  Only downgrades between General Availability (GA) releases are
supported.  Before proceeding, review *note
downgrade-before-you-begin::.

To perform a logical downgrade:

  1. Review the information in *note downgrade-before-you-begin::.

  2. Dump all databases.  For example:

          mysqldump -u root -p
            --add-drop-table --routines --events
            --all-databases --force > data-for-downgrade.sql

  3. Shut down the newer MySQL server.  For example:

          mysqladmin -u root -p shutdown

  4. Initialize an older MySQL instance, with a new data directory.  For
     example:

          scripts/mysql_install_db --user=mysql

  5. Start the older MySQL server, using the new data directory.  For
     example:

          mysqld_safe --user=mysql --datadir=/PATH/TO/NEW-DATADIR

  6. Load the dump file into the older MySQL server.  For example:

          mysql -u root -p --force < data-for-upgrade.sql

  7. Run *note 'mysql_upgrade': mysql-upgrade.  For example:

          mysql_upgrade -u root -p

  8. Shut down and restart the MySQL server to ensure that any changes
     made to the system tables take effect.  For example:

          mysqladmin -u root -p shutdown
          mysqld_safe --user=mysql --datadir=/PATH/TO/NEW-DATADIR


File: manual.info.tmp,  Node: downgrading-from-enterprise,  Next: downgrade-troubleshooting,  Prev: downgrade-binary-package,  Up: downgrading

2.12.5 Downgrading from MySQL Enterprise Edition to MySQL Community Server
--------------------------------------------------------------------------

This section describes the steps required to downgrade from MySQL
Enterprise Edition to MySQL Community Edition.  This can be done at any
time, and is required at the expiration of a MySQL Enterprise Edition
subscription if you wish to continue using MySQL Server.

When you perform such a downgrade, all commercially licensed components
of the MySQL Enterprise Edition subscription must be uninstalled.  These
components and related considerations are described in the rest of this
section.

*Note*:

The issues described in this section are in addition to any that may be
encountered as a result of any upgrade or downgrade of the MySQL Server
version (such as between MySQL 5.5 and 5.1).  Information about
upgrading and downgrading between MySQL release series can be found
elsewhere in this chapter; see *note upgrading::, and *note
downgrading::.

MySQL Enterprise Database Server

All commercial versions of MySQL Database Server must be uninstalled.

Commercially licensed extensions

All commercially licensed MySQL Enterprise Database Server extensions
must be uninstalled.  This includes the following commercial extensions:

   * _MySQL External Authentication for Windows_: Following
     uninstallation of this plugin, existing MySQL user accounts must be
     re-created using local authentication.  See *note access-control::,
     for more information.

   * _MySQL External Authentication for PAM_: Following uninstallation
     of this plugin, existing MySQL user accounts must be re-created
     using local authentication.  See *note access-control::, for more
     information.

   * _MySQL Enterprise Thread Pool_: Following uninstallation of this
     plugin, existing MySQL servers revert to default thread and
     connection handling.

   * _MySQL Enterprise Audit_: Following uninstallation of this plugin,
     no logging of user logins or query activity occurs.

   * _MySQL High Availability_: Following uninstallation of this plugin,
     automated failover is no longer available.

MySQL Enterprise Backup

MySQL Enterprise Backup must be uninstalled.  Uninstalling this
application has the effects listed here:

   * Automated backup scripts no longer work.

   * Existing backup images taken with MySQL Enterprise Backup can no
     longer be used for recovery.

   * Third-party integration with multimedia systems such as NetBackup,
     Tivoli, and Oracle Secure Backup no longer works.

MySQL Enterprise Monitor, MySQL Query Analyzer, agents

MySQL Enterprise Monitor, MySQL Query Analyzer, and all server-side
agents must be uninstalled.  Uninstalling these applications and agents
has the following effects:

   * Automated SNMP and SMTP alerts no longer work.

   * All historical MySQL, OS monitoring, query, and performance metrics
     as well as all trending data are lost.

   * All environment-specific monitoring templates, custom advisors,
     graphs and scripts are also lost.


File: manual.info.tmp,  Node: downgrade-troubleshooting,  Prev: downgrading-from-enterprise,  Up: downgrading

2.12.6 Downgrade Troubleshooting
--------------------------------

If you downgrade from one release series to another, there may be
incompatibilities in table storage formats.  In this case, use *note
'mysqldump': mysqldump. to dump your tables before downgrading.  After
downgrading, reload the dump file using *note 'mysql': mysql. or *note
'mysqlimport': mysqlimport. to re-create your tables.  For examples, see
*note copying-databases::.

A typical symptom of a downward-incompatible table format change when
you downgrade is that you cannot open tables.  In that case, use the
following procedure:

  1. Stop the older MySQL server that you are downgrading to.

  2. Restart the newer MySQL server you are downgrading from.

  3. Dump any tables that were inaccessible to the older server by using
     *note 'mysqldump': mysqldump. to create a dump file.

  4. Stop the newer MySQL server and restart the older one.

  5. Reload the dump file into the older server.  Your tables should be
     accessible.


File: manual.info.tmp,  Node: perl-support,  Prev: downgrading,  Up: installing

2.13 Perl Installation Notes
============================

* Menu:

* perl-installation::            Installing Perl on Unix
* activestate-perl::             Installing ActiveState Perl on Windows
* perl-support-problems::        Problems Using the Perl DBI/DBD Interface

The Perl 'DBI' module provides a generic interface for database access.
You can write a 'DBI' script that works with many different database
engines without change.  To use 'DBI', you must install the 'DBI'
module, as well as a DataBase Driver (DBD) module for each type of
database server you want to access.  For MySQL, this driver is the
'DBD::mysql' module.

Perl, and the 'DBD::MySQL' module for 'DBI' must be installed if you
want to run the MySQL benchmark scripts; see *note mysql-benchmarks::.
They are also required for the NDB Cluster *note 'ndb_size.pl':
mysql-cluster-programs-ndb-size-pl. utility; see *note
mysql-cluster-programs-ndb-size-pl::.

*Note*:

Perl support is not included with MySQL distributions.  You can obtain
the necessary modules from <http://search.cpan.org> for Unix, or by
using the ActiveState 'ppm' program on Windows.  The following sections
describe how to do this.

The 'DBI'/'DBD' interface requires Perl 5.6.0, and 5.6.1 or later is
preferred.  DBI _does not work_ if you have an older version of Perl.
You should use 'DBD::mysql' 4.009 or higher.  Although earlier versions
are available, they do not support the full functionality of MySQL 5.5.


File: manual.info.tmp,  Node: perl-installation,  Next: activestate-perl,  Prev: perl-support,  Up: perl-support

2.13.1 Installing Perl on Unix
------------------------------

MySQL Perl support requires that you have installed MySQL client
programming support (libraries and header files).  Most installation
methods install the necessary files.  If you install MySQL from RPM
files on Linux, be sure to install the developer RPM as well.  The
client programs are in the client RPM, but client programming support is
in the developer RPM.

The files you need for Perl support can be obtained from the CPAN
(Comprehensive Perl Archive Network) at <http://search.cpan.org>.

The easiest way to install Perl modules on Unix is to use the 'CPAN'
module.  For example:

     shell> perl -MCPAN -e shell
     cpan> install DBI
     cpan> install DBD::mysql

The 'DBD::mysql' installation runs a number of tests.  These tests
attempt to connect to the local MySQL server using the default user name
and password.  (The default user name is your login name on Unix, and
'ODBC' on Windows.  The default password is 'no password.') If you
cannot connect to the server with those values (for example, if your
account has a password), the tests fail.  You can use 'force install
DBD::mysql' to ignore the failed tests.

'DBI' requires the 'Data::Dumper' module.  It may be installed; if not,
you should install it before installing 'DBI'.

It is also possible to download the module distributions in the form of
compressed 'tar' archives and build the modules manually.  For example,
to unpack and build a DBI distribution, use a procedure such as this:

  1. Unpack the distribution into the current directory:

          shell> gunzip < DBI-VERSION.tar.gz | tar xvf -

     This command creates a directory named 'DBI-VERSION'.

  2. Change location into the top-level directory of the unpacked
     distribution:

          shell> cd DBI-VERSION

  3. Build the distribution and compile everything:

          shell> perl Makefile.PL
          shell> make
          shell> make test
          shell> make install

The 'make test' command is important because it verifies that the module
is working.  Note that when you run that command during the 'DBD::mysql'
installation to exercise the interface code, the MySQL server must be
running or the test fails.

It is a good idea to rebuild and reinstall the 'DBD::mysql' distribution
whenever you install a new release of MySQL. This ensures that the
latest versions of the MySQL client libraries are installed correctly.

If you do not have access rights to install Perl modules in the system
directory or if you want to install local Perl modules, the following
reference may be useful:
<http://learn.perl.org/faq/perlfaq8.html#How-do-I-keep-my-own-module-library-directory->


File: manual.info.tmp,  Node: activestate-perl,  Next: perl-support-problems,  Prev: perl-installation,  Up: perl-support

2.13.2 Installing ActiveState Perl on Windows
---------------------------------------------

On Windows, you should do the following to install the MySQL 'DBD'
module with ActiveState Perl:

  1. Get ActiveState Perl from
     <http://www.activestate.com/Products/ActivePerl/> and install it.

  2. Open a console window.

  3. If necessary, set the 'HTTP_proxy' variable.  For example, you
     might try a setting like this:

          C:\> set HTTP_proxy=my.proxy.com:3128

  4. Start the PPM program:

          C:\> C:\perl\bin\ppm.pl

  5. If you have not previously done so, install 'DBI':

          ppm> install DBI

  6. If this succeeds, run the following command:

          ppm> install DBD-mysql

This procedure should work with ActiveState Perl 5.6 or higher.

If you cannot get the procedure to work, you should install the ODBC
driver instead and connect to the MySQL server through ODBC:

     use DBI;
     $dbh= DBI->connect("DBI:ODBC:$dsn",$user,$password) ||
       die "Got error $DBI::errstr when connecting to $dsn\n";


File: manual.info.tmp,  Node: perl-support-problems,  Prev: activestate-perl,  Up: perl-support

2.13.3 Problems Using the Perl DBI/DBD Interface
------------------------------------------------

If Perl reports that it cannot find the '../mysql/mysql.so' module, the
problem is probably that Perl cannot locate the 'libmysqlclient.so'
shared library.  You should be able to fix this problem by one of the
following methods:

   * Copy 'libmysqlclient.so' to the directory where your other shared
     libraries are located (probably '/usr/lib' or '/lib').

   * Modify the '-L' options used to compile 'DBD::mysql' to reflect the
     actual location of 'libmysqlclient.so'.

   * On Linux, you can add the path name of the directory where
     'libmysqlclient.so' is located to the '/etc/ld.so.conf' file.

   * 
     Add the path name of the directory where 'libmysqlclient.so' is
     located to the 'LD_RUN_PATH' environment variable.  Some systems
     use 'LD_LIBRARY_PATH' instead.

Note that you may also need to modify the '-L' options if there are
other libraries that the linker fails to find.  For example, if the
linker cannot find 'libc' because it is in '/lib' and the link command
specifies '-L/usr/lib', change the '-L' option to '-L/lib' or add
'-L/lib' to the existing link command.

If you get the following errors from 'DBD::mysql', you are probably
using 'gcc' (or using an old binary compiled with 'gcc'):

     /usr/bin/perl: can't resolve symbol '__moddi3'
     /usr/bin/perl: can't resolve symbol '__divdi3'

Add '-L/usr/lib/gcc-lib/... -lgcc' to the link command when the
'mysql.so' library gets built (check the output from 'make' for
'mysql.so' when you compile the Perl client).  The '-L' option should
specify the path name of the directory where 'libgcc.a' is located on
your system.

Another cause of this problem may be that Perl and MySQL are not both
compiled with 'gcc'.  In this case, you can solve the mismatch by
compiling both with 'gcc'.


File: manual.info.tmp,  Node: tutorial,  Next: programs,  Prev: installing,  Up: Top

3 Tutorial
**********

* Menu:

* connecting-disconnecting::     Connecting to and Disconnecting from the Server
* entering-queries::             Entering Queries
* database-use::                 Creating and Using a Database
* getting-information::          Getting Information About Databases and Tables
* batch-mode::                   Using mysql in Batch Mode
* examples::                     Examples of Common Queries
* apache::                       Using MySQL with Apache

This chapter provides a tutorial introduction to MySQL by showing how to
use the *note 'mysql': mysql. client program to create and use a simple
database.  *note 'mysql': mysql. (sometimes referred to as the 'terminal
monitor' or just 'monitor') is an interactive program that enables you
to connect to a MySQL server, run queries, and view the results.  *note
'mysql': mysql. may also be used in batch mode: you place your queries
in a file beforehand, then tell *note 'mysql': mysql. to execute the
contents of the file.  Both ways of using *note 'mysql': mysql. are
covered here.

To see a list of options provided by *note 'mysql': mysql, invoke it
with the '--help' option:

     shell> mysql --help

This chapter assumes that *note 'mysql': mysql. is installed on your
machine and that a MySQL server is available to which you can connect.
If this is not true, contact your MySQL administrator.  (If _you_ are
the administrator, you need to consult the relevant portions of this
manual, such as *note server-administration::.)

This chapter describes the entire process of setting up and using a
database.  If you are interested only in accessing an existing database,
you may want to skip the sections that describe how to create the
database and the tables it contains.

Because this chapter is tutorial in nature, many details are necessarily
omitted.  Consult the relevant sections of the manual for more
information on the topics covered here.


File: manual.info.tmp,  Node: connecting-disconnecting,  Next: entering-queries,  Prev: tutorial,  Up: tutorial

3.1 Connecting to and Disconnecting from the Server
===================================================

To connect to the server, you will usually need to provide a MySQL user
name when you invoke *note 'mysql': mysql. and, most likely, a password.
If the server runs on a machine other than the one where you log in, you
will also need to specify a host name.  Contact your administrator to
find out what connection parameters you should use to connect (that is,
what host, user name, and password to use).  Once you know the proper
parameters, you should be able to connect like this:

     shell> mysql -h HOST -u USER -p
     Enter password: ********

HOST and USER represent the host name where your MySQL server is running
and the user name of your MySQL account.  Substitute appropriate values
for your setup.  The '********' represents your password; enter it when
*note 'mysql': mysql. displays the 'Enter password:' prompt.

If that works, you should see some introductory information followed by
a 'mysql>' prompt:

     shell> mysql -h HOST -u USER -p
     Enter password: ********
     Welcome to the MySQL monitor.  Commands end with ; or \g.
     Your MySQL connection id is 25338 to server version: 5.5.62-standard

     Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

     mysql>

The 'mysql>' prompt tells you that *note 'mysql': mysql. is ready for
you to enter SQL statements.

If you are logging in on the same machine that MySQL is running on, you
can omit the host, and simply use the following:

     shell> mysql -u USER -p

If, when you attempt to log in, you get an error message such as 'ERROR
2002 (HY000): Can't connect to local MySQL server through socket
'/tmp/mysql.sock' (2)', it means that the MySQL server daemon (Unix) or
service (Windows) is not running.  Consult the administrator or see the
section of *note installing:: that is appropriate to your operating
system.

For help with other problems often encountered when trying to log in,
see *note common-errors::.

Some MySQL installations permit users to connect as the anonymous
(unnamed) user to the server running on the local host.  If this is the
case on your machine, you should be able to connect to that server by
invoking *note 'mysql': mysql. without any options:

     shell> mysql

After you have connected successfully, you can disconnect any time by
typing 'QUIT' (or '\q') at the 'mysql>' prompt:

     mysql> QUIT
     Bye

On Unix, you can also disconnect by pressing Control+D.

Most examples in the following sections assume that you are connected to
the server.  They indicate this by the 'mysql>' prompt.


File: manual.info.tmp,  Node: entering-queries,  Next: database-use,  Prev: connecting-disconnecting,  Up: tutorial

3.2 Entering Queries
====================

Make sure that you are connected to the server, as discussed in the
previous section.  Doing so does not in itself select any database to
work with, but that is okay.  At this point, it is more important to
find out a little about how to issue queries than to jump right in
creating tables, loading data into them, and retrieving data from them.
This section describes the basic principles of entering queries, using
several queries you can try out to familiarize yourself with how *note
'mysql': mysql. works.

Here is a simple query that asks the server to tell you its version
number and the current date.  Type it in as shown here following the
'mysql>' prompt and press Enter:

     mysql> SELECT VERSION(), CURRENT_DATE;
     +--------------+--------------+
     | VERSION()    | CURRENT_DATE |
     +--------------+--------------+
     | 5.5.0-m2-log | 2009-05-04   |
     +--------------+--------------+
     1 row in set (0.01 sec)
     mysql>

This query illustrates several things about *note 'mysql': mysql.:

   * A query normally consists of an SQL statement followed by a
     semicolon.  (There are some exceptions where a semicolon may be
     omitted.  'QUIT', mentioned earlier, is one of them.  We'll get to
     others later.)

   * When you issue a query, *note 'mysql': mysql. sends it to the
     server for execution and displays the results, then prints another
     'mysql>' prompt to indicate that it is ready for another query.

   * *note 'mysql': mysql. displays query output in tabular form (rows
     and columns).  The first row contains labels for the columns.  The
     rows following are the query results.  Normally, column labels are
     the names of the columns you fetch from database tables.  If you're
     retrieving the value of an expression rather than a table column
     (as in the example just shown), *note 'mysql': mysql. labels the
     column using the expression itself.

   * *note 'mysql': mysql. shows how many rows were returned and how
     long the query took to execute, which gives you a rough idea of
     server performance.  These values are imprecise because they
     represent wall clock time (not CPU or machine time), and because
     they are affected by factors such as server load and network
     latency.  (For brevity, the 'rows in set' line is sometimes not
     shown in the remaining examples in this chapter.)

Keywords may be entered in any lettercase.  The following queries are
equivalent:

     mysql> SELECT VERSION(), CURRENT_DATE;
     mysql> select version(), current_date;
     mysql> SeLeCt vErSiOn(), current_DATE;

Here is another query.  It demonstrates that you can use *note 'mysql':
mysql. as a simple calculator:

     mysql> SELECT SIN(PI()/4), (4+1)*5;
     +------------------+---------+
     | SIN(PI()/4)      | (4+1)*5 |
     +------------------+---------+
     | 0.70710678118655 |      25 |
     +------------------+---------+
     1 row in set (0.02 sec)

The queries shown thus far have been relatively short, single-line
statements.  You can even enter multiple statements on a single line.
Just end each one with a semicolon:

     mysql> SELECT VERSION(); SELECT NOW();
     +--------------+
     | VERSION()    |
     +--------------+
     | 5.5.0-m2-log |
     +--------------+
     1 row in set (0.00 sec)

     +---------------------+
     | NOW()               |
     +---------------------+
     | 2009-05-04 15:15:00 |
     +---------------------+
     1 row in set (0.00 sec)

A query need not be given all on a single line, so lengthy queries that
require several lines are not a problem.  *note 'mysql': mysql.
determines where your statement ends by looking for the terminating
semicolon, not by looking for the end of the input line.  (In other
words, *note 'mysql': mysql. accepts free-format input: it collects
input lines but does not execute them until it sees the semicolon.)

Here is a simple multiple-line statement:

     mysql> SELECT
         -> USER()
         -> ,
         -> CURRENT_DATE;
     +---------------+--------------+
     | USER()        | CURRENT_DATE |
     +---------------+--------------+
     | jon@localhost | 2005-10-11   |
     +---------------+--------------+

In this example, notice how the prompt changes from 'mysql>' to '->'
after you enter the first line of a multiple-line query.  This is how
*note 'mysql': mysql. indicates that it has not yet seen a complete
statement and is waiting for the rest.  The prompt is your friend,
because it provides valuable feedback.  If you use that feedback, you
can always be aware of what *note 'mysql': mysql. is waiting for.

If you decide you do not want to execute a query that you are in the
process of entering, cancel it by typing '\c':

     mysql> SELECT
         -> USER()
         -> \c
     mysql>

Here, too, notice the prompt.  It switches back to 'mysql>' after you
type '\c', providing feedback to indicate that *note 'mysql': mysql. is
ready for a new query.

The following table shows each of the prompts you may see and summarizes
what they mean about the state that *note 'mysql': mysql. is in.

Prompt  Meaning
        
'mysql>'Ready for new query
        
'->'    Waiting for next line of multiple-line query
        
''>'    Waiting for next line, waiting for completion of a
        string that began with a single quote (''')
        
'">'    Waiting for next line, waiting for completion of a
        string that began with a double quote ('"')
        
'`>'    Waiting for next line, waiting for completion of an
        identifier that began with a backtick ('`')
        
'/*>'   Waiting for next line, waiting for completion of a
        comment that began with '/*'

Multiple-line statements commonly occur by accident when you intend to
issue a query on a single line, but forget the terminating semicolon.
In this case, *note 'mysql': mysql. waits for more input:

     mysql> SELECT USER()
         ->

If this happens to you (you think you've entered a statement but the
only response is a '->' prompt), most likely *note 'mysql': mysql. is
waiting for the semicolon.  If you don't notice what the prompt is
telling you, you might sit there for a while before realizing what you
need to do.  Enter a semicolon to complete the statement, and *note
'mysql': mysql. executes it:

     mysql> SELECT USER()
         -> ;
     +---------------+
     | USER()        |
     +---------------+
     | jon@localhost |
     +---------------+

The ''>' and '">' prompts occur during string collection (another way of
saying that MySQL is waiting for completion of a string).  In MySQL, you
can write strings surrounded by either ''' or '"' characters (for
example, ''hello'' or '"goodbye"'), and *note 'mysql': mysql. lets you
enter strings that span multiple lines.  When you see a ''>' or '">'
prompt, it means that you have entered a line containing a string that
begins with a ''' or '"' quote character, but have not yet entered the
matching quote that terminates the string.  This often indicates that
you have inadvertently left out a quote character.  For example:

     mysql> SELECT * FROM my_table WHERE name = 'Smith AND age < 30;
         '>

If you enter this *note 'SELECT': select. statement, then press 'Enter'
and wait for the result, nothing happens.  Instead of wondering why this
query takes so long, notice the clue provided by the ''>' prompt.  It
tells you that *note 'mysql': mysql. expects to see the rest of an
unterminated string.  (Do you see the error in the statement?  The
string ''Smith' is missing the second single quotation mark.)

At this point, what do you do?  The simplest thing is to cancel the
query.  However, you cannot just type '\c' in this case, because *note
'mysql': mysql. interprets it as part of the string that it is
collecting.  Instead, enter the closing quote character (so *note
'mysql': mysql. knows you've finished the string), then type '\c':

     mysql> SELECT * FROM my_table WHERE name = 'Smith AND age < 30;
         '> '\c
     mysql>

The prompt changes back to 'mysql>', indicating that *note 'mysql':
mysql. is ready for a new query.

The '`>' prompt is similar to the ''>' and '">' prompts, but indicates
that you have begun but not completed a backtick-quoted identifier.

It is important to know what the ''>', '">', and '`>' prompts signify,
because if you mistakenly enter an unterminated string, any further
lines you type appear to be ignored by *note 'mysql': mysql.--including
a line containing 'QUIT'.  This can be quite confusing, especially if
you do not know that you need to supply the terminating quote before you
can cancel the current query.

*Note*:

Multiline statements from this point on are written without the
secondary ('->' or other) prompts, to make it easier to copy and paste
the statements to try for yourself.


File: manual.info.tmp,  Node: database-use,  Next: getting-information,  Prev: entering-queries,  Up: tutorial

3.3 Creating and Using a Database
=================================

* Menu:

* creating-database::            Creating and Selecting a Database
* creating-tables::              Creating a Table
* loading-tables::               Loading Data into a Table
* retrieving-data::              Retrieving Information from a Table

Once you know how to enter SQL statements, you are ready to access a
database.

Suppose that you have several pets in your home (your menagerie) and you
would like to keep track of various types of information about them.
You can do so by creating tables to hold your data and loading them with
the desired information.  Then you can answer different sorts of
questions about your animals by retrieving data from the tables.  This
section shows you how to perform the following operations:

   * Create a database

   * Create a table

   * Load data into the table

   * Retrieve data from the table in various ways

   * Use multiple tables

The menagerie database is simple (deliberately), but it is not difficult
to think of real-world situations in which a similar type of database
might be used.  For example, a database like this could be used by a
farmer to keep track of livestock, or by a veterinarian to keep track of
patient records.  A menagerie distribution containing some of the
queries and sample data used in the following sections can be obtained
from the MySQL website.  It is available in both compressed 'tar' file
and Zip formats at <https://dev.mysql.com/doc/>.

Use the *note 'SHOW': show. statement to find out what databases
currently exist on the server:

     mysql> SHOW DATABASES;
     +----------+
     | Database |
     +----------+
     | mysql    |
     | test     |
     | tmp      |
     +----------+

The 'mysql' database describes user access privileges.  The 'test'
database often is available as a workspace for users to try things out.

The list of databases displayed by the statement may be different on
your machine; *note 'SHOW DATABASES': show-databases. does not show
databases that you have no privileges for if you do not have the *note
'SHOW DATABASES': show-databases. privilege.  See *note
show-databases::.

If the 'test' database exists, try to access it:

     mysql> USE test
     Database changed

*note 'USE': use, like 'QUIT', does not require a semicolon.  (You can
terminate such statements with a semicolon if you like; it does no
harm.)  The *note 'USE': use. statement is special in another way, too:
it must be given on a single line.

You can use the 'test' database (if you have access to it) for the
examples that follow, but anything you create in that database can be
removed by anyone else with access to it.  For this reason, you should
probably ask your MySQL administrator for permission to use a database
of your own.  Suppose that you want to call yours 'menagerie'.  The
administrator needs to execute a statement like this:

     mysql> GRANT ALL ON menagerie.* TO 'your_mysql_name'@'your_client_host';

where 'your_mysql_name' is the MySQL user name assigned to you and
'your_client_host' is the host from which you connect to the server.


File: manual.info.tmp,  Node: creating-database,  Next: creating-tables,  Prev: database-use,  Up: database-use

3.3.1 Creating and Selecting a Database
---------------------------------------

If the administrator creates your database for you when setting up your
permissions, you can begin using it.  Otherwise, you need to create it
yourself:

     mysql> CREATE DATABASE menagerie;

Under Unix, database names are case-sensitive (unlike SQL keywords), so
you must always refer to your database as 'menagerie', not as
'Menagerie', 'MENAGERIE', or some other variant.  This is also true for
table names.  (Under Windows, this restriction does not apply, although
you must refer to databases and tables using the same lettercase
throughout a given query.  However, for a variety of reasons, the
recommended best practice is always to use the same lettercase that was
used when the database was created.)

*Note*:

If you get an error such as 'ERROR 1044 (42000): Access denied for user
'micah'@'localhost' to database 'menagerie'' when attempting to create a
database, this means that your user account does not have the necessary
privileges to do so.  Discuss this with the administrator or see *note
access-control::.

Creating a database does not select it for use; you must do that
explicitly.  To make 'menagerie' the current database, use this
statement:

     mysql> USE menagerie
     Database changed

Your database needs to be created only once, but you must select it for
use each time you begin a *note 'mysql': mysql. session.  You can do
this by issuing a *note 'USE': use. statement as shown in the example.
Alternatively, you can select the database on the command line when you
invoke *note 'mysql': mysql.  Just specify its name after any connection
parameters that you might need to provide.  For example:

     shell> mysql -h HOST -u USER -p menagerie
     Enter password: ********

*Important*:

'menagerie' in the command just shown is *not* your password.  If you
want to supply your password on the command line after the '-p' option,
you must do so with no intervening space (for example, as '-pPASSWORD',
not as '-p PASSWORD').  However, putting your password on the command
line is not recommended, because doing so exposes it to snooping by
other users logged in on your machine.

*Note*:

You can see at any time which database is currently selected using *note
'SELECT': select. 'DATABASE()'.


File: manual.info.tmp,  Node: creating-tables,  Next: loading-tables,  Prev: creating-database,  Up: database-use

3.3.2 Creating a Table
----------------------

Creating the database is the easy part, but at this point it is empty,
as *note 'SHOW TABLES': show-tables. tells you:

     mysql> SHOW TABLES;
     Empty set (0.00 sec)

The harder part is deciding what the structure of your database should
be: what tables you need and what columns should be in each of them.

You want a table that contains a record for each of your pets.  This can
be called the 'pet' table, and it should contain, as a bare minimum,
each animal's name.  Because the name by itself is not very interesting,
the table should contain other information.  For example, if more than
one person in your family keeps pets, you might want to list each
animal's owner.  You might also want to record some basic descriptive
information such as species and sex.

How about age?  That might be of interest, but it is not a good thing to
store in a database.  Age changes as time passes, which means you'd have
to update your records often.  Instead, it is better to store a fixed
value such as date of birth.  Then, whenever you need age, you can
calculate it as the difference between the current date and the birth
date.  MySQL provides functions for doing date arithmetic, so this is
not difficult.  Storing birth date rather than age has other advantages,
too:

   * You can use the database for tasks such as generating reminders for
     upcoming pet birthdays.  (If you think this type of query is
     somewhat silly, note that it is the same question you might ask in
     the context of a business database to identify clients to whom you
     need to send out birthday greetings in the current week or month,
     for that computer-assisted personal touch.)

   * You can calculate age in relation to dates other than the current
     date.  For example, if you store death date in the database, you
     can easily calculate how old a pet was when it died.

You can probably think of other types of information that would be
useful in the 'pet' table, but the ones identified so far are
sufficient: name, owner, species, sex, birth, and death.

Use a *note 'CREATE TABLE': create-table. statement to specify the
layout of your table:

     mysql> CREATE TABLE pet (name VARCHAR(20), owner VARCHAR(20),
            species VARCHAR(20), sex CHAR(1), birth DATE, death DATE);

*note 'VARCHAR': char. is a good choice for the 'name', 'owner', and
'species' columns because the column values vary in length.  The lengths
in those column definitions need not all be the same, and need not be
'20'.  You can normally pick any length from '1' to '65535', whatever
seems most reasonable to you.  If you make a poor choice and it turns
out later that you need a longer field, MySQL provides an *note 'ALTER
TABLE': alter-table. statement.

Several types of values can be chosen to represent sex in animal
records, such as ''m'' and ''f'', or perhaps ''male'' and ''female''.
It is simplest to use the single characters ''m'' and ''f''.

The use of the *note 'DATE': datetime. data type for the 'birth' and
'death' columns is a fairly obvious choice.

Once you have created a table, *note 'SHOW TABLES': show-tables. should
produce some output:

     mysql> SHOW TABLES;
     +---------------------+
     | Tables in menagerie |
     +---------------------+
     | pet                 |
     +---------------------+

To verify that your table was created the way you expected, use a *note
'DESCRIBE': describe. statement:

     mysql> DESCRIBE pet;
     +---------+-------------+------+-----+---------+-------+
     | Field   | Type        | Null | Key | Default | Extra |
     +---------+-------------+------+-----+---------+-------+
     | name    | varchar(20) | YES  |     | NULL    |       |
     | owner   | varchar(20) | YES  |     | NULL    |       |
     | species | varchar(20) | YES  |     | NULL    |       |
     | sex     | char(1)     | YES  |     | NULL    |       |
     | birth   | date        | YES  |     | NULL    |       |
     | death   | date        | YES  |     | NULL    |       |
     +---------+-------------+------+-----+---------+-------+

You can use *note 'DESCRIBE': describe. any time, for example, if you
forget the names of the columns in your table or what types they have.

For more information about MySQL data types, see *note data-types::.


File: manual.info.tmp,  Node: loading-tables,  Next: retrieving-data,  Prev: creating-tables,  Up: database-use

3.3.3 Loading Data into a Table
-------------------------------

After creating your table, you need to populate it.  The *note 'LOAD
DATA': load-data. and *note 'INSERT': insert. statements are useful for
this.

Suppose that your pet records can be described as shown here.  (Observe
that MySQL expects dates in ''YYYY-MM-DD'' format; this may differ from
what you are used to.)

name    owner   species sex  birth          death
                                            
Fluffy  Harold  cat     f    1993-02-04     
                             
Claws   Gwen    cat     m    1994-03-17     
                             
Buffy   Harold  dog     f    1989-05-13     
                             
Fang    Benny   dog     m    1990-08-27     
                             
Bowser  Diane   dog     m    1979-08-31     1995-07-29
                                            
Chirpy  Gwen    bird    f    1998-09-11     
                             
WhistlerGwen    bird         1997-12-09     
                             
Slim    Benny   snake   m    1996-04-29
                             

Because you are beginning with an empty table, an easy way to populate
it is to create a text file containing a row for each of your animals,
then load the contents of the file into the table with a single
statement.

You could create a text file 'pet.txt' containing one record per line,
with values separated by tabs, and given in the order in which the
columns were listed in the *note 'CREATE TABLE': create-table.
statement.  For missing values (such as unknown sexes or death dates for
animals that are still living), you can use 'NULL' values.  To represent
these in your text file, use '\N' (backslash, capital-N). For example,
the record for Whistler the bird would look like this (where the
whitespace between values is a single tab character):

     Whistler        Gwen    bird    \N      1997-12-09      \N

To load the text file 'pet.txt' into the 'pet' table, use this
statement:

     mysql> LOAD DATA LOCAL INFILE '/path/pet.txt' INTO TABLE pet;

If you created the file on Windows with an editor that uses '\r\n' as a
line terminator, you should use this statement instead:

     mysql> LOAD DATA LOCAL INFILE '/path/pet.txt' INTO TABLE pet
            LINES TERMINATED BY '\r\n';

(On an Apple machine running macOS, you would likely want to use 'LINES
TERMINATED BY '\r''.)

You can specify the column value separator and end of line marker
explicitly in the *note 'LOAD DATA': load-data. statement if you wish,
but the defaults are tab and linefeed.  These are sufficient for the
statement to read the file 'pet.txt' properly.

If the statement fails, it is likely that your MySQL installation does
not have local file capability enabled by default.  See *note
load-data-local::, for information on how to change this.

When you want to add new records one at a time, the *note 'INSERT':
insert. statement is useful.  In its simplest form, you supply values
for each column, in the order in which the columns were listed in the
*note 'CREATE TABLE': create-table. statement.  Suppose that Diane gets
a new hamster named 'Puffball.' You could add a new record using an
*note 'INSERT': insert. statement like this:

     mysql> INSERT INTO pet
            VALUES ('Puffball','Diane','hamster','f','1999-03-30',NULL);

String and date values are specified as quoted strings here.  Also, with
*note 'INSERT': insert, you can insert 'NULL' directly to represent a
missing value.  You do not use '\N' like you do with *note 'LOAD DATA':
load-data.

From this example, you should be able to see that there would be a lot
more typing involved to load your records initially using several *note
'INSERT': insert. statements rather than a single *note 'LOAD DATA':
load-data. statement.


File: manual.info.tmp,  Node: retrieving-data,  Prev: loading-tables,  Up: database-use

3.3.4 Retrieving Information from a Table
-----------------------------------------

* Menu:

* selecting-all::                Selecting All Data
* selecting-rows::               Selecting Particular Rows
* selecting-columns::            Selecting Particular Columns
* sorting-rows::                 Sorting Rows
* date-calculations::            Date Calculations
* working-with-null::            Working with NULL Values
* pattern-matching::             Pattern Matching
* counting-rows::                Counting Rows
* multiple-tables::              Using More Than one Table

The *note 'SELECT': select. statement is used to pull information from a
table.  The general form of the statement is:

     SELECT WHAT_TO_SELECT
     FROM WHICH_TABLE
     WHERE CONDITIONS_TO_SATISFY;

WHAT_TO_SELECT indicates what you want to see.  This can be a list of
columns, or '*' to indicate 'all columns.'  WHICH_TABLE indicates the
table from which you want to retrieve data.  The 'WHERE' clause is
optional.  If it is present, CONDITIONS_TO_SATISFY specifies one or more
conditions that rows must satisfy to qualify for retrieval.


File: manual.info.tmp,  Node: selecting-all,  Next: selecting-rows,  Prev: retrieving-data,  Up: retrieving-data

3.3.4.1 Selecting All Data
..........................

The simplest form of *note 'SELECT': select. retrieves everything from a
table:

     mysql> SELECT * FROM pet;
     +----------+--------+---------+------+------------+------------+
     | name     | owner  | species | sex  | birth      | death      |
     +----------+--------+---------+------+------------+------------+
     | Fluffy   | Harold | cat     | f    | 1993-02-04 | NULL       |
     | Claws    | Gwen   | cat     | m    | 1994-03-17 | NULL       |
     | Buffy    | Harold | dog     | f    | 1989-05-13 | NULL       |
     | Fang     | Benny  | dog     | m    | 1990-08-27 | NULL       |
     | Bowser   | Diane  | dog     | m    | 1979-08-31 | 1995-07-29 |
     | Chirpy   | Gwen   | bird    | f    | 1998-09-11 | NULL       |
     | Whistler | Gwen   | bird    | NULL | 1997-12-09 | NULL       |
     | Slim     | Benny  | snake   | m    | 1996-04-29 | NULL       |
     | Puffball | Diane  | hamster | f    | 1999-03-30 | NULL       |
     +----------+--------+---------+------+------------+------------+

This form of *note 'SELECT': select. is useful if you want to review
your entire table, for example, after you've just loaded it with your
initial data set.  For example, you may happen to think that the birth
date for Bowser doesn't seem quite right.  Consulting your original
pedigree papers, you find that the correct birth year should be 1989,
not 1979.

There are at least two ways to fix this:

   * Edit the file 'pet.txt' to correct the error, then empty the table
     and reload it using *note 'DELETE': delete. and *note 'LOAD DATA':
     load-data.:

          mysql> DELETE FROM pet;
          mysql> LOAD DATA LOCAL INFILE '/path/pet.txt' INTO TABLE pet;

     However, if you do this, you must also re-enter the record for
     Puffball.

   * Fix only the erroneous record with an *note 'UPDATE': update.
     statement:

          mysql> UPDATE pet SET birth = '1989-08-31' WHERE name = 'Bowser';

     The *note 'UPDATE': update. changes only the record in question and
     does not require you to reload the table.


File: manual.info.tmp,  Node: selecting-rows,  Next: selecting-columns,  Prev: selecting-all,  Up: retrieving-data

3.3.4.2 Selecting Particular Rows
.................................

As shown in the preceding section, it is easy to retrieve an entire
table.  Just omit the 'WHERE' clause from the *note 'SELECT': select.
statement.  But typically you don't want to see the entire table,
particularly when it becomes large.  Instead, you're usually more
interested in answering a particular question, in which case you specify
some constraints on the information you want.  Let's look at some
selection queries in terms of questions about your pets that they
answer.

You can select only particular rows from your table.  For example, if
you want to verify the change that you made to Bowser's birth date,
select Bowser's record like this:

     mysql> SELECT * FROM pet WHERE name = 'Bowser';
     +--------+-------+---------+------+------------+------------+
     | name   | owner | species | sex  | birth      | death      |
     +--------+-------+---------+------+------------+------------+
     | Bowser | Diane | dog     | m    | 1989-08-31 | 1995-07-29 |
     +--------+-------+---------+------+------------+------------+

The output confirms that the year is correctly recorded as 1989, not
1979.

String comparisons normally are case-insensitive, so you can specify the
name as ''bowser'', ''BOWSER'', and so forth.  The query result is the
same.

You can specify conditions on any column, not just 'name'.  For example,
if you want to know which animals were born during or after 1998, test
the 'birth' column:

     mysql> SELECT * FROM pet WHERE birth >= '1998-1-1';
     +----------+-------+---------+------+------------+-------+
     | name     | owner | species | sex  | birth      | death |
     +----------+-------+---------+------+------------+-------+
     | Chirpy   | Gwen  | bird    | f    | 1998-09-11 | NULL  |
     | Puffball | Diane | hamster | f    | 1999-03-30 | NULL  |
     +----------+-------+---------+------+------------+-------+

You can combine conditions, for example, to locate female dogs:

     mysql> SELECT * FROM pet WHERE species = 'dog' AND sex = 'f';
     +-------+--------+---------+------+------------+-------+
     | name  | owner  | species | sex  | birth      | death |
     +-------+--------+---------+------+------------+-------+
     | Buffy | Harold | dog     | f    | 1989-05-13 | NULL  |
     +-------+--------+---------+------+------------+-------+

The preceding query uses the 'AND' logical operator.  There is also an
'OR' operator:

     mysql> SELECT * FROM pet WHERE species = 'snake' OR species = 'bird';
     +----------+-------+---------+------+------------+-------+
     | name     | owner | species | sex  | birth      | death |
     +----------+-------+---------+------+------------+-------+
     | Chirpy   | Gwen  | bird    | f    | 1998-09-11 | NULL  |
     | Whistler | Gwen  | bird    | NULL | 1997-12-09 | NULL  |
     | Slim     | Benny | snake   | m    | 1996-04-29 | NULL  |
     +----------+-------+---------+------+------------+-------+

'AND' and 'OR' may be intermixed, although 'AND' has higher precedence
than 'OR'.  If you use both operators, it is a good idea to use
parentheses to indicate explicitly how conditions should be grouped:

     mysql> SELECT * FROM pet WHERE (species = 'cat' AND sex = 'm')
            OR (species = 'dog' AND sex = 'f');
     +-------+--------+---------+------+------------+-------+
     | name  | owner  | species | sex  | birth      | death |
     +-------+--------+---------+------+------------+-------+
     | Claws | Gwen   | cat     | m    | 1994-03-17 | NULL  |
     | Buffy | Harold | dog     | f    | 1989-05-13 | NULL  |
     +-------+--------+---------+------+------------+-------+


File: manual.info.tmp,  Node: selecting-columns,  Next: sorting-rows,  Prev: selecting-rows,  Up: retrieving-data

3.3.4.3 Selecting Particular Columns
....................................

If you do not want to see entire rows from your table, just name the
columns in which you are interested, separated by commas.  For example,
if you want to know when your animals were born, select the 'name' and
'birth' columns:

     mysql> SELECT name, birth FROM pet;
     +----------+------------+
     | name     | birth      |
     +----------+------------+
     | Fluffy   | 1993-02-04 |
     | Claws    | 1994-03-17 |
     | Buffy    | 1989-05-13 |
     | Fang     | 1990-08-27 |
     | Bowser   | 1989-08-31 |
     | Chirpy   | 1998-09-11 |
     | Whistler | 1997-12-09 |
     | Slim     | 1996-04-29 |
     | Puffball | 1999-03-30 |
     +----------+------------+

To find out who owns pets, use this query:

     mysql> SELECT owner FROM pet;
     +--------+
     | owner  |
     +--------+
     | Harold |
     | Gwen   |
     | Harold |
     | Benny  |
     | Diane  |
     | Gwen   |
     | Gwen   |
     | Benny  |
     | Diane  |
     +--------+

Notice that the query simply retrieves the 'owner' column from each
record, and some of them appear more than once.  To minimize the output,
retrieve each unique output record just once by adding the keyword
'DISTINCT':

     mysql> SELECT DISTINCT owner FROM pet;
     +--------+
     | owner  |
     +--------+
     | Benny  |
     | Diane  |
     | Gwen   |
     | Harold |
     +--------+

You can use a 'WHERE' clause to combine row selection with column
selection.  For example, to get birth dates for dogs and cats only, use
this query:

     mysql> SELECT name, species, birth FROM pet
            WHERE species = 'dog' OR species = 'cat';
     +--------+---------+------------+
     | name   | species | birth      |
     +--------+---------+------------+
     | Fluffy | cat     | 1993-02-04 |
     | Claws  | cat     | 1994-03-17 |
     | Buffy  | dog     | 1989-05-13 |
     | Fang   | dog     | 1990-08-27 |
     | Bowser | dog     | 1989-08-31 |
     +--------+---------+------------+


File: manual.info.tmp,  Node: sorting-rows,  Next: date-calculations,  Prev: selecting-columns,  Up: retrieving-data

3.3.4.4 Sorting Rows
....................

You may have noticed in the preceding examples that the result rows are
displayed in no particular order.  It is often easier to examine query
output when the rows are sorted in some meaningful way.  To sort a
result, use an 'ORDER BY' clause.

Here are animal birthdays, sorted by date:

     mysql> SELECT name, birth FROM pet ORDER BY birth;
     +----------+------------+
     | name     | birth      |
     +----------+------------+
     | Buffy    | 1989-05-13 |
     | Bowser   | 1989-08-31 |
     | Fang     | 1990-08-27 |
     | Fluffy   | 1993-02-04 |
     | Claws    | 1994-03-17 |
     | Slim     | 1996-04-29 |
     | Whistler | 1997-12-09 |
     | Chirpy   | 1998-09-11 |
     | Puffball | 1999-03-30 |
     +----------+------------+

On character type columns, sorting--like all other comparison
operations--is normally performed in a case-insensitive fashion.  This
means that the order is undefined for columns that are identical except
for their case.  You can force a case-sensitive sort for a column by
using 'BINARY' like so: 'ORDER BY BINARY COL_NAME'.

The default sort order is ascending, with smallest values first.  To
sort in reverse (descending) order, add the 'DESC' keyword to the name
of the column you are sorting by:

     mysql> SELECT name, birth FROM pet ORDER BY birth DESC;
     +----------+------------+
     | name     | birth      |
     +----------+------------+
     | Puffball | 1999-03-30 |
     | Chirpy   | 1998-09-11 |
     | Whistler | 1997-12-09 |
     | Slim     | 1996-04-29 |
     | Claws    | 1994-03-17 |
     | Fluffy   | 1993-02-04 |
     | Fang     | 1990-08-27 |
     | Bowser   | 1989-08-31 |
     | Buffy    | 1989-05-13 |
     +----------+------------+

You can sort on multiple columns, and you can sort different columns in
different directions.  For example, to sort by type of animal in
ascending order, then by birth date within animal type in descending
order (youngest animals first), use the following query:

     mysql> SELECT name, species, birth FROM pet
            ORDER BY species, birth DESC;
     +----------+---------+------------+
     | name     | species | birth      |
     +----------+---------+------------+
     | Chirpy   | bird    | 1998-09-11 |
     | Whistler | bird    | 1997-12-09 |
     | Claws    | cat     | 1994-03-17 |
     | Fluffy   | cat     | 1993-02-04 |
     | Fang     | dog     | 1990-08-27 |
     | Bowser   | dog     | 1989-08-31 |
     | Buffy    | dog     | 1989-05-13 |
     | Puffball | hamster | 1999-03-30 |
     | Slim     | snake   | 1996-04-29 |
     +----------+---------+------------+

The 'DESC' keyword applies only to the column name immediately preceding
it ('birth'); it does not affect the 'species' column sort order.


File: manual.info.tmp,  Node: date-calculations,  Next: working-with-null,  Prev: sorting-rows,  Up: retrieving-data

3.3.4.5 Date Calculations
.........................

MySQL provides several functions that you can use to perform
calculations on dates, for example, to calculate ages or extract parts
of dates.

To determine how many years old each of your pets is, use the
'TIMESTAMPDIFF()' function.  Its arguments are the unit in which you
want the result expressed, and the two dates for which to take the
difference.  The following query shows, for each pet, the birth date,
the current date, and the age in years.  An _alias_ ('age') is used to
make the final output column label more meaningful.

     mysql> SELECT name, birth, CURDATE(),
            TIMESTAMPDIFF(YEAR,birth,CURDATE()) AS age
            FROM pet;
     +----------+------------+------------+------+
     | name     | birth      | CURDATE()  | age  |
     +----------+------------+------------+------+
     | Fluffy   | 1993-02-04 | 2003-08-19 |   10 |
     | Claws    | 1994-03-17 | 2003-08-19 |    9 |
     | Buffy    | 1989-05-13 | 2003-08-19 |   14 |
     | Fang     | 1990-08-27 | 2003-08-19 |   12 |
     | Bowser   | 1989-08-31 | 2003-08-19 |   13 |
     | Chirpy   | 1998-09-11 | 2003-08-19 |    4 |
     | Whistler | 1997-12-09 | 2003-08-19 |    5 |
     | Slim     | 1996-04-29 | 2003-08-19 |    7 |
     | Puffball | 1999-03-30 | 2003-08-19 |    4 |
     +----------+------------+------------+------+

The query works, but the result could be scanned more easily if the rows
were presented in some order.  This can be done by adding an 'ORDER BY
name' clause to sort the output by name:

     mysql> SELECT name, birth, CURDATE(),
            TIMESTAMPDIFF(YEAR,birth,CURDATE()) AS age
            FROM pet ORDER BY name;
     +----------+------------+------------+------+
     | name     | birth      | CURDATE()  | age  |
     +----------+------------+------------+------+
     | Bowser   | 1989-08-31 | 2003-08-19 |   13 |
     | Buffy    | 1989-05-13 | 2003-08-19 |   14 |
     | Chirpy   | 1998-09-11 | 2003-08-19 |    4 |
     | Claws    | 1994-03-17 | 2003-08-19 |    9 |
     | Fang     | 1990-08-27 | 2003-08-19 |   12 |
     | Fluffy   | 1993-02-04 | 2003-08-19 |   10 |
     | Puffball | 1999-03-30 | 2003-08-19 |    4 |
     | Slim     | 1996-04-29 | 2003-08-19 |    7 |
     | Whistler | 1997-12-09 | 2003-08-19 |    5 |
     +----------+------------+------------+------+

To sort the output by 'age' rather than 'name', just use a different
'ORDER BY' clause:

     mysql> SELECT name, birth, CURDATE(),
            TIMESTAMPDIFF(YEAR,birth,CURDATE()) AS age
            FROM pet ORDER BY age;
     +----------+------------+------------+------+
     | name     | birth      | CURDATE()  | age  |
     +----------+------------+------------+------+
     | Chirpy   | 1998-09-11 | 2003-08-19 |    4 |
     | Puffball | 1999-03-30 | 2003-08-19 |    4 |
     | Whistler | 1997-12-09 | 2003-08-19 |    5 |
     | Slim     | 1996-04-29 | 2003-08-19 |    7 |
     | Claws    | 1994-03-17 | 2003-08-19 |    9 |
     | Fluffy   | 1993-02-04 | 2003-08-19 |   10 |
     | Fang     | 1990-08-27 | 2003-08-19 |   12 |
     | Bowser   | 1989-08-31 | 2003-08-19 |   13 |
     | Buffy    | 1989-05-13 | 2003-08-19 |   14 |
     +----------+------------+------------+------+

A similar query can be used to determine age at death for animals that
have died.  You determine which animals these are by checking whether
the 'death' value is 'NULL'.  Then, for those with non-'NULL' values,
compute the difference between the 'death' and 'birth' values:

     mysql> SELECT name, birth, death,
            TIMESTAMPDIFF(YEAR,birth,death) AS age
            FROM pet WHERE death IS NOT NULL ORDER BY age;
     +--------+------------+------------+------+
     | name   | birth      | death      | age  |
     +--------+------------+------------+------+
     | Bowser | 1989-08-31 | 1995-07-29 |    5 |
     +--------+------------+------------+------+

The query uses 'death IS NOT NULL' rather than 'death <> NULL' because
'NULL' is a special value that cannot be compared using the usual
comparison operators.  This is discussed later.  See *note
working-with-null::.

What if you want to know which animals have birthdays next month?  For
this type of calculation, year and day are irrelevant; you simply want
to extract the month part of the 'birth' column.  MySQL provides several
functions for extracting parts of dates, such as 'YEAR()', 'MONTH()',
and 'DAYOFMONTH()'.  'MONTH()' is the appropriate function here.  To see
how it works, run a simple query that displays the value of both 'birth'
and 'MONTH(birth)':

     mysql> SELECT name, birth, MONTH(birth) FROM pet;
     +----------+------------+--------------+
     | name     | birth      | MONTH(birth) |
     +----------+------------+--------------+
     | Fluffy   | 1993-02-04 |            2 |
     | Claws    | 1994-03-17 |            3 |
     | Buffy    | 1989-05-13 |            5 |
     | Fang     | 1990-08-27 |            8 |
     | Bowser   | 1989-08-31 |            8 |
     | Chirpy   | 1998-09-11 |            9 |
     | Whistler | 1997-12-09 |           12 |
     | Slim     | 1996-04-29 |            4 |
     | Puffball | 1999-03-30 |            3 |
     +----------+------------+--------------+

Finding animals with birthdays in the upcoming month is also simple.
Suppose that the current month is April.  Then the month value is '4'
and you can look for animals born in May (month '5') like this:

     mysql> SELECT name, birth FROM pet WHERE MONTH(birth) = 5;
     +-------+------------+
     | name  | birth      |
     +-------+------------+
     | Buffy | 1989-05-13 |
     +-------+------------+

There is a small complication if the current month is December.  You
cannot merely add one to the month number ('12') and look for animals
born in month '13', because there is no such month.  Instead, you look
for animals born in January (month '1').

You can write the query so that it works no matter what the current
month is, so that you do not have to use the number for a particular
month.  'DATE_ADD()' enables you to add a time interval to a given date.
If you add a month to the value of 'CURDATE()', then extract the month
part with 'MONTH()', the result produces the month in which to look for
birthdays:

     mysql> SELECT name, birth FROM pet
            WHERE MONTH(birth) = MONTH(DATE_ADD(CURDATE(),INTERVAL 1 MONTH));

A different way to accomplish the same task is to add '1' to get the
next month after the current one after using the modulo function ('MOD')
to wrap the month value to '0' if it is currently '12':

     mysql> SELECT name, birth FROM pet
            WHERE MONTH(birth) = MOD(MONTH(CURDATE()), 12) + 1;

'MONTH()' returns a number between '1' and '12'.  And
'MOD(something,12)' returns a number between '0' and '11'.  So the
addition has to be after the 'MOD()', otherwise we would go from
November ('11') to January ('1').

If a calculation uses invalid dates, the calculation fails and produces
warnings:

     mysql> SELECT '2018-10-31' + INTERVAL 1 DAY;
     +-------------------------------+
     | '2018-10-31' + INTERVAL 1 DAY |
     +-------------------------------+
     | 2018-11-01                    |
     +-------------------------------+
     mysql> SELECT '2018-10-32' + INTERVAL 1 DAY;
     +-------------------------------+
     | '2018-10-32' + INTERVAL 1 DAY |
     +-------------------------------+
     | NULL                          |
     +-------------------------------+
     mysql> SHOW WARNINGS;
     +---------+------+----------------------------------------+
     | Level   | Code | Message                                |
     +---------+------+----------------------------------------+
     | Warning | 1292 | Incorrect datetime value: '2018-10-32' |
     +---------+------+----------------------------------------+


File: manual.info.tmp,  Node: working-with-null,  Next: pattern-matching,  Prev: date-calculations,  Up: retrieving-data

3.3.4.6 Working with NULL Values
................................

The 'NULL' value can be surprising until you get used to it.
Conceptually, 'NULL' means 'a missing unknown value' and it is treated
somewhat differently from other values.

To test for 'NULL', use the 'IS NULL' and 'IS NOT NULL' operators, as
shown here:

     mysql> SELECT 1 IS NULL, 1 IS NOT NULL;
     +-----------+---------------+
     | 1 IS NULL | 1 IS NOT NULL |
     +-----------+---------------+
     |         0 |             1 |
     +-----------+---------------+

You cannot use arithmetic comparison operators such as '=', '<', or '<>'
to test for 'NULL'.  To demonstrate this for yourself, try the following
query:

     mysql> SELECT 1 = NULL, 1 <> NULL, 1 < NULL, 1 > NULL;
     +----------+-----------+----------+----------+
     | 1 = NULL | 1 <> NULL | 1 < NULL | 1 > NULL |
     +----------+-----------+----------+----------+
     |     NULL |      NULL |     NULL |     NULL |
     +----------+-----------+----------+----------+

Because the result of any arithmetic comparison with 'NULL' is also
'NULL', you cannot obtain any meaningful results from such comparisons.

In MySQL, '0' or 'NULL' means false and anything else means true.  The
default truth value from a boolean operation is '1'.

This special treatment of 'NULL' is why, in the previous section, it was
necessary to determine which animals are no longer alive using 'death IS
NOT NULL' instead of 'death <> NULL'.

Two 'NULL' values are regarded as equal in a 'GROUP BY'.

When doing an 'ORDER BY', 'NULL' values are presented first if you do
'ORDER BY ... ASC' and last if you do 'ORDER BY ... DESC'.

A common error when working with 'NULL' is to assume that it is not
possible to insert a zero or an empty string into a column defined as
'NOT NULL', but this is not the case.  These are in fact values, whereas
'NULL' means 'not having a value.' You can test this easily enough by
using 'IS [NOT] NULL' as shown:

     mysql> SELECT 0 IS NULL, 0 IS NOT NULL, '' IS NULL, '' IS NOT NULL;
     +-----------+---------------+------------+----------------+
     | 0 IS NULL | 0 IS NOT NULL | '' IS NULL | '' IS NOT NULL |
     +-----------+---------------+------------+----------------+
     |         0 |             1 |          0 |              1 |
     +-----------+---------------+------------+----------------+

Thus it is entirely possible to insert a zero or empty string into a
'NOT NULL' column, as these are in fact 'NOT NULL'.  See *note
problems-with-null::.


File: manual.info.tmp,  Node: pattern-matching,  Next: counting-rows,  Prev: working-with-null,  Up: retrieving-data

3.3.4.7 Pattern Matching
........................

MySQL provides standard SQL pattern matching as well as a form of
pattern matching based on extended regular expressions similar to those
used by Unix utilities such as 'vi', 'grep', and 'sed'.

SQL pattern matching enables you to use '_' to match any single
character and '%' to match an arbitrary number of characters (including
zero characters).  In MySQL, SQL patterns are case-insensitive by
default.  Some examples are shown here.  Do not use '=' or '<>' when you
use SQL patterns.  Use the 'LIKE' or 'NOT LIKE' comparison operators
instead.

To find names beginning with 'b':

     mysql> SELECT * FROM pet WHERE name LIKE 'b%';
     +--------+--------+---------+------+------------+------------+
     | name   | owner  | species | sex  | birth      | death      |
     +--------+--------+---------+------+------------+------------+
     | Buffy  | Harold | dog     | f    | 1989-05-13 | NULL       |
     | Bowser | Diane  | dog     | m    | 1989-08-31 | 1995-07-29 |
     +--------+--------+---------+------+------------+------------+

To find names ending with 'fy':

     mysql> SELECT * FROM pet WHERE name LIKE '%fy';
     +--------+--------+---------+------+------------+-------+
     | name   | owner  | species | sex  | birth      | death |
     +--------+--------+---------+------+------------+-------+
     | Fluffy | Harold | cat     | f    | 1993-02-04 | NULL  |
     | Buffy  | Harold | dog     | f    | 1989-05-13 | NULL  |
     +--------+--------+---------+------+------------+-------+

To find names containing a 'w':

     mysql> SELECT * FROM pet WHERE name LIKE '%w%';
     +----------+-------+---------+------+------------+------------+
     | name     | owner | species | sex  | birth      | death      |
     +----------+-------+---------+------+------------+------------+
     | Claws    | Gwen  | cat     | m    | 1994-03-17 | NULL       |
     | Bowser   | Diane | dog     | m    | 1989-08-31 | 1995-07-29 |
     | Whistler | Gwen  | bird    | NULL | 1997-12-09 | NULL       |
     +----------+-------+---------+------+------------+------------+

To find names containing exactly five characters, use five instances of
the '_' pattern character:

     mysql> SELECT * FROM pet WHERE name LIKE '_____';
     +-------+--------+---------+------+------------+-------+
     | name  | owner  | species | sex  | birth      | death |
     +-------+--------+---------+------+------------+-------+
     | Claws | Gwen   | cat     | m    | 1994-03-17 | NULL  |
     | Buffy | Harold | dog     | f    | 1989-05-13 | NULL  |
     +-------+--------+---------+------+------------+-------+

The other type of pattern matching provided by MySQL uses extended
regular expressions.  When you test for a match for this type of
pattern, use the 'REGEXP' and 'NOT REGEXP' operators (or 'RLIKE' and
'NOT RLIKE', which are synonyms).

The following list describes some characteristics of extended regular
expressions:

   * '.' matches any single character.

   * A character class '[...]' matches any character within the
     brackets.  For example, '[abc]' matches 'a', 'b', or 'c'.  To name
     a range of characters, use a dash.  '[a-z]' matches any letter,
     whereas '[0-9]' matches any digit.

   * '*' matches zero or more instances of the thing preceding it.  For
     example, 'x*' matches any number of 'x' characters, '[0-9]*'
     matches any number of digits, and '.*' matches any number of
     anything.

   * A regular expression pattern match succeeds if the pattern matches
     anywhere in the value being tested.  (This differs from a 'LIKE'
     pattern match, which succeeds only if the pattern matches the
     entire value.)

   * To anchor a pattern so that it must match the beginning or end of
     the value being tested, use '^' at the beginning or '$' at the end
     of the pattern.

To demonstrate how extended regular expressions work, the 'LIKE' queries
shown previously are rewritten here to use 'REGEXP'.

To find names beginning with 'b', use '^' to match the beginning of the
name:

     mysql> SELECT * FROM pet WHERE name REGEXP '^b';
     +--------+--------+---------+------+------------+------------+
     | name   | owner  | species | sex  | birth      | death      |
     +--------+--------+---------+------+------------+------------+
     | Buffy  | Harold | dog     | f    | 1989-05-13 | NULL       |
     | Bowser | Diane  | dog     | m    | 1989-08-31 | 1995-07-29 |
     +--------+--------+---------+------+------------+------------+

To force a 'REGEXP' comparison to be case-sensitive, use the 'BINARY'
keyword to make one of the strings a binary string.  This query matches
only lowercase 'b' at the beginning of a name:

     SELECT * FROM pet WHERE name REGEXP BINARY '^b';

To find names ending with 'fy', use '$' to match the end of the name:

     mysql> SELECT * FROM pet WHERE name REGEXP 'fy$';
     +--------+--------+---------+------+------------+-------+
     | name   | owner  | species | sex  | birth      | death |
     +--------+--------+---------+------+------------+-------+
     | Fluffy | Harold | cat     | f    | 1993-02-04 | NULL  |
     | Buffy  | Harold | dog     | f    | 1989-05-13 | NULL  |
     +--------+--------+---------+------+------------+-------+

To find names containing a 'w', use this query:

     mysql> SELECT * FROM pet WHERE name REGEXP 'w';
     +----------+-------+---------+------+------------+------------+
     | name     | owner | species | sex  | birth      | death      |
     +----------+-------+---------+------+------------+------------+
     | Claws    | Gwen  | cat     | m    | 1994-03-17 | NULL       |
     | Bowser   | Diane | dog     | m    | 1989-08-31 | 1995-07-29 |
     | Whistler | Gwen  | bird    | NULL | 1997-12-09 | NULL       |
     +----------+-------+---------+------+------------+------------+

Because a regular expression pattern matches if it occurs anywhere in
the value, it is not necessary in the previous query to put a wildcard
on either side of the pattern to get it to match the entire value as
would be true with an SQL pattern.

To find names containing exactly five characters, use '^' and '$' to
match the beginning and end of the name, and five instances of '.' in
between:

     mysql> SELECT * FROM pet WHERE name REGEXP '^.....$';
     +-------+--------+---------+------+------------+-------+
     | name  | owner  | species | sex  | birth      | death |
     +-------+--------+---------+------+------------+-------+
     | Claws | Gwen   | cat     | m    | 1994-03-17 | NULL  |
     | Buffy | Harold | dog     | f    | 1989-05-13 | NULL  |
     +-------+--------+---------+------+------------+-------+

You could also write the previous query using the '{N}'
('repeat-N-times') operator:

     mysql> SELECT * FROM pet WHERE name REGEXP '^.{5}$';
     +-------+--------+---------+------+------------+-------+
     | name  | owner  | species | sex  | birth      | death |
     +-------+--------+---------+------+------------+-------+
     | Claws | Gwen   | cat     | m    | 1994-03-17 | NULL  |
     | Buffy | Harold | dog     | f    | 1989-05-13 | NULL  |
     +-------+--------+---------+------+------------+-------+

For more information about the syntax for regular expressions, see *note
regexp::.


File: manual.info.tmp,  Node: counting-rows,  Next: multiple-tables,  Prev: pattern-matching,  Up: retrieving-data

3.3.4.8 Counting Rows
.....................

Databases are often used to answer the question, 'How often does a
certain type of data occur in a table?' For example, you might want to
know how many pets you have, or how many pets each owner has, or you
might want to perform various kinds of census operations on your
animals.

Counting the total number of animals you have is the same question as
'How many rows are in the 'pet' table?' because there is one record per
pet.  'COUNT(*)' counts the number of rows, so the query to count your
animals looks like this:

     mysql> SELECT COUNT(*) FROM pet;
     +----------+
     | COUNT(*) |
     +----------+
     |        9 |
     +----------+

Earlier, you retrieved the names of the people who owned pets.  You can
use 'COUNT()' if you want to find out how many pets each owner has:

     mysql> SELECT owner, COUNT(*) FROM pet GROUP BY owner;
     +--------+----------+
     | owner  | COUNT(*) |
     +--------+----------+
     | Benny  |        2 |
     | Diane  |        2 |
     | Gwen   |        3 |
     | Harold |        2 |
     +--------+----------+

The preceding query uses 'GROUP BY' to group all records for each
'owner'.  The use of 'COUNT()' in conjunction with 'GROUP BY' is useful
for characterizing your data under various groupings.  The following
examples show different ways to perform animal census operations.

Number of animals per species:

     mysql> SELECT species, COUNT(*) FROM pet GROUP BY species;
     +---------+----------+
     | species | COUNT(*) |
     +---------+----------+
     | bird    |        2 |
     | cat     |        2 |
     | dog     |        3 |
     | hamster |        1 |
     | snake   |        1 |
     +---------+----------+

Number of animals per sex:

     mysql> SELECT sex, COUNT(*) FROM pet GROUP BY sex;
     +------+----------+
     | sex  | COUNT(*) |
     +------+----------+
     | NULL |        1 |
     | f    |        4 |
     | m    |        4 |
     +------+----------+

(In this output, 'NULL' indicates that the sex is unknown.)

Number of animals per combination of species and sex:

     mysql> SELECT species, sex, COUNT(*) FROM pet GROUP BY species, sex;
     +---------+------+----------+
     | species | sex  | COUNT(*) |
     +---------+------+----------+
     | bird    | NULL |        1 |
     | bird    | f    |        1 |
     | cat     | f    |        1 |
     | cat     | m    |        1 |
     | dog     | f    |        1 |
     | dog     | m    |        2 |
     | hamster | f    |        1 |
     | snake   | m    |        1 |
     +---------+------+----------+

You need not retrieve an entire table when you use 'COUNT()'.  For
example, the previous query, when performed just on dogs and cats, looks
like this:

     mysql> SELECT species, sex, COUNT(*) FROM pet
            WHERE species = 'dog' OR species = 'cat'
            GROUP BY species, sex;
     +---------+------+----------+
     | species | sex  | COUNT(*) |
     +---------+------+----------+
     | cat     | f    |        1 |
     | cat     | m    |        1 |
     | dog     | f    |        1 |
     | dog     | m    |        2 |
     +---------+------+----------+

Or, if you wanted the number of animals per sex only for animals whose
sex is known:

     mysql> SELECT species, sex, COUNT(*) FROM pet
            WHERE sex IS NOT NULL
            GROUP BY species, sex;
     +---------+------+----------+
     | species | sex  | COUNT(*) |
     +---------+------+----------+
     | bird    | f    |        1 |
     | cat     | f    |        1 |
     | cat     | m    |        1 |
     | dog     | f    |        1 |
     | dog     | m    |        2 |
     | hamster | f    |        1 |
     | snake   | m    |        1 |
     +---------+------+----------+

If you name columns to select in addition to the 'COUNT()' value, a
'GROUP BY' clause should be present that names those same columns.
Otherwise, the following occurs:

   * If the 'ONLY_FULL_GROUP_BY' SQL mode is enabled, an error occurs:

          mysql> SET sql_mode = 'ONLY_FULL_GROUP_BY';
          Query OK, 0 rows affected (0.00 sec)

          mysql> SELECT owner, COUNT(*) FROM pet;
          ERROR 1140 (42000): Mixing of GROUP columns (MIN(),MAX(),COUNT()...)
          with no GROUP columns is illegal if there is no GROUP BY clause

   * If 'ONLY_FULL_GROUP_BY' is not enabled, the query is processed by
     treating all rows as a single group, but the value selected for
     each named column is nondeterministic.  The server is free to
     select the value from any row:

          mysql> SET sql_mode = '';
          Query OK, 0 rows affected (0.00 sec)

          mysql> SELECT owner, COUNT(*) FROM pet;
          +--------+----------+
          | owner  | COUNT(*) |
          +--------+----------+
          | Harold |        8 |
          +--------+----------+
          1 row in set (0.00 sec)

See also *note group-by-handling::.  See *note group-by-functions:: for
information about 'COUNT(EXPR)' behavior and related optimizations.


File: manual.info.tmp,  Node: multiple-tables,  Prev: counting-rows,  Up: retrieving-data

3.3.4.9 Using More Than one Table
.................................

The 'pet' table keeps track of which pets you have.  If you want to
record other information about them, such as events in their lives like
visits to the vet or when litters are born, you need another table.
What should this table look like?  It needs to contain the following
information:

   * The pet name so that you know which animal each event pertains to.

   * A date so that you know when the event occurred.

   * A field to describe the event.

   * An event type field, if you want to be able to categorize events.

Given these considerations, the *note 'CREATE TABLE': create-table.
statement for the 'event' table might look like this:

     mysql> CREATE TABLE event (name VARCHAR(20), date DATE,
            type VARCHAR(15), remark VARCHAR(255));

As with the 'pet' table, it is easiest to load the initial records by
creating a tab-delimited text file containing the following information.

name        date        type        remark
                                    
Fluffy      1995-05-15  litter      4 kittens, 3 female, 1
                                    male
                                    
Buffy       1993-06-23  litter      5 puppies, 2 female, 3
                                    male
                                    
Buffy       1994-06-19  litter      3 puppies, 3 female
                                    
Chirpy      1999-03-21  vet         needed beak
                                    straightened
                                    
Slim        1997-08-03  vet         broken rib
                                    
Bowser      1991-10-12  kennel      
                        
Fang        1991-10-12  kennel      
                        
Fang        1998-08-28  birthday    Gave him a new chew toy
                                    
Claws       1998-03-17  birthday    Gave him a new flea
                                    collar
                                    
Whistler    1998-12-09  birthday    First birthday
                        

Load the records like this:

     mysql> LOAD DATA LOCAL INFILE 'event.txt' INTO TABLE event;

Based on what you have learned from the queries that you have run on the
'pet' table, you should be able to perform retrievals on the records in
the 'event' table; the principles are the same.  But when is the 'event'
table by itself insufficient to answer questions you might ask?

Suppose that you want to find out the ages at which each pet had its
litters.  We saw earlier how to calculate ages from two dates.  The
litter date of the mother is in the 'event' table, but to calculate her
age on that date you need her birth date, which is stored in the 'pet'
table.  This means the query requires both tables:

     mysql> SELECT pet.name,
            TIMESTAMPDIFF(YEAR,birth,date) AS age,
            remark
            FROM pet INNER JOIN event
              ON pet.name = event.name
            WHERE event.type = 'litter';
     +--------+------+-----------------------------+
     | name   | age  | remark                      |
     +--------+------+-----------------------------+
     | Fluffy |    2 | 4 kittens, 3 female, 1 male |
     | Buffy  |    4 | 5 puppies, 2 female, 3 male |
     | Buffy  |    5 | 3 puppies, 3 female         |
     +--------+------+-----------------------------+

There are several things to note about this query:

   * The 'FROM' clause joins two tables because the query needs to pull
     information from both of them.

   * When combining (joining) information from multiple tables, you need
     to specify how records in one table can be matched to records in
     the other.  This is easy because they both have a 'name' column.
     The query uses an 'ON' clause to match up records in the two tables
     based on the 'name' values.

     The query uses an 'INNER JOIN' to combine the tables.  An 'INNER
     JOIN' permits rows from either table to appear in the result if and
     only if both tables meet the conditions specified in the 'ON'
     clause.  In this example, the 'ON' clause specifies that the 'name'
     column in the 'pet' table must match the 'name' column in the
     'event' table.  If a name appears in one table but not the other,
     the row will not appear in the result because the condition in the
     'ON' clause fails.

   * Because the 'name' column occurs in both tables, you must be
     specific about which table you mean when referring to the column.
     This is done by prepending the table name to the column name.

You need not have two different tables to perform a join.  Sometimes it
is useful to join a table to itself, if you want to compare records in a
table to other records in that same table.  For example, to find
breeding pairs among your pets, you can join the 'pet' table with itself
to produce candidate pairs of live males and females of like species:

     mysql> SELECT p1.name, p1.sex, p2.name, p2.sex, p1.species
            FROM pet AS p1 INNER JOIN pet AS p2
              ON p1.species = p2.species
              AND p1.sex = 'f' AND p1.death IS NULL
              AND p2.sex = 'm' AND p2.death IS NULL;
     +--------+------+-------+------+---------+
     | name   | sex  | name  | sex  | species |
     +--------+------+-------+------+---------+
     | Fluffy | f    | Claws | m    | cat     |
     | Buffy  | f    | Fang  | m    | dog     |
     +--------+------+-------+------+---------+

In this query, we specify aliases for the table name to refer to the
columns and keep straight which instance of the table each column
reference is associated with.


File: manual.info.tmp,  Node: getting-information,  Next: batch-mode,  Prev: database-use,  Up: tutorial

3.4 Getting Information About Databases and Tables
==================================================

What if you forget the name of a database or table, or what the
structure of a given table is (for example, what its columns are
called)?  MySQL addresses this problem through several statements that
provide information about the databases and tables it supports.

You have previously seen *note 'SHOW DATABASES': show-databases, which
lists the databases managed by the server.  To find out which database
is currently selected, use the 'DATABASE()' function:

     mysql> SELECT DATABASE();
     +------------+
     | DATABASE() |
     +------------+
     | menagerie  |
     +------------+

If you have not yet selected any database, the result is 'NULL'.

To find out what tables the default database contains (for example, when
you are not sure about the name of a table), use this statement:

     mysql> SHOW TABLES;
     +---------------------+
     | Tables_in_menagerie |
     +---------------------+
     | event               |
     | pet                 |
     +---------------------+

The name of the column in the output produced by this statement is
always 'Tables_in_DB_NAME', where DB_NAME is the name of the database.
See *note show-tables::, for more information.

If you want to find out about the structure of a table, the *note
'DESCRIBE': describe. statement is useful; it displays information about
each of a table's columns:

     mysql> DESCRIBE pet;
     +---------+-------------+------+-----+---------+-------+
     | Field   | Type        | Null | Key | Default | Extra |
     +---------+-------------+------+-----+---------+-------+
     | name    | varchar(20) | YES  |     | NULL    |       |
     | owner   | varchar(20) | YES  |     | NULL    |       |
     | species | varchar(20) | YES  |     | NULL    |       |
     | sex     | char(1)     | YES  |     | NULL    |       |
     | birth   | date        | YES  |     | NULL    |       |
     | death   | date        | YES  |     | NULL    |       |
     +---------+-------------+------+-----+---------+-------+

'Field' indicates the column name, 'Type' is the data type for the
column, 'NULL' indicates whether the column can contain 'NULL' values,
'Key' indicates whether the column is indexed, and 'Default' specifies
the column's default value.  'Extra' displays special information about
columns: If a column was created with the 'AUTO_INCREMENT' option, the
value will be 'auto_increment' rather than empty.

'DESC' is a short form of *note 'DESCRIBE': describe.  See *note
describe::, for more information.

You can obtain the *note 'CREATE TABLE': create-table. statement
necessary to create an existing table using the *note 'SHOW CREATE
TABLE': show-create-table. statement.  See *note show-create-table::.

If you have indexes on a table, 'SHOW INDEX FROM TBL_NAME' produces
information about them.  See *note show-index::, for more about this
statement.


File: manual.info.tmp,  Node: batch-mode,  Next: examples,  Prev: getting-information,  Up: tutorial

3.5 Using mysql in Batch Mode
=============================

In the previous sections, you used *note 'mysql': mysql. interactively
to enter statements and view the results.  You can also run *note
'mysql': mysql. in batch mode.  To do this, put the statements you want
to run in a file, then tell *note 'mysql': mysql. to read its input from
the file:

     shell> mysql < BATCH-FILE

If you are running *note 'mysql': mysql. under Windows and have some
special characters in the file that cause problems, you can do this:

     C:\> mysql -e "source BATCH-FILE"

If you need to specify connection parameters on the command line, the
command might look like this:

     shell> mysql -h HOST -u USER -p < BATCH-FILE
     Enter password: ********

When you use *note 'mysql': mysql. this way, you are creating a script
file, then executing the script.

If you want the script to continue even if some of the statements in it
produce errors, you should use the '--force' command-line option.

Why use a script?  Here are a few reasons:

   * If you run a query repeatedly (say, every day or every week),
     making it a script enables you to avoid retyping it each time you
     execute it.

   * You can generate new queries from existing ones that are similar by
     copying and editing script files.

   * Batch mode can also be useful while you're developing a query,
     particularly for multiple-line statements or multiple-statement
     sequences.  If you make a mistake, you don't have to retype
     everything.  Just edit your script to correct the error, then tell
     *note 'mysql': mysql. to execute it again.

   * If you have a query that produces a lot of output, you can run the
     output through a pager rather than watching it scroll off the top
     of your screen:

          shell> mysql < BATCH-FILE | more

   * You can catch the output in a file for further processing:

          shell> mysql < BATCH-FILE > mysql.out

   * You can distribute your script to other people so that they can
     also run the statements.

   * Some situations do not allow for interactive use, for example, when
     you run a query from a 'cron' job.  In this case, you must use
     batch mode.

The default output format is different (more concise) when you run *note
'mysql': mysql. in batch mode than when you use it interactively.  For
example, the output of 'SELECT DISTINCT species FROM pet' looks like
this when *note 'mysql': mysql. is run interactively:

     +---------+
     | species |
     +---------+
     | bird    |
     | cat     |
     | dog     |
     | hamster |
     | snake   |
     +---------+

In batch mode, the output looks like this instead:

     species
     bird
     cat
     dog
     hamster
     snake

If you want to get the interactive output format in batch mode, use
*note 'mysql -t': mysql.  To echo to the output the statements that are
executed, use *note 'mysql -v': mysql.

You can also use scripts from the *note 'mysql': mysql. prompt by using
the 'source' command or '\.' command:

     mysql> source FILENAME;
     mysql> \. FILENAME

See *note mysql-batch-commands::, for more information.


File: manual.info.tmp,  Node: examples,  Next: apache,  Prev: batch-mode,  Up: tutorial

3.6 Examples of Common Queries
==============================

* Menu:

* example-maximum-column::       The Maximum Value for a Column
* example-maximum-row::          The Row Holding the Maximum of a Certain Column
* example-maximum-column-group::  Maximum of Column per Group
* example-maximum-column-group-row::  The Rows Holding the Group-wise Maximum of a Certain Column
* example-user-variables::       Using User-Defined Variables
* example-foreign-keys::         Using Foreign Keys
* searching-on-two-keys::        Searching on Two Keys
* calculating-days::             Calculating Visits Per Day
* example-auto-increment::       Using AUTO_INCREMENT

Here are examples of how to solve some common problems with MySQL.

Some of the examples use the table 'shop' to hold the price of each
article (item number) for certain traders (dealers).  Supposing that
each trader has a single fixed price per article, then ('article',
'dealer') is a primary key for the records.

Start the command-line tool *note 'mysql': mysql. and select a database:

     shell> mysql YOUR-DATABASE-NAME

To create and populate the example table, use these statements:

     CREATE TABLE shop (
         article INT UNSIGNED  DEFAULT '0000' NOT NULL,
         dealer  CHAR(20)      DEFAULT ''     NOT NULL,
         price   DECIMAL(16,2) DEFAULT '0.00' NOT NULL,
         PRIMARY KEY(article, dealer));
     INSERT INTO shop VALUES
         (1,'A',3.45),(1,'B',3.99),(2,'A',10.99),(3,'B',1.45),
         (3,'C',1.69),(3,'D',1.25),(4,'D',19.95);

After issuing the statements, the table should have the following
contents:

     SELECT * FROM shop ORDER BY article;

     +---------+--------+-------+
     | article | dealer | price |
     +---------+--------+-------+
     |       1 | A      |  3.45 |
     |       1 | B      |  3.99 |
     |       2 | A      | 10.99 |
     |       3 | B      |  1.45 |
     |       3 | C      |  1.69 |
     |       3 | D      |  1.25 |
     |       4 | D      | 19.95 |
     +---------+--------+-------+


File: manual.info.tmp,  Node: example-maximum-column,  Next: example-maximum-row,  Prev: examples,  Up: examples

3.6.1 The Maximum Value for a Column
------------------------------------

'What is the highest item number?'

     SELECT MAX(article) AS article FROM shop;

     +---------+
     | article |
     +---------+
     |       4 |
     +---------+


File: manual.info.tmp,  Node: example-maximum-row,  Next: example-maximum-column-group,  Prev: example-maximum-column,  Up: examples

3.6.2 The Row Holding the Maximum of a Certain Column
-----------------------------------------------------

_Task: Find the number, dealer, and price of the most expensive
article._

This is easily done with a subquery:

     SELECT article, dealer, price
     FROM   shop
     WHERE  price=(SELECT MAX(price) FROM shop);

     +---------+--------+-------+
     | article | dealer | price |
     +---------+--------+-------+
     |    0004 | D      | 19.95 |
     +---------+--------+-------+

Other solutions are to use a 'LEFT JOIN' or to sort all rows descending
by price and get only the first row using the MySQL-specific 'LIMIT'
clause:

     SELECT s1.article, s1.dealer, s1.price
     FROM shop s1
     LEFT JOIN shop s2 ON s1.price < s2.price
     WHERE s2.article IS NULL;

     SELECT article, dealer, price
     FROM shop
     ORDER BY price DESC
     LIMIT 1;

*Note*:

If there were several most expensive articles, each with a price of
19.95, the 'LIMIT' solution would show only one of them.


File: manual.info.tmp,  Node: example-maximum-column-group,  Next: example-maximum-column-group-row,  Prev: example-maximum-row,  Up: examples

3.6.3 Maximum of Column per Group
---------------------------------

_Task: Find the highest price per article._

     SELECT article, MAX(price) AS price
     FROM   shop
     GROUP BY article
     ORDER BY article;

     +---------+-------+
     | article | price |
     +---------+-------+
     |    0001 |  3.99 |
     |    0002 | 10.99 |
     |    0003 |  1.69 |
     |    0004 | 19.95 |
     +---------+-------+


File: manual.info.tmp,  Node: example-maximum-column-group-row,  Next: example-user-variables,  Prev: example-maximum-column-group,  Up: examples

3.6.4 The Rows Holding the Group-wise Maximum of a Certain Column
-----------------------------------------------------------------

_Task: For each article, find the dealer or dealers with the most
expensive price._

This problem can be solved with a subquery like this one:

     SELECT article, dealer, price
     FROM   shop s1
     WHERE  price=(SELECT MAX(s2.price)
                   FROM shop s2
                   WHERE s1.article = s2.article)
     ORDER BY article;

     +---------+--------+-------+
     | article | dealer | price |
     +---------+--------+-------+
     |    0001 | B      |  3.99 |
     |    0002 | A      | 10.99 |
     |    0003 | C      |  1.69 |
     |    0004 | D      | 19.95 |
     +---------+--------+-------+

The preceding example uses a correlated subquery, which can be
inefficient (see *note correlated-subqueries::).  Other possibilities
for solving the problem are to use an uncorrelated subquery in the
'FROM' clause or a 'LEFT JOIN'.

Uncorrelated subquery:

     SELECT s1.article, dealer, s1.price
     FROM shop s1
     JOIN (
       SELECT article, MAX(price) AS price
       FROM shop
       GROUP BY article) AS s2
       ON s1.article = s2.article AND s1.price = s2.price
     ORDER BY article;

'LEFT JOIN':

     SELECT s1.article, s1.dealer, s1.price
     FROM shop s1
     LEFT JOIN shop s2 ON s1.article = s2.article AND s1.price < s2.price
     WHERE s2.article IS NULL
     ORDER BY s1.article;

The 'LEFT JOIN' works on the basis that when 's1.price' is at its
maximum value, there is no 's2.price' with a greater value and thus the
corresponding 's2.article' value is 'NULL'.  See *note join::.


File: manual.info.tmp,  Node: example-user-variables,  Next: example-foreign-keys,  Prev: example-maximum-column-group-row,  Up: examples

3.6.5 Using User-Defined Variables
----------------------------------

You can employ MySQL user variables to remember results without having
to store them in temporary variables in the client.  (See *note
user-variables::.)

For example, to find the articles with the highest and lowest price you
can do this:

     mysql> SELECT @min_price:=MIN(price),@max_price:=MAX(price) FROM shop;
     mysql> SELECT * FROM shop WHERE price=@min_price OR price=@max_price;
     +---------+--------+-------+
     | article | dealer | price |
     +---------+--------+-------+
     |    0003 | D      |  1.25 |
     |    0004 | D      | 19.95 |
     +---------+--------+-------+

*Note*:

It is also possible to store the name of a database object such as a
table or a column in a user variable and then to use this variable in an
SQL statement; however, this requires the use of a prepared statement.
See *note sql-prepared-statements::, for more information.


File: manual.info.tmp,  Node: example-foreign-keys,  Next: searching-on-two-keys,  Prev: example-user-variables,  Up: examples

3.6.6 Using Foreign Keys
------------------------

In MySQL, 'InnoDB' tables support checking of foreign key constraints.
See *note innodb-storage-engine::, and *note ansi-diff-foreign-keys::.

A foreign key constraint is not required merely to join two tables.  For
storage engines other than 'InnoDB', it is possible when defining a
column to use a 'REFERENCES TBL_NAME(COL_NAME)' clause, which has no
actual effect, and _serves only as a memo or comment to you that the
column which you are currently defining is intended to refer to a column
in another table_.  It is extremely important to realize when using this
syntax that:

   * MySQL does not perform any sort of check to make sure that COL_NAME
     actually exists in TBL_NAME (or even that TBL_NAME itself exists).

   * MySQL does not perform any sort of action on TBL_NAME such as
     deleting rows in response to actions taken on rows in the table
     which you are defining; in other words, this syntax induces no 'ON
     DELETE' or 'ON UPDATE' behavior whatsoever.  (Although you can
     write an 'ON DELETE' or 'ON UPDATE' clause as part of the
     'REFERENCES' clause, it is also ignored.)

   * This syntax creates a _column_; it does *not* create any sort of
     index or key.

You can use a column so created as a join column, as shown here:

     CREATE TABLE person (
         id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
         name CHAR(60) NOT NULL,
         PRIMARY KEY (id)
     );

     CREATE TABLE shirt (
         id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
         style ENUM('t-shirt', 'polo', 'dress') NOT NULL,
         color ENUM('red', 'blue', 'orange', 'white', 'black') NOT NULL,
         owner SMALLINT UNSIGNED NOT NULL REFERENCES person(id),
         PRIMARY KEY (id)
     );

     INSERT INTO person VALUES (NULL, 'Antonio Paz');

     SELECT @last := LAST_INSERT_ID();

     INSERT INTO shirt VALUES
     (NULL, 'polo', 'blue', @last),
     (NULL, 'dress', 'white', @last),
     (NULL, 't-shirt', 'blue', @last);

     INSERT INTO person VALUES (NULL, 'Lilliana Angelovska');

     SELECT @last := LAST_INSERT_ID();

     INSERT INTO shirt VALUES
     (NULL, 'dress', 'orange', @last),
     (NULL, 'polo', 'red', @last),
     (NULL, 'dress', 'blue', @last),
     (NULL, 't-shirt', 'white', @last);

     SELECT * FROM person;
     +----+---------------------+
     | id | name                |
     +----+---------------------+
     |  1 | Antonio Paz         |
     |  2 | Lilliana Angelovska |
     +----+---------------------+

     SELECT * FROM shirt;
     +----+---------+--------+-------+
     | id | style   | color  | owner |
     +----+---------+--------+-------+
     |  1 | polo    | blue   |     1 |
     |  2 | dress   | white  |     1 |
     |  3 | t-shirt | blue   |     1 |
     |  4 | dress   | orange |     2 |
     |  5 | polo    | red    |     2 |
     |  6 | dress   | blue   |     2 |
     |  7 | t-shirt | white  |     2 |
     +----+---------+--------+-------+

     SELECT s.* FROM person p INNER JOIN shirt s
        ON s.owner = p.id
      WHERE p.name LIKE 'Lilliana%'
        AND s.color <> 'white';

     +----+-------+--------+-------+
     | id | style | color  | owner |
     +----+-------+--------+-------+
     |  4 | dress | orange |     2 |
     |  5 | polo  | red    |     2 |
     |  6 | dress | blue   |     2 |
     +----+-------+--------+-------+

When used in this fashion, the 'REFERENCES' clause is not displayed in
the output of *note 'SHOW CREATE TABLE': show-create-table. or *note
'DESCRIBE': describe.:

     SHOW CREATE TABLE shirt\G
     *************************** 1. row ***************************
     Table: shirt
     Create Table: CREATE TABLE `shirt` (
     `id` smallint(5) unsigned NOT NULL auto_increment,
     `style` enum('t-shirt','polo','dress') NOT NULL,
     `color` enum('red','blue','orange','white','black') NOT NULL,
     `owner` smallint(5) unsigned NOT NULL,
     PRIMARY KEY  (`id`)
     ) ENGINE=MyISAM DEFAULT CHARSET=latin1

The use of 'REFERENCES' in this way as a comment or 'reminder' in a
column definition works with 'MyISAM' tables.


File: manual.info.tmp,  Node: searching-on-two-keys,  Next: calculating-days,  Prev: example-foreign-keys,  Up: examples

3.6.7 Searching on Two Keys
---------------------------

An 'OR' using a single key is well optimized, as is the handling of
'AND'.

The one tricky case is that of searching on two different keys combined
with 'OR':

     SELECT field1_index, field2_index FROM test_table
     WHERE field1_index = '1' OR  field2_index = '1'

This case is optimized.  See *note index-merge-optimization::.

You can also solve the problem efficiently by using a *note 'UNION':
union. that combines the output of two separate *note 'SELECT': select.
statements.  See *note union::.

Each *note 'SELECT': select. searches only one key and can be optimized:

     SELECT field1_index, field2_index
         FROM test_table WHERE field1_index = '1'
     UNION
     SELECT field1_index, field2_index
         FROM test_table WHERE field2_index = '1';


File: manual.info.tmp,  Node: calculating-days,  Next: example-auto-increment,  Prev: searching-on-two-keys,  Up: examples

3.6.8 Calculating Visits Per Day
--------------------------------

The following example shows how you can use the bit group functions to
calculate the number of days per month a user has visited a Web page.

     CREATE TABLE t1 (year YEAR, month INT UNSIGNED,
                  day INT UNSIGNED);
     INSERT INTO t1 VALUES(2000,1,1),(2000,1,20),(2000,1,30),(2000,2,2),
                 (2000,2,23),(2000,2,23);

The example table contains year-month-day values representing visits by
users to the page.  To determine how many different days in each month
these visits occur, use this query:

     SELECT year,month,BIT_COUNT(BIT_OR(1<<day)) AS days FROM t1
            GROUP BY year,month;

Which returns:

     +------+-------+------+
     | year | month | days |
     +------+-------+------+
     | 2000 |     1 |    3 |
     | 2000 |     2 |    2 |
     +------+-------+------+

The query calculates how many different days appear in the table for
each year/month combination, with automatic removal of duplicate
entries.


File: manual.info.tmp,  Node: example-auto-increment,  Prev: calculating-days,  Up: examples

3.6.9 Using AUTO_INCREMENT
--------------------------

The 'AUTO_INCREMENT' attribute can be used to generate a unique identity
for new rows:

     CREATE TABLE animals (
          id MEDIUMINT NOT NULL AUTO_INCREMENT,
          name CHAR(30) NOT NULL,
          PRIMARY KEY (id)
     );

     INSERT INTO animals (name) VALUES
         ('dog'),('cat'),('penguin'),
         ('lax'),('whale'),('ostrich');

     SELECT * FROM animals;

Which returns:

     +----+---------+
     | id | name    |
     +----+---------+
     |  1 | dog     |
     |  2 | cat     |
     |  3 | penguin |
     |  4 | lax     |
     |  5 | whale   |
     |  6 | ostrich |
     +----+---------+

No value was specified for the 'AUTO_INCREMENT' column, so MySQL
assigned sequence numbers automatically.  You can also explicitly assign
0 to the column to generate sequence numbers, unless the
'NO_AUTO_VALUE_ON_ZERO' SQL mode is enabled.  For example:

     INSERT INTO animals (id,name) VALUES(0,'groundhog');

If the column is declared 'NOT NULL', it is also possible to assign
'NULL' to the column to generate sequence numbers.  For example:

     INSERT INTO animals (id,name) VALUES(NULL,'squirrel');

When you insert any other value into an 'AUTO_INCREMENT' column, the
column is set to that value and the sequence is reset so that the next
automatically generated value follows sequentially from the largest
column value.  For example:

     INSERT INTO animals (id,name) VALUES(100,'rabbit');
     INSERT INTO animals (id,name) VALUES(NULL,'mouse');
     SELECT * FROM animals;
     +-----+-----------+
     | id  | name      |
     +-----+-----------+
     |   1 | dog       |
     |   2 | cat       |
     |   3 | penguin   |
     |   4 | lax       |
     |   5 | whale     |
     |   6 | ostrich   |
     |   7 | groundhog |
     |   8 | squirrel  |
     | 100 | rabbit    |
     | 101 | mouse     |
     +-----+-----------+

Updating an existing 'AUTO_INCREMENT' column value in an 'InnoDB' table
does not reset the 'AUTO_INCREMENT' sequence as it does for 'MyISAM' and
'NDB' tables.

You can retrieve the most recent automatically generated
'AUTO_INCREMENT' value with the 'LAST_INSERT_ID()' SQL function or the
*note 'mysql_insert_id()': mysql-insert-id. C API function.  These
functions are connection-specific, so their return values are not
affected by another connection which is also performing inserts.

Use the smallest integer data type for the 'AUTO_INCREMENT' column that
is large enough to hold the maximum sequence value you will need.  When
the column reaches the upper limit of the data type, the next attempt to
generate a sequence number fails.  Use the 'UNSIGNED' attribute if
possible to allow a greater range.  For example, if you use *note
'TINYINT': integer-types, the maximum permissible sequence number is
127.  For *note 'TINYINT UNSIGNED': integer-types, the maximum is 255.
See *note integer-types:: for the ranges of all the integer types.

*Note*:

For a multiple-row insert, 'LAST_INSERT_ID()' and *note
'mysql_insert_id()': mysql-insert-id. actually return the
'AUTO_INCREMENT' key from the _first_ of the inserted rows.  This
enables multiple-row inserts to be reproduced correctly on other servers
in a replication setup.

To start with an 'AUTO_INCREMENT' value other than 1, set that value
with *note 'CREATE TABLE': create-table. or *note 'ALTER TABLE':
alter-table, like this:

     mysql> ALTER TABLE tbl AUTO_INCREMENT = 100;

*InnoDB Notes*

For information about 'AUTO_INCREMENT' usage specific to 'InnoDB', see
*note innodb-auto-increment-handling::.

*MyISAM Notes*

   * For 'MyISAM' tables, you can specify 'AUTO_INCREMENT' on a
     secondary column in a multiple-column index.  In this case, the
     generated value for the 'AUTO_INCREMENT' column is calculated as
     'MAX(AUTO_INCREMENT_COLUMN) + 1 WHERE prefix=GIVEN-PREFIX'.  This
     is useful when you want to put data into ordered groups.

          CREATE TABLE animals (
              grp ENUM('fish','mammal','bird') NOT NULL,
              id MEDIUMINT NOT NULL AUTO_INCREMENT,
              name CHAR(30) NOT NULL,
              PRIMARY KEY (grp,id)
          ) ENGINE=MyISAM;

          INSERT INTO animals (grp,name) VALUES
              ('mammal','dog'),('mammal','cat'),
              ('bird','penguin'),('fish','lax'),('mammal','whale'),
              ('bird','ostrich');

          SELECT * FROM animals ORDER BY grp,id;

     Which returns:

          +--------+----+---------+
          | grp    | id | name    |
          +--------+----+---------+
          | fish   |  1 | lax     |
          | mammal |  1 | dog     |
          | mammal |  2 | cat     |
          | mammal |  3 | whale   |
          | bird   |  1 | penguin |
          | bird   |  2 | ostrich |
          +--------+----+---------+

     In this case (when the 'AUTO_INCREMENT' column is part of a
     multiple-column index), 'AUTO_INCREMENT' values are reused if you
     delete the row with the biggest 'AUTO_INCREMENT' value in any
     group.  This happens even for 'MyISAM' tables, for which
     'AUTO_INCREMENT' values normally are not reused.

   * If the 'AUTO_INCREMENT' column is part of multiple indexes, MySQL
     generates sequence values using the index that begins with the
     'AUTO_INCREMENT' column, if there is one.  For example, if the
     'animals' table contained indexes 'PRIMARY KEY (grp, id)' and
     'INDEX (id)', MySQL would ignore the 'PRIMARY KEY' for generating
     sequence values.  As a result, the table would contain a single
     sequence, not a sequence per 'grp' value.

*Further Reading*

More information about 'AUTO_INCREMENT' is available here:

   * How to assign the 'AUTO_INCREMENT' attribute to a column: *note
     create-table::, and *note alter-table::.

   * How 'AUTO_INCREMENT' behaves depending on the
     'NO_AUTO_VALUE_ON_ZERO' SQL mode: *note sql-mode::.

   * How to use the 'LAST_INSERT_ID()' function to find the row that
     contains the most recent 'AUTO_INCREMENT' value: *note
     information-functions::.

   * Setting the 'AUTO_INCREMENT' value to be used: *note
     server-system-variables::.

   * *note innodb-auto-increment-handling::

   * 'AUTO_INCREMENT' and replication: *note
     replication-features-auto-increment::.

   * Server-system variables related to 'AUTO_INCREMENT'
     ('auto_increment_increment' and 'auto_increment_offset') that can
     be used for replication: *note server-system-variables::.


File: manual.info.tmp,  Node: apache,  Prev: examples,  Up: tutorial

3.7 Using MySQL with Apache
===========================

There are programs that let you authenticate your users from a MySQL
database and also let you write your log files into a MySQL table.

You can change the Apache logging format to be easily readable by MySQL
by putting the following into the Apache configuration file:

     LogFormat \
             "\"%h\",%{%Y%m%d%H%M%S}t,%>s,\"%b\",\"%{Content-Type}o\",  \
             \"%U\",\"%{Referer}i\",\"%{User-Agent}i\""

To load a log file in that format into MySQL, you can use a statement
something like this:

     LOAD DATA INFILE '/LOCAL/ACCESS_LOG' INTO TABLE TBL_NAME
     FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '"' ESCAPED BY '\\'

The named table should be created to have columns that correspond to
those that the 'LogFormat' line writes to the log file.


File: manual.info.tmp,  Node: programs,  Next: server-administration,  Prev: tutorial,  Up: Top

4 MySQL Programs
****************

* Menu:

* programs-overview::            Overview of MySQL Programs
* programs-using::               Using MySQL Programs
* programs-server::              Server and Server-Startup Programs
* programs-installation::        Installation-Related Programs
* programs-client::              Client Programs
* programs-admin-utils::         Administrative and Utility Programs
* programs-development::         Program Development Utilities
* programs-miscellaneous::       Miscellaneous Programs
* environment-variables::        Environment Variables
* unix-signal-response::         Unix Signal Handling in MySQL

This chapter provides a brief overview of the MySQL command-line
programs provided by Oracle Corporation.  It also discusses the general
syntax for specifying options when you run these programs.  Most
programs have options that are specific to their own operation, but the
option syntax is similar for all of them.  Finally, the chapter provides
more detailed descriptions of individual programs, including which
options they recognize.


File: manual.info.tmp,  Node: programs-overview,  Next: programs-using,  Prev: programs,  Up: programs

4.1 Overview of MySQL Programs
==============================

There are many different programs in a MySQL installation.  This section
provides a brief overview of them.  Later sections provide a more
detailed description of each one, with the exception of NDB Cluster
programs.  Each program's description indicates its invocation syntax
and the options that it supports.  *note mysql-cluster::, describes
programs specific to NDB Cluster.

Most MySQL distributions include all of these programs, except for those
programs that are platform-specific.  (For example, the server startup
scripts are not used on Windows.)  The exception is that RPM
distributions are more specialized.  There is one RPM for the server,
another for client programs, and so forth.  If you appear to be missing
one or more programs, see *note installing::, for information on types
of distributions and what they contain.  It may be that you have a
distribution that does not include all programs and you need to install
an additional package.

Each MySQL program takes many different options.  Most programs provide
a '--help' option that you can use to get a description of the program's
different options.  For example, try *note 'mysql --help': mysql.

You can override default option values for MySQL programs by specifying
options on the command line or in an option file.  See *note
programs-using::, for general information on invoking programs and
specifying program options.

The MySQL server, *note 'mysqld': mysqld, is the main program that does
most of the work in a MySQL installation.  The server is accompanied by
several related scripts that assist you in starting and stopping the
server:

   * 
     *note 'mysqld': mysqld.

     The SQL daemon (that is, the MySQL server).  To use client
     programs, *note 'mysqld': mysqld. must be running, because clients
     gain access to databases by connecting to the server.  See *note
     mysqld::.

   * 
     *note 'mysqld_safe': mysqld-safe.

     A server startup script.  *note 'mysqld_safe': mysqld-safe.
     attempts to start *note 'mysqld': mysqld.  See *note mysqld-safe::.

   * 
     *note 'mysql.server': mysql-server.

     A server startup script.  This script is used on systems that use
     System V-style run directories containing scripts that start system
     services for particular run levels.  It invokes *note
     'mysqld_safe': mysqld-safe. to start the MySQL server.  See *note
     mysql-server::.

   * 
     *note 'mysqld_multi': mysqld-multi.

     A server startup script that can start or stop multiple servers
     installed on the system.  See *note mysqld-multi::.

Several programs perform setup operations during MySQL installation or
upgrading:

   * 
     *note 'comp_err': comp-err.

     This program is used during the MySQL build/installation process.
     It compiles error message files from the error source files.  See
     *note comp-err::.

   * 
     *note 'mysql_install_db': mysql-install-db.

     This program initializes the MySQL data directory, creates the
     'mysql' database, and initializes its grant tables with default
     privileges.  It is usually executed only once, when first
     installing MySQL on a system.  See *note mysql-install-db::, and
     *note postinstallation::.

   * 
     *note 'mysql_plugin': mysql-plugin.

     This program configures MySQL server plugins.  See *note
     mysql-plugin::.

   * 
     *note 'mysql_secure_installation': mysql-secure-installation.

     This program enables you to improve the security of your MySQL
     installation.  See *note mysql-secure-installation::.

   * 
     *note 'mysql_tzinfo_to_sql': mysql-tzinfo-to-sql.

     This program loads the time zone tables in the 'mysql' database
     using the contents of the host system _zoneinfo_ database (the set
     of files describing time zones).  See *note mysql-tzinfo-to-sql::.

   * 
     *note 'mysql_upgrade': mysql-upgrade.

     This program is used after a MySQL upgrade operation.  It updates
     the grant tables with any changes that have been made in newer
     versions of MySQL, and checks tables for incompatibilities and
     repairs them if necessary.  See *note mysql-upgrade::.

MySQL client programs that connect to the MySQL server:

   * 
     *note 'mysql': mysql.

     The command-line tool for interactively entering SQL statements or
     executing them from a file in batch mode.  See *note mysql::.

   * 
     *note 'mysqladmin': mysqladmin.

     A client that performs administrative operations, such as creating
     or dropping databases, reloading the grant tables, flushing tables
     to disk, and reopening log files.  *note 'mysqladmin': mysqladmin.
     can also be used to retrieve version, process, and status
     information from the server.  See *note mysqladmin::.

   * 
     *note 'mysqlcheck': mysqlcheck.

     A table-maintenance client that checks, repairs, analyzes, and
     optimizes tables.  See *note mysqlcheck::.

   * 
     *note 'mysqldump': mysqldump.

     A client that dumps a MySQL database into a file as SQL, text, or
     XML. See *note mysqldump::.

   * 
     *note 'mysqlimport': mysqlimport.

     A client that imports text files into their respective tables using
     *note 'LOAD DATA': load-data.  See *note mysqlimport::.

   * 
     *note 'mysqlshow': mysqlshow.

     A client that displays information about databases, tables,
     columns, and indexes.  See *note mysqlshow::.

   * 
     *note 'mysqlslap': mysqlslap.

     A client that is designed to emulate client load for a MySQL server
     and report the timing of each stage.  It works as if multiple
     clients are accessing the server.  See *note mysqlslap::.

MySQL administrative and utility programs:

   * 
     *note 'innochecksum': innochecksum.

     An offline 'InnoDB' offline file checksum utility.  See *note
     innochecksum::.

   * 
     *note 'myisam_ftdump': myisam-ftdump.

     A utility that displays information about full-text indexes in
     'MyISAM' tables.  See *note myisam-ftdump::.

   * 
     *note 'myisamchk': myisamchk.

     A utility to describe, check, optimize, and repair 'MyISAM' tables.
     See *note myisamchk::.

   * 
     *note 'myisamlog': myisamlog.

     A utility that processes the contents of a 'MyISAM' log file.  See
     *note myisamlog::.

   * 
     *note 'myisampack': myisampack.

     A utility that compresses 'MyISAM' tables to produce smaller
     read-only tables.  See *note myisampack::.

   * 
     *note 'mysqlaccess': mysqlaccess.

     A script that checks the access privileges for a host name, user
     name, and database combination.  See *note mysqlaccess::.

   * 
     *note 'mysqlbinlog': mysqlbinlog.

     A utility for reading statements from a binary log.  The log of
     executed statements contained in the binary log files can be used
     to help recover from a crash.  See *note mysqlbinlog::.

   * 
     *note 'mysqldumpslow': mysqldumpslow.

     A utility to read and summarize the contents of a slow query log.
     See *note mysqldumpslow::.

   * 
     *note 'mysqlhotcopy': mysqlhotcopy.

     A utility that quickly makes backups of 'MyISAM' tables while the
     server is running.  See *note mysqlhotcopy::.

   * 
     *note 'mysql_convert_table_format': mysql-convert-table-format.

     A utility that converts tables in a database to use a given storage
     engine.  See *note mysql-convert-table-format::.

   * 
     *note 'mysql_find_rows': mysql-find-rows.

     A utility that reads files containing SQL statements (such as
     update logs) and extracts statements that match a given regular
     expression.  See *note mysql-find-rows::.

   * 
     *note 'mysql_fix_extensions': mysql-fix-extensions.

     A utility that converts the extensions for 'MyISAM' table files to
     lowercase.  This can be useful after transferring the files from a
     system with case-insensitive file names to a system with
     case-sensitive file names.  See *note mysql-fix-extensions::.

   * 
     *note 'mysql_setpermission': mysql-setpermission.

     A utility for interactively setting permissions in the MySQL grant
     tables.  See *note mysql-setpermission::.

   * 
     *note 'mysql_waitpid': mysql-waitpid.

     A utility that kills the process with a given process ID. See *note
     mysql-waitpid::.

   * 
     *note 'mysql_zap': mysql-zap.

     A utility that kills processes that match a pattern.  See *note
     mysql-zap::.

MySQL program-development utilities:

   * *note 'msql2mysql': msql2mysql.

     A shell script that converts 'mSQL' programs to MySQL. It doesn't
     handle every case, but it gives a good start when converting.  See
     *note msql2mysql::.

   * *note 'mysql_config': mysql-config.

     A shell script that produces the option values needed when
     compiling MySQL programs.  See *note mysql-config::.

   * 
     *note 'my_print_defaults': my-print-defaults.

     A utility that shows which options are present in option groups of
     option files.  See *note my-print-defaults::.

   * 
     *note 'resolve_stack_dump': resolve-stack-dump.

     A utility program that resolves a numeric stack trace dump to
     symbols.  See *note resolve-stack-dump::.

Miscellaneous utilities:

   * 
     *note 'perror': perror.

     A utility that displays the meaning of system or MySQL error codes.
     See *note perror::.

   * 
     *note 'replace': replace-utility.

     A utility program that performs string replacement in the input
     text.  See *note replace-utility::.

   * 
     *note 'resolveip': resolveip.

     A utility program that resolves a host name to an IP address or
     vice versa.  See *note resolveip::.

Oracle Corporation also provides the *note MySQL Workbench: workbench.
GUI tool, which is used to administer MySQL servers and databases, to
create, execute, and evaluate queries, and to migrate schemas and data
from other relational database management systems for use with MySQL.
Additional GUI tools include MySQL Notifier
(https://dev.mysql.com/doc/mysql-notifier/en/mysql-notifier-overview.html)
MySQL for Excel (https://dev.mysql.com/doc/mysql-for-excel/en/).

MySQL client programs that communicate with the server using the MySQL
client/server library use the following environment variables.

Environment        Meaning
Variable           

'MYSQL_UNIX_PORT'  The default Unix socket file; used for connections
                   to 'localhost'
                   
'MYSQL_TCP_PORT'   The default port number; used for TCP/IP connections
                   
'MYSQL_PWD'        The default password
                   
'MYSQL_DEBUG'      Debug trace options when debugging
                   
'TMPDIR'           The directory where temporary tables and files are
                   created

For a full list of environment variables used by MySQL programs, see
*note environment-variables::.

Use of 'MYSQL_PWD' is insecure.  See *note password-security-user::.


File: manual.info.tmp,  Node: programs-using,  Next: programs-server,  Prev: programs-overview,  Up: programs

4.2 Using MySQL Programs
========================

* Menu:

* invoking-programs::            Invoking MySQL Programs
* program-options::              Specifying Program Options
* connection-options::           Command Options for Connecting to the Server
* connecting::                   Connecting to the MySQL Server Using Command Options
* connection-compression-control::  Connection Compression Control
* setting-environment-variables::  Setting Environment Variables


File: manual.info.tmp,  Node: invoking-programs,  Next: program-options,  Prev: programs-using,  Up: programs-using

4.2.1 Invoking MySQL Programs
-----------------------------

To invoke a MySQL program from the command line (that is, from your
shell or command prompt), enter the program name followed by any options
or other arguments needed to instruct the program what you want it to
do.  The following commands show some sample program invocations.
'shell>' represents the prompt for your command interpreter; it is not
part of what you type.  The particular prompt you see depends on your
command interpreter.  Typical prompts are '$' for 'sh', 'ksh', or
'bash', '%' for 'csh' or 'tcsh', and 'C:\>' for the Windows
'command.com' or 'cmd.exe' command interpreters.

     shell> mysql --user=root test
     shell> mysqladmin extended-status variables
     shell> mysqlshow --help
     shell> mysqldump -u root personnel

Arguments that begin with a single or double dash ('-', '--') specify
program options.  Options typically indicate the type of connection a
program should make to the server or affect its operational mode.
Option syntax is described in *note program-options::.

Nonoption arguments (arguments with no leading dash) provide additional
information to the program.  For example, the *note 'mysql': mysql.
program interprets the first nonoption argument as a database name, so
the command 'mysql --user=root test' indicates that you want to use the
'test' database.

Later sections that describe individual programs indicate which options
a program supports and describe the meaning of any additional nonoption
arguments.

Some options are common to a number of programs.  The most frequently
used of these are the '--host' (or '-h'), '--user' (or '-u'), and
'--password' (or '-p') options that specify connection parameters.  They
indicate the host where the MySQL server is running, and the user name
and password of your MySQL account.  All MySQL client programs
understand these options; they enable you to specify which server to
connect to and the account to use on that server.  Other connection
options are '--port' (or '-P') to specify a TCP/IP port number and
'--socket' (or '-S') to specify a Unix socket file on Unix (or
named-pipe name on Windows).  For more information on options that
specify connection options, see *note connecting::.

You may find it necessary to invoke MySQL programs using the path name
to the 'bin' directory in which they are installed.  This is likely to
be the case if you get a 'program not found' error whenever you attempt
to run a MySQL program from any directory other than the 'bin'
directory.  To make it more convenient to use MySQL, you can add the
path name of the 'bin' directory to your 'PATH' environment variable
setting.  That enables you to run a program by typing only its name, not
its entire path name.  For example, if *note 'mysql': mysql. is
installed in '/usr/local/mysql/bin', you can run the program by invoking
it as *note 'mysql': mysql, and it is not necessary to invoke it as
'/usr/local/mysql/bin/mysql'.

Consult the documentation for your command interpreter for instructions
on setting your 'PATH' variable.  The syntax for setting environment
variables is interpreter-specific.  (Some information is given in *note
setting-environment-variables::.)  After modifying your 'PATH' setting,
open a new console window on Windows or log in again on Unix so that the
setting goes into effect.


File: manual.info.tmp,  Node: program-options,  Next: connection-options,  Prev: invoking-programs,  Up: programs-using

4.2.2 Specifying Program Options
--------------------------------

* Menu:

* command-line-options::         Using Options on the Command Line
* option-files::                 Using Option Files
* option-file-options::          Command-Line Options that Affect Option-File Handling
* option-modifiers::             Program Option Modifiers
* program-variables::            Using Options to Set Program Variables
* option-defaults-equals::       Option Defaults, Options Expecting Values, and the = Sign

There are several ways to specify options for MySQL programs:

   * List the options on the command line following the program name.
     This is common for options that apply to a specific invocation of
     the program.

   * List the options in an option file that the program reads when it
     starts.  This is common for options that you want the program to
     use each time it runs.

   * List the options in environment variables (see *note
     setting-environment-variables::).  This method is useful for
     options that you want to apply each time the program runs.  In
     practice, option files are used more commonly for this purpose, but
     *note multiple-unix-servers::, discusses one situation in which
     environment variables can be very helpful.  It describes a handy
     technique that uses such variables to specify the TCP/IP port
     number and Unix socket file for the server and for client programs.

Options are processed in order, so if an option is specified multiple
times, the last occurrence takes precedence.  The following command
causes *note 'mysql': mysql. to connect to the server running on
'localhost':

     mysql -h example.com -h localhost

There is one exception: For *note 'mysqld': mysqld, the _first_ instance
of the '--user' option is used as a security precaution, to prevent a
user specified in an option file from being overridden on the command
line.

If conflicting or related options are given, later options take
precedence over earlier options.  The following command runs *note
'mysql': mysql. in 'no column names' mode:

     mysql --column-names --skip-column-names

MySQL programs determine which options are given first by examining
environment variables, then by processing option files, and then by
checking the command line.  Because later options take precedence over
earlier ones, the processing order means that environment variables have
the lowest precedence and command-line options the highest.

You can take advantage of the way that MySQL programs process options by
specifying default option values for a program in an option file.  That
enables you to avoid typing them each time you run the program while
enabling you to override the defaults if necessary by using command-line
options.

An option can be specified by writing it in full or as any unambiguous
prefix.  For example, the '--compress' option can be given to *note
'mysqldump': mysqldump. as '--compr', but not as '--comp' because the
latter is ambiguous:

     shell> mysqldump --comp
     mysqldump: ambiguous option '--comp' (compatible, compress)

Be aware that the use of option prefixes can cause problems in the event
that new options are implemented for a program.  A prefix that is
unambiguous now might become ambiguous in the future.

*Note*:

As of MySQL 5.5.33, unambiguous prefixes are deprecated.  If an
unambiguous prefix is given, a warning occurs to provide feedback.
Option prefixes are no longer supported as of MySQL 5.7; only full
options are accepted.


File: manual.info.tmp,  Node: command-line-options,  Next: option-files,  Prev: program-options,  Up: program-options

4.2.2.1 Using Options on the Command Line
.........................................

Program options specified on the command line follow these rules:

   * Options are given after the command name.

   * An option argument begins with one dash or two dashes, depending on
     whether it is a short form or long form of the option name.  Many
     options have both short and long forms.  For example, '-?' and
     '--help' are the short and long forms of the option that instructs
     a MySQL program to display its help message.

   * Option names are case-sensitive.  '-v' and '-V' are both legal and
     have different meanings.  (They are the corresponding short forms
     of the '--verbose' and '--version' options.)

   * Some options take a value following the option name.  For example,
     '-h localhost' or '--host=localhost' indicate the MySQL server host
     to a client program.  The option value tells the program the name
     of the host where the MySQL server is running.

   * For a long option that takes a value, separate the option name and
     the value by an '=' sign.  For a short option that takes a value,
     the option value can immediately follow the option letter, or there
     can be a space between: '-hlocalhost' and '-h localhost' are
     equivalent.  An exception to this rule is the option for specifying
     your MySQL password.  This option can be given in long form as
     '--password=PASS_VAL' or as '--password'.  In the latter case (with
     no password value given), the program interactively prompts you for
     the password.  The password option also may be given in short form
     as '-pPASS_VAL' or as '-p'.  However, for the short form, if the
     password value is given, it must follow the option letter with _no
     intervening space_: If a space follows the option letter, the
     program has no way to tell whether a following argument is supposed
     to be the password value or some other kind of argument.
     Consequently, the following two commands have two completely
     different meanings:

          mysql -ptest
          mysql -p test

     The first command instructs *note 'mysql': mysql. to use a password
     value of 'test', but specifies no default database.  The second
     instructs *note 'mysql': mysql. to prompt for the password value
     and to use 'test' as the default database.

   * Within option names, dash ('-') and underscore ('_') may be used
     interchangeably.  For example, '--skip-grant-tables' and
     '--skip_grant_tables' are equivalent.  (However, the leading dashes
     cannot be given as underscores.)

   * The MySQL server has certain command options that may be specified
     only at startup, and a set of system variables, some of which may
     be set at startup, at runtime, or both.  System variable names use
     underscores rather than dashes, and when referenced at runtime (for
     example, using *note 'SET': set-variable. or *note 'SELECT':
     select. statements), must be written using underscores:

          SET GLOBAL general_log = ON;
          SELECT @@GLOBAL.general_log;

     At server startup, the syntax for system variables is the same as
     for command options, so within variable names, dashes and
     underscores may be used interchangeably.  For example,
     '--general_log=ON' and '--general-log=ON' are equivalent.  (This is
     also true for system variables set within option files.)

   * For options that take a numeric value, the value can be given with
     a suffix of 'K', 'M', or 'G' (either uppercase or lowercase) to
     indicate a multiplier of 1024, 1024^2 or 1024^3.  For example, the
     following command tells *note 'mysqladmin': mysqladmin. to ping the
     server 1024 times, sleeping 10 seconds between each ping:

          mysqladmin --count=1K --sleep=10 ping

   * When specifying file names as option values, avoid the use of the
     '~' shell metacharacter.  It might not be interpreted as you
     expect.

Option values that contain spaces must be quoted when given on the
command line.  For example, the '--execute' (or '-e') option can be used
with *note 'mysql': mysql. to pass one or more semicolon-separated SQL
statements to the server.  When this option is used, *note 'mysql':
mysql. executes the statements in the option value and exits.  The
statements must be enclosed by quotation marks.  For example:

     shell> mysql -u root -p -e "SELECT VERSION();SELECT NOW()"
     Enter password: ******
     +------------+
     | VERSION()  |
     +------------+
     | 5.5.67     |
     +------------+
     +---------------------+
     | NOW()               |
     +---------------------+
     | 2019-09-03 10:35:27 |
     +---------------------+
     shell>

*Note*:

The long form ('--execute') is followed by an equal sign ('=').

To use quoted values within a statement, you must either escape the
inner quotation marks, or use a different type of quotation marks within
the statement from those used to quote the statement itself.  The
capabilities of your command processor dictate your choices for whether
you can use single or double quotation marks and the syntax for escaping
quote characters.  For example, if your command processor supports
quoting with single or double quotation marks, you can use double
quotation marks around the statement, and single quotation marks for any
quoted values within the statement.


File: manual.info.tmp,  Node: option-files,  Next: option-file-options,  Prev: command-line-options,  Up: program-options

4.2.2.2 Using Option Files
..........................

Most MySQL programs can read startup options from option files
(sometimes called configuration files).  Option files provide a
convenient way to specify commonly used options so that they need not be
entered on the command line each time you run a program.  For the MySQL
server, MySQL provides a number of *note preconfigured option files:
server-configuration-defaults.

To determine whether a program reads option files, invoke it with the
'--help' option.  (For *note 'mysqld': mysqld, use '--verbose' and
'--help'.)  If the program reads option files, the help message
indicates which files it looks for and which option groups it
recognizes.

*Note*:

A MySQL program started with the '--no-defaults' option reads no option
files.

Option files are plain text files, created using any text editor.

MySQL looks for option files in the order described in the following
discussion and reads any that exist.  If an option file you want to use
does not exist, create it with a plain text editor.

*Note*:

For information about option files used with NDB Cluster programs, see
*note mysql-cluster-configuration::.

On Windows, MySQL programs read startup options from the files shown in
the following table, in the specified order (files listed first are read
first, files read later take precedence).

*Option Files Read on Windows Systems*

File Name              Purpose
                       
'%WINDIR%\my.ini',     Global options
'%WINDIR%\my.cnf'      

'C:\my.ini',           Global options
'C:\my.cnf'            

'BASEDIR\my.ini',      Global options
'BASEDIR\my.cnf'       

'defaults-extra-file'  The file specified with '--defaults-extra-file',
                       if any

In the preceding table, '%WINDIR%' represents the location of your
Windows directory.  This is commonly 'C:\WINDOWS'.  Use the following
command to determine its exact location from the value of the 'WINDIR'
environment variable:

     C:\> echo %WINDIR%

   * *note option-file-order::

   * *note option-file-syntax::

   * *note option-file-inclusions::

*Option File Processing Order*

'%APPDATA%' represents the value of the Windows application data
directory.  Use the following command to determine its exact location
from the value of the 'APPDATA' environment variable:

     C:\> echo %APPDATA%

BASEDIR represents the MySQL base installation directory.  When MySQL
5.5 has been installed using MySQL Installer, this is typically
'C:\PROGRAMDIR\MySQL\MySQL 5.5 Server' where PROGRAMDIR represents the
programs directory (usually 'Program Files' on English-language versions
of Windows), See *note mysql-installer::.

On Unix and Unix-like systems, MySQL programs read startup options from
the files shown in the following table, in the specified order (files
listed first are read first, files read later take precedence).

*Note*:

On Unix platforms, MySQL ignores configuration files that are
world-writable.  This is intentional as a security measure.

*Option Files Read on Unix and Unix-Like Systems*

File Name              Purpose
                       
'/etc/my.cnf'          Global options
                       
'/etc/mysql/my.cnf'    Global options
                       
'SYSCONFDIR/my.cnf'    Global options
                       
'$MYSQL_HOME/my.cnf'   Server-specific options (server only)
                       
'defaults-extra-file'  The file specified with '--defaults-extra-file',
                       if any
                       
'~/.my.cnf'            User-specific options

In the preceding table, '~' represents the current user's home directory
(the value of '$HOME').

SYSCONFDIR represents the directory specified with the 'SYSCONFDIR'
option to 'CMake' when MySQL was built.  By default, this is the 'etc'
directory located under the compiled-in installation directory.

'MYSQL_HOME' is an environment variable containing the path to the
directory in which the server-specific 'my.cnf' file resides.  If
'MYSQL_HOME' is not set and you start the server using the *note
'mysqld_safe': mysqld-safe. program, *note 'mysqld_safe': mysqld-safe.
attempts to set 'MYSQL_HOME' as follows:

   * Let BASEDIR and DATADIR represent the path names of the MySQL base
     directory and data directory, respectively.

   * If there is a 'my.cnf' file in DATADIR but not in BASEDIR, *note
     'mysqld_safe': mysqld-safe. sets 'MYSQL_HOME' to DATADIR.

   * Otherwise, if 'MYSQL_HOME' is not set and there is no 'my.cnf' file
     in DATADIR, *note 'mysqld_safe': mysqld-safe. sets 'MYSQL_HOME' to
     BASEDIR.

In MySQL 5.5, use of DATADIR as the location for 'my.cnf' is deprecated.

DATADIR is commonly '/usr/local/mysql/data', although this can vary per
platform or installation method.  The value is the data directory
location built in when MySQL was compiled, not the location specified
with the '--datadir' option when *note 'mysqld': mysqld. starts.  Use of
'--datadir' at runtime has no effect on where the server looks for
option files that it reads before processing any options.

If multiple instances of a given option are found, the last instance
takes precedence, with one exception: For *note 'mysqld': mysqld, the
_first_ instance of the '--user' option is used as a security
precaution, to prevent a user specified in an option file from being
overridden on the command line.

*Option File Syntax*

The following description of option file syntax applies to files that
you edit manually.  This excludes '.mylogin.cnf', which is created using
'mysql_config_editor' and is encrypted.

Any long option that may be given on the command line when running a
MySQL program can be given in an option file as well.  To get the list
of available options for a program, run it with the '--help' option.
(For *note 'mysqld': mysqld, use '--verbose' and '--help'.)

The syntax for specifying options in an option file is similar to
command-line syntax (see *note command-line-options::).  However, in an
option file, you omit the leading two dashes from the option name and
you specify only one option per line.  For example, '--quick' and
'--host=localhost' on the command line should be specified as 'quick'
and 'host=localhost' on separate lines in an option file.  To specify an
option of the form '--loose-OPT_NAME' in an option file, write it as
'loose-OPT_NAME'.

Empty lines in option files are ignored.  Nonempty lines can take any of
the following forms:

   * '#COMMENT', ';COMMENT'

     Comment lines start with '#' or ';'.  A '#' comment can start in
     the middle of a line as well.

   * '[GROUP]'

     GROUP is the name of the program or group for which you want to set
     options.  After a group line, any option-setting lines apply to the
     named group until the end of the option file or another group line
     is given.  Option group names are not case-sensitive.

   * 'OPT_NAME'

     This is equivalent to '--OPT_NAME' on the command line.

   * 'OPT_NAME=VALUE'

     This is equivalent to '--OPT_NAME=VALUE' on the command line.  In
     an option file, you can have spaces around the '=' character,
     something that is not true on the command line.  The value
     optionally can be enclosed within single quotation marks or double
     quotation marks, which is useful if the value contains a '#'
     comment character.

Leading and trailing spaces are automatically deleted from option names
and values.

You can use the escape sequences '\b', '\t', '\n', '\r', '\\', and '\s'
in option values to represent the backspace, tab, newline, carriage
return, backslash, and space characters.  In option files, these
escaping rules apply:

   * A backslash followed by a valid escape sequence character is
     converted to the character represented by the sequence.  For
     example, '\s' is converted to a space.

   * A backslash not followed by a valid escape sequence character
     remains unchanged.  For example, '\S' is retained as is.

The preceding rules mean that a literal backslash can be given as '\\',
or as '\' if it is not followed by a valid escape sequence character.

The rules for escape sequences in option files differ slightly from the
rules for escape sequences in string literals in SQL statements.  In the
latter context, if 'X' is not a valid escape sequence character, '\X'
becomes 'X' rather than '\X'.  See *note string-literals::.

The escaping rules for option file values are especially pertinent for
Windows path names, which use '\' as a path name separator.  A separator
in a Windows path name must be written as '\\' if it is followed by an
escape sequence character.  It can be written as '\\' or '\' if it is
not.  Alternatively, '/' may be used in Windows path names and will be
treated as '\'.  Suppose that you want to specify a base directory of
'C:\Program Files\MySQL\MySQL Server 5.5' in an option file.  This can
be done several ways.  Some examples:

     basedir="C:\Program Files\MySQL\MySQL Server 5.5"
     basedir="C:\\Program Files\\MySQL\\MySQL Server 5.5"
     basedir="C:/Program Files/MySQL/MySQL Server 5.5"
     basedir=C:\\Program\sFiles\\MySQL\\MySQL\sServer\s5.5

If an option group name is the same as a program name, options in the
group apply specifically to that program.  For example, the '[mysqld]'
and '[mysql]' groups apply to the *note 'mysqld': mysqld. server and the
*note 'mysql': mysql. client program, respectively.

The '[client]' option group is read by all client programs provided in
MySQL distributions (but _not_ by *note 'mysqld': mysqld.).  To
understand how third-party client programs that use the C API can use
option files, see the C API documentation at *note mysql-options::.

The '[client]' group enables you to specify options that apply to all
clients.  For example, '[client]' is the appropriate group to use to
specify the password for connecting to the server.  (But make sure that
the option file is accessible only by yourself, so that other people
cannot discover your password.)  Be sure not to put an option in the
'[client]' group unless it is recognized by _all_ client programs that
you use.  Programs that do not understand the option quit after
displaying an error message if you try to run them.

List more general option groups first and more specific groups later.
For example, a '[client]' group is more general because it is read by
all client programs, whereas a '[mysqldump]' group is read only by *note
'mysqldump': mysqldump.  Options specified later override options
specified earlier, so putting the option groups in the order '[client]',
'[mysqldump]' enables *note 'mysqldump': mysqldump.-specific options to
override '[client]' options.

Here is a typical global option file:

     [client]
     port=3306
     socket=/tmp/mysql.sock

     [mysqld]
     port=3306
     socket=/tmp/mysql.sock
     key_buffer_size=16M
     max_allowed_packet=8M

     [mysqldump]
     quick

Here is a typical user option file:

     [client]
     # The following password will be sent to all standard MySQL clients
     password="my password"

     [mysql]
     no-auto-rehash
     connect_timeout=2

     [mysqlhotcopy]
     interactive-timeout

To create option groups to be read only by *note 'mysqld': mysqld.
servers from specific MySQL release series, use groups with names of
'[mysqld-5.1]', '[mysqld-5.5]', and so forth.  The following group
indicates that the 'sql_mode' setting should be used only by MySQL
servers with 5.5.x version numbers:

     [mysqld-5.5]
     sql_mode=TRADITIONAL

*Option File Inclusions*

It is possible to use '!include' directives in option files to include
other option files and '!includedir' to search specific directories for
option files.  For example, to include the '/home/mydir/myopt.cnf' file,
use the following directive:

     !include /home/mydir/myopt.cnf

To search the '/home/mydir' directory and read option files found there,
use this directive:

     !includedir /home/mydir

MySQL makes no guarantee about the order in which option files in the
directory are read.

*Note*:

Any files to be found and included using the '!includedir' directive on
Unix operating systems _must_ have file names ending in '.cnf'.  On
Windows, this directive checks for files with the '.ini' or '.cnf'
extension.

Write the contents of an included option file like any other option
file.  That is, it should contain groups of options, each preceded by a
'[GROUP]' line that indicates the program to which the options apply.

While an included file is being processed, only those options in groups
that the current program is looking for are used.  Other groups are
ignored.  Suppose that a 'my.cnf' file contains this line:

     !include /home/mydir/myopt.cnf

And suppose that '/home/mydir/myopt.cnf' looks like this:

     [mysqladmin]
     force

     [mysqld]
     key_buffer_size=16M

If 'my.cnf' is processed by *note 'mysqld': mysqld, only the '[mysqld]'
group in '/home/mydir/myopt.cnf' is used.  If the file is processed by
*note 'mysqladmin': mysqladmin, only the '[mysqladmin]' group is used.
If the file is processed by any other program, no options in
'/home/mydir/myopt.cnf' are used.

The '!includedir' directive is processed similarly except that all
option files in the named directory are read.

If an option file contains '!include' or '!includedir' directives, files
named by those directives are processed whenever the option file is
processed, no matter where they appear in the file.

For inclusion directives to work, the file path should not be specified
within quotes and should have no escape sequences.  For example, the
following statements provided in 'my.ini' will read the option file
'myopts.ini':

     !include C:/ProgramData/MySQL/MySQL Server/myopts.ini
     !include C:\ProgramData\MySQL\MySQL Server\myopts.ini
     !include C:\\ProgramData\\MySQL\\MySQL Server\\myopts.ini

On Windows, if '!include /PATH/TO/EXTRA.INI' is the last line in the
file, make sure that a newline is appended at the end or the line will
be ignored.


File: manual.info.tmp,  Node: option-file-options,  Next: option-modifiers,  Prev: option-files,  Up: program-options

4.2.2.3 Command-Line Options that Affect Option-File Handling
.............................................................

Most MySQL programs that support option files handle the following
options.  Because these options affect option-file handling, they must
be given on the command line and not in an option file.  To work
properly, each of these options must be given before other options, with
these exceptions:

   * '--print-defaults' may be used immediately after '--defaults-file'
     or '--defaults-extra-file'.

   * On Windows, if the server is started with the '--defaults-file' and
     '--install' options, '--install' must be first.  See *note
     windows-start-service::.

When specifying file names as option values, avoid the use of the '~'
shell metacharacter because it might not be interpreted as you expect.

   * 
     '--defaults-extra-file=FILE_NAME'

     Read this option file after the global option file but (on Unix)
     before the user option file.  (For information about the order in
     which option files are used, see *note option-files::.)  If the
     file does not exist or is otherwise inaccessible, an error occurs.
     FILE_NAME is interpreted relative to the current directory if given
     as a relative path name rather than a full path name.

     See the introduction to this section regarding constraints on the
     position in which this option may be specified.

   * 
     '--defaults-file=FILE_NAME'

     Read only the given option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name
     rather than a full path name.

     See the introduction to this section regarding constraints on the
     position in which this option may be specified.

   * 
     '--defaults-group-suffix=STR'

     Read not only the usual option groups, but also groups with the
     usual names and a suffix of STR.  For example, the *note 'mysql':
     mysql. client normally reads the '[client]' and '[mysql]' groups.
     If the '--defaults-group-suffix=_other' option is given, *note
     'mysql': mysql. also reads the '[client_other]' and '[mysql_other]'
     groups.

   * 
     '--no-defaults'

     Do not read any option files.  If program startup fails due to
     reading unknown options from an option file, '--no-defaults' can be
     used to prevent them from being read.

   * 
     '--print-defaults'

     Print the program name and all options that it gets from option
     files.

     See the introduction to this section regarding constraints on the
     position in which this option may be specified.


File: manual.info.tmp,  Node: option-modifiers,  Next: program-variables,  Prev: option-file-options,  Up: program-options

4.2.2.4 Program Option Modifiers
................................

Some options are 'boolean' and control behavior that can be turned on or
off.  For example, the *note 'mysql': mysql. client supports a
'--column-names' option that determines whether or not to display a row
of column names at the beginning of query results.  By default, this
option is enabled.  However, you may want to disable it in some
instances, such as when sending the output of *note 'mysql': mysql. into
another program that expects to see only data and not an initial header
line.

To disable column names, you can specify the option using any of these
forms:

     --disable-column-names
     --skip-column-names
     --column-names=0

The '--disable' and '--skip' prefixes and the '=0' suffix all have the
same effect: They turn the option off.

The 'enabled' form of the option may be specified in any of these ways:

     --column-names
     --enable-column-names
     --column-names=1

As of MySQL 5.5.10, the values 'ON', 'TRUE', 'OFF', and 'FALSE' are also
recognized for boolean options (not case-sensitive).

If an option is prefixed by '--loose', a program does not exit with an
error if it does not recognize the option, but instead issues only a
warning:

     shell> mysql --loose-no-such-option
     mysql: WARNING: unknown option '--loose-no-such-option'

The '--loose' prefix can be useful when you run programs from multiple
installations of MySQL on the same machine and list options in an option
file.  An option that may not be recognized by all versions of a program
can be given using the '--loose' prefix (or 'loose' in an option file).
Versions of the program that recognize the option process it normally,
and versions that do not recognize it issue a warning and ignore it.

The '--maximum' prefix is available for *note 'mysqld': mysqld. only and
permits a limit to be placed on how large client programs can set
session system variables.  To do this, use a '--maximum' prefix with the
variable name.  For example, '--maximum-max_heap_table_size=32M'
prevents any client from making the heap table size limit larger than
32M.

The '--maximum' prefix is intended for use with system variables that
have a session value.  If applied to a system variable that has only a
global value, an error occurs.  For example, with
'--maximum-back_log=200', the server produces this error:

     Maximum value of 'back_log' cannot be set


File: manual.info.tmp,  Node: program-variables,  Next: option-defaults-equals,  Prev: option-modifiers,  Up: program-options

4.2.2.5 Using Options to Set Program Variables
..............................................

Many MySQL programs have internal variables that can be set at runtime
using the *note 'SET': set-variable. statement.  See *note
set-variable::, and *note using-system-variables::.

Most of these program variables also can be set at server startup by
using the same syntax that applies to specifying program options.  For
example, *note 'mysql': mysql. has a 'max_allowed_packet' variable that
controls the maximum size of its communication buffer.  To set the
'max_allowed_packet' variable for *note 'mysql': mysql. to a value of
16MB, use either of the following commands:

     mysql --max_allowed_packet=16777216
     mysql --max_allowed_packet=16M

The first command specifies the value in bytes.  The second specifies
the value in megabytes.  For variables that take a numeric value, the
value can be given with a suffix of 'K', 'M', or 'G' (either uppercase
or lowercase) to indicate a multiplier of 1024, 1024^2 or 1024^3.  (For
example, when used to set 'max_allowed_packet', the suffixes indicate
units of kilobytes, megabytes, or gigabytes.)

In an option file, variable settings are given without the leading
dashes:

     [mysql]
     max_allowed_packet=16777216

Or:

     [mysql]
     max_allowed_packet=16M

If you like, underscores in a variable name can be specified as dashes.
The following option groups are equivalent.  Both set the size of the
server's key buffer to 512MB:

     [mysqld]
     key_buffer_size=512M

     [mysqld]
     key-buffer-size=512M

A variable can be specified by writing it in full or as any unambiguous
prefix.  For example, the 'max_allowed_packet' variable can be set for
*note 'mysql': mysql. as '--max_a', but not as '--max' because the
latter is ambiguous:

     shell> mysql --max=1000000
     mysql: ambiguous option '--max=1000000' (max_allowed_packet, max_join_size)

Be aware that the use of variable prefixes can cause problems in the
event that new variables are implemented for a program.  A prefix that
is unambiguous now might become ambiguous in the future.

Suffixes for specifying a value multiplier can be used when setting a
variable at program invocation time, but not to set the value with *note
'SET': set-variable. at runtime.  On the other hand, with *note 'SET':
set-variable, you can assign a variable's value using an expression,
which is not true when you set a variable at server startup.  For
example, the first of the following lines is legal at program invocation
time, but the second is not:

     shell> mysql --max_allowed_packet=16M
     shell> mysql --max_allowed_packet=16*1024*1024

Conversely, the second of the following lines is legal at runtime, but
the first is not:

     mysql> SET GLOBAL max_allowed_packet=16M;
     mysql> SET GLOBAL max_allowed_packet=16*1024*1024;


File: manual.info.tmp,  Node: option-defaults-equals,  Prev: program-variables,  Up: program-options

4.2.2.6 Option Defaults, Options Expecting Values, and the = Sign
.................................................................

By convention, long forms of options that assign a value are written
with an equals ('=') sign, like this:

     mysql --host=tonfisk --user=jon

For options that require a value (that is, not having a default value),
the equal sign is not required, and so the following is also valid:

     mysql --host tonfisk --user jon

In both cases, the *note 'mysql': mysql. client attempts to connect to a
MySQL server running on the host named 'tonfisk' using an account with
the user name 'jon'.

Due to this behavior, problems can occasionally arise when no value is
provided for an option that expects one.  Consider the following
example, where a user connects to a MySQL server running on host
'tonfisk' as user 'jon':

     shell> mysql --host 85.224.35.45 --user jon
     Welcome to the MySQL monitor.  Commands end with ; or \g.
     Your MySQL connection id is 3
     Server version: 5.5.62 Source distribution

     Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

     mysql> SELECT CURRENT_USER();
     +----------------+
     | CURRENT_USER() |
     +----------------+
     | jon@%          |
     +----------------+
     1 row in set (0.00 sec)

Omitting the required value for one of these option yields an error,
such as the one shown here:

     shell> mysql --host 85.224.35.45 --user
     mysql: option '--user' requires an argument

In this case, *note 'mysql': mysql. was unable to find a value following
the '--user' option because nothing came after it on the command line.
However, if you omit the value for an option that is _not_ the last
option to be used, you obtain a different error that you may not be
expecting:

     shell> mysql --host --user jon
     ERROR 2005 (HY000): Unknown MySQL server host '--user' (1)

Because *note 'mysql': mysql. assumes that any string following '--host'
on the command line is a host name, '--host' '--user' is interpreted as
'--host=--user', and the client attempts to connect to a MySQL server
running on a host named '--user'.

Options having default values always require an equal sign when
assigning a value; failing to do so causes an error.  For example, the
MySQL server '--log-error' option has the default value 'HOST_NAME.err',
where HOST_NAME is the name of the host on which MySQL is running.
Assume that you are running MySQL on a computer whose host name is
'tonfisk', and consider the following invocation of *note 'mysqld_safe':
mysqld-safe.:

     shell> mysqld_safe &
     [1] 11699
     shell> 080112 12:53:40 mysqld_safe Logging to '/usr/local/mysql/var/tonfisk.err'.
     080112 12:53:40 mysqld_safe Starting mysqld daemon with databases from /usr/local/mysql/var
     shell>

After shutting down the server, restart it as follows:

     shell> mysqld_safe --log-error &
     [1] 11699
     shell> 080112 12:53:40 mysqld_safe Logging to '/usr/local/mysql/var/tonfisk.err'.
     080112 12:53:40 mysqld_safe Starting mysqld daemon with databases from /usr/local/mysql/var
     shell>

The result is the same, since '--log-error' is not followed by anything
else on the command line, and it supplies its own default value.  (The
'&' character tells the operating system to run MySQL in the background;
it is ignored by MySQL itself.)  Now suppose that you wish to log errors
to a file named 'my-errors.err'.  You might try starting the server with
'--log-error my-errors', but this does not have the intended effect, as
shown here:

     shell> mysqld_safe --log-error my-errors &
     [1] 31357
     shell> 080111 22:53:31 mysqld_safe Logging to '/usr/local/mysql/var/tonfisk.err'.
     080111 22:53:32 mysqld_safe Starting mysqld daemon with databases from /usr/local/mysql/var
     080111 22:53:34 mysqld_safe mysqld from pid file /usr/local/mysql/var/tonfisk.pid ended

     [1]+  Done                    ./mysqld_safe --log-error my-errors

The server attempted to start using '/usr/local/mysql/var/tonfisk.err'
as the error log, but then shut down.  Examining the last few lines of
this file shows the reason:

     shell> tail /usr/local/mysql/var/tonfisk.err
     080111 22:53:32  InnoDB: Started; log sequence number 0 46409
     /usr/local/mysql/libexec/mysqld: Too many arguments (first extra is 'my-errors').
     Use --verbose --help to get a list of available options
     080111 22:53:32 [ERROR] Aborting

     080111 22:53:32  InnoDB: Starting shutdown...
     080111 22:53:34  InnoDB: Shutdown completed; log sequence number 0 46409
     080111 22:53:34 [Note] /usr/local/mysql/libexec/mysqld: Shutdown complete

     080111 22:53:34 mysqld_safe mysqld from pid file /usr/local/mysql/var/tonfisk.pid ended

Because the '--log-error' option supplies a default value, you must use
an equal sign to assign a different value to it, as shown here:

     shell> mysqld_safe --log-error=my-errors &
     [1] 31437
     shell> 080111 22:54:15 mysqld_safe Logging to '/usr/local/mysql/var/my-errors.err'.
     080111 22:54:15 mysqld_safe Starting mysqld daemon with databases from /usr/local/mysql/var

     shell>

Now the server has been started successfully, and is logging errors to
the file '/usr/local/mysql/var/my-errors.err'.

Similar issues can arise when specifying option values in option files.
For example, consider a 'my.cnf' file that contains the following:

     [mysql]

     host
     user

When the *note 'mysql': mysql. client reads this file, these entries are
parsed as '--host' '--user' or '--host=--user', with the result shown
here:

     shell> mysql
     ERROR 2005 (HY000): Unknown MySQL server host '--user' (1)

However, in option files, an equal sign is not assumed.  Suppose the
'my.cnf' file is as shown here:

     [mysql]

     user jon

Trying to start *note 'mysql': mysql. in this case causes a different
error:

     shell> mysql
     mysql: unknown option '--user jon'

A similar error would occur if you were to write 'host tonfisk' in the
option file rather than 'host=tonfisk'.  Instead, you must use the equal
sign:

     [mysql]

     user=jon

Now the login attempt succeeds:

     shell> mysql
     Welcome to the MySQL monitor.  Commands end with ; or \g.
     Your MySQL connection id is 5
     Server version: 5.5.62 Source distribution

     Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

     mysql> SELECT USER();
     +---------------+
     | USER()        |
     +---------------+
     | jon@localhost |
     +---------------+
     1 row in set (0.00 sec)

This is not the same behavior as with the command line, where the equal
sign is not required:

     shell> mysql --user jon --host tonfisk
     Welcome to the MySQL monitor.  Commands end with ; or \g.
     Your MySQL connection id is 6
     Server version: 5.5.62 Source distribution

     Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

     mysql> SELECT USER();
     +---------------+
     | USER()        |
     +---------------+
     | jon@tonfisk   |
     +---------------+
     1 row in set (0.00 sec)

Specifying an option requiring a value without a value in an option file
causes the server to abort with an error.


File: manual.info.tmp,  Node: connection-options,  Next: connecting,  Prev: program-options,  Up: programs-using

4.2.3 Command Options for Connecting to the Server
--------------------------------------------------

This section describes options supported by most MySQL client programs
that control how client programs establish connections to the server and
whether connections are encrypted.  These options can be given on the
command line or in an option file.

   * *note connection-establishment-options::

   * *note encrypted-connection-options::

*Command Options for Connection Establishment*

This section describes options that control how client programs
establish connections to the server.  For additional information and
examples showing how to use them, see *note connecting::.

*Connection-Establishment Option Summary*

Option Name            Description                              Introduced
                                                                
-default-auth          Authentication plugin to use             5.5.7
                                                                
-host                  Host on which MySQL server is located    
                       
-password              Password to use when connecting to       
                       server
                       
-pipe                  Connect to server using named pipe       
                       (Windows only)
                       
-plugin-dir            Directory where plugins are installed    5.5.7
                                                                
-port                  TCP/IP port number for connection        
                       
-protocol              Connection protocol to use               
                       
-secure-auth           Do not send passwords to server in old   
                       (pre-4.1) format
                       
-shared-memory-base-nameName of shared memory to use for        
                       shared-memory connections
                       
-socket                Unix socket file or Windows named pipe   
                       to use
                       
-user                  MySQL user name to use when connecting
                       to server
                       

   * '--default-auth=PLUGIN'

     A hint about which client-side authentication plugin to use.  See
     *note pluggable-authentication::.

   * '--host=HOST_NAME', '-h HOST_NAME'

     The host on which the MySQL server is running.  The value can be a
     host name, IPv4 address, or IPv6 address.  The default value is
     'localhost'.

   * '--password[=PASS_VAL]', '-p[PASS_VAL]'

     The password of the MySQL account used for connecting to the
     server.  The password value is optional.  If not given, the program
     prompts for one.  If given, there must be _no space_ between
     '--password=' or '-p' and the password following it.  If no
     password option is specified, the default is to send no password.

     Specifying a password on the command line should be considered
     insecure.  To avoid giving the password on the command line, use an
     option file.  See *note password-security-user::.

     To explicitly specify that there is no password and that the client
     program should not prompt for one, use the '--skip-password'
     option.

   * '--pipe', '-W'

     On Windows, connect to the server using a named pipe.  This option
     applies only if the server was started with the 'named_pipe' system
     variable enabled to support named-pipe connections.

   * '--plugin-dir=DIR_NAME'

     The directory in which to look for plugins.  Specify this option if
     the '--default-auth' option is used to specify an authentication
     plugin but the client program does not find it.  See *note
     pluggable-authentication::.

   * '--port=PORT_NUM', '-P PORT_NUM'

     For TCP/IP connections, the port number to use.  The default port
     number is 3306.

   * '--protocol={TCP|SOCKET|PIPE|MEMORY}'

     This option explicitly specifies which protocol to use for
     connecting to the server.  It is useful when other connection
     parameters normally result in use of a protocol other than the one
     you want.  For example, connections on Unix to 'localhost' are made
     using a Unix socket file by default:

          mysql --host=localhost

     To force a TCP/IP connection to be used instead, specify a
     '--protocol' option:

          mysql --host=localhost --protocol=TCP

     The following table shows the permissible '--protocol' option
     values and indicates the platforms on which each value may be used.
     The values are not case-sensitive.

     '--protocol'   Connection Protocol                  Permissible
     Value                                               Operating Systems
                                                         
     'TCP'          TCP/IP connection to local or        All
                    remote server                        
                    
     'SOCKET'       Unix socket file connection to       Unix only
                    local server                         
                    
     'PIPE'         Named-pipe connection to local or    Windows only
                    remote server                        
                    
     'MEMORY'       Shared-memory connection to local    Windows only
                    server
                    

   * '--secure-auth'

     Do not send passwords to the server in old (pre-4.1) format.  This
     prevents connections except for servers that use the newer password
     format.

     *Note*:

     Passwords that use the pre-4.1 hashing method are less secure than
     passwords that use the native password hashing method and should be
     avoided.

   * '--shared-memory-base-name=NAME'

     On Windows, the shared-memory name to use for connections made
     using shared memory to a local server.  The default value is
     'MYSQL'.  The shared-memory name is case-sensitive.

     This option applies only if the server was started with the
     'shared_memory' system variable enabled to support shared-memory
     connections.

   * '--socket=PATH', '-S PATH'

     On Unix, the name of the Unix socket file to use for connections
     made using a named pipe to a local server.  The default Unix socket
     file name is '/tmp/mysql.sock'.

     On Windows, the name of the named pipe to use for connections to a
     local server.  The default Windows pipe name is 'MySQL'.  The pipe
     name is not case-sensitive.

     On Windows, this option applies only if the server was started with
     the 'named_pipe' system variable enabled to support named-pipe
     connections.

   * '--user=USER_NAME', '-u USER_NAME'

     The user name of the MySQL account to use for connecting to the
     server.  The default user name is 'ODBC' on Windows or your Unix
     login name on Unix.

*Command Options for Encrypted Connections*

This section describes options that specify whether to use encrypted
connections, the names of certificate and key files, and other
parameters related to encrypted-connection support.  They are not
available unless MySQL has been built with SSL support.  See *note
source-ssl-library-configuration::.  For examples of suggested use and
how to check whether a connection is encrypted, see *note
using-encrypted-connections::.

For information about using encrypted connections from the MySQL C API,
see *note c-api-encrypted-connections::.

*Connection-Encryption Option Summary*

Option Name            Description                              Introduced
                                                                
-skip-ssl              Disable connection encryption            
                       
-ssl                   Enable connection encryption             
                       
-ssl-ca                File that contains list of trusted SSL   
                       Certificate Authorities
                       
-ssl-capath            Directory that contains trusted SSL      
                       Certificate Authority certificate
                       files
                       
-ssl-cert              File that contains X.509 certificate     
                       
-ssl-cipher            Permissible ciphers for connection       
                       encryption
                       
-ssl-key               File that contains X.509 key             
                       
-ssl-mode              Desired security state of connection     5.5.49
                       to server                                
                       
-ssl-verify-server-certVerify host name against server
                       certificate Common Name identity
                       

   * '--ssl', '--skip-ssl'

     For the MySQL server, this option specifies that the server permits
     but does not require encrypted connections.

     For MySQL client programs, this option permits but does not require
     the client to connect to the server using encryption.  Therefore,
     this option is not sufficient in itself to cause an encrypted
     connection to be used.  For example, if you specify this option for
     a client program but the server has not been configured to support
     encrypted connections, the client falls back to an unencrypted
     connection.

     As a recommended set of options to enable encrypted connections,
     consider using at least '--ssl-cert' and '--ssl-key' on the server
     side and '--ssl-ca' on the client side.  See *note
     using-encrypted-connections::.

     '--ssl' may be implied by other '--ssl-XXX' options, as indicated
     in the descriptions for those options.

     The '--ssl' option in negated form indicates that encryption should
     _not_ be used and overrides other '--ssl-XXX' options.  Specify the
     option as '--skip-ssl' or a synonym ('--ssl=0', '--disable-ssl').
     For example, you might have options specified in the '[client]'
     group of your option file to use encrypted connections by default
     when you invoke MySQL client programs.  To use an unencrypted
     connection instead, invoke the client program with '--ssl=0' on the
     command line to override the options in the option file.

     To require use of encrypted connections by a MySQL account, use a
     *note 'GRANT': grant. statement for the account that includes a
     'REQUIRE SSL' clause.  This causes connection attempts by clients
     that use the account to be rejected unless MySQL supports encrypted
     connections and an encrypted connection can be established.

     The 'REQUIRE' clause permits other encryption-related options,
     which can be used to enforce security requirements stricter than
     'REQUIRE SSL'.  For additional details about which command options
     may or must be specified by clients that connect using accounts
     configured using the various 'REQUIRE' options, see the description
     of 'REQUIRE' in *note grant::.

   * '--ssl-ca=FILE_NAME'

     The path name of the Certificate Authority (CA) certificate file in
     PEM format.  This option implies '--ssl'.

     To tell the client not to authenticate the server certificate when
     establishing an encrypted connection to the server, specify neither
     '--ssl-ca' nor '--ssl-capath'.  The server still verifies the
     client according to any applicable requirements established for the
     client account, and it still uses any '--ssl-ca' or '--ssl-capath'
     option values specified on the server side.

   * '--ssl-capath=DIR_NAME'

     The path name of the directory that contains trusted SSL
     certificate authority (CA) certificate files in PEM format.  This
     option implies '--ssl'.

     To tell the client not to authenticate the server certificate when
     establishing an encrypted connection to the server, specify neither
     '--ssl-ca' nor '--ssl-capath'.  The server still verifies the
     client according to any applicable requirements established for the
     client account, and it still uses any '--ssl-ca' or '--ssl-capath'
     option values specified on the server side.

     Support for this option depends on the SSL library used to compile
     MySQL. See *note ssl-libraries::.

   * '--ssl-cert=FILE_NAME'

     The path name of the SSL public key certificate file in PEM format.
     On the client side, this is the client public key certificate.  On
     the server side, this is the server public key certificate.  This
     option implies '--ssl'.

   * '--ssl-cipher=CIPHER_LIST'

     The list of permissible ciphers for connection encryption.  If no
     cipher in the list is supported, encrypted connections will not
     work.  This option implies '--ssl'.

     For greatest portability, CIPHER_LIST should be a list of one or
     more cipher names, separated by colons.  This format is understood
     both by OpenSSL and yaSSL. Examples:

          --ssl-cipher=AES128-SHA
          --ssl-cipher=DHE-RSA-AES256-SHA:AES128-SHA

     OpenSSL supports a more flexible syntax for specifying ciphers, as
     described in the OpenSSL documentation at
     <https://www.openssl.org/docs/manmaster/man1/ciphers.html>.  yaSSL
     does not, so attempts to use that extended syntax fail for a MySQL
     distribution compiled using yaSSL.

     For information about which encryption ciphers MySQL supports, see
     *note encrypted-connection-protocols-ciphers::.

   * '--ssl-key=FILE_NAME'

     The path name of the SSL private key file in PEM format.  On the
     client side, this is the client private key.  On the server side,
     this is the server private key.  This option implies '--ssl'.

     If the MySQL distribution was compiled using OpenSSL and the key
     file is protected by a passphrase, the program prompts the user for
     the passphrase.  The password must be given interactively; it
     cannot be stored in a file.  If the passphrase is incorrect, the
     program continues as if it could not read the key.  If the MySQL
     distribution was built using yaSSL and the key file is protected by
     a passphrase, an error occurs.

   * '--ssl-mode=MODE'

     This option is available only for client programs, not the server.
     It specifies the desired security state of the connection to the
     server:

        * If this option is not specified, the default is to establish
          an unencrypted connection.  This is like the '--ssl=0' option
          or its synonyms ('--skip-ssl', '--disable-ssl').

        * If this option is specified, the only permissible value is
          'REQUIRED' (establish an encrypted connection if the server
          supports encrypted connections).  The connection attempt fails
          if an encrypted connection cannot be established.

     The '--ssl-mode' option was added in MySQL 5.5.49.

     *Note*:

     To require encrypted connections in MySQL 5.5, the standard MySQL
     client programs check whether the connection is encrypted if
     '--ssl-mode=REQUIRED' was specified.  If not, the client exits with
     an error.  Third-party applications that must be able to require
     encrypted connections can use the same technique.  For details, see
     *note mysql-ssl-set::.

   * '--ssl-verify-server-cert'

     This option is available only for client programs, not the server.
     It causes the client to perform host name identity verification by
     checking the host name the client uses for connecting to the server
     against the identity in the certificate that the server sends to
     the client.  The client checks whether the host name that it uses
     for connecting matches the Common Name value in the server
     certificate.  The connection fails if there is a mismatch.  For
     encrypted connections, this option helps prevent man-in-the-middle
     attacks.  Host name identity verification is disabled by default.


File: manual.info.tmp,  Node: connecting,  Next: connection-compression-control,  Prev: connection-options,  Up: programs-using

4.2.4 Connecting to the MySQL Server Using Command Options
----------------------------------------------------------

This section describes use of command-line options to specify how to
establish connections to the MySQL server, for clients such as *note
'mysql': mysql. or *note 'mysqldump': mysqldump.  For additional
information if you are unable to connect, see *note
problems-connecting::.

For a client program to connect to the MySQL server, it must use the
proper connection parameters, such as the name of the host where the
server is running and the user name and password of your MySQL account.
Each connection parameter has a default value, but you can override
default values as necessary using program options specified either on
the command line or in an option file.

The examples here use the *note 'mysql': mysql. client program, but the
principles apply to other clients such as *note 'mysqldump': mysqldump,
*note 'mysqladmin': mysqladmin, or *note 'mysqlshow': mysqlshow.

This command invokes *note 'mysql': mysql. without specifying any
explicit connection parameters:

     mysql

Because there are no parameter options, the default values apply:

   * The default host name is 'localhost'.  On Unix, this has a special
     meaning, as described later.

   * The default user name is 'ODBC' on Windows or your Unix login name
     on Unix.

   * No password is sent because neither '--password' nor '-p' is given.

   * For *note 'mysql': mysql, the first nonoption argument is taken as
     the name of the default database.  Because there is no such
     argument, *note 'mysql': mysql. selects no default database.

To specify the host name and user name explicitly, as well as a
password, supply appropriate options on the command line.  To select a
default database, add a database-name argument.  Examples:

     mysql --host=localhost --user=myname --password=PASSWORD mydb
     mysql -h localhost -u myname -pPASSWORD mydb

For password options, the password value is optional:

   * If you use a '--password' or '-p' option and specify a password
     value, there must be _no space_ between '--password=' or '-p' and
     the password following it.

   * If you use '--password' or '-p' but do not specify a password
     value, the client program prompts you to enter the password.  The
     password is not displayed as you enter it.  This is more secure
     than giving the password on the command line, which might enable
     other users on your system to see the password line by executing a
     command such as 'ps'.  See *note password-security-user::.

   * To explicitly specify that there is no password and that the client
     program should not prompt for one, use the '--skip-password'
     option.

As just mentioned, including the password value on the command line can
be a security risk.  To avoid this risk, specify the '--password' or
'-p' option without any following password value:

     mysql --host=localhost --user=myname --password mydb
     mysql -h localhost -u myname -p mydb

When the '--password' or '-p' option is given with no password value,
the client program prints a prompt and waits for you to enter the
password.  (In these examples, 'mydb' is _not_ interpreted as a password
because it is separated from the preceding password option by a space.)

On some systems, the library routine that MySQL uses to prompt for a
password automatically limits the password to eight characters.  That
limitation is a property of the system library, not MySQL. Internally,
MySQL does not have any limit for the length of the password.  To work
around the limitation on systems affected by it, specify your password
in an option file (see *note option-files::).  Another workaround is to
change your MySQL password to a value that has eight or fewer
characters, but that may be unacceptable because shorter passwords tend
to be less secure.

Client programs determine what type of connection to make as follows:

   * If the host is not specified or is 'localhost', a connection to the
     local host occurs:

        * On Windows, the client connects using a shared-memory
          connection, if the server was started with the 'shared_memory'
          system variable enabled to support shared-memory connections.

        * On Unix, MySQL programs treat the host name 'localhost'
          specially, in a way that is likely different from what you
          expect compared to other network-based programs: the client
          connects using a Unix socket file.  The '--socket' option or
          the 'MYSQL_UNIX_PORT' environment variable may be used to
          specify the socket name.

   * On Windows, if 'host' is '.' (period), or TCP/IP is not enabled and
     '--socket' is not specified or the host is empty, the client
     connects using a named pipe, if the server was started with the
     'named_pipe' system variable enabled to support named-pipe
     connections.  If named-pipe connections are not enabled, an error
     occurs.

   * Otherwise, the connection uses TCP/IP.

The '--protocol' option enables you to establish a particular type of
connection even when other options normally result in use of a different
protocol.  That is, '--protocol' specifies the connection protocol
explicitly and overrides the preceding rules, even for 'localhost'.

Only connection options that are relevant to the selected protocol are
used or checked.  Other connection options are ignored.  For example,
with '--host=localhost' on Unix, the client attempts to connect to the
local server using a Unix socket file.  This occurs even if a '--port'
or '-P' option is given to specify a port number.

To ensure that the client makes a TCP/IP connection to the local server,
use '--host' or '-h' to specify a host name value of '127.0.0.1', or the
IP address or name of the local server.  You can also specify the
connection protocol explicitly, even for 'localhost', by using the
'--protocol=TCP' option.  Examples:

     mysql --host=127.0.0.1
     mysql --protocol=TCP

If the server is configured to accept IPv6 connections, clients can
connect to the local server over IPv6 using '--host=::1'.  See *note
ipv6-support::.

On Windows, you can force a MySQL client to use a named-pipe connection
by specifying the '--pipe' or '--protocol=PIPE' option, or by specifying
'.' (period) as the host name.  If the server was not started with the
'named_pipe' system variable enabled to support named-pipe connections,
an error occurs.  Use the '--socket' option to specify the name of the
pipe if you do not want to use the default pipe name.

Connections to remote servers use TCP/IP. This command connects to the
server running on 'remote.example.com' using the default port number
(3306):

     mysql --host=remote.example.com

To specify a port number explicitly, use the '--port' or '-P' option:

     mysql --host=remote.example.com --port=13306

You can specify a port number for connections to a local server, too.
However, as indicated previously, connections to 'localhost' on Unix use
a socket file by default, so unless you force a TCP/IP connection as
previously described, any option that specifies a port number is
ignored.

For this command, the program uses a socket file on Unix and the
'--port' option is ignored:

     mysql --port=13306 --host=localhost

To cause the port number to be used, force a TCP/IP connection.  For
example, invoke the program in either of these ways:

     mysql --port=13306 --host=127.0.0.1
     mysql --port=13306 --protocol=TCP

For additional information about options that control how client
programs establish connections to the server, see *note
connection-options::.

It is possible to specify connection parameters without entering them on
the command line each time you invoke a client program:

   * Specify the connection parameters in the '[client]' section of an
     option file.  The relevant section of the file might look like
     this:

          [client]
          host=HOST_NAME
          user=USER_NAME
          password=PASSWORD

     For more information, see *note option-files::.

   * Some connection parameters can be specified using environment
     variables.  Examples:

        * To specify the host for *note 'mysql': mysql, use
          'MYSQL_HOST'.

        * On Windows, to specify the MySQL user name, use 'USER'.

        * To specify the password, use 'MYSQL_PWD'.  However, this is
          insecure; see *note password-security-user::.

     For a list of supported environment variables, see *note
     environment-variables::.


File: manual.info.tmp,  Node: connection-compression-control,  Next: setting-environment-variables,  Prev: connecting,  Up: programs-using

4.2.5 Connection Compression Control
------------------------------------

Connections to the server can use a compressed protocol that reduces the
number of bytes sent over the connection.  By default, connections are
uncompressed, but can be compressed if the server and the client both
support compression.

Compressed connections originate on the client side but affect CPU load
on both the client and server sides because both sides perform
compression and decompression operations.  Because enabling compression
decreases performance, its benefits occur primarily when there is low
network bandwidth, network transfer time dominates the cost of
compression and decompression operations, and result sets are large.

Compression control applies to connections to the server by client
programs and by servers participating in master/slave replication.
Compression control does not apply to connections for 'FEDERATED'
tables.

These configuration parameters are available for controlling connection
compression:

   * Client programs support a '--compress' command-line option to
     specify use of compression for the connection to the server.

   * For programs that use the MySQL C API, enabling the
     'MYSQL_OPT_COMPRESS' option for the *note 'mysql_options()':
     mysql-options. function specifies use of compression for the
     connection to the server.

   * For master/server replication, enabling the
     'slave_compressed_protocol' system variable specifies use of
     compression for slave connections to the master.

In each case, when use of compression is specified, the connection uses
the 'zlib' compression algorithm if both sides support it, with fallback
to an uncompressed connection otherwise.


File: manual.info.tmp,  Node: setting-environment-variables,  Prev: connection-compression-control,  Up: programs-using

4.2.6 Setting Environment Variables
-----------------------------------

Environment variables can be set at the command prompt to affect the
current invocation of your command processor, or set permanently to
affect future invocations.  To set a variable permanently, you can set
it in a startup file or by using the interface provided by your system
for this purpose.  Consult the documentation for your command
interpreter for specific details.  *note environment-variables::, lists
all environment variables that affect MySQL program operation.

To specify a value for an environment variable, use the syntax
appropriate for your command processor.  For example, on Windows, you
can set the 'USER' variable to specify your MySQL account name.  To do
so, use this syntax:

     SET USER=YOUR_NAME

The syntax on Unix depends on your shell.  Suppose that you want to
specify the TCP/IP port number using the 'MYSQL_TCP_PORT' variable.
Typical syntax (such as for 'sh', 'ksh', 'bash', 'zsh', and so on) is as
follows:

     MYSQL_TCP_PORT=3306
     export MYSQL_TCP_PORT

The first command sets the variable, and the 'export' command exports
the variable to the shell environment so that its value becomes
accessible to MySQL and other processes.

For 'csh' and 'tcsh', use 'setenv' to make the shell variable available
to the environment:

     setenv MYSQL_TCP_PORT 3306

The commands to set environment variables can be executed at your
command prompt to take effect immediately, but the settings persist only
until you log out.  To have the settings take effect each time you log
in, use the interface provided by your system or place the appropriate
command or commands in a startup file that your command interpreter
reads each time it starts.

On Windows, you can set environment variables using the System Control
Panel (under Advanced).

On Unix, typical shell startup files are '.bashrc' or '.bash_profile'
for 'bash', or '.tcshrc' for 'tcsh'.

Suppose that your MySQL programs are installed in '/usr/local/mysql/bin'
and that you want to make it easy to invoke these programs.  To do this,
set the value of the 'PATH' environment variable to include that
directory.  For example, if your shell is 'bash', add the following line
to your '.bashrc' file:

     PATH=${PATH}:/usr/local/mysql/bin

'bash' uses different startup files for login and nonlogin shells, so
you might want to add the setting to '.bashrc' for login shells and to
'.bash_profile' for nonlogin shells to make sure that 'PATH' is set
regardless.

If your shell is 'tcsh', add the following line to your '.tcshrc' file:

     setenv PATH ${PATH}:/usr/local/mysql/bin

If the appropriate startup file does not exist in your home directory,
create it with a text editor.

After modifying your 'PATH' setting, open a new console window on
Windows or log in again on Unix so that the setting goes into effect.


File: manual.info.tmp,  Node: programs-server,  Next: programs-installation,  Prev: programs-using,  Up: programs

4.3 Server and Server-Startup Programs
======================================

* Menu:

* mysqld::                       'mysqld' -- The MySQL Server
* mysqld-safe::                  'mysqld_safe' -- MySQL Server Startup Script
* mysql-server::                 'mysql.server' -- MySQL Server Startup Script
* mysqld-multi::                 'mysqld_multi' -- Manage Multiple MySQL Servers

This section describes *note 'mysqld': mysqld, the MySQL server, and
several programs that are used to start the server.


File: manual.info.tmp,  Node: mysqld,  Next: mysqld-safe,  Prev: programs-server,  Up: programs-server

4.3.1 'mysqld' -- The MySQL Server
----------------------------------

*note 'mysqld': mysqld, also known as MySQL Server, is the main program
that does most of the work in a MySQL installation.  MySQL Server
manages access to the MySQL data directory that contains databases and
tables.  The data directory is also the default location for other
information such as log files and status files.

*Note*:

Some installation packages contain a debugging version of the server
named *note 'mysqld-debug': mysqld.  Invoke this version instead of
*note 'mysqld': mysqld. for debugging support, memory allocation
checking, and trace file support (see *note making-trace-files::).

When MySQL server starts, it listens for network connections from client
programs and manages access to databases on behalf of those clients.

The *note 'mysqld': mysqld. program has many options that can be
specified at startup.  For a complete list of options, run this command:

     shell> mysqld --verbose --help

MySQL Server also has a set of system variables that affect its
operation as it runs.  System variables can be set at server startup,
and many of them can be changed at runtime to effect dynamic server
reconfiguration.  MySQL Server also has a set of status variables that
provide information about its operation.  You can monitor these status
variables to access runtime performance characteristics.

For a full description of MySQL Server command options, system
variables, and status variables, see *note mysqld-server::.  For
information about installing MySQL and setting up the initial
configuration, see *note installing::.


File: manual.info.tmp,  Node: mysqld-safe,  Next: mysql-server,  Prev: mysqld,  Up: programs-server

4.3.2 'mysqld_safe' -- MySQL Server Startup Script
--------------------------------------------------

*note 'mysqld_safe': mysqld-safe. is the recommended way to start a
*note 'mysqld': mysqld. server on Unix.  *note 'mysqld_safe':
mysqld-safe. adds some safety features such as restarting the server
when an error occurs and logging runtime information to an error log.  A
description of error logging is given later in this section.

*note 'mysqld_safe': mysqld-safe. tries to start an executable named
*note 'mysqld': mysqld.  To override the default behavior and specify
explicitly the name of the server you want to run, specify a '--mysqld'
or '--mysqld-version' option to *note 'mysqld_safe': mysqld-safe.  You
can also use '--ledir' to indicate the directory where *note
'mysqld_safe': mysqld-safe. should look for the server.

Many of the options to *note 'mysqld_safe': mysqld-safe. are the same as
the options to *note 'mysqld': mysqld.  See *note server-options::.

Options unknown to *note 'mysqld_safe': mysqld-safe. are passed to *note
'mysqld': mysqld. if they are specified on the command line, but ignored
if they are specified in the '[mysqld_safe]' group of an option file.
See *note option-files::.

*note 'mysqld_safe': mysqld-safe. reads all options from the '[mysqld]',
'[server]', and '[mysqld_safe]' sections in option files.  For example,
if you specify a '[mysqld]' section like this, *note 'mysqld_safe':
mysqld-safe. will find and use the '--log-error' option:

     [mysqld]
     log-error=error.log

For backward compatibility, *note 'mysqld_safe': mysqld-safe. also reads
'[safe_mysqld]' sections, but to be current you should rename such
sections to '[mysqld_safe]'.

*note 'mysqld_safe': mysqld-safe. supports the following options.  It
also reads option files and supports the options for processing them
described at *note option-file-options::.

*mysqld_safe Options*

Option Name            Description                              Introduced
                                                                
-basedir               Path to MySQL installation directory     
                       
-core-file-size        Size of core file that mysqld should     
                       be able to create
                       
-datadir               Path to data directory                   
                       
-defaults-extra-file   Read named option file in addition to    
                       usual option files
                       
-defaults-file         Read only named option file              
                       
-help                  Display help message and exit            
                       
-ledir                 Path to directory where server is        
                       located
                       
-log-error             Write error log to named file            
                       
-malloc-lib            Alternative malloc library to use for    
                       mysqld
                       
-mysqld                Name of server program to start (in      
                       ledir directory)
                       
-mysqld-version        Suffix for server program name           
                       
-nice                  Use nice program to set server           
                       scheduling priority
                       
-no-defaults           Read no option files                     
                       
-open-files-limit      Number of files that mysqld should be    
                       able to open
                       
-pid-file              Path name of server process ID file      
                       
-plugin-dir            Directory where plugins are installed    5.5.3
                                                                
-port                  Port number on which to listen for       
                       TCP/IP connections
                       
-skip-kill-mysqld      Do not try to kill stray mysqld          
                       processes
                       
-skip-syslog           Do not write error messages to syslog;   
                       use error log file
                       
-socket                Socket file on which to listen for       
                       Unix socket connections
                       
-syslog                Write error messages to syslog           
                       
-syslog-tag            Tag suffix for messages written to       
                       syslog
                       
-timezone              Set TZ time zone environment variable    
                       to named value
                       
-user                  Run mysqld as user having name
                       user_name or numeric user ID user_id
                       

   * 
     '--help'

     Display a help message and exit.

   * 
     '--basedir=DIR_NAME'

     The path to the MySQL installation directory.

   * 
     '--core-file-size=SIZE'

     The size of the core file that *note 'mysqld': mysqld. should be
     able to create.  The option value is passed to 'ulimit -c'.

   * 
     '--datadir=DIR_NAME'

     The path to the data directory.

   * 
     '--defaults-extra-file=FILE_NAME'

     Read this option file in addition to the usual option files.  If
     the file does not exist or is otherwise inaccessible, the server
     will exit with an error.  FILE_NAME is interpreted relative to the
     current directory if given as a relative path name rather than a
     full path name.  This must be the first option on the command line
     if it is used.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--defaults-file=FILE_NAME'

     Use only the given option file.  If the file does not exist or is
     otherwise inaccessible, the server will exit with an error.
     FILE_NAME is interpreted relative to the current directory if given
     as a relative path name rather than a full path name.  This must be
     the first option on the command line if it is used.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--ledir=DIR_NAME'

     If *note 'mysqld_safe': mysqld-safe. cannot find the server, use
     this option to indicate the path name to the directory where the
     server is located.

     As of MySQL 5.5.54, this option is accepted only on the command
     line, not in option files.

   * 
     '--log-error=FILE_NAME'

     Write the error log to the given file.  See *note error-log::.

   * 
     '--malloc-lib=[LIB_NAME]'

     The name of the library to use for memory allocation instead of the
     system 'malloc()' library.  As of MySQL 5.5.52, the option value
     must be one of the directories '/usr/lib', '/usr/lib64',
     '/usr/lib/i386-linux-gnu', or '/usr/lib/x86_64-linux-gnu'.  Prior
     to MySQL 5.5.52, any library can be used by specifying its path
     name, but there is a shortcut form to enable use of the 'tcmalloc'
     library that is shipped with binary MySQL distributions for Linux
     in MySQL 5.5.  It is possible that the shortcut form will not work
     under certain configurations, in which case you should specify a
     path name instead.

     *Note*:

     As of MySQL 5.5.50, MySQL distributions no longer include a
     'tcmalloc' library.

     The '--malloc-lib' option works by modifying the 'LD_PRELOAD'
     environment value to affect dynamic linking to enable the loader to
     find the memory-allocation library when *note 'mysqld': mysqld.
     runs:

        * If the option is not given, or is given without a value
          ('--malloc-lib='), 'LD_PRELOAD' is not modified and no attempt
          is made to use 'tcmalloc'.

        * If the option is given as '--malloc-lib=tcmalloc', *note
          'mysqld_safe': mysqld-safe. looks for a 'tcmalloc' library in
          '/usr/lib' and then in the MySQL 'pkglibdir' location (for
          example, '/usr/local/mysql/lib' or whatever is appropriate).
          If 'tmalloc' is found, its path name is added to the beginning
          of the 'LD_PRELOAD' value for *note 'mysqld': mysqld.  If
          'tcmalloc' is not found, *note 'mysqld_safe': mysqld-safe.
          aborts with an error.

        * If the option is given as
          '--malloc-lib=/PATH/TO/SOME/LIBRARY', that full path is added
          to the beginning of the 'LD_PRELOAD' value.  If the full path
          points to a nonexistent or unreadable file, *note
          'mysqld_safe': mysqld-safe. aborts with an error.

        * For cases where *note 'mysqld_safe': mysqld-safe. adds a path
          name to 'LD_PRELOAD', it adds the path to the beginning of any
          existing value the variable already has.

     Linux users can use the 'libtcmalloc_minimal.so' included in binary
     packages by adding these lines to the 'my.cnf' file:

          [mysqld_safe]
          malloc-lib=tcmalloc

     Those lines also suffice for users on any platform who have
     installed a 'tcmalloc' package in '/usr/lib'.  To use a specific
     'tcmalloc' library, specify its full path name.  Example:

          [mysqld_safe]
          malloc-lib=/opt/lib/libtcmalloc_minimal.so

   * 
     '--mysqld=PROG_NAME'

     The name of the server program (in the 'ledir' directory) that you
     want to start.  This option is needed if you use the MySQL binary
     distribution but have the data directory outside of the binary
     distribution.  If *note 'mysqld_safe': mysqld-safe. cannot find the
     server, use the '--ledir' option to indicate the path name to the
     directory where the server is located.

     As of MySQL 5.5.52, this option is accepted only on the command
     line, not in option files.

   * 
     '--mysqld-version=SUFFIX'

     This option is similar to the '--mysqld' option, but you specify
     only the suffix for the server program name.  The base name is
     assumed to be *note 'mysqld': mysqld.  For example, if you use
     '--mysqld-version=debug', *note 'mysqld_safe': mysqld-safe. starts
     the *note 'mysqld-debug': mysqld. program in the 'ledir' directory.
     If the argument to '--mysqld-version' is empty, *note
     'mysqld_safe': mysqld-safe. uses *note 'mysqld': mysqld. in the
     'ledir' directory.

     As of MySQL 5.5.52, this option is accepted only on the command
     line, not in option files.

   * 
     '--nice=PRIORITY'

     Use the 'nice' program to set the server's scheduling priority to
     the given value.

   * 
     '--no-defaults'

     Do not read any option files.  If program startup fails due to
     reading unknown options from an option file, '--no-defaults' can be
     used to prevent them from being read.  This must be the first
     option on the command line if it is used.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--open-files-limit=COUNT'

     The number of files that *note 'mysqld': mysqld. should be able to
     open.  The option value is passed to 'ulimit -n'.

     *Note*:

     You must start *note 'mysqld_safe': mysqld-safe. as 'root' for this
     to function properly.

   * 
     '--pid-file=FILE_NAME'

     The path name that *note 'mysqld': mysqld. should use for its
     process ID file.

   * 
     '--plugin-dir=DIR_NAME'

     The path name of the plugin directory.  This option was added in
     MySQL 5.5.3.

   * 
     '--port=PORT_NUM'

     The port number that the server should use when listening for
     TCP/IP connections.  The port number must be 1024 or higher unless
     the server is started by the 'root' operating system user.

   * 
     '--skip-kill-mysqld'

     Do not try to kill stray *note 'mysqld': mysqld. processes at
     startup.  This option works only on Linux.

   * 
     '--socket=PATH'

     The Unix socket file that the server should use when listening for
     local connections.

   * 
     '--syslog', '--skip-syslog'

     '--syslog' causes error messages to be sent to 'syslog' on systems
     that support the 'logger' program.  '--skip-syslog' suppresses the
     use of 'syslog'; messages are written to an error log file.

     When 'syslog' is used, the 'daemon.err' syslog facility/severity is
     used for all log messages.

     *note 'mysqld_safe': mysqld-safe. ignores '--syslog' if
     '--log-error' is also given.

   * 
     '--syslog-tag=TAG'

     For logging to 'syslog', messages from *note 'mysqld_safe':
     mysqld-safe. and *note 'mysqld': mysqld. are written with
     identifiers of 'mysqld_safe' and 'mysqld', respectively.  To
     specify a suffix for the identifiers, use '--syslog-tag=TAG', which
     modifies the identifiers to be 'mysqld_safe-TAG' and 'mysqld-TAG'.

   * 
     '--timezone=TIMEZONE'

     Set the 'TZ' time zone environment variable to the given option
     value.  Consult your operating system documentation for legal time
     zone specification formats.

   * 
     '--user={USER_NAME|USER_ID}'

     Run the *note 'mysqld': mysqld. server as the user having the name
     USER_NAME or the numeric user ID USER_ID.  ('User' in this context
     refers to a system login account, not a MySQL user listed in the
     grant tables.)

If you execute *note 'mysqld_safe': mysqld-safe. with the
'--defaults-file' or '--defaults-extra-file' option to name an option
file, the option must be the first one given on the command line or the
option file will not be used.  For example, this command will not use
the named option file:

     mysql> mysqld_safe --port=PORT_NUM --defaults-file=FILE_NAME

Instead, use the following command:

     mysql> mysqld_safe --defaults-file=FILE_NAME --port=PORT_NUM

The *note 'mysqld_safe': mysqld-safe. script is written so that it
normally can start a server that was installed from either a source or a
binary distribution of MySQL, even though these types of distributions
typically install the server in slightly different locations.  (See
*note installation-layouts::.)  *note 'mysqld_safe': mysqld-safe.
expects one of the following conditions to be true:

   * The server and databases can be found relative to the working
     directory (the directory from which *note 'mysqld_safe':
     mysqld-safe. is invoked).  For binary distributions, *note
     'mysqld_safe': mysqld-safe. looks under its working directory for
     'bin' and 'data' directories.  For source distributions, it looks
     for 'libexec' and 'var' directories.  This condition should be met
     if you execute *note 'mysqld_safe': mysqld-safe. from your MySQL
     installation directory (for example, '/usr/local/mysql' for a
     binary distribution).

   * If the server and databases cannot be found relative to the working
     directory, *note 'mysqld_safe': mysqld-safe. attempts to locate
     them by absolute path names.  Typical locations are
     '/usr/local/libexec' and '/usr/local/var'.  The actual locations
     are determined from the values configured into the distribution at
     the time it was built.  They should be correct if MySQL is
     installed in the location specified at configuration time.

Because *note 'mysqld_safe': mysqld-safe. tries to find the server and
databases relative to its own working directory, you can install a
binary distribution of MySQL anywhere, as long as you run *note
'mysqld_safe': mysqld-safe. from the MySQL installation directory:

     shell> cd MYSQL_INSTALLATION_DIRECTORY
     shell> bin/mysqld_safe &

If *note 'mysqld_safe': mysqld-safe. fails, even when invoked from the
MySQL installation directory, specify the '--ledir' and '--datadir'
options to indicate the directories in which the server and databases
are located on your system.

Beginning with MySQL 5.5.21, *note 'mysqld_safe': mysqld-safe. tries to
use the 'sleep' and 'date' system utilities to determine how many times
it has attempted to start this second, and--if these are present and
this is greater than 5 times--is forced to wait 1 full second before
starting again.  This is intended to prevent excessive CPU usage in the
event of repeated failures.  (Bug #11761530, Bug #54035)

When you use *note 'mysqld_safe': mysqld-safe. to start *note 'mysqld':
mysqld, *note 'mysqld_safe': mysqld-safe. arranges for error (and
notice) messages from itself and from *note 'mysqld': mysqld. to go to
the same destination.

There are several *note 'mysqld_safe': mysqld-safe. options for
controlling the destination of these messages:

   * '--log-error=FILE_NAME': Write error messages to the named error
     file.

   * '--syslog': Write error messages to 'syslog' on systems that
     support the 'logger' program.

   * '--skip-syslog': Do not write error messages to 'syslog'.  Messages
     are written to the default error log file ('HOST_NAME.err' in the
     data directory), or to a named file if the '--log-error' option is
     given.

If none of these options is given, the default is '--skip-syslog'.

If '--log-error' and '--syslog' are both given, a warning is issued and
'--log-error' takes precedence.

When *note 'mysqld_safe': mysqld-safe. writes a message, notices go to
the logging destination ('syslog' or the error log file) and 'stdout'.
Errors go to the logging destination and 'stderr'.

Normally, you should not edit the *note 'mysqld_safe': mysqld-safe.
script.  Instead, configure *note 'mysqld_safe': mysqld-safe. by using
command-line options or options in the '[mysqld_safe]' section of a
'my.cnf' option file.  In rare cases, it might be necessary to edit
*note 'mysqld_safe': mysqld-safe. to get it to start the server
properly.  However, if you do this, your modified version of *note
'mysqld_safe': mysqld-safe. might be overwritten if you upgrade MySQL in
the future, so you should make a copy of your edited version that you
can reinstall.


File: manual.info.tmp,  Node: mysql-server,  Next: mysqld-multi,  Prev: mysqld-safe,  Up: programs-server

4.3.3 'mysql.server' -- MySQL Server Startup Script
---------------------------------------------------

MySQL distributions on Unix and Unix-like system include a script named
*note 'mysql.server': mysql-server, which starts the MySQL server using
*note 'mysqld_safe': mysqld-safe.  It can be used on systems such as
Linux and Solaris that use System V-style run directories to start and
stop system services.  It is also used by the macOS Startup Item for
MySQL.

*note 'mysql.server': mysql-server. is the script name as used within
the MySQL source tree.  The installed name might be different (for
example, *note 'mysqld': mysqld. or *note 'mysql': mysql.).  In the
following discussion, adjust the name *note 'mysql.server':
mysql-server. as appropriate for your system.

To start or stop the server manually using the *note 'mysql.server':
mysql-server. script, invoke it from the command line with 'start' or
'stop' arguments:

     shell> mysql.server start
     shell> mysql.server stop

*note 'mysql.server': mysql-server. changes location to the MySQL
installation directory, then invokes *note 'mysqld_safe': mysqld-safe.
To run the server as some specific user, add an appropriate 'user'
option to the '[mysqld]' group of the global '/etc/my.cnf' option file,
as shown later in this section.  (It is possible that you must edit
*note 'mysql.server': mysql-server. if you've installed a binary
distribution of MySQL in a nonstandard location.  Modify it to change
location into the proper directory before it runs *note 'mysqld_safe':
mysqld-safe.  If you do this, your modified version of *note
'mysql.server': mysql-server. may be overwritten if you upgrade MySQL in
the future; make a copy of your edited version that you can reinstall.)

*note 'mysql.server stop': mysql-server. stops the server by sending a
signal to it.  You can also stop the server manually by executing *note
'mysqladmin shutdown': mysqladmin.

To start and stop MySQL automatically on your server, you must add start
and stop commands to the appropriate places in your '/etc/rc*' files:

   * If you use the Linux server RPM package
     ('MySQL-server-VERSION.rpm'), or a native Linux package
     installation, the *note 'mysql.server': mysql-server. script may be
     installed in the '/etc/init.d' directory with the name 'mysqld' or
     'mysql'.  See *note linux-installation-rpm::, for more information
     on the Linux RPM packages.

   * If you install MySQL from a source distribution or using a binary
     distribution format that does not install *note 'mysql.server':
     mysql-server. automatically, you can install the script manually.
     It can be found in the 'support-files' directory under the MySQL
     installation directory or in a MySQL source tree.  Copy the script
     to the '/etc/init.d' directory with the name *note 'mysql': mysql.
     and make it executable:

          shell> cp mysql.server /etc/init.d/mysql
          shell> chmod +x /etc/init.d/mysql

     After installing the script, the commands needed to activate it to
     run at system startup depend on your operating system.  On Linux,
     you can use 'chkconfig':

          shell> chkconfig --add mysql

     On some Linux systems, the following command also seems to be
     necessary to fully enable the *note 'mysql': mysql. script:

          shell> chkconfig --level 345 mysql on

   * On FreeBSD, startup scripts generally should go in
     '/usr/local/etc/rc.d/'.  Install the 'mysql.server' script as
     '/usr/local/etc/rc.d/mysql.server.sh' to enable automatic startup.
     The 'rc(8)' manual page states that scripts in this directory are
     executed only if their base name matches the '*.sh' shell file name
     pattern.  Any other files or directories present within the
     directory are silently ignored.

   * As an alternative to the preceding setup, some operating systems
     also use '/etc/rc.local' or '/etc/init.d/boot.local' to start
     additional services on startup.  To start up MySQL using this
     method, append a command like the one following to the appropriate
     startup file:

          /bin/sh -c 'cd /usr/local/mysql; ./bin/mysqld_safe --user=mysql &'

   * For other systems, consult your operating system documentation to
     see how to install startup scripts.

*note 'mysql.server': mysql-server. reads options from the
'[mysql.server]' and '[mysqld]' sections of option files.  For backward
compatibility, it also reads '[mysql_server]' sections, but to be
current you should rename such sections to '[mysql.server]'.

You can add options for *note 'mysql.server': mysql-server. in a global
'/etc/my.cnf' file.  A typical 'my.cnf' file might look like this:

     [mysqld]
     datadir=/usr/local/mysql/var
     socket=/var/tmp/mysql.sock
     port=3306
     user=mysql

     [mysql.server]
     basedir=/usr/local/mysql

The *note 'mysql.server': mysql-server. script supports the options
shown in the following table.  If specified, they _must_ be placed in an
option file, not on the command line.  *note 'mysql.server':
mysql-server. supports only 'start' and 'stop' as command-line
arguments.

*mysql.server Option-File Options*

Option Name    Description                                        Type
                                                                  
'basedir'      Path to MySQL installation directory               Directory
                                                                  name
                                                                  
'datadir'      Path to MySQL data directory                       Directory
                                                                  name
                                                                  
'pid-file'     File in which server should write its process ID   File
                                                                  name
                                                                  
'service-startup-timeout'How long to wait for server startup      Integer
               

   * 
     'basedir=DIR_NAME'

     The path to the MySQL installation directory.

   * 
     'datadir=DIR_NAME'

     The path to the MySQL data directory.

   * 
     'pid-file=FILE_NAME'

     The path name of the file in which the server should write its
     process ID. The server creates the file in the data directory
     unless an absolute path name is given to specify a different
     directory.

     If this option is not given, *note 'mysql.server': mysql-server.
     uses a default value of 'HOST_NAME.pid'.  The PID file value passed
     to *note 'mysqld_safe': mysqld-safe. overrides any value specified
     in the '[mysqld_safe]' option file group.  Because *note
     'mysql.server': mysql-server. reads the '[mysqld]' option file
     group but not the '[mysqld_safe]' group, you can ensure that *note
     'mysqld_safe': mysqld-safe. gets the same value when invoked from
     *note 'mysql.server': mysql-server. as when invoked manually by
     putting the same 'pid-file' setting in both the '[mysqld_safe]' and
     '[mysqld]' groups.

   * 
     'service-startup-timeout=SECONDS'

     How long in seconds to wait for confirmation of server startup.  If
     the server does not start within this time, *note 'mysql.server':
     mysql-server. exits with an error.  The default value is 900.  A
     value of 0 means not to wait at all for startup.  Negative values
     mean to wait forever (no timeout).


File: manual.info.tmp,  Node: mysqld-multi,  Prev: mysql-server,  Up: programs-server

4.3.4 'mysqld_multi' -- Manage Multiple MySQL Servers
-----------------------------------------------------

*note 'mysqld_multi': mysqld-multi. is designed to manage several *note
'mysqld': mysqld. processes that listen for connections on different
Unix socket files and TCP/IP ports.  It can start or stop servers, or
report their current status.

*note 'mysqld_multi': mysqld-multi. searches for groups named
'[mysqldN]' in 'my.cnf' (or in the file named by the '--defaults-file'
option).  N can be any positive integer.  This number is referred to in
the following discussion as the option group number, or GNR.  Group
numbers distinguish option groups from one another and are used as
arguments to *note 'mysqld_multi': mysqld-multi. to specify which
servers you want to start, stop, or obtain a status report for.  Options
listed in these groups are the same that you would use in the '[mysqld]'
group used for starting *note 'mysqld': mysqld.  (See, for example,
*note automatic-start::.)  However, when using multiple servers, it is
necessary that each one use its own value for options such as the Unix
socket file and TCP/IP port number.  For more information on which
options must be unique per server in a multiple-server environment, see
*note multiple-servers::.

To invoke *note 'mysqld_multi': mysqld-multi, use the following syntax:

     shell> mysqld_multi [OPTIONS] {start|stop|report} [GNR[,GNR] ...]

'start', 'stop', and 'report' indicate which operation to perform.  You
can perform the designated operation for a single server or multiple
servers, depending on the GNR list that follows the option name.  If
there is no list, *note 'mysqld_multi': mysqld-multi. performs the
operation for all servers in the option file.

Each GNR value represents an option group number or range of group
numbers.  The value should be the number at the end of the group name in
the option file.  For example, the GNR for a group named '[mysqld17]' is
'17'.  To specify a range of numbers, separate the first and last
numbers by a dash.  The GNR value '10-13' represents groups '[mysqld10]'
through '[mysqld13]'.  Multiple groups or group ranges can be specified
on the command line, separated by commas.  There must be no whitespace
characters (spaces or tabs) in the GNR list; anything after a whitespace
character is ignored.

This command starts a single server using option group '[mysqld17]':

     shell> mysqld_multi start 17

This command stops several servers, using option groups '[mysqld8]' and
'[mysqld10]' through '[mysqld13]':

     shell> mysqld_multi stop 8,10-13

For an example of how you might set up an option file, use this command:

     shell> mysqld_multi --example

*note 'mysqld_multi': mysqld-multi. searches for option files as
follows:

   * 
     With '--no-defaults', no option files are read.

   * 
     With '--defaults-file=FILE_NAME', only the named file is read.

   * 
     Otherwise, option files in the standard list of locations are read,
     including any file named by the '--defaults-extra-file=FILE_NAME'
     option, if one is given.  (If the option is given multiple times,
     the last value is used.)

For additional information about these and other option-file options,
see *note option-file-options::.

Option files read are searched for '[mysqld_multi]' and '[mysqldN]'
option groups.  The '[mysqld_multi]' group can be used for options to
*note 'mysqld_multi': mysqld-multi. itself.  '[mysqldN]' groups can be
used for options passed to specific *note 'mysqld': mysqld. instances.

The '[mysqld]' or '[mysqld_safe]' groups can be used for common options
read by all instances of *note 'mysqld': mysqld. or *note 'mysqld_safe':
mysqld-safe.  You can specify a '--defaults-file=FILE_NAME' option to
use a different configuration file for that instance, in which case the
'[mysqld]' or '[mysqld_safe]' groups from that file will be used for
that instance.

*note 'mysqld_multi': mysqld-multi. supports the following options.

   * 
     '--help'

     Display a help message and exit.

   * 
     '--config-file=FILE_NAME'

     This option is deprecated.  If given, it is treated the same way as
     '--defaults-extra-file', described earlier.  '--config-file' was
     removed in MySQL 5.5.3.

   * 
     '--example'

     Display a sample option file.

   * 
     '--log=FILE_NAME'

     Specify the name of the log file.  If the file exists, log output
     is appended to it.

   * 
     '--mysqladmin=PROG_NAME'

     The *note 'mysqladmin': mysqladmin. binary to be used to stop
     servers.

   * 
     '--mysqld=PROG_NAME'

     The *note 'mysqld': mysqld. binary to be used.  Note that you can
     specify *note 'mysqld_safe': mysqld-safe. as the value for this
     option also.  If you use *note 'mysqld_safe': mysqld-safe. to start
     the server, you can include the 'mysqld' or 'ledir' options in the
     corresponding '[mysqldN]' option group.  These options indicate the
     name of the server that *note 'mysqld_safe': mysqld-safe. should
     start and the path name of the directory where the server is
     located.  (See the descriptions for these options in *note
     mysqld-safe::.)  Example:

          [mysqld38]
          mysqld = mysqld-debug
          ledir  = /opt/local/mysql/libexec

   * 
     '--no-log'

     Print log information to 'stdout' rather than to the log file.  By
     default, output goes to the log file.

   * 
     '--password=PASSWORD'

     The password of the MySQL account to use when invoking *note
     'mysqladmin': mysqladmin.  The password value is not optional for
     this option, unlike for other MySQL programs.

   * 
     '--silent'

     Silent mode; disable warnings.

   * 
     '--tcp-ip'

     Connect to each MySQL server through the TCP/IP port instead of the
     Unix socket file.  (If a socket file is missing, the server might
     still be running, but accessible only through the TCP/IP port.)  By
     default, connections are made using the Unix socket file.  This
     option affects 'stop' and 'report' operations.

   * 
     '--user=USER_NAME'

     The user name of the MySQL account to use when invoking *note
     'mysqladmin': mysqladmin.

   * 
     '--verbose'

     Be more verbose.

   * 
     '--version'

     Display version information and exit.

Some notes about *note 'mysqld_multi': mysqld-multi.:

   * *Most important*: Before using *note 'mysqld_multi': mysqld-multi.
     be sure that you understand the meanings of the options that are
     passed to the *note 'mysqld': mysqld. servers and _why_ you would
     want to have separate *note 'mysqld': mysqld. processes.  Beware of
     the dangers of using multiple *note 'mysqld': mysqld. servers with
     the same data directory.  Use separate data directories, unless you
     _know_ what you are doing.  Starting multiple servers with the same
     data directory does _not_ give you extra performance in a threaded
     system.  See *note multiple-servers::.

     *Important*:

     Make sure that the data directory for each server is fully
     accessible to the Unix account that the specific *note 'mysqld':
     mysqld. process is started as.  _Do not_ use the Unix ROOT account
     for this, unless you _know_ what you are doing.  See *note
     changing-mysql-user::.

   * Make sure that the MySQL account used for stopping the *note
     'mysqld': mysqld. servers (with the *note 'mysqladmin': mysqladmin.
     program) has the same user name and password for each server.
     Also, make sure that the account has the 'SHUTDOWN' privilege.  If
     the servers that you want to manage have different user names or
     passwords for the administrative accounts, you might want to create
     an account on each server that has the same user name and password.
     For example, you might set up a common 'multi_admin' account by
     executing the following commands for each server:

          shell> mysql -u root -S /tmp/mysql.sock -p
          Enter password:
          mysql> CREATE USER 'multi_admin'@'localhost' IDENTIFIED BY 'multipass';
          mysql> GRANT SHUTDOWN ON *.* TO 'multi_admin'@'localhost';

     See *note access-control::.  You have to do this for each *note
     'mysqld': mysqld. server.  Change the connection parameters
     appropriately when connecting to each one.  Note that the host name
     part of the account name must permit you to connect as
     'multi_admin' from the host where you want to run *note
     'mysqld_multi': mysqld-multi.

   * The Unix socket file and the TCP/IP port number must be different
     for every *note 'mysqld': mysqld.  (Alternatively, if the host has
     multiple network addresses, you can use '--bind-address' to cause
     different servers to listen to different interfaces.)

   * The '--pid-file' option is very important if you are using *note
     'mysqld_safe': mysqld-safe. to start *note 'mysqld': mysqld. (for
     example, '--mysqld=mysqld_safe') Every *note 'mysqld': mysqld.
     should have its own process ID file.  The advantage of using *note
     'mysqld_safe': mysqld-safe. instead of *note 'mysqld': mysqld. is
     that *note 'mysqld_safe': mysqld-safe. monitors its *note 'mysqld':
     mysqld. process and restarts it if the process terminates due to a
     signal sent using 'kill -9' or for other reasons, such as a
     segmentation fault.

   * You might want to use the '--user' option for *note 'mysqld':
     mysqld, but to do this you need to run the *note 'mysqld_multi':
     mysqld-multi. script as the Unix superuser ('root').  Having the
     option in the option file doesn't matter; you just get a warning if
     you are not the superuser and the *note 'mysqld': mysqld. processes
     are started under your own Unix account.

The following example shows how you might set up an option file for use
with *note 'mysqld_multi': mysqld-multi.  The order in which the *note
'mysqld': mysqld. programs are started or stopped depends on the order
in which they appear in the option file.  Group numbers need not form an
unbroken sequence.  The first and fifth '[mysqldN]' groups were
intentionally omitted from the example to illustrate that you can have
'gaps' in the option file.  This gives you more flexibility.

     # This is an example of a my.cnf file for mysqld_multi.
     # Usually this file is located in home dir ~/.my.cnf or /etc/my.cnf

     [mysqld_multi]
     mysqld     = /usr/local/mysql/bin/mysqld_safe
     mysqladmin = /usr/local/mysql/bin/mysqladmin
     user       = multi_admin
     password   = my_password

     [mysqld2]
     socket     = /tmp/mysql.sock2
     port       = 3307
     pid-file   = /usr/local/mysql/data2/hostname.pid2
     datadir    = /usr/local/mysql/data2
     language   = /usr/local/mysql/share/mysql/english
     user       = unix_user1

     [mysqld3]
     mysqld     = /path/to/mysqld_safe
     ledir      = /path/to/mysqld-binary/
     mysqladmin = /path/to/mysqladmin
     socket     = /tmp/mysql.sock3
     port       = 3308
     pid-file   = /usr/local/mysql/data3/hostname.pid3
     datadir    = /usr/local/mysql/data3
     language   = /usr/local/mysql/share/mysql/swedish
     user       = unix_user2

     [mysqld4]
     socket     = /tmp/mysql.sock4
     port       = 3309
     pid-file   = /usr/local/mysql/data4/hostname.pid4
     datadir    = /usr/local/mysql/data4
     language   = /usr/local/mysql/share/mysql/estonia
     user       = unix_user3

     [mysqld6]
     socket     = /tmp/mysql.sock6
     port       = 3311
     pid-file   = /usr/local/mysql/data6/hostname.pid6
     datadir    = /usr/local/mysql/data6
     language   = /usr/local/mysql/share/mysql/japanese
     user       = unix_user4

See *note option-files::.


File: manual.info.tmp,  Node: programs-installation,  Next: programs-client,  Prev: programs-server,  Up: programs

4.4 Installation-Related Programs
=================================

* Menu:

* comp-err::                     'comp_err' -- Compile MySQL Error Message File
* mysqlbug::                     'mysqlbug' -- Generate Bug Report
* mysql-install-db::             'mysql_install_db' -- Initialize MySQL Data Directory
* mysql-plugin::                 'mysql_plugin' -- Configure MySQL Server Plugins
* mysql-secure-installation::    'mysql_secure_installation' -- Improve MySQL Installation Security
* mysql-tzinfo-to-sql::          'mysql_tzinfo_to_sql' -- Load the Time Zone Tables
* mysql-upgrade::                'mysql_upgrade' -- Check and Upgrade MySQL Tables

The programs in this section are used when installing or upgrading
MySQL.


File: manual.info.tmp,  Node: comp-err,  Next: mysqlbug,  Prev: programs-installation,  Up: programs-installation

4.4.1 'comp_err' -- Compile MySQL Error Message File
----------------------------------------------------

*note 'comp_err': comp-err. creates the 'errmsg.sys' file that is used
by *note 'mysqld': mysqld. to determine the error messages to display
for different error codes.  *note 'comp_err': comp-err. normally is run
automatically when MySQL is built.  It compiles the 'errmsg.sys' file
from the text file located at 'sql/share/errmsg-utf8.txt' in MySQL
source distributions.

*note 'comp_err': comp-err. also generates 'mysqld_error.h',
'mysqld_ername.h', and 'sql_state.h' header files.

For more information about how error messages are defined, see the MySQL
Internals Manual (https://dev.mysql.com/doc/internals/en).

Invoke *note 'comp_err': comp-err. like this:

     shell> comp_err [OPTIONS]

*note 'comp_err': comp-err. supports the following options.

   * 
     '--help', '-?'

     Display a help message and exit.

   * 
     '--charset=DIR_NAME', '-C DIR_NAME'

     The character set directory.  The default is
     '../sql/share/charsets'.

   * 
     '--debug=DEBUG_OPTIONS', '-# DEBUG_OPTIONS'

     Write a debugging log.  A typical DEBUG_OPTIONS string is
     'd:t:O,FILE_NAME'.  The default is 'd:t:O,/tmp/comp_err.trace'.

   * 
     '--debug-info', '-T'

     Print some debugging information when the program exits.

   * 
     '--header_file=FILE_NAME', '-H FILE_NAME'

     The name of the error header file.  The default is
     'mysqld_error.h'.

   * 
     '--in_file=FILE_NAME', '-F FILE_NAME'

     The name of the input file.  The default is
     '../sql/share/errmsg-utf8.txt'.

   * 
     '--name_file=FILE_NAME', '-N FILE_NAME'

     The name of the error name file.  The default is 'mysqld_ername.h'.

   * 
     '--out_dir=DIR_NAME', '-D DIR_NAME'

     The name of the output base directory.  The default is
     '../sql/share/'.

   * 
     '--out_file=FILE_NAME', '-O FILE_NAME'

     The name of the output file.  The default is 'errmsg.sys'.

   * 
     '--statefile=FILE_NAME', '-S FILE_NAME'

     The name for the SQLSTATE header file.  The default is
     'sql_state.h'.

   * 
     '--version', '-V'

     Display version information and exit.


File: manual.info.tmp,  Node: mysqlbug,  Next: mysql-install-db,  Prev: comp-err,  Up: programs-installation

4.4.2 'mysqlbug' -- Generate Bug Report
---------------------------------------

This program is obsolete.

The normal way to report bugs is to visit <http://bugs.mysql.com/>,
which is the address for our bugs database.  This database is public and
can be browsed and searched by anyone.  If you log in to the system, you
can enter new reports.


File: manual.info.tmp,  Node: mysql-install-db,  Next: mysql-plugin,  Prev: mysqlbug,  Up: programs-installation

4.4.3 'mysql_install_db' -- Initialize MySQL Data Directory
-----------------------------------------------------------

*note 'mysql_install_db': mysql-install-db. initializes the MySQL data
directory and creates the system tables that it contains, if they do not
exist.  *note 'mysql_install_db': mysql-install-db. is a shell script
and is available only on Unix platforms.  (As of MySQL 5.6, *note
'mysql_install_db': mysql-install-db. is a Perl script and can be used
on any system with Perl installed.)

To invoke *note 'mysql_install_db': mysql-install-db, use the following
syntax:

     shell> mysql_install_db [OPTIONS]

Because the MySQL server, *note 'mysqld': mysqld, must access the data
directory when it runs later, you should either run *note
'mysql_install_db': mysql-install-db. from the same system account that
will be used for running *note 'mysqld': mysqld, or run it as 'root' and
specify the '--user' option to indicate the user name that *note
'mysqld': mysqld. will run as.  It might be necessary to specify other
options such as '--basedir' or '--datadir' if *note 'mysql_install_db':
mysql-install-db. does not use the correct locations for the
installation directory or data directory.  For example:

     shell> scripts/mysql_install_db --user=mysql \
              --basedir=/opt/mysql/mysql \
              --datadir=/opt/mysql/mysql/data

*Note*:

If you have set a custom 'TMPDIR' environment variable when performing
the installation, and the specified directory is not accessible, *note
'mysql_install_db': mysql-install-db. may fail.  If so, unset 'TMPDIR'
or set 'TMPDIR' to point to the system temporary directory (usually
'/tmp').

*note 'mysql_install_db': mysql-install-db. supports the following
options, which can be specified on the command line or in the
'[mysql_install_db]' group of an option file.  (Options that are common
to *note 'mysqld': mysqld. can also be specified in the '[mysqld]'
group.)  Other options are passed to *note 'mysqld': mysqld.  For
information about option files used by MySQL programs, see *note
option-files::.

*mysql_install_db Options*

Option Name               Description
                          
-basedir                  Path to base directory
                          
-builddir                 Path to build directory (for out-of-source
                          builds)
                          
-cross-bootstrap          For internal use
                          
-datadir                  Path to data directory
                          
-defaults-extra-file      Read named option file in addition to usual
                          option files
                          
-defaults-file            Read only named option file
                          
-force                    Run even if DNS does not work
                          
-help                     Display help message and exit
                          
-ldata                    Synonym for -datadir
                          
-no-defaults              Read no option files
                          
-rpm                      For internal use
                          
-skip-name-resolve        Use IP addresses rather than host names in
                          grant tables
                          
-srcdir                   For internal use
                          
-user                     Operating system user under which to execute
                          mysqld
                          
-verbose                  Verbose mode
                          
-windows                  For internal use

   * 
     '--help'

     Display a help message and exit.

   * 
     '--basedir=DIR_NAME'

     The path to the MySQL installation directory.

   * 
     '--builddir=DIR_NAME'

     For use with '--srcdir' and out-of-source builds.  Set this to the
     location of the directory where the built files reside.

   * 
     '--cross-bootstrap'

     For internal use.  This option is used for building system tables
     on one host intended for another.

   * 
     '--datadir=DIR_NAME'

     The path to the MySQL data directory.

   * 
     '--defaults-extra-file=FILE_NAME'

     Read this option file after the global option file but (on Unix)
     before the user option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name
     rather than a full path name.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--defaults-file=FILE_NAME'

     Use only the given option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name
     rather than a full path name.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--force'

     Cause *note 'mysql_install_db': mysql-install-db. to run even if
     DNS does not work.  Grant table entries normally created using host
     names will use IP addresses instead.

   * 
     '--ldata=DIR_NAME'

     A synonym for '--datadir'.

   * 
     '--no-defaults'

     Do not read any option files.  If program startup fails due to
     reading unknown options from an option file, '--no-defaults' can be
     used to prevent them from being read.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--rpm'

     For internal use.  This option is used during the MySQL
     installation process for install operations performed using RPM
     packages.

   * 
     '--skip-name-resolve'

     Use IP addresses rather than host names when creating grant table
     entries.  This option can be useful if your DNS does not work.

   * 
     '--srcdir=DIR_NAME'

     For internal use.  This option specifies the directory under which
     *note 'mysql_install_db': mysql-install-db. looks for support files
     such as the error message file and the file for populating the help
     tables.

   * 
     '--user=USER_NAME'

     The system (login) user name to use for running *note 'mysqld':
     mysqld.  Files and directories created by *note 'mysqld': mysqld.
     will be owned by this user.  You must be the system 'root' user to
     use this option.  By default, *note 'mysqld': mysqld. runs using
     your current login name and files and directories that it creates
     will be owned by you.

   * 
     '--verbose'

     Verbose mode.  Print more information about what the program does.

   * 
     '--windows'

     For internal use.  This option is used for creating Windows
     distributions.


File: manual.info.tmp,  Node: mysql-plugin,  Next: mysql-secure-installation,  Prev: mysql-install-db,  Up: programs-installation

4.4.4 'mysql_plugin' -- Configure MySQL Server Plugins
------------------------------------------------------

The *note 'mysql_plugin': mysql-plugin. utility enables MySQL
administrators to manage which plugins a MySQL server loads.  It
provides an alternative to manually specifying the '--plugin-load'
option at server startup or using the *note 'INSTALL PLUGIN':
install-plugin. and *note 'UNINSTALL PLUGIN': uninstall-plugin.
statements at runtime.  *note 'mysql_plugin': mysql-plugin. is available
as of MySQL 5.5.16.

Depending on whether *note 'mysql_plugin': mysql-plugin. is invoked to
enable or disable plugins, it inserts or deletes rows in the
'mysql.plugin' table that serves as a plugin registry.  (To perform this
operation, *note 'mysql_plugin': mysql-plugin. invokes the MySQL server
in bootstrap mode.  This means that the server must not already be
running.)  For normal server startups, the server loads and enables
plugins listed in 'mysql.plugin' automatically.  For additional control
over plugin activation, use '--PLUGIN_NAME' options named for specific
plugins, as described in *note plugin-loading::.

Each invocation of *note 'mysql_plugin': mysql-plugin. reads a
configuration file to determine how to configure the plugins contained
in a single plugin library file.  To invoke *note 'mysql_plugin':
mysql-plugin, use this syntax:

     mysql_plugin [OPTIONS] PLUGIN {ENABLE|DISABLE}

PLUGIN is the name of the plugin to configure.  'ENABLE' or 'DISABLE'
(not case-sensitive) specify whether to enable or disable components of
the plugin library named in the configuration file.  The order of the
PLUGIN and 'ENABLE' or 'DISABLE' arguments does not matter.

For example, to configure components of a plugin library file named
'myplugins.so' on Linux or 'myplugins.dll' on Windows, specify a PLUGIN
value of 'myplugins'.  Suppose that this plugin library contains three
plugins, 'plugin1', 'plugin2', and 'plugin3', all of which should be
configured under *note 'mysql_plugin': mysql-plugin. control.  By
convention, configuration files have a suffix of '.ini' and the same
base name as the plugin library, so the default configuration file name
for this plugin library is 'myplugins.ini'.  The configuration file
contents look like this:

     myplugins
     plugin1
     plugin2
     plugin3

The first line in the 'myplugins.ini' file is the name of the library
file, without any extension such as '.so' or '.dll'.  The remaining
lines are the names of the components to be enabled or disabled.  Each
value in the file should be on a separate line.  Lines on which the
first character is ''#'' are taken as comments and ignored.

To enable the plugins listed in the configuration file, invoke *note
'mysql_plugin': mysql-plugin. this way:

     shell> mysql_plugin myplugins ENABLE

To disable the plugins, use 'DISABLE' rather than 'ENABLE'.

An error occurs if *note 'mysql_plugin': mysql-plugin. cannot find the
configuration file or plugin library file, or if *note 'mysql_plugin':
mysql-plugin. cannot start the MySQL server.

*note 'mysql_plugin': mysql-plugin. supports the following options,
which can be specified on the command line or in the '[mysqld]' group of
any option file.  For options specified in a '[mysqld]' group, *note
'mysql_plugin': mysql-plugin. recognizes the '--basedir', '--datadir',
and '--plugin-dir' options and ignores others.  For information about
option files used by MySQL programs, see *note option-files::.

*mysql_plugin Options*

Option Name               Description
                          
-basedir                  The server base directory
                          
-datadir                  The server data directory
                          
-help                     Display help message and exit
                          
-my-print-defaults        Path to my_print_defaults
                          
-mysqld                   Path to server
                          
-no-defaults              Do not read configuration file
                          
-plugin-dir               Directory where plugins are installed
                          
-plugin-ini               The plugin configuration file
                          
-print-defaults           Show configuration file defaults
                          
-verbose                  Verbose mode
                          
-version                  Display version information and exit

   * 
     '--help', '-?'

     Display a help message and exit.

   * 
     '--basedir=DIR_NAME', '-b DIR_NAME'

     The server base directory.

   * 
     '--datadir=DIR_NAME', '-d DIR_NAME'

     The server data directory.

   * 
     '--my-print-defaults=FILE_NAME', '-b FILE_NAME'

     The path to the *note 'my_print_defaults': my-print-defaults.
     program.

   * 
     '--mysqld=FILE_NAME', '-b FILE_NAME'

     The path to the *note 'mysqld': mysqld. server.

   * 
     '--no-defaults', '-p'

     Do not read values from the configuration file.  This option
     enables an administrator to skip reading defaults from the
     configuration file.

     With *note 'mysql_plugin': mysql-plugin, this option need not be
     given first on the command line, unlike most other MySQL programs
     that support '--no-defaults'.

   * 
     '--plugin-dir=DIR_NAME', '-p DIR_NAME'

     The server plugin directory.

   * 
     '--plugin-ini=FILE_NAME', '-i FILE_NAME'

     The *note 'mysql_plugin': mysql-plugin. configuration file.
     Relative path names are interpreted relative to the current
     directory.  If this option is not given, the default is
     'PLUGIN.ini' in the plugin directory, where PLUGIN is the PLUGIN
     argument on the command line.

   * 
     '--print-defaults', '-P'

     Display the default values from the configuration file.  This
     option causes *note 'mysql_plugin': mysql-plugin. to print the
     defaults for '--basedir', '--datadir', and '--plugin-dir' if they
     are found in the configuration file.  If no value for a variable is
     found, nothing is shown.

     With *note 'mysql_plugin': mysql-plugin, this option need not be
     given first on the command line, unlike most other MySQL programs
     that support '--print-defaults'.

   * 
     '--verbose', '-v'

     Verbose mode.  Print more information about what the program does.
     This option can be used multiple times to increase the amount of
     information.

   * 
     '--version', '-V'

     Display version information and exit.


File: manual.info.tmp,  Node: mysql-secure-installation,  Next: mysql-tzinfo-to-sql,  Prev: mysql-plugin,  Up: programs-installation

4.4.5 'mysql_secure_installation' -- Improve MySQL Installation Security
------------------------------------------------------------------------

This program enables you to improve the security of your MySQL
installation in the following ways:

   * You can set a password for 'root' accounts.

   * You can remove 'root' accounts that are accessible from outside the
     local host.

   * You can remove anonymous-user accounts.

   * You can remove the 'test' database (which by default can be
     accessed by all users, even anonymous users), and privileges that
     permit anyone to access databases with names that start with
     'test_'.

*note 'mysql_secure_installation': mysql-secure-installation. helps you
implement security recommendations similar to those described at *note
default-privileges::.

Invoke *note 'mysql_secure_installation': mysql-secure-installation.
without arguments:

     shell> mysql_secure_installation

When executed, the script prompts you to determine which actions to
perform.


File: manual.info.tmp,  Node: mysql-tzinfo-to-sql,  Next: mysql-upgrade,  Prev: mysql-secure-installation,  Up: programs-installation

4.4.6 'mysql_tzinfo_to_sql' -- Load the Time Zone Tables
--------------------------------------------------------

The *note 'mysql_tzinfo_to_sql': mysql-tzinfo-to-sql. program loads the
time zone tables in the 'mysql' database.  It is used on systems that
have a _zoneinfo_ database (the set of files describing time zones).
Examples of such systems are Linux, FreeBSD, Solaris, and macOS. One
likely location for these files is the '/usr/share/zoneinfo' directory
('/usr/share/lib/zoneinfo' on Solaris).  If your system does not have a
zoneinfo database, you can use the downloadable package described in
*note time-zone-support::.

*note 'mysql_tzinfo_to_sql': mysql-tzinfo-to-sql. can be invoked several
ways:

     shell> mysql_tzinfo_to_sql TZ_DIR
     shell> mysql_tzinfo_to_sql TZ_FILE TZ_NAME
     shell> mysql_tzinfo_to_sql --leap TZ_FILE

For the first invocation syntax, pass the zoneinfo directory path name
to *note 'mysql_tzinfo_to_sql': mysql-tzinfo-to-sql. and send the output
into the *note 'mysql': mysql. program.  For example:

     shell> mysql_tzinfo_to_sql /usr/share/zoneinfo | mysql -u root mysql

*note 'mysql_tzinfo_to_sql': mysql-tzinfo-to-sql. reads your system's
time zone files and generates SQL statements from them.  *note 'mysql':
mysql. processes those statements to load the time zone tables.

The second syntax causes *note 'mysql_tzinfo_to_sql':
mysql-tzinfo-to-sql. to load a single time zone file TZ_FILE that
corresponds to a time zone name TZ_NAME:

     shell> mysql_tzinfo_to_sql TZ_FILE TZ_NAME | mysql -u root mysql

If your time zone needs to account for leap seconds, invoke *note
'mysql_tzinfo_to_sql': mysql-tzinfo-to-sql. using the third syntax,
which initializes the leap second information.  TZ_FILE is the name of
your time zone file:

     shell> mysql_tzinfo_to_sql --leap TZ_FILE | mysql -u root mysql

After running *note 'mysql_tzinfo_to_sql': mysql-tzinfo-to-sql, it is
best to restart the server so that it does not continue to use any
previously cached time zone data.


File: manual.info.tmp,  Node: mysql-upgrade,  Prev: mysql-tzinfo-to-sql,  Up: programs-installation

4.4.7 'mysql_upgrade' -- Check and Upgrade MySQL Tables
-------------------------------------------------------

Each time you upgrade MySQL, you should execute *note 'mysql_upgrade':
mysql-upgrade, which looks for incompatibilities with the upgraded MySQL
server:

   * It upgrades the system tables in the 'mysql' schema so that you can
     take advantage of new privileges or capabilities that might have
     been added.

   * It upgrades the Performance Schema.

   * It examines user schemas.

If *note 'mysql_upgrade': mysql-upgrade. finds that a table has a
possible incompatibility, it performs a table check and, if problems are
found, attempts a table repair.  If the table cannot be repaired, see
*note rebuilding-tables:: for manual table repair strategies.

If you install MySQL from RPM packages on Linux, you must install the
server and client RPMs.  *note 'mysql_upgrade': mysql-upgrade. is
included in the server RPM but requires the client RPM because the
latter includes *note 'mysqlcheck': mysqlcheck.  (See *note
linux-installation-rpm::.)

*Note*:

On Windows, you must run *note 'mysql_upgrade': mysql-upgrade. with
administrator privileges.  You can do this by running a Command Prompt
as Administrator and running the command.  Failure to do so may result
in the upgrade failing to execute correctly.

*Caution*:

You should always back up your current MySQL installation _before_
performing an upgrade.  See *note backup-methods::.

Some upgrade incompatibilities may require special handling _before_
upgrading your MySQL installation and running *note 'mysql_upgrade':
mysql-upgrade.  See *note upgrading::, for instructions on determining
whether any such incompatibilities apply to your installation and how to
handle them.

Use *note 'mysql_upgrade': mysql-upgrade. like this:

  1. Ensure that the server is running.

  2. Invoke *note 'mysql_upgrade': mysql-upgrade. to upgrade the system
     tables in the 'mysql' schema and check and repair tables in other
     schemas:

          shell> mysql_upgrade [OPTIONS]

  3. Stop the server and restart it so that any system table changes
     take effect.

If you have multiple MySQL server instances to upgrade, invoke *note
'mysql_upgrade': mysql-upgrade. with connection parameters appropriate
for connecting to each of the desired servers.  For example, with
servers running on the local host on parts 3306 through 3308, upgrade
each of them by connecting to the appropriate port:

     shell> mysql_upgrade --protocol=tcp -P 3306 [OTHER_OPTIONS]
     shell> mysql_upgrade --protocol=tcp -P 3307 [OTHER_OPTIONS]
     shell> mysql_upgrade --protocol=tcp -P 3308 [OTHER_OPTIONS]

For local host connections on Unix, the '--protocol=tcp' option forces a
connection using TCP/IP rather than the Unix socket file.

*note 'mysql_upgrade': mysql-upgrade. executes the following commands to
check and repair tables and to upgrade the system tables:

     mysqlcheck --no-defaults --all-databases
      --fix-db-names --fix-table-names
     mysqlcheck --no-defaults --check-upgrade --all-databases
      --auto-repair
     mysql < fix_priv_tables

Notes about the preceding commands:

   * *note 'mysql_upgrade': mysql-upgrade. also adds '--write-binlog' or
     '--skip-write-binlog' to the *note 'mysqlcheck': mysqlcheck.
     commands, depending on whether the '--write-binlog' option was
     specified on the *note 'mysql_upgrade': mysql-upgrade. command.

   * Unless invoked with the '--upgrade-system-tables' option, *note
     'mysql_upgrade': mysql-upgrade. processes all tables in all user
     schemas as necessary.  Table checking might take a long time to
     complete.  Each table is locked and therefore unavailable to other
     sessions while it is being processed.  Check and repair operations
     can be time-consuming, particularly for large tables.  Table
     checking uses *note 'mysqlcheck': mysqlcheck. with the
     '--all-databases' and '--check-upgrade' option.  For details about
     what '--check-upgrade' entails, see the description of the 'FOR
     UPGRADE' option of the *note 'CHECK TABLE': check-table. statement
     in *note check-table::.

   * FIX_PRIV_TABLES represents a script generated internally by *note
     'mysql_upgrade': mysql-upgrade. that contains SQL statements to
     upgrade the tables in the 'mysql' database.

*note 'mysql_upgrade': mysql-upgrade. marks all checked and repaired
tables with the current MySQL version number.  This ensures that the
next time you run *note 'mysql_upgrade': mysql-upgrade. with the same
version of the server, it can be determined whether there is any need to
check or repair a given table again.

*note 'mysql_upgrade': mysql-upgrade. saves the MySQL version number in
a file named 'mysql_upgrade_info' in the data directory.  This is used
to quickly check whether all tables have been checked for this release
so that table-checking can be skipped.  To ignore this file and perform
the check regardless, use the '--force' option.

*note 'mysql_upgrade': mysql-upgrade. does not upgrade the contents of
the time zone tables or help tables.  For upgrade instructions, see
*note time-zone-support::, and *note server-side-help-support::.

*note 'mysql_upgrade': mysql-upgrade. supports the following options,
which can be specified on the command line or in the '[mysql_upgrade]'
and '[client]' groups of an option file.  Unrecognized options are
passed to *note 'mysqlcheck': mysqlcheck.  For information about option
files, see *note option-files::.

*mysql_upgrade Options*

Option Name            Description                              Introduced
                                                                
-basedir               Not used                                 
                       
-character-sets-dir    Directory where character sets are       
                       installed
                       
-compress              Compress all information sent between    
                       client and server
                       
-datadir               Not used                                 
                       
-debug                 Write debugging log                      
                       
-debug-check           Print debugging information when         
                       program exits
                       
-debug-info            Print debugging information, memory,     
                       and CPU statistics when program exits
                       
-default-auth          Authentication plugin to use             5.5.10
                                                                
-default-character-set Specify default character set            
                       
-defaults-extra-file   Read named option file in addition to    
                       usual option files
                       
-defaults-file         Read only named option file              
                       
-defaults-group-suffix Option group suffix value                
                       
-force                 Force execution even if mysql_upgrade    
                       has already been executed for current
                       MySQL version
                       
-help                  Display help message and exit            
                       
-host                  Host on which MySQL server is located    
                       
-no-defaults           Read no option files                     
                       
-password              Password to use when connecting to       
                       server
                       
-pipe                  Connect to server using named pipe       
                       (Windows only)
                       
-plugin-dir            Directory where plugins are installed    5.5.10
                                                                
-port                  TCP/IP port number for connection        
                       
-print-defaults        Print default options                    
                       
-protocol              Connection protocol to use               
                       
-shared-memory-base-nameName of shared memory to use for        
                       shared-memory connections
                       
-socket                Unix socket file or Windows named pipe   
                       to use
                       
-ssl                   Enable connection encryption             
                       
-ssl-ca                File that contains list of trusted SSL   
                       Certificate Authorities
                       
-ssl-capath            Directory that contains trusted SSL      
                       Certificate Authority certificate
                       files
                       
-ssl-cert              File that contains X.509 certificate     
                       
-ssl-cipher            Permissible ciphers for connection       
                       encryption
                       
-ssl-key               File that contains X.509 key             
                       
-ssl-mode              Desired security state of connection     5.5.49
                       to server                                
                       
-ssl-verify-server-certVerify host name against server          
                       certificate Common Name identity
                       
-tmpdir                Directory for temporary files            
                       
-upgrade-system-tables Update only system tables, not user      
                       schemas
                       
-user                  MySQL user name to use when connecting   
                       to server
                       
-verbose               Verbose mode                             
                       
-version-check         Check for proper server version          5.5.32
                                                                
-write-binlog          Write all statements to binary log
                       

   * 
     '--help'

     Display a short help message and exit.

   * 
     '--basedir=DIR_NAME'

     The path to the MySQL installation directory.  This option is
     accepted for backward compatibility but ignored.  It is removed in
     MySQL 5.7.

   * 
     '--character-sets-dir=DIR_NAME'

     The directory where character sets are installed.  See *note
     charset-configuration::.

   * 
     '--compress'

     Compress all information sent between the client and the server if
     possible.  See *note connection-compression-control::.

   * 
     '--datadir=DIR_NAME'

     The path to the data directory.  This option is accepted for
     backward compatibility but ignored.  It is removed in MySQL 5.7.

   * 
     '--debug[=DEBUG_OPTIONS]', '-# [DEBUG_OPTIONS]'

     Write a debugging log.  A typical DEBUG_OPTIONS string is
     'd:t:o,FILE_NAME'.  The default is
     'd:t:O,/tmp/mysql_upgrade.trace'.

   * 
     '--debug-check'

     Print some debugging information when the program exits.

   * 
     '--debug-info', '-T'

     Print debugging information and memory and CPU usage statistics
     when the program exits.

   * 
     '--default-auth=PLUGIN'

     A hint about which client-side authentication plugin to use.  See
     *note pluggable-authentication::.

     This option was added in MySQL 5.5.10.

   * 
     '--default-character-set=CHARSET_NAME'

     Use CHARSET_NAME as the default character set.  See *note
     charset-configuration::.

   * 
     '--defaults-extra-file=FILE_NAME'

     Read this option file after the global option file but (on Unix)
     before the user option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name
     rather than a full path name.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--defaults-file=FILE_NAME'

     Use only the given option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name
     rather than a full path name.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--defaults-group-suffix=STR'

     Read not only the usual option groups, but also groups with the
     usual names and a suffix of STR.  For example, *note
     'mysql_upgrade': mysql-upgrade. normally reads the '[client]' and
     '[mysql_upgrade]' groups.  If the '--defaults-group-suffix=_other'
     option is given, *note 'mysql_upgrade': mysql-upgrade. also reads
     the '[client_other]' and '[mysql_upgrade_other]' groups.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--force'

     Ignore the 'mysql_upgrade_info' file and force execution even if
     *note 'mysql_upgrade': mysql-upgrade. has already been executed for
     the current version of MySQL.

   * 
     '--host=HOST_NAME', '-h HOST_NAME'

     Connect to the MySQL server on the given host.

   * 
     '--no-defaults'

     Do not read any option files.  If program startup fails due to
     reading unknown options from an option file, '--no-defaults' can be
     used to prevent them from being read.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--password[=PASSWORD]', '-p[PASSWORD]'

     The password of the MySQL account used for connecting to the
     server.  The password value is optional.  If not given, *note
     'mysql_upgrade': mysql-upgrade. prompts for one.  If given, there
     must be _no space_ between '--password=' or '-p' and the password
     following it.  If no password option is specified, the default is
     to send no password.

     Specifying a password on the command line should be considered
     insecure.  To avoid giving the password on the command line, use an
     option file.  See *note password-security-user::.

     To explicitly specify that there is no password and that *note
     'mysql_upgrade': mysql-upgrade. should not prompt for one, use the
     '--skip-password' option.

   * 
     '--pipe', '-W'

     On Windows, connect to the server using a named pipe.  This option
     applies only if the server was started with the 'named_pipe' system
     variable enabled to support named-pipe connections.

   * 
     '--plugin-dir=DIR_NAME'

     The directory in which to look for plugins.  Specify this option if
     the '--default-auth' option is used to specify an authentication
     plugin but *note 'mysql_upgrade': mysql-upgrade. does not find it.
     See *note pluggable-authentication::.

     This option was added in MySQL 5.5.10.

   * 
     '--port=PORT_NUM', '-P PORT_NUM'

     For TCP/IP connections, the port number to use.

   * 
     '--print-defaults'

     Print the program name and all options that it gets from option
     files.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--protocol={TCP|SOCKET|PIPE|MEMORY}'

     The connection protocol to use for connecting to the server.  It is
     useful when the other connection parameters normally result in use
     of a protocol other than the one you want.  For details on the
     permissible values, see *note connecting::.

   * 
     '--shared-memory-base-name=NAME'

     On Windows, the shared-memory name to use for connections made
     using shared memory to a local server.  The default value is
     'MYSQL'.  The shared-memory name is case-sensitive.

     This option applies only if the server was started with the
     'shared_memory' system variable enabled to support shared-memory
     connections.

   * 
     '--socket=PATH', '-S PATH'

     For connections to 'localhost', the Unix socket file to use, or, on
     Windows, the name of the named pipe to use.

     On Windows, this option applies only if the server was started with
     the 'named_pipe' system variable enabled to support named-pipe
     connections.

   * 
     '--ssl*'

     Options that begin with '--ssl' specify whether to connect to the
     server using SSL and indicate where to find SSL keys and
     certificates.  See *note encrypted-connection-options::.

   * 
     '--tmpdir=DIR_NAME', '-t DIR_NAME'

     The path name of the directory to use for creating temporary files.

   * 
     '--upgrade-system-tables', '-s'

     Upgrade only the system tables in the 'mysql' schema, do not
     upgrade user schemas.

   * 
     '--user=USER_NAME', '-u USER_NAME'

     The user name of the MySQL account to use for connecting to the
     server.  The default user name is 'root'.

   * 
     '--verbose'

     Verbose mode.  Print more information about what the program does.

   * 
     '--version-check', '-k'

     Check the version of the server to which *note 'mysql_upgrade':
     mysql-upgrade. is connecting to verify that it is the same as the
     version for which *note 'mysql_upgrade': mysql-upgrade. was built.
     If not, *note 'mysql_upgrade': mysql-upgrade. exits.  This option
     is enabled by default; to disable the check, use
     '--skip-version-check'.  This option was added in MySQL 5.5.32.

   * 
     '--write-binlog'

     Cause binary logging to be enabled while *note 'mysql_upgrade':
     mysql-upgrade. runs.  This is the default behavior; to disable
     binary logging during the upgrade, use the inverse of this option
     (that is, start the program with '--skip-write-binlog').


File: manual.info.tmp,  Node: programs-client,  Next: programs-admin-utils,  Prev: programs-installation,  Up: programs

4.5 Client Programs
===================

* Menu:

* mysql::                        'mysql' -- The MySQL Command-Line Client
* mysqladmin::                   'mysqladmin' -- Client for Administering a MySQL Server
* mysqlcheck::                   'mysqlcheck' -- A Table Maintenance Program
* mysqldump::                    'mysqldump' -- A Database Backup Program
* mysqlimport::                  'mysqlimport' -- A Data Import Program
* mysqlshow::                    'mysqlshow' -- Display Database, Table, and Column Information
* mysqlslap::                    'mysqlslap' -- Load Emulation Client

This section describes client programs that connect to the MySQL server.


File: manual.info.tmp,  Node: mysql,  Next: mysqladmin,  Prev: programs-client,  Up: programs-client

4.5.1 'mysql' -- The MySQL Command-Line Client
----------------------------------------------

* Menu:

* mysql-command-options::        mysql Client Options
* mysql-commands::               mysql Client Commands
* mysql-logging::                mysql Client Logging
* mysql-server-side-help::       mysql Client Server-Side Help
* mysql-batch-commands::         Executing SQL Statements from a Text File
* mysql-tips::                   mysql Client Tips

*note 'mysql': mysql. is a simple SQL shell with input line editing
capabilities.  It supports interactive and noninteractive use.  When
used interactively, query results are presented in an ASCII-table
format.  When used noninteractively (for example, as a filter), the
result is presented in tab-separated format.  The output format can be
changed using command options.

If you have problems due to insufficient memory for large result sets,
use the '--quick' option.  This forces *note 'mysql': mysql. to retrieve
results from the server a row at a time rather than retrieving the
entire result set and buffering it in memory before displaying it.  This
is done by returning the result set using the *note
'mysql_use_result()': mysql-use-result. C API function in the
client/server library rather than *note 'mysql_store_result()':
mysql-store-result.

Using *note 'mysql': mysql. is very easy.  Invoke it from the prompt of
your command interpreter as follows:

     shell> mysql DB_NAME

Or:

     shell> mysql --user=USER_NAME --password DB_NAME
     Enter password: YOUR_PASSWORD

Then type an SQL statement, end it with ';', '\g', or '\G' and press
Enter.

Typing 'Control+C' causes *note 'mysql': mysql. to attempt to kill the
current statement.  If this cannot be done, or 'Control+C' is typed
again before the statement is killed, *note 'mysql': mysql. exits.

You can execute SQL statements in a script file (batch file) like this:

     shell> mysql DB_NAME < SCRIPT.SQL > OUTPUT.TAB

On Unix, the *note 'mysql': mysql. client logs statements executed
interactively to a history file.  See *note mysql-logging::.


File: manual.info.tmp,  Node: mysql-command-options,  Next: mysql-commands,  Prev: mysql,  Up: mysql

4.5.1.1 mysql Client Options
............................

*note 'mysql': mysql. supports the following options, which can be
specified on the command line or in the '[mysql]' and '[client]' groups
of an option file.  For information about option files used by MySQL
programs, see *note option-files::.

*mysql Client Options*

Option Name         Description                          IntroducedRemoved
                                                                  
-auto-rehash        Enable automatic rehashing                    
                    
-auto-vertical-outputEnable automatic vertical result    5.5.3    
                    set display                          
                    
-batch              Do not use history file                       
                    
-binary-as-hex      Display binary values in             5.5.57   
                    hexadecimal notation                 
                    
-character-sets-dir Directory where character sets are            
                    installed
                    
-column-names       Write column names in results                 
                    
-column-type-info   Display result set metadata                   
                    
-comments           Whether to retain or strip                    
                    comments in statements sent to the
                    server
                    
-compress           Compress all information sent                 
                    between client and server
                    
-connect-timeout    Number of seconds before                      
                    connection timeout
                    
-database           The database to use                           
                    
-debug              Write debugging log; supported                
                    only if MySQL was built with
                    debugging support
                    
-debug-check        Print debugging information when              
                    program exits
                    
-debug-info         Print debugging information,                  
                    memory, and CPU statistics when
                    program exits
                    
-default-auth       Authentication plugin to use         5.5.7    
                                                         
-default-character-setSpecify default character set               
                    
-defaults-extra-fileRead named option file in addition            
                    to usual option files
                    
-defaults-file      Read only named option file                   
                    
-defaults-group-suffixOption group suffix value                   
                    
-delimiter          Set the statement delimiter                   
                    
-enable-cleartext-pluginEnable cleartext authentication  5.5.27   
                    plugin                               
                    
-execute            Execute the statement and quit                
                    
-force              Continue even if an SQL error                 
                    occurs
                    
-help               Display help message and exit                 
                    
-host               Host on which MySQL server is                 
                    located
                    
-html               Produce HTML output                           
                    
-ignore-spaces      Ignore spaces after function names            
                    
-init-command       SQL statement to execute after                
                    connecting
                    
-line-numbers       Write line numbers for errors                 
                    
-local-infile       Enable or disable for LOCAL                   
                    capability for LOAD DATA
                    
-max-allowed-packet Maximum packet length to send to              
                    or receive from server
                    
-max-join-size      The automatic limit for rows in a             
                    join when using -safe-updates
                    
-named-commands     Enable named mysql commands                   
                    
-net-buffer-length  Buffer size for TCP/IP and socket             
                    communication
                    
-no-auto-rehash     Disable automatic rehashing                   
                    
-no-beep            Do not beep when errors occur                 
                    
-no-defaults        Read no option files                          
                    
-no-named-commands  Disable named mysql commands                  5.5.3
                                                                  
-no-pager           Deprecated form of -skip-pager                5.5.3
                                                                  
-no-tee             Do not copy output to a file                  5.5.3
                                                                  
-one-database       Ignore statements except those for            
                    the default database named on the
                    command line
                    
-pager              Use the given command for paging              
                    query output
                    
-password           Password to use when connecting to            
                    server
                    
-pipe               Connect to server using named pipe            
                    (Windows only)
                    
-plugin-dir         Directory where plugins are          5.5.7    
                    installed                            
                    
-port               TCP/IP port number for connection             
                    
-print-defaults     Print default options                         
                    
-prompt             Set the prompt to the specified               
                    format
                    
-protocol           Connection protocol to use                    
                    
-quick              Do not cache each query result                
                    
-raw                Write column values without escape            
                    conversion
                    
-reconnect          If the connection to the server is            
                    lost, automatically try to
                    reconnect
                    
-safe-updates,      Allow only UPDATE and DELETE                  
-i-am-a-dummy       statements that specify key values
                    
-secure-auth        Do not send passwords to server in            
                    old (pre-4.1) format
                    
-select-limit       The automatic limit for SELECT                
                    statements when using
                    -safe-updates
                    
-shared-memory-base-nameName of shared memory to use for          
                    shared-memory connections
                    
-show-warnings      Show warnings after each statement            
                    if there are any
                    
-sigint-ignore      Ignore SIGINT signals (typically              
                    the result of typing Control+C)
                    
-silent             Silent mode                                   
                    
-skip-auto-rehash   Disable automatic rehashing                   
                    
-skip-column-names  Do not write column names in                  
                    results
                    
-skip-line-numbers  Skip line numbers for errors                  
                    
-skip-named-commandsDisable named mysql commands                  
                    
-skip-pager         Disable paging                                
                    
-skip-reconnect     Disable reconnecting                          
                    
-socket             Unix socket file or Windows named             
                    pipe to use
                    
-ssl                Enable connection encryption                  
                    
-ssl-ca             File that contains list of trusted            
                    SSL Certificate Authorities
                    
-ssl-capath         Directory that contains trusted               
                    SSL Certificate Authority
                    certificate files
                    
-ssl-cert           File that contains X.509                      
                    certificate
                    
-ssl-cipher         Permissible ciphers for connection            
                    encryption
                    
-ssl-key            File that contains X.509 key                  
                    
-ssl-mode           Desired security state of            5.5.49   
                    connection to server                 
                    
-ssl-verify-server-certVerify host name against server            
                    certificate Common Name identity
                    
-table              Display output in tabular format              
                    
-tee                Append a copy of output to named              
                    file
                    
-unbuffered         Flush the buffer after each query             
                    
-user               MySQL user name to use when                   
                    connecting to server
                    
-verbose            Verbose mode                                  
                    
-version            Display version information and               
                    exit
                    
-vertical           Print query output rows vertically            
                    (one line per column value)
                    
-wait               If the connection cannot be                   
                    established, wait and retry
                    instead of aborting
                    
-xml                Produce XML output                   
                    

   * 
     '--help', '-?'

     Display a help message and exit.

   * 
     '--auto-rehash'

     Enable automatic rehashing.  This option is on by default, which
     enables database, table, and column name completion.  Use
     '--disable-auto-rehash' to disable rehashing.  That causes *note
     'mysql': mysql. to start faster, but you must issue the 'rehash'
     command or its '\#' shortcut if you want to use name completion.

     To complete a name, enter the first part and press Tab.  If the
     name is unambiguous, *note 'mysql': mysql. completes it.
     Otherwise, you can press Tab again to see the possible names that
     begin with what you have typed so far.  Completion does not occur
     if there is no default database.

     *Note*:

     This feature requires a MySQL client that is compiled with the
     *readline* library.  Typically, the *readline* library is not
     available on Windows.

   * 
     '--auto-vertical-output'

     Cause result sets to be displayed vertically if they are too wide
     for the current window, and using normal tabular format otherwise.
     (This applies to statements terminated by ';' or '\G'.)

   * 
     '--batch', '-B'

     Print results using tab as the column separator, with each row on a
     new line.  With this option, *note 'mysql': mysql. does not use the
     history file.

     Batch mode results in nontabular output format and escaping of
     special characters.  Escaping may be disabled by using raw mode;
     see the description for the '--raw' option.

   * 
     '--binary-as-hex'

     When this option is given, *note 'mysql': mysql. displays binary
     data using hexadecimal notation ('0xVALUE').  This occurs whether
     the overall output dislay format is tabular, vertical, HTML, or
     XML.

     This option was added in MySQL 5.5.57.

   * 
     '--bind-address=IP_ADDRESS'

     On a computer having multiple network interfaces, use this option
     to select which interface to use for connecting to the MySQL
     server.

     This option is supported only in the version of the *note 'mysql':
     mysql. client that is supplied with NDB Cluster.  It is not
     available in standard MySQL Server 5.5 releases.

   * 
     '--character-sets-dir=DIR_NAME'

     The directory where character sets are installed.  See *note
     charset-configuration::.

   * 
     '--column-names'

     Write column names in results.

   * 
     '--column-type-info'

     Display result set metadata.

   * 
     '--comments', '-c'

     Whether to strip or preserve comments in statements sent to the
     server.  The default is '--skip-comments' (strip comments), enable
     with '--comments' (preserve comments).

   * 
     '--compress', '-C'

     Compress all information sent between the client and the server if
     possible.  See *note connection-compression-control::.

   * '--connect-timeout=VALUE'

     The number of seconds before connection timeout.  (Default value is
     '0'.)

   * 
     '--database=DB_NAME', '-D DB_NAME'

     The database to use.  This is useful primarily in an option file.

   * 
     '--debug[=DEBUG_OPTIONS]', '-# [DEBUG_OPTIONS]'

     Write a debugging log.  A typical DEBUG_OPTIONS string is
     'd:t:o,FILE_NAME'.  The default is 'd:t:o,/tmp/mysql.trace'.

     This option is available only if MySQL was built using
     'WITH_DEBUG'.  MySQL release binaries provided by Oracle are _not_
     built using this option.

   * 
     '--debug-check'

     Print some debugging information when the program exits.

   * 
     '--debug-info', '-T'

     Print debugging information and memory and CPU usage statistics
     when the program exits.

   * 
     '--default-auth=PLUGIN'

     A hint about which client-side authentication plugin to use.  See
     *note pluggable-authentication::.

   * 
     '--default-character-set=CHARSET_NAME'

     Use CHARSET_NAME as the default character set for the client and
     connection.

     This option can be useful if the operating system uses one
     character set and the *note 'mysql': mysql. client by default uses
     another.  In this case, output may be formatted incorrectly.  You
     can usually fix such issues by using this option to force the
     client to use the system character set instead.

     For more information, see *note charset-connection::, and *note
     charset-configuration::.

   * 
     '--defaults-extra-file=FILE_NAME'

     Read this option file after the global option file but (on Unix)
     before the user option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--defaults-file=FILE_NAME'

     Use only the given option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name.

   * 
     '--defaults-group-suffix=STR'

     Read not only the usual option groups, but also groups with the
     usual names and a suffix of STR.  For example, *note 'mysql':
     mysql. normally reads the '[client]' and '[mysql]' groups.  If the
     '--defaults-group-suffix=_other' option is given, *note 'mysql':
     mysql. also reads the '[client_other]' and '[mysql_other]' groups.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--delimiter=STR'

     Set the statement delimiter.  The default is the semicolon
     character (';').

   * 
     '--disable-named-commands'

     Disable named commands.  Use the '\*' form only, or use named
     commands only at the beginning of a line ending with a semicolon
     (';').  *note 'mysql': mysql. starts with this option _enabled_ by
     default.  However, even with this option, long-format commands
     still work from the first line.  See *note mysql-commands::.

   * 
     '--enable-cleartext-plugin'

     Enable the 'mysql_clear_password' cleartext authentication plugin.
     (See *note cleartext-pluggable-authentication::.)  This option was
     added in MySQL 5.5.27.

   * 
     '--execute=STATEMENT', '-e STATEMENT'

     Execute the statement and quit.  The default output format is like
     that produced with '--batch'.  See *note command-line-options::,
     for some examples.  With this option, *note 'mysql': mysql. does
     not use the history file.

   * 
     '--force', '-f'

     Continue even if an SQL error occurs.

   * 
     '--host=HOST_NAME', '-h HOST_NAME'

     Connect to the MySQL server on the given host.

   * 
     '--html', '-H'

     Produce HTML output.

   * 
     '--ignore-spaces', '-i'

     Ignore spaces after function names.  The effect of this is
     described in the discussion for the 'IGNORE_SPACE' SQL mode (see
     *note sql-mode::).

   * 
     '--init-command=str'

     SQL statement to execute after connecting to the server.  If
     auto-reconnect is enabled, the statement is executed again after
     reconnection occurs.

   * 
     '--line-numbers'

     Write line numbers for errors.  Disable this with
     '--skip-line-numbers'.

   * 
     '--local-infile[={0|1}]'

     Enable or disable 'LOCAL' capability for *note 'LOAD DATA':
     load-data.  For *note 'mysql': mysql, this capability is disabled
     by default.  With no value, the option enables 'LOCAL'.  The option
     may be given as '--local-infile=0' or '--local-infile=1' to
     explicitly disable or enable 'LOCAL'.  Enabling local data loading
     also requires that the server permits it; see *note
     load-data-local::

   * '--max-allowed-packet=VALUE'

     The maximum size of the buffer for client/server communication.
     The default is 16MB, the maximum is 1GB.

   * '--max-join-size=VALUE'

     The automatic limit for rows in a join when using '--safe-updates'.
     (Default value is 1,000,000.)

   * 
     '--named-commands', '-G'

     Enable named *note 'mysql': mysql. commands.  Long-format commands
     are permitted, not just short-format commands.  For example, 'quit'
     and '\q' both are recognized.  Use '--skip-named-commands' to
     disable named commands.  See *note mysql-commands::.

   * '--net-buffer-length=VALUE'

     The buffer size for TCP/IP and socket communication.  (Default
     value is 16KB.)

   * 
     '--no-auto-rehash', '-A'

     This has the same effect as '--skip-auto-rehash'.  See the
     description for '--auto-rehash'.

   * 
     '--no-beep', '-b'

     Do not beep when errors occur.

   * 
     '--no-defaults'

     Do not read any option files.  If program startup fails due to
     reading unknown options from an option file, '--no-defaults' can be
     used to prevent them from being read.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--no-named-commands', '-g'

     Deprecated, use '--disable-named-commands' instead.
     '--no-named-commands' was removed in MySQL 5.5.3.

   * 
     '--no-pager'

     Deprecated form of '--skip-pager'.  See the '--pager' option.
     '--no-pager' was removed in MySQL 5.5.3.

   * 
     '--no-tee'

     Deprecated form of '--skip-tee'.  See the '--tee' option.
     '--no-tee' is removed in MySQL 5.5.3.

   * 
     '--one-database', '-o'

     Ignore statements except those that occur while the default
     database is the one named on the command line.  This option is
     rudimentary and should be used with care.  Statement filtering is
     based only on *note 'USE': use. statements.

     Initially, *note 'mysql': mysql. executes statements in the input
     because specifying a database DB_NAME on the command line is
     equivalent to inserting *note 'USE DB_NAME': use. at the beginning
     of the input.  Then, for each *note 'USE': use. statement
     encountered, *note 'mysql': mysql. accepts or rejects following
     statements depending on whether the database named is the one on
     the command line.  The content of the statements is immaterial.

     Suppose that *note 'mysql': mysql. is invoked to process this set
     of statements:

          DELETE FROM db2.t2;
          USE db2;
          DROP TABLE db1.t1;
          CREATE TABLE db1.t1 (i INT);
          USE db1;
          INSERT INTO t1 (i) VALUES(1);
          CREATE TABLE db2.t1 (j INT);

     If the command line is *note 'mysql --force --one-database db1':
     mysql, *note 'mysql': mysql. handles the input as follows:

        * The *note 'DELETE': delete. statement is executed because the
          default database is 'db1', even though the statement names a
          table in a different database.

        * The *note 'DROP TABLE': drop-table. and *note 'CREATE TABLE':
          create-table. statements are not executed because the default
          database is not 'db1', even though the statements name a table
          in 'db1'.

        * The *note 'INSERT': insert. and *note 'CREATE TABLE':
          create-table. statements are executed because the default
          database is 'db1', even though the *note 'CREATE TABLE':
          create-table. statement names a table in a different database.

   * 
     '--pager[=COMMAND]'

     Use the given command for paging query output.  If the command is
     omitted, the default pager is the value of your 'PAGER' environment
     variable.  Valid pagers are 'less', 'more', 'cat [> filename]', and
     so forth.  This option works only on Unix and only in interactive
     mode.  To disable paging, use '--skip-pager'.  *note
     mysql-commands::, discusses output paging further.

   * 
     '--password[=PASSWORD]', '-p[PASSWORD]'

     The password of the MySQL account used for connecting to the
     server.  The password value is optional.  If not given, *note
     'mysql': mysql. prompts for one.  If given, there must be _no
     space_ between '--password=' or '-p' and the password following it.
     If no password option is specified, the default is to send no
     password.

     Specifying a password on the command line should be considered
     insecure.  To avoid giving the password on the command line, use an
     option file.  See *note password-security-user::.

     To explicitly specify that there is no password and that *note
     'mysql': mysql. should not prompt for one, use the
     '--skip-password' option.

   * 
     '--pipe', '-W'

     On Windows, connect to the server using a named pipe.  This option
     applies only if the server was started with the 'named_pipe' system
     variable enabled to support named-pipe connections.

   * 
     '--plugin-dir=DIR_NAME'

     The directory in which to look for plugins.  Specify this option if
     the '--default-auth' option is used to specify an authentication
     plugin but *note 'mysql': mysql. does not find it.  See *note
     pluggable-authentication::.

   * 
     '--port=PORT_NUM', '-P PORT_NUM'

     For TCP/IP connections, the port number to use.

   * 
     '--print-defaults'

     Print the program name and all options that it gets from option
     files.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--prompt=FORMAT_STR'

     Set the prompt to the specified format.  The default is 'mysql>'.
     The special sequences that the prompt can contain are described in
     *note mysql-commands::.

   * 
     '--protocol={TCP|SOCKET|PIPE|MEMORY}'

     The connection protocol to use for connecting to the server.  It is
     useful when the other connection parameters normally result in use
     of a protocol other than the one you want.  For details on the
     permissible values, see *note connecting::.

   * 
     '--quick', '-q'

     Do not cache each query result, print each row as it is received.
     This may slow down the server if the output is suspended.  With
     this option, *note 'mysql': mysql. does not use the history file.

   * 
     '--raw', '-r'

     For tabular output, the 'boxing' around columns enables one column
     value to be distinguished from another.  For nontabular output
     (such as is produced in batch mode or when the '--batch' or
     '--silent' option is given), special characters are escaped in the
     output so they can be identified easily.  Newline, tab, 'NUL', and
     backslash are written as '\n', '\t', '\0', and '\\'.  The '--raw'
     option disables this character escaping.

     The following example demonstrates tabular versus nontabular output
     and the use of raw mode to disable escaping:

          % mysql
          mysql> SELECT CHAR(92);
          +----------+
          | CHAR(92) |
          +----------+
          | \        |
          +----------+

          % mysql -s
          mysql> SELECT CHAR(92);
          CHAR(92)
          \\

          % mysql -s -r
          mysql> SELECT CHAR(92);
          CHAR(92)
          \

   * 
     '--reconnect'

     If the connection to the server is lost, automatically try to
     reconnect.  A single reconnect attempt is made each time the
     connection is lost.  To suppress reconnection behavior, use
     '--skip-reconnect'.

   * 
     '--safe-updates', '--i-am-a-dummy', '-U'

     If this option is enabled, *note 'UPDATE': update. and *note
     'DELETE': delete. statements that do not use a key in the 'WHERE'
     clause or a 'LIMIT' clause produce an error.  In addition,
     restrictions are placed on *note 'SELECT': select. statements that
     produce (or are estimated to produce) very large result sets.  If
     you have set this option in an option file, you can use
     '--skip-safe-updates' on the command line to override it.  For more
     information about this option, see *note safe-updates::.

   * 
     '--secure-auth'

     Do not send passwords to the server in old (pre-4.1) format.  This
     prevents connections except for servers that use the newer password
     format.

     *Note*:

     Passwords that use the pre-4.1 hashing method are less secure than
     passwords that use the native password hashing method and should be
     avoided.

   * '--select-limit=VALUE'

     The automatic limit for *note 'SELECT': select. statements when
     using '--safe-updates'.  (Default value is 1,000.)

   * 
     '--shared-memory-base-name=NAME'

     On Windows, the shared-memory name to use for connections made
     using shared memory to a local server.  The default value is
     'MYSQL'.  The shared-memory name is case-sensitive.

     This option applies only if the server was started with the
     'shared_memory' system variable enabled to support shared-memory
     connections.

   * 
     '--show-warnings'

     Cause warnings to be shown after each statement if there are any.
     This option applies to interactive and batch mode.

   * 
     '--sigint-ignore'

     Ignore 'SIGINT' signals (typically the result of typing
     'Control+C').

     Without this option, typing 'Control+C' interrupts the current
     statement if there is one, or cancels any partial input line
     otherwise.

   * 
     '--silent', '-s'

     Silent mode.  Produce less output.  This option can be given
     multiple times to produce less and less output.

     This option results in nontabular output format and escaping of
     special characters.  Escaping may be disabled by using raw mode;
     see the description for the '--raw' option.

   * 
     '--skip-column-names', '-N'

     Do not write column names in results.

   * 
     '--skip-line-numbers', '-L'

     Do not write line numbers for errors.  Useful when you want to
     compare result files that include error messages.

   * 
     '--socket=PATH', '-S PATH'

     For connections to 'localhost', the Unix socket file to use, or, on
     Windows, the name of the named pipe to use.

     On Windows, this option applies only if the server was started with
     the 'named_pipe' system variable enabled to support named-pipe
     connections.

   * 
     '--ssl*'

     Options that begin with '--ssl' specify whether to connect to the
     server using SSL and indicate where to find SSL keys and
     certificates.  See *note encrypted-connection-options::.

   * 
     '--table', '-t'

     Display output in table format.  This is the default for
     interactive use, but can be used to produce table output in batch
     mode.

   * 
     '--tee=FILE_NAME'

     Append a copy of output to the given file.  This option works only
     in interactive mode.  *note mysql-commands::, discusses tee files
     further.

   * 
     '--unbuffered', '-n'

     Flush the buffer after each query.

   * 
     '--user=USER_NAME', '-u USER_NAME'

     The user name of the MySQL account to use for connecting to the
     server.

   * 
     '--verbose', '-v'

     Verbose mode.  Produce more output about what the program does.
     This option can be given multiple times to produce more and more
     output.  (For example, '-v -v -v' produces table output format even
     in batch mode.)

   * 
     '--version', '-V'

     Display version information and exit.

   * 
     '--vertical', '-E'

     Print query output rows vertically (one line per column value).
     Without this option, you can specify vertical output for individual
     statements by terminating them with '\G'.

   * 
     '--wait', '-w'

     If the connection cannot be established, wait and retry instead of
     aborting.

   * 
     '--xml', '-X'

     Produce XML output.

          <field name="COLUMN_NAME">NULL</field>

     The output when '--xml' is used with *note 'mysql': mysql. matches
     that of *note 'mysqldump': mysqldump. '--xml'.  See *note
     mysqldump::, for details.

     The XML output also uses an XML namespace, as shown here:

          shell> mysql --xml -uroot -e "SHOW VARIABLES LIKE 'version%'"
          <?xml version="1.0"?>

          <resultset statement="SHOW VARIABLES LIKE 'version%'" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <row>
          <field name="Variable_name">version</field>
          <field name="Value">5.0.40-debug</field>
          </row>

          <row>
          <field name="Variable_name">version_comment</field>
          <field name="Value">Source distribution</field>
          </row>

          <row>
          <field name="Variable_name">version_compile_machine</field>
          <field name="Value">i686</field>
          </row>

          <row>
          <field name="Variable_name">version_compile_os</field>
          <field name="Value">suse-linux-gnu</field>
          </row>
          </resultset>


File: manual.info.tmp,  Node: mysql-commands,  Next: mysql-logging,  Prev: mysql-command-options,  Up: mysql

4.5.1.2 mysql Client Commands
.............................

*note 'mysql': mysql. sends each SQL statement that you issue to the
server to be executed.  There is also a set of commands that *note
'mysql': mysql. itself interprets.  For a list of these commands, type
'help' or '\h' at the 'mysql>' prompt:

     mysql> help

     List of all MySQL commands:
     Note that all text commands must be first on line and end with ';'
     ?         (\?) Synonym for `help'.
     clear     (\c) Clear the current input statement.
     connect   (\r) Reconnect to the server. Optional arguments are db and host.
     delimiter (\d) Set statement delimiter.
     edit      (\e) Edit command with $EDITOR.
     ego       (\G) Send command to mysql server, display result vertically.
     exit      (\q) Exit mysql. Same as quit.
     go        (\g) Send command to mysql server.
     help      (\h) Display this help.
     nopager   (\n) Disable pager, print to stdout.
     notee     (\t) Don't write into outfile.
     pager     (\P) Set PAGER [to_pager]. Print the query results via PAGER.
     print     (\p) Print current command.
     prompt    (\R) Change your mysql prompt.
     quit      (\q) Quit mysql.
     rehash    (\#) Rebuild completion hash.
     source    (\.) Execute an SQL script file. Takes a file name as an argument.
     status    (\s) Get status information from the server.
     system    (\!) Execute a system shell command.
     tee       (\T) Set outfile [to_outfile]. Append everything into given
                    outfile.
     use       (\u) Use another database. Takes database name as argument.
     charset   (\C) Switch to another charset. Might be needed for processing
                    binlog with multi-byte charsets.
     warnings  (\W) Show warnings after every statement.
     nowarning (\w) Don't show warnings after every statement.

     For server side help, type 'help contents'

Each command has both a long and short form.  The long form is not
case-sensitive; the short form is.  The long form can be followed by an
optional semicolon terminator, but the short form should not.

The use of short-form commands within multiple-line '/* ... */' comments
is not supported.

   * 
     'help [ARG]', '\h [ARG]', '\? [ARG]', '? [ARG]'

     Display a help message listing the available *note 'mysql': mysql.
     commands.

     If you provide an argument to the 'help' command, *note 'mysql':
     mysql. uses it as a search string to access server-side help from
     the contents of the MySQL Reference Manual.  For more information,
     see *note mysql-server-side-help::.

   * 
     'charset CHARSET_NAME', '\C CHARSET_NAME'

     Change the default character set and issue a *note 'SET NAMES':
     set-names. statement.  This enables the character set to remain
     synchronized on the client and server if *note 'mysql': mysql. is
     run with auto-reconnect enabled (which is not recommended), because
     the specified character set is used for reconnects.

   * 
     'clear', '\c'

     Clear the current input.  Use this if you change your mind about
     executing the statement that you are entering.

   * 
     'connect [DB_NAME HOST_NAME]]', '\r [DB_NAME HOST_NAME]]'

     Reconnect to the server.  The optional database name and host name
     arguments may be given to specify the default database or the host
     where the server is running.  If omitted, the current values are
     used.

   * 
     'delimiter STR', '\d STR'

     Change the string that *note 'mysql': mysql. interprets as the
     separator between SQL statements.  The default is the semicolon
     character (';').

     The delimiter string can be specified as an unquoted or quoted
     argument on the 'delimiter' command line.  Quoting can be done with
     either single quote ('''), double quote ('"'), or backtick ('`')
     characters.  To include a quote within a quoted string, either
     quote the string with a different quote character or escape the
     quote with a backslash ('\') character.  Backslash should be
     avoided outside of quoted strings because it is the escape
     character for MySQL. For an unquoted argument, the delimiter is
     read up to the first space or end of line.  For a quoted argument,
     the delimiter is read up to the matching quote on the line.

     *note 'mysql': mysql. interprets instances of the delimiter string
     as a statement delimiter anywhere it occurs, except within quoted
     strings.  Be careful about defining a delimiter that might occur
     within other words.  For example, if you define the delimiter as
     'X', you will be unable to use the word 'INDEX' in statements.
     *note 'mysql': mysql. interprets this as 'INDE' followed by the
     delimiter 'X'.

     When the delimiter recognized by *note 'mysql': mysql. is set to
     something other than the default of ';', instances of that
     character are sent to the server without interpretation.  However,
     the server itself still interprets ';' as a statement delimiter and
     processes statements accordingly.  This behavior on the server side
     comes into play for multiple-statement execution (see *note
     c-api-multiple-queries::), and for parsing the body of stored
     procedures and functions, triggers, and events (see *note
     stored-programs-defining::).

   * 
     'edit', '\e'

     Edit the current input statement.  *note 'mysql': mysql. checks the
     values of the 'EDITOR' and 'VISUAL' environment variables to
     determine which editor to use.  The default editor is 'vi' if
     neither variable is set.

     The 'edit' command works only in Unix.

   * 
     'ego', '\G'

     Send the current statement to the server to be executed and display
     the result using vertical format.

   * 
     'exit', '\q'

     Exit *note 'mysql': mysql.

   * 
     'go', '\g'

     Send the current statement to the server to be executed.

   * 
     'nopager', '\n'

     Disable output paging.  See the description for 'pager'.

     The 'nopager' command works only in Unix.

   * 
     'notee', '\t'

     Disable output copying to the tee file.  See the description for
     'tee'.

   * 
     'nowarning', '\w'

     Disable display of warnings after each statement.

   * 
     'pager [COMMAND]', '\P [COMMAND]'

     Enable output paging.  By using the '--pager' option when you
     invoke *note 'mysql': mysql, it is possible to browse or search
     query results in interactive mode with Unix programs such as
     'less', 'more', or any other similar program.  If you specify no
     value for the option, *note 'mysql': mysql. checks the value of the
     'PAGER' environment variable and sets the pager to that.  Pager
     functionality works only in interactive mode.

     Output paging can be enabled interactively with the 'pager' command
     and disabled with 'nopager'.  The command takes an optional
     argument; if given, the paging program is set to that.  With no
     argument, the pager is set to the pager that was set on the command
     line, or 'stdout' if no pager was specified.

     Output paging works only in Unix because it uses the 'popen()'
     function, which does not exist on Windows.  For Windows, the 'tee'
     option can be used instead to save query output, although it is not
     as convenient as 'pager' for browsing output in some situations.

   * 
     'print', '\p'

     Print the current input statement without executing it.

   * 
     'prompt [STR]', '\R [STR]'

     Reconfigure the *note 'mysql': mysql. prompt to the given string.
     The special character sequences that can be used in the prompt are
     described later in this section.

     If you specify the 'prompt' command with no argument, *note
     'mysql': mysql. resets the prompt to the default of 'mysql>'.

   * 
     'quit', '\q'

     Exit *note 'mysql': mysql.

   * 
     'rehash', '\#'

     Rebuild the completion hash that enables database, table, and
     column name completion while you are entering statements.  (See the
     description for the '--auto-rehash' option.)

   * 
     'source FILE_NAME', '\. FILE_NAME'

     Read the named file and executes the statements contained therein.
     On Windows, specify path name separators as '/' or '\\'.

     Quote characters are taken as part of the file name itself.  For
     best results, the name should not include space characters.

   * 
     'status', '\s'

     Provide status information about the connection and the server you
     are using.  If you are running with '--safe-updates' enabled,
     'status' also prints the values for the *note 'mysql': mysql.
     variables that affect your queries.

   * 
     'system COMMAND', '\! COMMAND'

     Execute the given command using your default command interpreter.

     The 'system' command works only in Unix.

   * 
     'tee [FILE_NAME]', '\T [FILE_NAME]'

     By using the '--tee' option when you invoke *note 'mysql': mysql,
     you can log statements and their output.  All the data displayed on
     the screen is appended into a given file.  This can be very useful
     for debugging purposes also.  *note 'mysql': mysql. flushes results
     to the file after each statement, just before it prints its next
     prompt.  Tee functionality works only in interactive mode.

     You can enable this feature interactively with the 'tee' command.
     Without a parameter, the previous file is used.  The 'tee' file can
     be disabled with the 'notee' command.  Executing 'tee' again
     re-enables logging.

   * 
     'use DB_NAME', '\u DB_NAME'

     Use DB_NAME as the default database.

   * 
     'warnings', '\W'

     Enable display of warnings after each statement (if there are any).

Here are a few tips about the 'pager' command:

   * You can use it to write to a file and the results go only to the
     file:

          mysql> pager cat > /tmp/log.txt

     You can also pass any options for the program that you want to use
     as your pager:

          mysql> pager less -n -i -S

   * In the preceding example, note the '-S' option.  You may find it
     very useful for browsing wide query results.  Sometimes a very wide
     result set is difficult to read on the screen.  The '-S' option to
     'less' can make the result set much more readable because you can
     scroll it horizontally using the left-arrow and right-arrow keys.
     You can also use '-S' interactively within 'less' to switch the
     horizontal-browse mode on and off.  For more information, read the
     'less' manual page:

          shell> man less

   * The '-F' and '-X' options may be used with 'less' to cause it to
     exit if output fits on one screen, which is convenient when no
     scrolling is necessary:

          mysql> pager less -n -i -S -F -X

   * You can specify very complex pager commands for handling query
     output:

          mysql> pager cat | tee /dr1/tmp/res.txt \
                    | tee /dr2/tmp/res2.txt | less -n -i -S

     In this example, the command would send query results to two files
     in two different directories on two different file systems mounted
     on '/dr1' and '/dr2', yet still display the results onscreen using
     'less'.

You can also combine the 'tee' and 'pager' functions.  Have a 'tee' file
enabled and 'pager' set to 'less', and you are able to browse the
results using the 'less' program and still have everything appended into
a file the same time.  The difference between the Unix 'tee' used with
the 'pager' command and the *note 'mysql': mysql. built-in 'tee' command
is that the built-in 'tee' works even if you do not have the Unix 'tee'
available.  The built-in 'tee' also logs everything that is printed on
the screen, whereas the Unix 'tee' used with 'pager' does not log quite
that much.  Additionally, 'tee' file logging can be turned on and off
interactively from within *note 'mysql': mysql.  This is useful when you
want to log some queries to a file, but not others.

The 'prompt' command reconfigures the default 'mysql>' prompt.  The
string for defining the prompt can contain the following special
sequences.

Option      Description
            
'\c'        A counter that increments for each statement you
            issue
            
'\D'        The full current date
            
'\d'        The default database
            
'\h'        The server host
            
'\l'        The current delimiter
            
'\m'        Minutes of the current time
            
'\n'        A newline character
            
'\O'        The current month in three-letter format (Jan, Feb,
            ...)
            
'\o'        The current month in numeric format
            
'\P'        am/pm
            
'\p'        The current TCP/IP port or socket file
            
'\R'        The current time, in 24-hour military time (0-23)
            
'\r'        The current time, standard 12-hour time (1-12)
            
'\S'        Semicolon
            
'\s'        Seconds of the current time
            
'\t'        A tab character
            
'\U'        
            Your full 'USER_NAME@HOST_NAME' account name
            
'\u'        Your user name
            
'\v'        The server version
            
'\w'        The current day of the week in three-letter format
            (Mon, Tue, ...)
            
'\Y'        The current year, four digits
            
'\y'        The current year, two digits
            
'\_'        A space
            
'\ '        A space (a space follows the backslash)
            
'\''        Single quote
            
'\"'        Double quote
            
'\\'        A literal '\' backslash character
            
'\X'        
            X, for any 'X' not listed above

You can set the prompt in several ways:

   * _Use an environment variable._  You can set the 'MYSQL_PS1'
     environment variable to a prompt string.  For example:

          shell> export MYSQL_PS1="(\u@\h) [\d]> "

   * _Use a command-line option._  You can set the '--prompt' option on
     the command line to *note 'mysql': mysql.  For example:

          shell> mysql --prompt="(\u@\h) [\d]> "
          (user@host) [database]>

   * _Use an option file._  You can set the 'prompt' option in the
     '[mysql]' group of any MySQL option file, such as '/etc/my.cnf' or
     the '.my.cnf' file in your home directory.  For example:

          [mysql]
          prompt=(\\u@\\h) [\\d]>\\_

     In this example, note that the backslashes are doubled.  If you set
     the prompt using the 'prompt' option in an option file, it is
     advisable to double the backslashes when using the special prompt
     options.  There is some overlap in the set of permissible prompt
     options and the set of special escape sequences that are recognized
     in option files.  (The rules for escape sequences in option files
     are listed in *note option-files::.)  The overlap may cause you
     problems if you use single backslashes.  For example, '\s' is
     interpreted as a space rather than as the current seconds value.
     The following example shows how to define a prompt within an option
     file to include the current time in 'HH:MM:SS>' format:

          [mysql]
          prompt="\\r:\\m:\\s> "

   * _Set the prompt interactively._  You can change your prompt
     interactively by using the 'prompt' (or '\R') command.  For
     example:

          mysql> prompt (\u@\h) [\d]>\_
          PROMPT set to '(\u@\h) [\d]>\_'
          (USER@HOST) [DATABASE]>
          (USER@HOST) [DATABASE]> prompt
          Returning to default PROMPT of mysql>
          mysql>


File: manual.info.tmp,  Node: mysql-logging,  Next: mysql-server-side-help,  Prev: mysql-commands,  Up: mysql

4.5.1.3 mysql Client Logging
............................

On Unix, the *note 'mysql': mysql. client logs statements executed
interactively to a history file.  By default, this file is named
'.mysql_history' in your home directory.  To specify a different file,
set the value of the 'MYSQL_HISTFILE' environment variable.

   * *note mysql-logging-how-logging-occurs::

   * *note mysql-logging-history-file::

*How Logging Occurs*

Statement logging occurs as follows:

   * Statements are logged only when executed interactively.  Statements
     are noninteractive, for example, when read from a file or a pipe.
     It is also possible to suppress statement logging by using the
     '--batch' or '--execute' option.

   * *note 'mysql': mysql. logs each nonempty statement line
     individually.

   * If a statement spans multiple lines (not including the terminating
     delimiter), *note 'mysql': mysql. concatenates the lines to form
     the complete statement, maps newlines to spaces, and logs the
     result, plus a delimiter.

Consequently, an input statement that spans multiple lines can be logged
twice.  Consider this input:

     mysql> SELECT
         -> 'Today is'
         -> ,
         -> CURDATE()
         -> ;

In this case, *note 'mysql': mysql. logs the 'SELECT', ''Today is'',
',', 'CURDATE()', and ';' lines as it reads them.  It also logs the
complete statement, after mapping 'SELECT\n'Today is'\n,\nCURDATE()' to
'SELECT 'Today is' , CURDATE()', plus a delimiter.  Thus, these lines
appear in logged output:

     SELECT
     'Today is'
     ,
     CURDATE()
     ;
     SELECT 'Today is' , CURDATE();

*Controlling the History File*

The '.mysql_history' file should be protected with a restrictive access
mode because sensitive information might be written to it, such as the
text of SQL statements that contain passwords.  See *note
password-security-user::.

If you do not want to maintain a history file, first remove
'.mysql_history' if it exists.  Then use either of the following
techniques to prevent it from being created again:

   * Set the 'MYSQL_HISTFILE' environment variable to '/dev/null'.  To
     cause this setting to take effect each time you log in, put it in
     one of your shell's startup files.

   * Create '.mysql_history' as a symbolic link to '/dev/null'; this
     need be done only once:

          shell> ln -s /dev/null $HOME/.mysql_history


File: manual.info.tmp,  Node: mysql-server-side-help,  Next: mysql-batch-commands,  Prev: mysql-logging,  Up: mysql

4.5.1.4 mysql Client Server-Side Help
.....................................

     mysql> help SEARCH_STRING

If you provide an argument to the 'help' command, *note 'mysql': mysql.
uses it as a search string to access server-side help from the contents
of the MySQL Reference Manual.  The proper operation of this command
requires that the help tables in the 'mysql' database be initialized
with help topic information (see *note server-side-help-support::).

If there is no match for the search string, the search fails:

     mysql> help me

     Nothing found
     Please try to run 'help contents' for a list of all accessible topics

Use *note 'help contents': help. to see a list of the help categories:

     mysql> help contents
     You asked for help about help category: "Contents"
     For more information, type 'help <item>', where <item> is one of the
     following categories:
        Account Management
        Administration
        Data Definition
        Data Manipulation
        Data Types
        Functions
        Functions and Modifiers for Use with GROUP BY
        Geographic Features
        Language Structure
        Plugins
        Storage Engines
        Stored Routines
        Table Maintenance
        Transactions
        Triggers

If the search string matches multiple items, *note 'mysql': mysql. shows
a list of matching topics:

     mysql> help logs
     Many help items for your request exist.
     To make a more specific request, please type 'help <item>',
     where <item> is one of the following topics:
        SHOW
        SHOW BINARY LOGS
        SHOW ENGINE
        SHOW LOGS

Use a topic as the search string to see the help entry for that topic:

     mysql> help show binary logs
     Name: 'SHOW BINARY LOGS'
     Description:
     Syntax:
     SHOW BINARY LOGS
     SHOW MASTER LOGS

     Lists the binary log files on the server. This statement is used as
     part of the procedure described in [purge-binary-logs], that shows how
     to determine which logs can be purged.

     mysql> SHOW BINARY LOGS;
     +---------------+-----------+
     | Log_name      | File_size |
     +---------------+-----------+
     | binlog.000015 |    724935 |
     | binlog.000016 |    733481 |
     +---------------+-----------+

The search string can contain the wildcard characters '%' and '_'.
These have the same meaning as for pattern-matching operations performed
with the 'LIKE' operator.  For example, 'HELP rep%' returns a list of
topics that begin with 'rep':

     mysql> HELP rep%
     Many help items for your request exist.
     To make a more specific request, please type 'help <item>',
     where <item> is one of the following
     topics:
        REPAIR TABLE
        REPEAT FUNCTION
        REPEAT LOOP
        REPLACE
        REPLACE FUNCTION


File: manual.info.tmp,  Node: mysql-batch-commands,  Next: mysql-tips,  Prev: mysql-server-side-help,  Up: mysql

4.5.1.5 Executing SQL Statements from a Text File
.................................................

The *note 'mysql': mysql. client typically is used interactively, like
this:

     shell> mysql DB_NAME

However, it is also possible to put your SQL statements in a file and
then tell *note 'mysql': mysql. to read its input from that file.  To do
so, create a text file TEXT_FILE that contains the statements you wish
to execute.  Then invoke *note 'mysql': mysql. as shown here:

     shell> mysql DB_NAME < TEXT_FILE

If you place a 'USE DB_NAME' statement as the first statement in the
file, it is unnecessary to specify the database name on the command
line:

     shell> mysql < text_file

If you are already running *note 'mysql': mysql, you can execute an SQL
script file using the 'source' command or '\.' command:

     mysql> source FILE_NAME
     mysql> \. FILE_NAME

Sometimes you may want your script to display progress information to
the user.  For this you can insert statements like this:

     SELECT '<info_to_display>' AS ' ';

The statement shown outputs '<info_to_display>'.

You can also invoke *note 'mysql': mysql. with the '--verbose' option,
which causes each statement to be displayed before the result that it
produces.

*note 'mysql': mysql. ignores Unicode byte order mark (BOM) characters
at the beginning of input files.  Previously, it read them and sent them
to the server, resulting in a syntax error.  Presence of a BOM does not
cause *note 'mysql': mysql. to change its default character set.  To do
that, invoke *note 'mysql': mysql. with an option such as
'--default-character-set=utf8'.

For more information about batch mode, see *note batch-mode::.


File: manual.info.tmp,  Node: mysql-tips,  Prev: mysql-batch-commands,  Up: mysql

4.5.1.6 mysql Client Tips
.........................

This section provides information about techniques for more effective
use of *note 'mysql': mysql. and about *note 'mysql': mysql. operational
behavior.

   * *note mysql-input-editing::

   * *note vertical-query-results::

   * *note safe-updates::

   * *note mysql-reconnect::

   * *note mysql-parsers::

*Input-Line Editing*

*note 'mysql': mysql. supports input-line editing, which enables you to
modify the current input line in place or recall previous input lines.
For example, the 'left-arrow' and 'right-arrow' keys move horizontally
within the current input line, and the 'up-arrow' and 'down-arrow' keys
move up and down through the set of previously entered lines.
'Backspace' deletes the character before the cursor and typing new
characters enters them at the cursor position.  To enter the line, press
'Enter'.

On Windows, the editing key sequences are the same as supported for
command editing in console windows.  On Unix, the key sequences depend
on the input library used to build *note 'mysql': mysql. (for example,
the 'libedit' or 'readline' library).

Documentation for the 'libedit' and 'readline' libraries is available
online.  To change the set of key sequences permitted by a given input
library, define key bindings in the library startup file.  This is a
file in your home directory: '.editrc' for 'libedit' and '.inputrc' for
'readline'.

For example, in 'libedit', 'Control+W' deletes everything before the
current cursor position and 'Control+U' deletes the entire line.  In
'readline', 'Control+W' deletes the word before the cursor and
'Control+U' deletes everything before the current cursor position.  If
*note 'mysql': mysql. was built using 'libedit', a user who prefers the
'readline' behavior for these two keys can put the following lines in
the '.editrc' file (creating the file if necessary):

     bind "^W" ed-delete-prev-word
     bind "^U" vi-kill-line-prev

To see the current set of key bindings, temporarily put a line that says
only 'bind' at the end of '.editrc'.  *note 'mysql': mysql. will show
the bindings when it starts.

*Displaying Query Results Vertically*

Some query results are much more readable when displayed vertically,
instead of in the usual horizontal table format.  Queries can be
displayed vertically by terminating the query with \G instead of a
semicolon.  For example, longer text values that include newlines often
are much easier to read with vertical output:

     mysql> SELECT * FROM mails WHERE LENGTH(txt) < 300 LIMIT 300,1\G
     *************************** 1. row ***************************
       msg_nro: 3068
          date: 2000-03-01 23:29:50
     time_zone: +0200
     mail_from: Jones
         reply: jones@no.spam.com
       mail_to: "John Smith" <smith@example.com>
           sbj: UTF-8
           txt: >>>>> "John" == John Smith writes:

     John> Hi.  I think this is a good idea.  Is anyone familiar
     John> with UTF-8 or Unicode? Otherwise, I'll put this on my
     John> TODO list and see what happens.

     Yes, please do that.

     Regards,
     Jones
          file: inbox-jani-1
          hash: 190402944
     1 row in set (0.09 sec)

*Using Safe-Updates Mode (-safe-updates)*

For beginners, a useful startup option is '--safe-updates' (or
'--i-am-a-dummy', which has the same effect).  Safe-updates mode is
helpful for cases when you might have issued an *note 'UPDATE': update.
or *note 'DELETE': delete. statement but forgotten the 'WHERE' clause
indicating which rows to modify.  Normally, such statements update or
delete all rows in the table.  With '--safe-updates', you can modify
rows only by specifying the key values that identify them, or a 'LIMIT'
clause, or both.  This helps prevent accidents.  Safe-updates mode also
restricts *note 'SELECT': select. statements that produce (or are
estimated to produce) very large result sets.

The '--safe-updates' option causes *note 'mysql': mysql. to execute the
following statement when it connects to the MySQL server, to set the
session values of the 'sql_safe_updates', 'sql_select_limit', and
'max_join_size' system variables:

     SET sql_safe_updates=1, sql_select_limit=1000, sql_max_join_size=1000000;

The *note 'SET': set-variable. statement affects statement processing as
follows:

   * Enabling 'sql_safe_updates' causes *note 'UPDATE': update. and
     *note 'DELETE': delete. statements to produce an error if they do
     not specify a key constraint in the 'WHERE' clause, or provide a
     'LIMIT' clause, or both.  For example:

          UPDATE TBL_NAME SET NOT_KEY_COLUMN=VAL WHERE KEY_COLUMN=VAL;

          UPDATE TBL_NAME SET NOT_KEY_COLUMN=VAL LIMIT 1;

   * Setting 'sql_select_limit' to 1,000 causes the server to limit all
     *note 'SELECT': select. result sets to 1,000 rows unless the
     statement includes a 'LIMIT' clause.

   * Setting 'max_join_size' to 1,000,000 causes multiple-table *note
     'SELECT': select. statements to produce an error if the server
     estimates it must examine more than 1,000,000 row combinations.

To specify result set limits different from 1,000 and 1,000,000, you can
override the defaults by using the '--select-limit' and
'--max-join-size' options when you invoke *note 'mysql': mysql.:

     mysql --safe-updates --select-limit=500 --max-join-size=10000

It is possible for *note 'UPDATE': update. and *note 'DELETE': delete.
statements to produce an error in safe-updates mode even with a key
specified in the 'WHERE' clause, if the optimizer decides not to use the
index on the key column.  For example, if key comparisons require type
conversion, the index may not be used (see *note mysql-indexes::).
Suppose that an indexed string column 'c1' is compared to a numeric
value using 'WHERE c1 = 2222'.  For such comparisons, the string value
is converted to a number and the operands are compared numerically (see
*note type-conversion::), preventing use of the index.  If safe-updates
mode is enabled, an error occurs.

*Disabling mysql Auto-Reconnect*

If the *note 'mysql': mysql. client loses its connection to the server
while sending a statement, it immediately and automatically tries to
reconnect once to the server and send the statement again.  However,
even if *note 'mysql': mysql. succeeds in reconnecting, your first
connection has ended and all your previous session objects and settings
are lost: temporary tables, the autocommit mode, and user-defined and
session variables.  Also, any current transaction rolls back.  This
behavior may be dangerous for you, as in the following example where the
server was shut down and restarted between the first and second
statements without you knowing it:

     mysql> SET @a=1;
     Query OK, 0 rows affected (0.05 sec)

     mysql> INSERT INTO t VALUES(@a);
     ERROR 2006: MySQL server has gone away
     No connection. Trying to reconnect...
     Connection id:    1
     Current database: test

     Query OK, 1 row affected (1.30 sec)

     mysql> SELECT * FROM t;
     +------+
     | a    |
     +------+
     | NULL |
     +------+
     1 row in set (0.05 sec)

The '@a' user variable has been lost with the connection, and after the
reconnection it is undefined.  If it is important to have *note 'mysql':
mysql. terminate with an error if the connection has been lost, you can
start the *note 'mysql': mysql. client with the '--skip-reconnect'
option.

For more information about auto-reconnect and its effect on state
information when a reconnection occurs, see *note
c-api-auto-reconnect::.

*mysql Client Parser Versus Server Parser*

The *note 'mysql': mysql. client uses a parser on the client side that
is not a duplicate of the complete parser used by the *note 'mysqld':
mysqld. server on the server side.  This can lead to differences in
treatment of certain constructs.  Examples:

   * The server parser treats strings delimited by '"' characters as
     identifiers rather than as plain strings if the 'ANSI_QUOTES' SQL
     mode is enabled.

     The *note 'mysql': mysql. client parser does not take the
     'ANSI_QUOTES' SQL mode into account.  It treats strings delimited
     by '"', ''', and '`' characters the same, regardless of whether
     'ANSI_QUOTES' is enabled.

   * Within '/*! ... */' comments, the *note 'mysql': mysql. client
     parser interprets short-form *note 'mysql': mysql. commands.  The
     server parser does not interpret them because these commands have
     no meaning on the server side.

     If it is desirable for *note 'mysql': mysql. not to interpret
     short-form commands within comments, a partial workaround is to use
     the '--binary-mode'
     (https://dev.mysql.com/doc/refman/5.6/en/mysql-command-options.html#option_mysql_binary-mode)
     option, which causes all *note 'mysql': mysql. commands to be
     disabled except '\C' and '\d' in noninteractive mode (for input
     piped to *note 'mysql': mysql. or loaded using the 'source'
     command).


File: manual.info.tmp,  Node: mysqladmin,  Next: mysqlcheck,  Prev: mysql,  Up: programs-client

4.5.2 'mysqladmin' -- Client for Administering a MySQL Server
-------------------------------------------------------------

*note 'mysqladmin': mysqladmin. is a client for performing
administrative operations.  You can use it to check the server's
configuration and current status, to create and drop databases, and
more.

Invoke *note 'mysqladmin': mysqladmin. like this:

     shell> mysqladmin [OPTIONS] COMMAND [COMMAND-ARG] [COMMAND [COMMAND-ARG]] ...

*note 'mysqladmin': mysqladmin. supports the following commands.  Some
of the commands take an argument following the command name.

   * 'create DB_NAME'

     Create a new database named DB_NAME.

   * 'debug'

     Tell the server to write debug information to the error log.  The
     connected user must have the 'SUPER' privilege.  Format and content
     of this information is subject to change.

     This includes information about the Event Scheduler.  See *note
     events-status-info::.

   * 'drop DB_NAME'

     Delete the database named DB_NAME and all its tables.

   * 'extended-status'

     Display the server status variables and their values.

   * 'flush-hosts'

     Flush all information in the host cache.  See *note host-cache::.

   * 'flush-logs'

     Flush all logs.

   * 'flush-privileges'

     Reload the grant tables (same as 'reload').

   * 'flush-status'

     Clear status variables.

   * 'flush-tables'

     Flush all tables.

   * 'flush-threads'

     Flush the thread cache.

   * 'kill ID,ID,...'

     Kill server threads.  If multiple thread ID values are given, there
     must be no spaces in the list.

     To kill threads belonging to other users, the connected user must
     have the 'SUPER' privilege.

   * 'old-password NEW_PASSWORD'

     This is like the 'password' command but stores the password using
     the old (pre-4.1) password-hashing format.  (See *note
     password-hashing::.)

   * 'password NEW_PASSWORD'

     Set a new password.  This changes the password to NEW_PASSWORD for
     the account that you use with *note 'mysqladmin': mysqladmin. for
     connecting to the server.  Thus, the next time you invoke *note
     'mysqladmin': mysqladmin. (or any other client program) using the
     same account, you will need to specify the new password.

     *Warning*:

     Setting a password using *note 'mysqladmin': mysqladmin. should be
     considered _insecure_.  On some systems, your password becomes
     visible to system status programs such as 'ps' that may be invoked
     by other users to display command lines.  MySQL clients typically
     overwrite the command-line password argument with zeros during
     their initialization sequence.  However, there is still a brief
     interval during which the value is visible.  Also, on some systems
     this overwriting strategy is ineffective and the password remains
     visible to 'ps'.  (SystemV Unix systems and perhaps others are
     subject to this problem.)

     If the NEW_PASSWORD value contains spaces or other characters that
     are special to your command interpreter, you need to enclose it
     within quotation marks.  On Windows, be sure to use double
     quotation marks rather than single quotation marks; single
     quotation marks are not stripped from the password, but rather are
     interpreted as part of the password.  For example:

          shell> mysqladmin password "my new password"

     The new password can be omitted following the 'password' command.
     In this case, *note 'mysqladmin': mysqladmin. prompts for the
     password value, which enables you to avoid specifying the password
     on the command line.  Omitting the password value should be done
     only if 'password' is the final command on the *note 'mysqladmin':
     mysqladmin. command line.  Otherwise, the next argument is taken as
     the password.

     *Caution*:

     Do not use this command used if the server was started with the
     '--skip-grant-tables' option.  No password change will be applied.
     This is true even if you precede the 'password' command with
     'flush-privileges' on the same command line to re-enable the grant
     tables because the flush operation occurs after you connect.
     However, you can use *note 'mysqladmin flush-privileges':
     mysqladmin. to re-enable the grant table and then use a separate
     *note 'mysqladmin password': mysqladmin. command to change the
     password.

   * 'ping'

     Check whether the server is available.  The return status from
     *note 'mysqladmin': mysqladmin. is 0 if the server is running, 1 if
     it is not.  This is 0 even in case of an error such as 'Access
     denied', because this means that the server is running but refused
     the connection, which is different from the server not running.

   * 'processlist'

     Show a list of active server threads.  This is like the output of
     the *note 'SHOW PROCESSLIST': show-processlist. statement.  If the
     '--verbose' option is given, the output is like that of *note 'SHOW
     FULL PROCESSLIST': show-processlist.  (See *note
     show-processlist::.)

   * 'reload'

     Reload the grant tables.

   * 'refresh'

     Flush all tables and close and open log files.

   * 'shutdown'

     Stop the server.

   * 'start-slave'

     Start replication on a slave server.

   * 'status'

     Display a short server status message.

   * 'stop-slave'

     Stop replication on a slave server.

   * 'variables'

     Display the server system variables and their values.

   * 'version'

     Display version information from the server.

All commands can be shortened to any unique prefix.  For example:

     shell> mysqladmin proc stat
     +----+-------+-----------+----+---------+------+-------+------------------+
     | Id | User  | Host      | db | Command | Time | State | Info             |
     +----+-------+-----------+----+---------+------+-------+------------------+
     | 51 | jones | localhost |    | Query   | 0    |       | show processlist |
     +----+-------+-----------+----+---------+------+-------+------------------+
     Uptime: 1473624  Threads: 1  Questions: 39487
     Slow queries: 0  Opens: 541  Flush tables: 1
     Open tables: 19  Queries per second avg: 0.0268

The *note 'mysqladmin status': mysqladmin. command result displays the
following values:

   * 
     'Uptime'

     The number of seconds the MySQL server has been running.

   * 
     'Threads'

     The number of active threads (clients).

   * 
     'Questions'

     The number of questions (queries) from clients since the server was
     started.

   * 
     'Slow queries'

     The number of queries that have taken more than 'long_query_time'
     seconds.  See *note slow-query-log::.

   * 
     'Opens'

     The number of tables the server has opened.

   * 
     'Flush tables'

     The number of 'flush-*', 'refresh', and 'reload' commands the
     server has executed.

   * 
     'Open tables'

     The number of tables that currently are open.

If you execute *note 'mysqladmin shutdown': mysqladmin. when connecting
to a local server using a Unix socket file, *note 'mysqladmin':
mysqladmin. waits until the server's process ID file has been removed,
to ensure that the server has stopped properly.

*note 'mysqladmin': mysqladmin. supports the following options, which
can be specified on the command line or in the '[mysqladmin]' and
'[client]' groups of an option file.  For information about option files
used by MySQL programs, see *note option-files::.

*mysqladmin Options*

Option Name            Description                              Introduced
                                                                
-compress              Compress all information sent between    
                       client and server
                       
-connect_timeout       Number of seconds before connection      
                       timeout
                       
-count                 Number of iterations to make for         
                       repeated command execution
                       
-debug                 Write debugging log                      
                       
-debug-check           Print debugging information when         
                       program exits
                       
-debug-info            Print debugging information, memory,     
                       and CPU statistics when program exits
                       
-default-auth          Authentication plugin to use             5.5.9
                                                                
-default-character-set Specify default character set            
                       
-defaults-extra-file   Read named option file in addition to    
                       usual option files
                       
-defaults-file         Read only named option file              
                       
-defaults-group-suffix Option group suffix value                
                       
-enable-cleartext-pluginEnable cleartext authentication plugin  5.5.27
                                                                
-force                 Continue even if an SQL error occurs     
                       
-help                  Display help message and exit            
                       
-host                  Host on which MySQL server is located    
                       
-no-beep               Do not beep when errors occur            
                       
-no-defaults           Read no option files                     
                       
-password              Password to use when connecting to       
                       server
                       
-pipe                  Connect to server using named pipe       
                       (Windows only)
                       
-plugin-dir            Directory where plugins are installed    5.5.9
                                                                
-port                  TCP/IP port number for connection        
                       
-print-defaults        Print default options                    
                       
-protocol              Connection protocol to use               
                       
-relative              Show the difference between the          
                       current and previous values when used
                       with the -sleep option
                       
-shared-memory-base-nameName of shared memory to use for        
                       shared-memory connections
                       
-shutdown_timeout      The maximum number of seconds to wait    
                       for server shutdown
                       
-silent                Silent mode                              
                       
-sleep                 Execute commands repeatedly, sleeping    
                       for delay seconds in between
                       
-socket                Unix socket file or Windows named pipe   
                       to use
                       
-ssl                   Enable connection encryption             
                       
-ssl-ca                File that contains list of trusted SSL   
                       Certificate Authorities
                       
-ssl-capath            Directory that contains trusted SSL      
                       Certificate Authority certificate
                       files
                       
-ssl-cert              File that contains X.509 certificate     
                       
-ssl-cipher            Permissible ciphers for connection       
                       encryption
                       
-ssl-key               File that contains X.509 key             
                       
-ssl-mode              Desired security state of connection     5.5.49
                       to server                                
                       
-ssl-verify-server-certVerify host name against server          
                       certificate Common Name identity
                       
-user                  MySQL user name to use when connecting   
                       to server
                       
-verbose               Verbose mode                             
                       
-version               Display version information and exit     
                       
-vertical              Print query output rows vertically       
                       (one line per column value)
                       
-wait                  If the connection cannot be
                       established, wait and retry instead of
                       aborting
                       

   * 
     '--help', '-?'

     Display a help message and exit.

   * 
     '--bind-address=IP_ADDRESS'

     On a computer having multiple network interfaces, use this option
     to select which interface to use for connecting to the MySQL
     server.

     This option is supported only in the version of *note 'mysqladmin':
     mysqladmin. that is supplied with NDB Cluster.  It is not available
     in standard MySQL Server 5.5 releases.

   * 
     '--character-sets-dir=DIR_NAME'

     The directory where character sets are installed.  See *note
     charset-configuration::.

   * 
     '--compress', '-C'

     Compress all information sent between the client and the server if
     possible.  See *note connection-compression-control::.

   * 
     '--count=N', '-c N'

     The number of iterations to make for repeated command execution if
     the '--sleep' option is given.

   * 
     '--debug[=DEBUG_OPTIONS]', '-# [DEBUG_OPTIONS]'

     Write a debugging log.  A typical DEBUG_OPTIONS string is
     'd:t:o,FILE_NAME'.  The default is 'd:t:o,/tmp/mysqladmin.trace'.

   * 
     '--debug-check'

     Print some debugging information when the program exits.

   * 
     '--debug-info'

     Print debugging information and memory and CPU usage statistics
     when the program exits.

   * 
     '--default-auth=PLUGIN'

     A hint about which client-side authentication plugin to use.  See
     *note pluggable-authentication::.

     This option was added in MySQL 5.5.9.

   * 
     '--default-character-set=CHARSET_NAME'

     Use CHARSET_NAME as the default character set.  See *note
     charset-configuration::.

   * 
     '--defaults-extra-file=FILE_NAME'

     Read this option file after the global option file but (on Unix)
     before the user option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--defaults-file=FILE_NAME'

     Use only the given option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name.

   * 
     '--defaults-group-suffix=STR'

     Read not only the usual option groups, but also groups with the
     usual names and a suffix of STR.  For example, *note 'mysqladmin':
     mysqladmin. normally reads the '[client]' and '[mysqladmin]'
     groups.  If the '--defaults-group-suffix=_other' option is given,
     *note 'mysqladmin': mysqladmin. also reads the '[client_other]' and
     '[mysqladmin_other]' groups.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--enable-cleartext-plugin'

     Enable the 'mysql_clear_password' cleartext authentication plugin.
     (See *note cleartext-pluggable-authentication::.)  This option was
     added in MySQL 5.5.27.

   * 
     '--force', '-f'

     Do not ask for confirmation for the 'drop DB_NAME' command.  With
     multiple commands, continue even if an error occurs.

   * 
     '--host=HOST_NAME', '-h HOST_NAME'

     Connect to the MySQL server on the given host.

   * 
     '--no-beep', '-b'

     Suppress the warning beep that is emitted by default for errors
     such as a failure to connect to the server.

   * 
     '--no-defaults'

     Do not read any option files.  If program startup fails due to
     reading unknown options from an option file, '--no-defaults' can be
     used to prevent them from being read.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--password[=PASSWORD]', '-p[PASSWORD]'

     The password of the MySQL account used for connecting to the
     server.  The password value is optional.  If not given, *note
     'mysqladmin': mysqladmin. prompts for one.  If given, there must be
     _no space_ between '--password=' or '-p' and the password following
     it.  If no password option is specified, the default is to send no
     password.

     Specifying a password on the command line should be considered
     insecure.  To avoid giving the password on the command line, use an
     option file.  See *note password-security-user::.

     To explicitly specify that there is no password and that *note
     'mysqladmin': mysqladmin. should not prompt for one, use the
     '--skip-password' option.

   * 
     '--pipe', '-W'

     On Windows, connect to the server using a named pipe.  This option
     applies only if the server was started with the 'named_pipe' system
     variable enabled to support named-pipe connections.

   * 
     '--plugin-dir=DIR_NAME'

     The directory in which to look for plugins.  Specify this option if
     the '--default-auth' option is used to specify an authentication
     plugin but *note 'mysqladmin': mysqladmin. does not find it.  See
     *note pluggable-authentication::.

     This option was added in MySQL 5.5.9.

   * 
     '--port=PORT_NUM', '-P PORT_NUM'

     For TCP/IP connections, the port number to use.

   * 
     '--print-defaults'

     Print the program name and all options that it gets from option
     files.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--protocol={TCP|SOCKET|PIPE|MEMORY}'

     The connection protocol to use for connecting to the server.  It is
     useful when the other connection parameters normally result in use
     of a protocol other than the one you want.  For details on the
     permissible values, see *note connecting::.

   * 
     '--relative', '-r'

     Show the difference between the current and previous values when
     used with the '--sleep' option.  This option works only with the
     'extended-status' command.

   * 
     '--shared-memory-base-name=NAME'

     On Windows, the shared-memory name to use for connections made
     using shared memory to a local server.  The default value is
     'MYSQL'.  The shared-memory name is case-sensitive.

     This option applies only if the server was started with the
     'shared_memory' system variable enabled to support shared-memory
     connections.

   * 
     '--silent', '-s'

     Exit silently if a connection to the server cannot be established.

   * 
     '--sleep=DELAY', '-i DELAY'

     Execute commands repeatedly, sleeping for DELAY seconds in between.
     The '--count' option determines the number of iterations.  If
     '--count' is not given, *note 'mysqladmin': mysqladmin. executes
     commands indefinitely until interrupted.

   * 
     '--socket=PATH', '-S PATH'

     For connections to 'localhost', the Unix socket file to use, or, on
     Windows, the name of the named pipe to use.

     On Windows, this option applies only if the server was started with
     the 'named_pipe' system variable enabled to support named-pipe
     connections.

   * 
     '--ssl*'

     Options that begin with '--ssl' specify whether to connect to the
     server using SSL and indicate where to find SSL keys and
     certificates.  See *note encrypted-connection-options::.

   * 
     '--user=USER_NAME', '-u USER_NAME'

     The user name of the MySQL account to use for connecting to the
     server.

   * 
     '--verbose', '-v'

     Verbose mode.  Print more information about what the program does.

   * 
     '--version', '-V'

     Display version information and exit.

   * 
     '--vertical', '-E'

     Print output vertically.  This is similar to '--relative', but
     prints output vertically.

   * 
     '--wait[=COUNT]', '-w[COUNT]'

     If the connection cannot be established, wait and retry instead of
     aborting.  If a COUNT value is given, it indicates the number of
     times to retry.  The default is one time.

You can also set the following variables by using '--VAR_NAME=VALUE'

   * 
     'connect_timeout'

     The maximum number of seconds before connection timeout.  The
     default value is 43200 (12 hours).

   * 
     'shutdown_timeout'

     The maximum number of seconds to wait for server shutdown.  The
     default value is 3600 (1 hour).


File: manual.info.tmp,  Node: mysqlcheck,  Next: mysqldump,  Prev: mysqladmin,  Up: programs-client

4.5.3 'mysqlcheck' -- A Table Maintenance Program
-------------------------------------------------

The *note 'mysqlcheck': mysqlcheck. client performs table maintenance:
It checks, repairs, optimizes, or analyzes tables.

Each table is locked and therefore unavailable to other sessions while
it is being processed, although for check operations, the table is
locked with a 'READ' lock only (see *note lock-tables::, for more
information about 'READ' and 'WRITE' locks).  Table maintenance
operations can be time-consuming, particularly for large tables.  If you
use the '--databases' or '--all-databases' option to process all tables
in one or more databases, an invocation of *note 'mysqlcheck':
mysqlcheck. might take a long time.  (This is also true for the MySQL
upgrade procedure if it determines that table checking is needed because
it processes tables the same way.)

*note 'mysqlcheck': mysqlcheck. is similar in function to *note
'myisamchk': myisamchk, but works differently.  The main operational
difference is that *note 'mysqlcheck': mysqlcheck. must be used when the
*note 'mysqld': mysqld. server is running, whereas *note 'myisamchk':
myisamchk. should be used when it is not.  The benefit of using *note
'mysqlcheck': mysqlcheck. is that you do not have to stop the server to
perform table maintenance.

*note 'mysqlcheck': mysqlcheck. uses the SQL statements *note 'CHECK
TABLE': check-table, *note 'REPAIR TABLE': repair-table, *note 'ANALYZE
TABLE': analyze-table, and *note 'OPTIMIZE TABLE': optimize-table. in a
convenient way for the user.  It determines which statements to use for
the operation you want to perform, and then sends the statements to the
server to be executed.  For details about which storage engines each
statement works with, see the descriptions for those statements in *note
table-maintenance-statements::.

The 'MyISAM' storage engine supports all four maintenance operations, so
*note 'mysqlcheck': mysqlcheck. can be used to perform any of them on
'MyISAM' tables.  Other storage engines do not necessarily support all
operations.  In such cases, an error message is displayed.  For example,
if 'test.t' is a 'MEMORY' table, an attempt to check it produces this
result:

     shell> mysqlcheck test t
     test.t
     note     : The storage engine for the table doesn't support check

If *note 'mysqlcheck': mysqlcheck. is unable to repair a table, see
*note rebuilding-tables:: for manual table repair strategies.  This will
be the case, for example, for 'InnoDB' tables, which can be checked with
*note 'CHECK TABLE': check-table, but not repaired with *note 'REPAIR
TABLE': repair-table.

*Caution*:

It is best to make a backup of a table before performing a table repair
operation; under some circumstances the operation might cause data loss.
Possible causes include but are not limited to file system errors.

There are three general ways to invoke *note 'mysqlcheck': mysqlcheck.:

     shell> mysqlcheck [OPTIONS] DB_NAME [TBL_NAME ...]
     shell> mysqlcheck [OPTIONS] --databases DB_NAME ...
     shell> mysqlcheck [OPTIONS] --all-databases

If you do not name any tables following DB_NAME or if you use the
'--databases' or '--all-databases' option, entire databases are checked.

*note 'mysqlcheck': mysqlcheck. has a special feature compared to other
client programs.  The default behavior of checking tables ('--check')
can be changed by renaming the binary.  If you want to have a tool that
repairs tables by default, you should just make a copy of *note
'mysqlcheck': mysqlcheck. named 'mysqlrepair', or make a symbolic link
to *note 'mysqlcheck': mysqlcheck. named 'mysqlrepair'.  If you invoke
'mysqlrepair', it repairs tables.

The names shown in the following table can be used to change *note
'mysqlcheck': mysqlcheck. default behavior.

Command            Meaning
                   
'mysqlrepair'      The default option is '--repair'
                   
'mysqlanalyze'     The default option is '--analyze'
                   
'mysqloptimize'    The default option is '--optimize'

*note 'mysqlcheck': mysqlcheck. supports the following options, which
can be specified on the command line or in the '[mysqlcheck]' and
'[client]' groups of an option file.  For information about option files
used by MySQL programs, see *note option-files::.

*mysqlcheck Options*

Option Name            Description                              Introduced
                                                                
-all-databases         Check all tables in all databases        
                       
-all-in-1              Execute a single statement for each      
                       database that names all the tables
                       from that database
                       
-analyze               Analyze the tables                       
                       
-auto-repair           If a checked table is corrupted,         
                       automatically fix it
                       
-character-sets-dir    Directory where character sets are       
                       installed
                       
-check                 Check the tables for errors              
                       
-check-only-changed    Check only tables that have changed      
                       since the last check
                       
-check-upgrade         Invoke CHECK TABLE with the FOR          
                       UPGRADE option
                       
-compress              Compress all information sent between    
                       client and server
                       
-databases             Interpret all arguments as database      
                       names
                       
-debug                 Write debugging log                      
                       
-debug-check           Print debugging information when         
                       program exits
                       
-debug-info            Print debugging information, memory,     
                       and CPU statistics when program exits
                       
-default-auth          Authentication plugin to use             5.5.10
                                                                
-default-character-set Specify default character set            
                       
-defaults-extra-file   Read named option file in addition to    
                       usual option files
                       
-defaults-file         Read only named option file              
                       
-defaults-group-suffix Option group suffix value                
                       
-enable-cleartext-pluginEnable cleartext authentication plugin  5.5.47
                                                                
-extended              Check and repair tables                  
                       
-fast                  Check only tables that have not been     
                       closed properly
                       
-fix-db-names          Convert database names to 5.1 format     
                       
-fix-table-names       Convert table names to 5.1 format        
                       
-force                 Continue even if an SQL error occurs     
                       
-help                  Display help message and exit            
                       
-host                  Host on which MySQL server is located    
                       
-medium-check          Do a check that is faster than an        
                       -extended operation
                       
-no-defaults           Read no option files                     
                       
-optimize              Optimize the tables                      
                       
-password              Password to use when connecting to       
                       server
                       
-pipe                  Connect to server using named pipe       
                       (Windows only)
                       
-plugin-dir            Directory where plugins are installed    5.5.10
                                                                
-port                  TCP/IP port number for connection        
                       
-print-defaults        Print default options                    
                       
-protocol              Connection protocol to use               
                       
-quick                 The fastest method of checking           
                       
-repair                Perform a repair that can fix almost     
                       anything except unique keys that are
                       not unique
                       
-shared-memory-base-nameName of shared memory to use for        
                       shared-memory connections
                       
-silent                Silent mode                              
                       
-socket                Unix socket file or Windows named pipe   
                       to use
                       
-ssl                   Enable connection encryption             
                       
-ssl-ca                File that contains list of trusted SSL   
                       Certificate Authorities
                       
-ssl-capath            Directory that contains trusted SSL      
                       Certificate Authority certificate
                       files
                       
-ssl-cert              File that contains X.509 certificate     
                       
-ssl-cipher            Permissible ciphers for connection       
                       encryption
                       
-ssl-key               File that contains X.509 key             
                       
-ssl-mode              Desired security state of connection     5.5.49
                       to server                                
                       
-ssl-verify-server-certVerify host name against server          
                       certificate Common Name identity
                       
-tables                Overrides the -databases or -B option    
                       
-use-frm               For repair operations on MyISAM tables   
                       
-user                  MySQL user name to use when connecting   
                       to server
                       
-verbose               Verbose mode                             
                       
-version               Display version information and exit     
                       
-write-binlog          Log ANALYZE, OPTIMIZE, REPAIR
                       statements to binary log.
                       -skip-write-binlog adds
                       NO_WRITE_TO_BINLOG to these statements
                       

   * 
     '--help', '-?'

     Display a help message and exit.

   * 
     '--all-databases', '-A'

     Check all tables in all databases.  This is the same as using the
     '--databases' option and naming all the databases on the command
     line, except that the 'INFORMATION_SCHEMA' and 'performance_schema'
     databases are not checked.  They can be checked by explicitly
     naming them with the '--databases' option.

   * 
     '--all-in-1', '-1'

     Instead of issuing a statement for each table, execute a single
     statement for each database that names all the tables from that
     database to be processed.

   * 
     '--analyze', '-a'

     Analyze the tables.

   * 
     '--auto-repair'

     If a checked table is corrupted, automatically fix it.  Any
     necessary repairs are done after all tables have been checked.

   * 
     '--bind-address=IP_ADDRESS'

     On a computer having multiple network interfaces, use this option
     to select which interface to use for connecting to the MySQL
     server.

     This option is supported only in the version of *note 'mysqlcheck':
     mysqlcheck. that is supplied with NDB Cluster.  It is not available
     in standard MySQL Server 5.5 releases.

   * 
     '--character-sets-dir=DIR_NAME'

     The directory where character sets are installed.  See *note
     charset-configuration::.

   * 
     '--check', '-c'

     Check the tables for errors.  This is the default operation.

   * 
     '--check-only-changed', '-C'

     Check only tables that have changed since the last check or that
     have not been closed properly.

   * 
     '--check-upgrade', '-g'

     Invoke *note 'CHECK TABLE': check-table. with the 'FOR UPGRADE'
     option to check tables for incompatibilities with the current
     version of the server.  This option automatically enables the
     '--fix-db-names' and '--fix-table-names' options.

   * 
     '--compress'

     Compress all information sent between the client and the server if
     possible.  See *note connection-compression-control::.

   * 
     '--databases', '-B'

     Process all tables in the named databases.  Normally, *note
     'mysqlcheck': mysqlcheck. treats the first name argument on the
     command line as a database name and any following names as table
     names.  With this option, it treats all name arguments as database
     names.

   * 
     '--debug[=DEBUG_OPTIONS]', '-# [DEBUG_OPTIONS]'

     Write a debugging log.  A typical DEBUG_OPTIONS string is
     'd:t:o,FILE_NAME'.  The default is 'd:t:o'.

   * 
     '--debug-check'

     Print some debugging information when the program exits.

   * 
     '--debug-info'

     Print debugging information and memory and CPU usage statistics
     when the program exits.

   * 
     '--default-character-set=CHARSET_NAME'

     Use CHARSET_NAME as the default character set.  See *note
     charset-configuration::.

   * 
     '--defaults-extra-file=FILE_NAME'

     Read this option file after the global option file but (on Unix)
     before the user option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--defaults-file=FILE_NAME'

     Use only the given option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name.

   * 
     '--defaults-group-suffix=STR'

     Read not only the usual option groups, but also groups with the
     usual names and a suffix of STR.  For example, *note 'mysqlcheck':
     mysqlcheck. normally reads the '[client]' and '[mysqlcheck]'
     groups.  If the '--defaults-group-suffix=_other' option is given,
     *note 'mysqlcheck': mysqlcheck. also reads the '[client_other]' and
     '[mysqlcheck_other]' groups.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--extended', '-e'

     If you are using this option to check tables, it ensures that they
     are 100% consistent but takes a long time.

     If you are using this option to repair tables, it runs an extended
     repair that may not only take a long time to execute, but may
     produce a lot of garbage rows also!

   * 
     '--default-auth=PLUGIN'

     A hint about which client-side authentication plugin to use.  See
     *note pluggable-authentication::.

     This option was added in MySQL 5.5.10.

   * 
     '--enable-cleartext-plugin'

     Enable the 'mysql_clear_password' cleartext authentication plugin.
     (See *note cleartext-pluggable-authentication::.)

     This option was added in MySQL 5.5.47.

   * 
     '--fast', '-F'

     Check only tables that have not been closed properly.

   * 
     '--fix-db-names'

     Convert database names to 5.1 format.  Only database names that
     contain special characters are affected.

   * 
     '--fix-table-names'

     Convert table names to 5.1 format.  Only table names that contain
     special characters are affected.  This option also applies to
     views.

   * 
     '--force', '-f'

     Continue even if an SQL error occurs.

   * 
     '--host=HOST_NAME', '-h HOST_NAME'

     Connect to the MySQL server on the given host.

   * 
     '--medium-check', '-m'

     Do a check that is faster than an '--extended' operation.  This
     finds only 99.99% of all errors, which should be good enough in
     most cases.

   * 
     '--no-defaults'

     Do not read any option files.  If program startup fails due to
     reading unknown options from an option file, '--no-defaults' can be
     used to prevent them from being read.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--optimize', '-o'

     Optimize the tables.

   * 
     '--password[=PASSWORD]', '-p[PASSWORD]'

     The password of the MySQL account used for connecting to the
     server.  The password value is optional.  If not given, *note
     'mysqlcheck': mysqlcheck. prompts for one.  If given, there must be
     _no space_ between '--password=' or '-p' and the password following
     it.  If no password option is specified, the default is to send no
     password.

     Specifying a password on the command line should be considered
     insecure.  To avoid giving the password on the command line, use an
     option file.  See *note password-security-user::.

     To explicitly specify that there is no password and that *note
     'mysqlcheck': mysqlcheck. should not prompt for one, use the
     '--skip-password' option.

   * 
     '--pipe', '-W'

     On Windows, connect to the server using a named pipe.  This option
     applies only if the server was started with the 'named_pipe' system
     variable enabled to support named-pipe connections.

   * 
     '--plugin-dir=DIR_NAME'

     The directory in which to look for plugins.  Specify this option if
     the '--default-auth' option is used to specify an authentication
     plugin but *note 'mysqlcheck': mysqlcheck. does not find it.  See
     *note pluggable-authentication::.

     This option was added in MySQL 5.5.10.

   * 
     '--port=PORT_NUM', '-P PORT_NUM'

     For TCP/IP connections, the port number to use.

   * 
     '--print-defaults'

     Print the program name and all options that it gets from option
     files.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--protocol={TCP|SOCKET|PIPE|MEMORY}'

     The connection protocol to use for connecting to the server.  It is
     useful when the other connection parameters normally result in use
     of a protocol other than the one you want.  For details on the
     permissible values, see *note connecting::.

   * 
     '--quick', '-q'

     If you are using this option to check tables, it prevents the check
     from scanning the rows to check for incorrect links.  This is the
     fastest check method.

     If you are using this option to repair tables, it tries to repair
     only the index tree.  This is the fastest repair method.

   * 
     '--repair', '-r'

     Perform a repair that can fix almost anything except unique keys
     that are not unique.

   * 
     '--shared-memory-base-name=NAME'

     On Windows, the shared-memory name to use for connections made
     using shared memory to a local server.  The default value is
     'MYSQL'.  The shared-memory name is case-sensitive.

     This option applies only if the server was started with the
     'shared_memory' system variable enabled to support shared-memory
     connections.

   * 
     '--silent', '-s'

     Silent mode.  Print only error messages.

   * 
     '--socket=PATH', '-S PATH'

     For connections to 'localhost', the Unix socket file to use, or, on
     Windows, the name of the named pipe to use.

     On Windows, this option applies only if the server was started with
     the 'named_pipe' system variable enabled to support named-pipe
     connections.

   * 
     '--ssl*'

     Options that begin with '--ssl' specify whether to connect to the
     server using SSL and indicate where to find SSL keys and
     certificates.  See *note encrypted-connection-options::.

   * 
     '--tables'

     Override the '--databases' or '-B' option.  All name arguments
     following the option are regarded as table names.

   * 
     '--use-frm'

     For repair operations on 'MyISAM' tables, get the table structure
     from the '.frm' file so that the table can be repaired even if the
     '.MYI' header is corrupted.

   * 
     '--user=USER_NAME', '-u USER_NAME'

     The user name of the MySQL account to use for connecting to the
     server.

   * 
     '--verbose', '-v'

     Verbose mode.  Print information about the various stages of
     program operation.

   * 
     '--version', '-V'

     Display version information and exit.

   * 
     '--write-binlog'

     This option is enabled by default, so that *note 'ANALYZE TABLE':
     analyze-table, *note 'OPTIMIZE TABLE': optimize-table, and *note
     'REPAIR TABLE': repair-table. statements generated by *note
     'mysqlcheck': mysqlcheck. are written to the binary log.  Use
     '--skip-write-binlog' to cause 'NO_WRITE_TO_BINLOG' to be added to
     the statements so that they are not logged.  Use the
     '--skip-write-binlog' when these statements should not be sent to
     replication slaves or run when using the binary logs for recovery
     from backup.


File: manual.info.tmp,  Node: mysqldump,  Next: mysqlimport,  Prev: mysqlcheck,  Up: programs-client

4.5.4 'mysqldump' -- A Database Backup Program
----------------------------------------------

   * *note mysqldump-performance::

   * *note mysqldump-syntax::

   * *note mysqldump-option-summary::

The *note 'mysqldump': mysqldump. client utility performs logical
backups, producing a set of SQL statements that can be executed to
reproduce the original database object definitions and table data.  It
dumps one or more MySQL databases for backup or transfer to another SQL
server.  The *note 'mysqldump': mysqldump. command can also generate
output in CSV, other delimited text, or XML format.

*note 'mysqldump': mysqldump. requires at least the 'SELECT' privilege
for dumped tables, 'SHOW VIEW' for dumped views, 'TRIGGER' for dumped
triggers, and 'LOCK TABLES' if the '--single-transaction' option is not
used.  Certain options might require other privileges as noted in the
option descriptions.

To reload a dump file, you must have the privileges required to execute
the statements that it contains, such as the appropriate 'CREATE'
privileges for objects created by those statements.

*note 'mysqldump': mysqldump. output can include *note 'ALTER DATABASE':
alter-database. statements that change the database collation.  These
may be used when dumping stored programs to preserve their character
encodings.  To reload a dump file containing such statements, the
'ALTER' privilege for the affected database is required.

If you are performing a backup on the server and your tables all are
*note 'MyISAM': myisam-storage-engine. tables, you can also use *note
'mysqlhotcopy': mysqlhotcopy. for this purpose.

*Note*:

A dump made using PowerShell on Windows with output redirection creates
a file that has UTF-16 encoding:

     shell> mysqldump [options] > dump.sql

However, UTF-16 is not permitted as a connection character set (see
*note charset-connection-impermissible-client-charset::), so the dump
file will not load correctly.  To work around this issue, use the
'--result-file' option, which creates the output in ASCII format:

     shell> mysqldump [options] --result-file=dump.sql

*Performance and Scalability Considerations*

'mysqldump' advantages include the convenience and flexibility of
viewing or even editing the output before restoring.  You can clone
databases for development and DBA work, or produce slight variations of
an existing database for testing.  It is not intended as a fast or
scalable solution for backing up substantial amounts of data.  With
large data sizes, even if the backup step takes a reasonable time,
restoring the data can be very slow because replaying the SQL statements
involves disk I/O for insertion, index creation, and so on.

For large-scale backup and restore, a physical backup is more
appropriate, to copy the data files in their original format that can be
restored quickly:

   * If your tables are primarily 'InnoDB' tables, or if you have a mix
     of 'InnoDB' and 'MyISAM' tables, consider using the 'mysqlbackup'
     command of the MySQL Enterprise Backup product.  (Available as part
     of the Enterprise subscription.)  It provides the best performance
     for 'InnoDB' backups with minimal disruption; it can also back up
     tables from 'MyISAM' and other storage engines; and it provides a
     number of convenient options to accommodate different backup
     scenarios.  See *note mysql-enterprise-backup::.

   * If your tables are primarily 'MyISAM' tables, consider using the
     *note 'mysqlhotcopy': mysqlhotcopy. instead, for better performance
     than *note 'mysqldump': mysqldump. of backup and restore
     operations.  See *note mysqlhotcopy::.

*note 'mysqldump': mysqldump. can retrieve and dump table contents row
by row, or it can retrieve the entire content from a table and buffer it
in memory before dumping it.  Buffering in memory can be a problem if
you are dumping large tables.  To dump tables row by row, use the
'--quick' option (or '--opt', which enables '--quick').  The '--opt'
option (and hence '--quick') is enabled by default, so to enable memory
buffering, use '--skip-quick'.

If you are using a recent version of *note 'mysqldump': mysqldump. to
generate a dump to be reloaded into a very old MySQL server, use the
'--skip-opt' option instead of the '--opt' or '--extended-insert'
option.

For additional information about *note 'mysqldump': mysqldump, see *note
using-mysqldump::.

*Invocation Syntax*

There are in general three ways to use *note 'mysqldump': mysqldump.--in
order to dump a set of one or more tables, a set of one or more complete
databases, or an entire MySQL server--as shown here:

     shell> mysqldump [OPTIONS] DB_NAME [TBL_NAME ...]
     shell> mysqldump [OPTIONS] --databases DB_NAME ...
     shell> mysqldump [OPTIONS] --all-databases

To dump entire databases, do not name any tables following DB_NAME, or
use the '--databases' or '--all-databases' option.

*note 'mysqldump': mysqldump. does not dump the 'INFORMATION_SCHEMA' or
'performance_schema' database by default.  To dump either of these, name
it explicitly on the command line and also use the '--skip-lock-tables'
option.  You can also name them with the '--databases' option.  Before
MySQL 5.5 *note 'mysqldump': mysqldump. silently ignores
'INFORMATION_SCHEMA' even if you name it explicitly on the command line.

*note 'mysqldump': mysqldump. does not dump the 'performance_schema'
database.

Before MySQL 5.5.25, *note 'mysqldump': mysqldump. does not dump the
'general_log' or 'slow_query_log' tables for dumps of the 'mysql'
database.  As of 5.5.25, the dump includes statements to recreate those
tables so that they are not missing after reloading the dump file.  Log
table contents are not dumped.

*note 'mysqldump': mysqldump. also does not dump the NDB Cluster
'ndbinfo' information database.

To see a list of the options your version of *note 'mysqldump':
mysqldump. supports, execute *note 'mysqldump --help': mysqldump.

Some *note 'mysqldump': mysqldump. options are shorthand for groups of
other options:

   * Use of '--opt' is the same as specifying '--add-drop-table',
     '--add-locks', '--create-options', '--disable-keys',
     '--extended-insert', '--lock-tables', '--quick', and
     '--set-charset'.  All of the options that '--opt' stands for also
     are on by default because '--opt' is on by default.

   * Use of '--compact' is the same as specifying
     '--skip-add-drop-table', '--skip-add-locks', '--skip-comments',
     '--skip-disable-keys', and '--skip-set-charset' options.

To reverse the effect of a group option, uses its '--skip-XXX' form
('--skip-opt' or '--skip-compact').  It is also possible to select only
part of the effect of a group option by following it with options that
enable or disable specific features.  Here are some examples:

   * To select the effect of '--opt' except for some features, use the
     '--skip' option for each feature.  To disable extended inserts and
     memory buffering, use '--opt' '--skip-extended-insert'
     '--skip-quick'.  (Actually, '--skip-extended-insert' '--skip-quick'
     is sufficient because '--opt' is on by default.)

   * To reverse '--opt' for all features except index disabling and
     table locking, use '--skip-opt' '--disable-keys' '--lock-tables'.

When you selectively enable or disable the effect of a group option,
order is important because options are processed first to last.  For
example, '--disable-keys' '--lock-tables' '--skip-opt' would not have
the intended effect; it is the same as '--skip-opt' by itself.

*note 'mysqldump': mysqldump. can retrieve and dump table contents row
by row, or it can retrieve the entire content from a table and buffer it
in memory before dumping it.  Buffering in memory can be a problem if
you are dumping large tables.  To dump tables row by row, use the
'--quick' option (or '--opt', which enables '--quick').  The '--opt'
option (and hence '--quick') is enabled by default, so to enable memory
buffering, use '--skip-quick'.

If you are using a recent version of *note 'mysqldump': mysqldump. to
generate a dump to be reloaded into a very old MySQL server, you should
not use the '--opt' or '--extended-insert' option.  Use '--skip-opt'
instead.

For additional information about *note 'mysqldump': mysqldump, see *note
using-mysqldump::.

*Option Syntax - Alphabetical Summary*

*note 'mysqldump': mysqldump. supports the following options, which can
be specified on the command line or in the '[mysqldump]' and '[client]'
groups of an option file.  For information about option files used by
MySQL programs, see *note option-files::.

*mysqldump Options*

Option Name         Description                          IntroducedRemoved
                                                                  
-add-drop-database  Add DROP DATABASE statement before            
                    each CREATE DATABASE statement
                    
-add-drop-table     Add DROP TABLE statement before               
                    each CREATE TABLE statement
                    
-add-locks          Surround each table dump with LOCK            
                    TABLES and UNLOCK TABLES
                    statements
                    
-all-databases      Dump all tables in all databases              
                    
-allow-keywords     Allow creation of column names                
                    that are keywords
                    
-apply-slave-statementsInclude STOP SLAVE prior to CHANGE5.5.3    
                    MASTER statement and START SLAVE     
                    at end of output
                    
-bind-address       Use specified network interface to   5.5.8    
                    connect to MySQL Server              
                    
-character-sets-dir Directory where character sets are            
                    installed
                    
-comments           Add comments to dump file                     
                    
-compact            Produce more compact output                   
                    
-compatible         Produce output that is more                   
                    compatible with other database
                    systems or with older MySQL
                    servers
                    
-complete-insert    Use complete INSERT statements                
                    that include column names
                    
-compress           Compress all information sent                 
                    between client and server
                    
-create-options     Include all MySQL-specific table              
                    options in CREATE TABLE statements
                    
-databases          Interpret all name arguments as               
                    database names
                    
-debug              Write debugging log                           
                    
-debug-check        Print debugging information when              
                    program exits
                    
-debug-info         Print debugging information,                  
                    memory, and CPU statistics when
                    program exits
                    
-default-auth       Authentication plugin to use         5.5.9    
                                                         
-default-character-setSpecify default character set               
                    
-defaults-extra-fileRead named option file in addition            
                    to usual option files
                    
-defaults-file      Read only named option file                   
                    
-defaults-group-suffixOption group suffix value                   
                    
-delayed-insert     Write INSERT DELAYED statements               
                    rather than INSERT statements
                    
-delete-master-logs On a master replication server,               
                    delete the binary logs after
                    performing the dump operation
                    
-disable-keys       For each table, surround INSERT               
                    statements with statements to
                    disable and enable keys
                    
-dump-date          Include dump date as "Dump                    
                    completed on" comment if -comments
                    is given
                    
-dump-slave         Include CHANGE MASTER statement      5.5.3    
                    that lists binary log coordinates    
                    of slave's master
                    
-enable-cleartext-pluginEnable cleartext authentication  5.5.47   
                    plugin                               
                    
-events             Dump events from dumped databases             
                    
-extended-insert    Use multiple-row INSERT syntax                
                    
-fields-enclosed-by This option is used with the -tab             
                    option and has the same meaning as
                    the corresponding clause for LOAD
                    DATA
                    
-fields-escaped-by  This option is used with the -tab             
                    option and has the same meaning as
                    the corresponding clause for LOAD
                    DATA
                    
-fields-optionally-enclosed-byThis option is used with the -tab   
                    option and has the same meaning as
                    the corresponding clause for LOAD
                    DATA
                    
-fields-terminated-byThis option is used with the -tab            
                    option and has the same meaning as
                    the corresponding clause for LOAD
                    DATA
                    
-first-slave        Deprecated; use -lock-all-tables              5.5.3
                    instead                                       
                    
-flush-logs         Flush MySQL server log files                  
                    before starting dump
                    
-flush-privileges   Emit a FLUSH PRIVILEGES statement             
                    after dumping mysql database
                    
-force              Continue even if an SQL error                 
                    occurs during a table dump
                    
-help               Display help message and exit                 
                    
-hex-blob           Dump binary columns using                     
                    hexadecimal notation
                    
-host               Host on which MySQL server is                 
                    located
                    
-ignore-table       Do not dump given table                       
                    
-include-master-host-portInclude MASTER_HOST/MASTER_PORT 5.5.3    
                    options in CHANGE MASTER statement   
                    produced with -dump-slave
                    
-insert-ignore      Write INSERT IGNORE rather than               
                    INSERT statements
                    
-lines-terminated-byThis option is used with the -tab             
                    option and has the same meaning as
                    the corresponding clause for LOAD
                    DATA
                    
-lock-all-tables    Lock all tables across all                    
                    databases
                    
-lock-tables        Lock all tables before dumping                
                    them
                    
-log-error          Append warnings and errors to                 
                    named file
                    
-master-data        Write the binary log file name and            
                    position to the output
                    
-max-allowed-packet Maximum packet length to send to              
                    or receive from server
                    
-net-buffer-length  Buffer size for TCP/IP and socket             
                    communication
                    
-no-autocommit      Enclose the INSERT statements for             
                    each dumped table within SET
                    autocommit = 0 and COMMIT
                    statements
                    
-no-create-db       Do not write CREATE DATABASE                  
                    statements
                    
-no-create-info     Do not write CREATE TABLE                     
                    statements that re-create each
                    dumped table
                    
-no-data            Do not dump table contents                    
                    
-no-defaults        Read no option files                          
                    
-no-set-names       Same as -skip-set-charset                     
                    
-no-tablespaces     Do not write any CREATE LOGFILE               
                    GROUP or CREATE TABLESPACE
                    statements in output
                    
-opt                Shorthand for -add-drop-table                 
                    -add-locks -create-options
                    -disable-keys -extended-insert
                    -lock-tables -quick -set-charset
                    
-order-by-primary   Dump each table's rows sorted by              
                    its primary key, or by its first
                    unique index
                    
-password           Password to use when connecting to            
                    server
                    
-pipe               Connect to server using named pipe            
                    (Windows only)
                    
-plugin-dir         Directory where plugins are          5.5.9    
                    installed                            
                    
-port               TCP/IP port number for connection             
                    
-print-defaults     Print default options                         
                    
-protocol           Connection protocol to use                    
                    
-quick              Retrieve rows for a table from the            
                    server a row at a time
                    
-quote-names        Quote identifiers within backtick             
                    characters
                    
-replace            Write REPLACE statements rather               
                    than INSERT statements
                    
-result-file        Direct output to a given file                 
                    
-routines           Dump stored routines (procedures              
                    and functions) from dumped
                    databases
                    
-set-charset        Add SET NAMES                                 
                    default_character_set to output
                    
-shared-memory-base-nameName of shared memory to use for          
                    shared-memory connections
                    
-single-transaction Issue a BEGIN SQL statement before            
                    dumping data from server
                    
-skip-add-drop-tableDo not add a DROP TABLE statement             
                    before each CREATE TABLE statement
                    
-skip-add-locks     Do not add locks                              
                    
-skip-comments      Do not add comments to dump file              
                    
-skip-compact       Do not produce more compact output            
                    
-skip-disable-keys  Do not disable keys                           
                    
-skip-extended-insertTurn off extended-insert                     
                    
-skip-opt           Turn off options set by -opt                  
                    
-skip-quick         Do not retrieve rows for a table              
                    from the server a row at a time
                    
-skip-quote-names   Do not quote identifiers                      
                    
-skip-set-charset   Do not write SET NAMES statement              
                    
-skip-triggers      Do not dump triggers                          
                    
-skip-tz-utc        Turn off tz-utc                               
                    
-socket             Unix socket file or Windows named             
                    pipe to use
                    
-ssl                Enable connection encryption                  
                    
-ssl-ca             File that contains list of trusted            
                    SSL Certificate Authorities
                    
-ssl-capath         Directory that contains trusted               
                    SSL Certificate Authority
                    certificate files
                    
-ssl-cert           File that contains X.509                      
                    certificate
                    
-ssl-cipher         Permissible ciphers for connection            
                    encryption
                    
-ssl-key            File that contains X.509 key                  
                    
-ssl-mode           Desired security state of            5.5.49   
                    connection to server                 
                    
-ssl-verify-server-certVerify host name against server            
                    certificate Common Name identity
                    
-tab                Produce tab-separated data files              
                    
-tables             Override -databases or -B option              
                    
-triggers           Dump triggers for each dumped                 
                    table
                    
-tz-utc             Add SET TIME_ZONE='+00:00' to dump            
                    file
                    
-user               MySQL user name to use when                   
                    connecting to server
                    
-verbose            Verbose mode                                  
                    
-version            Display version information and               
                    exit
                    
-where              Dump only rows selected by given              
                    WHERE condition
                    
-xml                Produce XML output                   
                    

   * 
     '--help', '-?'

     Display a help message and exit.

   * 
     '--add-drop-database'

     Write a *note 'DROP DATABASE': drop-database. statement before each
     *note 'CREATE DATABASE': create-database. statement.  This option
     is typically used in conjunction with the '--all-databases' or
     '--databases' option because no *note 'CREATE DATABASE':
     create-database. statements are written unless one of those options
     is specified.

   * 
     '--add-drop-table'

     Write a *note 'DROP TABLE': drop-table. statement before each *note
     'CREATE TABLE': create-table. statement.

   * 
     '--add-drop-trigger'

     Write a *note 'DROP TRIGGER': drop-trigger. statement before each
     *note 'CREATE TRIGGER': create-trigger. statement.

     *Note*:

     This option is supported only by *note 'mysqldump': mysqldump. as
     supplied with NDB Cluster.  It is not available when using MySQL
     Server 5.5.

   * 
     '--add-locks'

     Surround each table dump with *note 'LOCK TABLES': lock-tables. and
     *note 'UNLOCK TABLES': lock-tables. statements.  This results in
     faster inserts when the dump file is reloaded.  See *note
     insert-optimization::.

   * 
     '--all-databases', '-A'

     Dump all tables in all databases.  This is the same as using the
     '--databases' option and naming all the databases on the command
     line.

   * 
     '--all-tablespaces', '-Y'

     Adds to a table dump all SQL statements needed to create any
     tablespaces used by an *note 'NDBCLUSTER': mysql-cluster. table.
     This information is not otherwise included in the output from *note
     'mysqldump': mysqldump.  This option is currently relevant only to
     NDB Cluster tables.

   * 
     '--allow-keywords'

     Permit creation of column names that are keywords.  This works by
     prefixing each column name with the table name.

   * 
     '--apply-slave-statements'

     For a slave dump produced with the '--dump-slave' option, add a
     *note 'STOP SLAVE': stop-slave. statement before the *note 'CHANGE
     MASTER TO': change-master-to. statement and a *note 'START SLAVE':
     start-slave. statement at the end of the output.

   * 
     '--bind-address=IP_ADDRESS'

     On a computer having multiple network interfaces, use this option
     to select which interface to use for connecting to the MySQL
     server.

     This option is supported only in the version of *note 'mysqldump':
     mysqldump. that is supplied with NDB Cluster.  It is not available
     in standard MySQL Server 5.5 releases.

   * 
     '--character-sets-dir=DIR_NAME'

     The directory where character sets are installed.  See *note
     charset-configuration::.

   * 
     '--comments', '-i'

     Write additional information in the dump file such as program
     version, server version, and host.  This option is enabled by
     default.  To suppress this additional information, use
     '--skip-comments'.

   * 
     '--compact'

     Produce more compact output.  This option enables the
     '--skip-add-drop-table', '--skip-add-locks', '--skip-comments',
     '--skip-disable-keys', and '--skip-set-charset' options.

   * 
     '--compatible=NAME'

     Produce output that is more compatible with other database systems
     or with older MySQL servers.  The value of NAME can be 'ansi',
     'mysql323', 'mysql40', 'postgresql', 'oracle', 'mssql', 'db2',
     'maxdb', 'no_key_options', 'no_table_options', or
     'no_field_options'.  To use several values, separate them by
     commas.  These values have the same meaning as the corresponding
     options for setting the server SQL mode.  See *note sql-mode::.

     This option does not guarantee compatibility with other servers.
     It only enables those SQL mode values that are currently available
     for making dump output more compatible.  For example,
     '--compatible=oracle' does not map data types to Oracle types or
     use Oracle comment syntax.

   * 
     '--complete-insert', '-c'

     Use complete *note 'INSERT': insert. statements that include column
     names.

   * 
     '--compress', '-C'

     Compress all information sent between the client and the server if
     possible.  See *note connection-compression-control::.

   * 
     '--create-options'

     Include all MySQL-specific table options in the *note 'CREATE
     TABLE': create-table. statements.

   * 
     '--databases', '-B'

     Dump several databases.  Normally, *note 'mysqldump': mysqldump.
     treats the first name argument on the command line as a database
     name and following names as table names.  With this option, it
     treats all name arguments as database names.  *note 'CREATE
     DATABASE': create-database. and *note 'USE': use. statements are
     included in the output before each new database.

     This option may be used to dump the 'INFORMATION_SCHEMA' and
     'performance_schema' databases, which normally are not dumped even
     with the '--all-databases' option.  (Also use the
     '--skip-lock-tables' option.)

   * 
     '--debug[=DEBUG_OPTIONS]', '-# [DEBUG_OPTIONS]'

     Write a debugging log.  A typical DEBUG_OPTIONS string is
     'd:t:o,FILE_NAME'.  The default value is
     'd:t:o,/tmp/mysqldump.trace'.

   * 
     '--debug-check'

     Print some debugging information when the program exits.

   * 
     '--debug-info'

     Print debugging information and memory and CPU usage statistics
     when the program exits.

   * 
     '--default-auth=PLUGIN'

     A hint about which client-side authentication plugin to use.  See
     *note pluggable-authentication::.

     This option was added in MySQL 5.5.9.

   * 
     '--default-character-set=CHARSET_NAME'

     Use CHARSET_NAME as the default character set.  See *note
     charset-configuration::.  If no character set is specified, *note
     'mysqldump': mysqldump. uses 'utf8'.

   * 
     '--defaults-extra-file=FILE_NAME'

     Read this option file after the global option file but (on Unix)
     before the user option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--defaults-file=FILE_NAME'

     Use only the given option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name.

   * 
     '--defaults-group-suffix=STR'

     Read not only the usual option groups, but also groups with the
     usual names and a suffix of STR.  For example, *note 'mysqldump':
     mysqldump. normally reads the '[client]' and '[mysqldump]' groups.
     If the '--defaults-group-suffix=_other' option is given, *note
     'mysqldump': mysqldump. also reads the '[client_other]' and
     '[mysqldump_other]' groups.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--delayed-insert'

     Write *note 'INSERT DELAYED': insert-delayed. statements rather
     than *note 'INSERT': insert. statements.

   * 
     '--delete-master-logs'

     On a master replication server, delete the binary logs by sending a
     *note 'PURGE BINARY LOGS': purge-binary-logs. statement to the
     server after performing the dump operation.  This option
     automatically enables '--master-data'.

   * 
     '--disable-keys', '-K'

     For each table, surround the *note 'INSERT': insert. statements
     with '/*!40000 ALTER TABLE TBL_NAME DISABLE KEYS */;' and '/*!40000
     ALTER TABLE TBL_NAME ENABLE KEYS */;' statements.  This makes
     loading the dump file faster because the indexes are created after
     all rows are inserted.  This option is effective only for nonunique
     indexes of 'MyISAM' tables.  It has no effect for other tables.

   * 
     '--dump-date'

     If the '--comments' option is given, *note 'mysqldump': mysqldump.
     produces a comment at the end of the dump of the following form:

          -- Dump completed on DATE

     However, the date causes dump files taken at different times to
     appear to be different, even if the data are otherwise identical.
     '--dump-date' and '--skip-dump-date' control whether the date is
     added to the comment.  The default is '--dump-date' (include the
     date in the comment).  '--skip-dump-date' suppresses date printing.

   * 
     '--dump-slave[=VALUE]'

     This option is similar to '--master-data' except that it is used to
     dump a replication slave server to produce a dump file that can be
     used to set up another server as a slave that has the same master
     as the dumped server.  It causes the dump output to include a *note
     'CHANGE MASTER TO': change-master-to. statement that indicates the
     binary log coordinates (file name and position) of the dumped
     slave's master.  These are the master server coordinates from which
     the slave should start replicating.

     '--dump-slave' causes the coordinates from the master to be used
     rather than those of the dumped server, as is done by the
     '--master-data' option.  In addition, specfiying this option causes
     the '--master-data' option to be overridden, if used, and
     effectively ignored.

     The option value is handled the same way as for '--master-data'
     (setting no value or 1 causes a 'CHANGE MASTER TO' statement to be
     written to the dump, setting 2 causes the statement to be written
     but encased in SQL comments) and has the same effect as
     '--master-data' in terms of enabling or disabling other options and
     in how locking is handled.

     This option causes *note 'mysqldump': mysqldump. to stop the slave
     SQL thread before the dump and restart it again after.

     In conjunction with '--dump-slave', the '--apply-slave-statements'
     and '--include-master-host-port' options can also be used.

   * 
     '--events', '-E'

     Include Event Scheduler events for the dumped databases in the
     output.  This option requires the 'EVENT' privileges for those
     databases.

   * 
     '--extended-insert', '-e'

     Write *note 'INSERT': insert. statements using multiple-row syntax
     that includes several 'VALUES' lists.  This results in a smaller
     dump file and speeds up inserts when the file is reloaded.

   * 
     '--fields-terminated-by=...',

     '--fields-enclosed-by=...',

     '--fields-optionally-enclosed-by=...',

     '--fields-escaped-by=...'

     These options are used with the '--tab' option and have the same
     meaning as the corresponding 'FIELDS' clauses for *note 'LOAD
     DATA': load-data.  See *note load-data::.

   * 
     '--first-slave'

     Deprecated.  Use '--lock-all-tables' instead.  '--first-slave' was
     removed in MySQL 5.5.3.

   * 
     '--flush-logs', '-F'

     Flush the MySQL server log files before starting the dump.  This
     option requires the 'RELOAD' privilege.  If you use this option in
     combination with the '--all-databases' option, the logs are flushed
     _for each database dumped_.  The exception is when using
     '--lock-all-tables', '--master-data', or (as of MySQL 5.5.21)
     '--single-transaction': In this case, the logs are flushed only
     once, corresponding to the moment that all tables are locked by
     'FLUSH TABLES WITH READ LOCK'.  If you want your dump and the log
     flush to happen at exactly the same moment, you should use
     '--flush-logs' together with '--lock-all-tables', '--master-data',
     or '--single-transaction'.

   * 
     '--flush-privileges'

     Add a 'FLUSH PRIVILEGES' statement to the dump output after dumping
     the 'mysql' database.  This option should be used any time the dump
     contains the 'mysql' database and any other database that depends
     on the data in the 'mysql' database for proper restoration.

   * 
     '--force', '-f'

     Continue even if an SQL error occurs during a table dump.

     One use for this option is to cause *note 'mysqldump': mysqldump.
     to continue executing even when it encounters a view that has
     become invalid because the definition refers to a table that has
     been dropped.  Without '--force', *note 'mysqldump': mysqldump.
     exits with an error message.  With '--force', *note 'mysqldump':
     mysqldump. prints the error message, but it also writes an SQL
     comment containing the view definition to the dump output and
     continues executing.

   * 
     '--enable-cleartext-plugin'

     Enable the 'mysql_clear_password' cleartext authentication plugin.
     (See *note cleartext-pluggable-authentication::.)

     This option was added in MySQL 5.5.47.

   * 
     '--host=HOST_NAME', '-h HOST_NAME'

     Dump data from the MySQL server on the given host.  The default
     host is 'localhost'.

   * 
     '--hex-blob'

     Dump binary columns using hexadecimal notation (for example,
     ''abc'' becomes '0x616263').  The affected data types are *note
     'BINARY': binary-varbinary, *note 'VARBINARY': binary-varbinary,
     *note 'BLOB': blob. types, *note 'BIT': bit-type, all spatial data
     types, and other non-binary data types when used with the *note
     'binary' character set: charset-binary-set.

   * 
     '--include-master-host-port'

     For the *note 'CHANGE MASTER TO': change-master-to. statement in a
     slave dump produced with the '--dump-slave' option, add
     'MASTER_HOST' and 'MASTER_PORT' options for the host name and
     TCP/IP port number of the slave's master.

   * 
     '--ignore-table=DB_NAME.TBL_NAME'

     Do not dump the given table, which must be specified using both the
     database and table names.  To ignore multiple tables, use this
     option multiple times.  This option also can be used to ignore
     views.

   * 
     '--insert-ignore'

     Write *note 'INSERT IGNORE': insert. statements rather than *note
     'INSERT': insert. statements.

   * 
     '--lines-terminated-by=...'

     This option is used with the '--tab' option and has the same
     meaning as the corresponding 'LINES' clause for *note 'LOAD DATA':
     load-data.  See *note load-data::.

   * 
     '--lock-all-tables', '-x'

     Lock all tables across all databases.  This is achieved by
     acquiring a global read lock for the duration of the whole dump.
     This option automatically turns off '--single-transaction' and
     '--lock-tables'.

   * 
     '--lock-tables', '-l'

     For each dumped database, lock all tables to be dumped before
     dumping them.  The tables are locked with 'READ LOCAL' to permit
     concurrent inserts in the case of 'MyISAM' tables.  For
     transactional tables such as 'InnoDB', '--single-transaction' is a
     much better option than '--lock-tables' because it does not need to
     lock the tables at all.

     Because '--lock-tables' locks tables for each database separately,
     this option does not guarantee that the tables in the dump file are
     logically consistent between databases.  Tables in different
     databases may be dumped in completely different states.

     Some options, such as '--opt', automatically enable
     '--lock-tables'.  If you want to override this, use
     '--skip-lock-tables' at the end of the option list.

   * 
     '--log-error=FILE_NAME'

     Log warnings and errors by appending them to the named file.  The
     default is to do no logging.

   * 
     '--master-data[=VALUE]'

     Use this option to dump a master replication server to produce a
     dump file that can be used to set up another server as a slave of
     the master.  It causes the dump output to include a *note 'CHANGE
     MASTER TO': change-master-to. statement that indicates the binary
     log coordinates (file name and position) of the dumped server.
     These are the master server coordinates from which the slave should
     start replicating after you load the dump file into the slave.

     If the option value is 2, the *note 'CHANGE MASTER TO':
     change-master-to. statement is written as an SQL comment, and thus
     is informative only; it has no effect when the dump file is
     reloaded.  If the option value is 1, the statement is not written
     as a comment and takes effect when the dump file is reloaded.  If
     no option value is specified, the default value is 1.

     This option requires the 'RELOAD' privilege and the binary log must
     be enabled.

     The '--master-data' option automatically turns off '--lock-tables'.
     It also turns on '--lock-all-tables', unless '--single-transaction'
     also is specified, in which case, a global read lock is acquired
     only for a short time at the beginning of the dump (see the
     description for '--single-transaction').  In all cases, any action
     on logs happens at the exact moment of the dump.

     It is also possible to set up a slave by dumping an existing slave
     of the master, using the '--dump-slave' option, which overrides
     '--master-data' and causes it to be ignored if both options are
     used.

   * '--max-allowed-packet=VALUE'

     The maximum size of the buffer for client/server communication.
     The default is 24MB, the maximum is 1GB.

   * '--net-buffer-length=VALUE'

     The initial size of the buffer for client/server communication.
     When creating multiple-row *note 'INSERT': insert. statements (as
     with the '--extended-insert' or '--opt' option), *note 'mysqldump':
     mysqldump. creates rows up to '--net-buffer-length' bytes long.  If
     you increase this variable, ensure that the MySQL server
     'net_buffer_length' system variable has a value at least this
     large.

   * 
     '--no-autocommit'

     Enclose the *note 'INSERT': insert. statements for each dumped
     table within 'SET autocommit = 0' and *note 'COMMIT': commit.
     statements.

   * 
     '--no-create-db', '-n'

     Suppress the *note 'CREATE DATABASE': create-database. statements
     that are otherwise included in the output if the '--databases' or
     '--all-databases' option is given.

   * 
     '--no-create-info', '-t'

     Do not write *note 'CREATE TABLE': create-table. statements that
     create each dumped table.

     *Note*:

     This option does _not_ exclude statements creating log file groups
     or tablespaces from *note 'mysqldump': mysqldump. output; however,
     you can use the '--no-tablespaces' option for this purpose.

   * 
     '--no-data', '-d'

     Do not write any table row information (that is, do not dump table
     contents).  This is useful if you want to dump only the *note
     'CREATE TABLE': create-table. statement for the table (for example,
     to create an empty copy of the table by loading the dump file).

   * 
     '--no-defaults'

     Do not read any option files.  If program startup fails due to
     reading unknown options from an option file, '--no-defaults' can be
     used to prevent them from being read.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--no-set-names', '-N'

     This has the same effect as '--skip-set-charset'.

   * 
     '--no-tablespaces', '-y'

     This option suppresses all *note 'CREATE LOGFILE GROUP':
     create-logfile-group. and *note 'CREATE TABLESPACE':
     create-tablespace. statements in the output of *note 'mysqldump':
     mysqldump.

   * 
     '--opt'

     This option is shorthand.  It is the same as specifying
     '--add-drop-table' '--add-locks' '--create-options'
     '--disable-keys' '--extended-insert' '--lock-tables' '--quick'
     '--set-charset'.  It should give you a fast dump operation and
     produce a dump file that can be reloaded into a MySQL server
     quickly.

     _The '--opt' option is enabled by default.  Use '--skip-opt' to
     disable it._  See the discussion at the beginning of this section
     for information about selectively enabling or disabling a subset of
     the options affected by '--opt'.

   * 
     '--order-by-primary'

     Dump each table's rows sorted by its primary key, or by its first
     unique index, if such an index exists.  This is useful when dumping
     a 'MyISAM' table to be loaded into an 'InnoDB' table, but will make
     the dump operation take considerably longer.

   * 
     '--password[=PASSWORD]', '-p[PASSWORD]'

     The password of the MySQL account used for connecting to the
     server.  The password value is optional.  If not given, *note
     'mysqldump': mysqldump. prompts for one.  If given, there must be
     _no space_ between '--password=' or '-p' and the password following
     it.  If no password option is specified, the default is to send no
     password.

     Specifying a password on the command line should be considered
     insecure.  To avoid giving the password on the command line, use an
     option file.  See *note password-security-user::.

     To explicitly specify that there is no password and that *note
     'mysqldump': mysqldump. should not prompt for one, use the
     '--skip-password' option.

   * 
     '--pipe', '-W'

     On Windows, connect to the server using a named pipe.  This option
     applies only if the server was started with the 'named_pipe' system
     variable enabled to support named-pipe connections.

   * 
     '--plugin-dir=DIR_NAME'

     The directory in which to look for plugins.  Specify this option if
     the '--default-auth' option is used to specify an authentication
     plugin but *note 'mysqldump': mysqldump. does not find it.  See
     *note pluggable-authentication::.

     This option was added in MySQL 5.5.9.

   * 
     '--port=PORT_NUM', '-P PORT_NUM'

     For TCP/IP connections, the port number to use.

   * 
     '--print-defaults'

     Print the program name and all options that it gets from option
     files.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--protocol={TCP|SOCKET|PIPE|MEMORY}'

     The connection protocol to use for connecting to the server.  It is
     useful when the other connection parameters normally result in use
     of a protocol other than the one you want.  For details on the
     permissible values, see *note connecting::.

   * 
     '--quick', '-q'

     This option is useful for dumping large tables.  It forces *note
     'mysqldump': mysqldump. to retrieve rows for a table from the
     server a row at a time rather than retrieving the entire row set
     and buffering it in memory before writing it out.

   * 
     '--quote-names', '-Q'

     Quote identifiers (such as database, table, and column names)
     within '`' characters.  If the 'ANSI_QUOTES' SQL mode is enabled,
     identifiers are quoted within '"' characters.  This option is
     enabled by default.  It can be disabled with '--skip-quote-names',
     but this option should be given after any option such as
     '--compatible' that may enable '--quote-names'.

   * 
     '--replace'

     Write *note 'REPLACE': replace. statements rather than *note
     'INSERT': insert. statements.

   * 
     '--result-file=FILE_NAME', '-r FILE_NAME'

     Direct output to the named file.  The result file is created and
     its previous contents overwritten, even if an error occurs while
     generating the dump.

     This option should be used on Windows to prevent newline '\n'
     characters from being converted to '\r\n' carriage return/newline
     sequences.

   * 
     '--routines', '-R'

     Include stored routines (procedures and functions) for the dumped
     databases in the output.  This option requires the 'SELECT'
     privilege for the 'mysql.proc' table.

     The output generated by using '--routines' contains *note 'CREATE
     PROCEDURE': create-procedure. and *note 'CREATE FUNCTION':
     create-function. statements to create the routines.  However, these
     statements do not include attributes such as the routine creation
     and modification timestamps, so when the routines are reloaded,
     they are created with timestamps equal to the reload time.

     If you require routines to be created with their original timestamp
     attributes, do not use '--routines'.  Instead, dump and reload the
     contents of the 'mysql.proc' table directly, using a MySQL account
     that has appropriate privileges for the 'mysql' database.

     Prior to MySQL 5.5.21, this option had no effect when used together
     with the '--xml' option.  (Bug #11760384, Bug #52792)

   * 
     '--set-charset'

     Write *note 'SET NAMES DEFAULT_CHARACTER_SET': set-names. to the
     output.  This option is enabled by default.  To suppress the *note
     'SET NAMES': set-names. statement, use '--skip-set-charset'.

   * 
     '--shared-memory-base-name=NAME'

     On Windows, the shared-memory name to use for connections made
     using shared memory to a local server.  The default value is
     'MYSQL'.  The shared-memory name is case-sensitive.

     This option applies only if the server was started with the
     'shared_memory' system variable enabled to support shared-memory
     connections.

   * 
     '--single-transaction'

     This option sets the transaction isolation mode to 'REPEATABLE
     READ' and sends a *note 'START TRANSACTION': commit. SQL statement
     to the server before dumping data.  It is useful only with
     transactional tables such as 'InnoDB', because then it dumps the
     consistent state of the database at the time when *note 'START
     TRANSACTION': commit. was issued without blocking any applications.

     When using this option, you should keep in mind that only 'InnoDB'
     tables are dumped in a consistent state.  For example, any 'MyISAM'
     or 'MEMORY' tables dumped while using this option may still change
     state.

     While a '--single-transaction' dump is in process, to ensure a
     valid dump file (correct table contents and binary log
     coordinates), no other connection should use the following
     statements: *note 'ALTER TABLE': alter-table, *note 'CREATE TABLE':
     create-table, *note 'DROP TABLE': drop-table, *note 'RENAME TABLE':
     rename-table, *note 'TRUNCATE TABLE': truncate-table.  A consistent
     read is not isolated from those statements, so use of them on a
     table to be dumped can cause the *note 'SELECT': select. that is
     performed by *note 'mysqldump': mysqldump. to retrieve the table
     contents to obtain incorrect contents or fail.

     The '--single-transaction' option and the '--lock-tables' option
     are mutually exclusive because *note 'LOCK TABLES': lock-tables.
     causes any pending transactions to be committed implicitly.

     This option is not supported for NDB Cluster tables; the results
     cannot be guaranteed to be consistent due to the fact that the
     *note 'NDBCLUSTER': mysql-cluster. storage engine supports only the
     'READ_COMMITTED' transaction isolation level.  You should always
     use *note 'NDB': mysql-cluster. backup and restore instead.

     To dump large tables, combine the '--single-transaction' option
     with the '--quick' option.

   * 
     '--skip-comments'

     See the description for the '--comments' option.

   * 
     '--skip-opt'

     See the description for the '--opt' option.

   * 
     '--socket=PATH', '-S PATH'

     For connections to 'localhost', the Unix socket file to use, or, on
     Windows, the name of the named pipe to use.

     On Windows, this option applies only if the server was started with
     the 'named_pipe' system variable enabled to support named-pipe
     connections.

   * 
     '--ssl*'

     Options that begin with '--ssl' specify whether to connect to the
     server using SSL and indicate where to find SSL keys and
     certificates.  See *note encrypted-connection-options::.

   * 
     '--tab=DIR_NAME', '-T DIR_NAME'

     Produce tab-separated text-format data files.  For each dumped
     table, *note 'mysqldump': mysqldump. creates a 'TBL_NAME.sql' file
     that contains the *note 'CREATE TABLE': create-table. statement
     that creates the table, and the server writes a 'TBL_NAME.txt' file
     that contains its data.  The option value is the directory in which
     to write the files.

     *Note*:

     This option should be used only when *note 'mysqldump': mysqldump.
     is run on the same machine as the *note 'mysqld': mysqld. server.
     Because the server creates '*.txt' files in the directory that you
     specify, the directory must be writable by the server and the MySQL
     account that you use must have the 'FILE' privilege.  Because *note
     'mysqldump': mysqldump. creates '*.sql' in the same directory, it
     must be writable by your system login account.

     By default, the '.txt' data files are formatted using tab
     characters between column values and a newline at the end of each
     line.  The format can be specified explicitly using the
     '--fields-XXX' and '--lines-terminated-by' options.

     Column values are converted to the character set specified by the
     '--default-character-set' option.

   * 
     '--tables'

     Override the '--databases' or '-B' option.  *note 'mysqldump':
     mysqldump. regards all name arguments following the option as table
     names.

   * 
     '--triggers'

     Include triggers for each dumped table in the output.  This option
     is enabled by default; disable it with '--skip-triggers'.

     To be able to dump a table's triggers, you must have the 'TRIGGER'
     privilege for the table.

   * 
     '--tz-utc'

     This option enables *note 'TIMESTAMP': datetime. columns to be
     dumped and reloaded between servers in different time zones.  *note
     'mysqldump': mysqldump. sets its connection time zone to UTC and
     adds 'SET TIME_ZONE='+00:00'' to the dump file.  Without this
     option, *note 'TIMESTAMP': datetime. columns are dumped and
     reloaded in the time zones local to the source and destination
     servers, which can cause the values to change if the servers are in
     different time zones.  '--tz-utc' also protects against changes due
     to daylight saving time.  '--tz-utc' is enabled by default.  To
     disable it, use '--skip-tz-utc'.

   * 
     '--user=USER_NAME', '-u USER_NAME'

     The user name of the MySQL account to use for connecting to the
     server.

   * 
     '--verbose', '-v'

     Verbose mode.  Print more information about what the program does.

   * 
     '--version', '-V'

     Display version information and exit.

   * 
     '--where='WHERE_CONDITION'', '-w 'WHERE_CONDITION''

     Dump only rows selected by the given 'WHERE' condition.  Quotes
     around the condition are mandatory if it contains spaces or other
     characters that are special to your command interpreter.

     Examples:

          --where="user='jimf'"
          -w"userid>1"
          -w"userid<1"

   * 
     '--xml', '-X'

     Write dump output as well-formed XML.

     *'NULL', ''NULL'', and Empty Values*: For a column named
     COLUMN_NAME, the 'NULL' value, an empty string, and the string
     value ''NULL'' are distinguished from one another in the output
     generated by this option as follows.

     Value:                               XML Representation:
                                          
     'NULL' (_unknown value_)             
                                          '<field name="COLUMN_NAME"
                                          xsi:nil="true" />'
                                          
     '''' (_empty string_)                
                                          '<field
                                          name="COLUMN_NAME"></field>'
                                          
     ''NULL'' (_string value_)            
                                          '<field
                                          name="COLUMN_NAME">NULL</field>'

     The output from the *note 'mysql': mysql. client when run using the
     '--xml' option also follows the preceding rules.  (See *note
     mysql-command-options::.)

     XML output from *note 'mysqldump': mysqldump. includes the XML
     namespace, as shown here:

          shell> mysqldump --xml -u root world City
          <?xml version="1.0"?>
          <mysqldump xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <database name="world">
          <table_structure name="City">
          <field Field="ID" Type="int(11)" Null="NO" Key="PRI" Extra="auto_increment" />
          <field Field="Name" Type="char(35)" Null="NO" Key="" Default="" Extra="" />
          <field Field="CountryCode" Type="char(3)" Null="NO" Key="" Default="" Extra="" />
          <field Field="District" Type="char(20)" Null="NO" Key="" Default="" Extra="" />
          <field Field="Population" Type="int(11)" Null="NO" Key="" Default="0" Extra="" />
          <key Table="City" Non_unique="0" Key_name="PRIMARY" Seq_in_index="1" Column_name="ID"
          Collation="A" Cardinality="4079" Null="" Index_type="BTREE" Comment="" />
          <options Name="City" Engine="MyISAM" Version="10" Row_format="Fixed" Rows="4079"
          Avg_row_length="67" Data_length="273293" Max_data_length="18858823439613951"
          Index_length="43008" Data_free="0" Auto_increment="4080"
          Create_time="2007-03-31 01:47:01" Update_time="2007-03-31 01:47:02"
          Collation="latin1_swedish_ci" Create_options="" Comment="" />
          </table_structure>
          <table_data name="City">
          <row>
          <field name="ID">1</field>
          <field name="Name">Kabul</field>
          <field name="CountryCode">AFG</field>
          <field name="District">Kabol</field>
          <field name="Population">1780000</field>
          </row>

          ...

          <row>
          <field name="ID">4079</field>
          <field name="Name">Rafah</field>
          <field name="CountryCode">PSE</field>
          <field name="District">Rafah</field>
          <field name="Population">92020</field>
          </row>
          </table_data>
          </database>
          </mysqldump>

     Prior to MySQL 5.5.21, this option prevented the '--routines'
     option from working correctly--that is, no stored routines,
     triggers, or events could be dumped in XML format.  (Bug #11760384,
     Bug #52792)

A common use of *note 'mysqldump': mysqldump. is for making a backup of
an entire database:

     shell> mysqldump DB_NAME > BACKUP-FILE.SQL

You can load the dump file back into the server like this:

     shell> mysql DB_NAME < BACKUP-FILE.SQL

Or like this:

     shell> mysql -e "source /PATH-TO-BACKUP/BACKUP-FILE.SQL" DB_NAME

*note 'mysqldump': mysqldump. is also very useful for populating
databases by copying data from one MySQL server to another:

     shell> mysqldump --opt DB_NAME | mysql --host=REMOTE_HOST -C DB_NAME

It is possible to dump several databases with one command:

     shell> mysqldump --databases DB_NAME1 [DB_NAME2 ...] > my_databases.sql

To dump all databases, use the '--all-databases' option:

     shell> mysqldump --all-databases > all_databases.sql

For 'InnoDB' tables, *note 'mysqldump': mysqldump. provides a way of
making an online backup:

     shell> mysqldump --all-databases --master-data --single-transaction > all_databases.sql

This backup acquires a global read lock on all tables (using 'FLUSH
TABLES WITH READ LOCK') at the beginning of the dump.  As soon as this
lock has been acquired, the binary log coordinates are read and the lock
is released.  If long updating statements are running when the *note
'FLUSH': flush. statement is issued, the MySQL server may get stalled
until those statements finish.  After that, the dump becomes lock free
and does not disturb reads and writes on the tables.  If the update
statements that the MySQL server receives are short (in terms of
execution time), the initial lock period should not be noticeable, even
with many updates.

For point-in-time recovery (also known as 'roll-forward,' when you need
to restore an old backup and replay the changes that happened since that
backup), it is often useful to rotate the binary log (see *note
binary-log::) or at least know the binary log coordinates to which the
dump corresponds:

     shell> mysqldump --all-databases --master-data=2 > all_databases.sql

Or:

     shell> mysqldump --all-databases --flush-logs --master-data=2
                   > all_databases.sql

The '--master-data' and '--single-transaction' options can be used
simultaneously, which provides a convenient way to make an online backup
suitable for use prior to point-in-time recovery if tables are stored
using the 'InnoDB' storage engine.

For more information on making backups, see *note backup-methods::, and
*note backup-strategy-example::.

If you encounter problems backing up views, please read the section that
covers restrictions on views which describes a workaround for backing up
views when this fails due to insufficient privileges.  See *note
view-restrictions::.


File: manual.info.tmp,  Node: mysqlimport,  Next: mysqlshow,  Prev: mysqldump,  Up: programs-client

4.5.5 'mysqlimport' -- A Data Import Program
--------------------------------------------

The *note 'mysqlimport': mysqlimport. client provides a command-line
interface to the *note 'LOAD DATA': load-data. SQL statement.  Most
options to *note 'mysqlimport': mysqlimport. correspond directly to
clauses of *note 'LOAD DATA': load-data. syntax.  See *note load-data::.

Invoke *note 'mysqlimport': mysqlimport. like this:

     shell> mysqlimport [OPTIONS] DB_NAME TEXTFILE1 [TEXTFILE2 ...]

For each text file named on the command line, *note 'mysqlimport':
mysqlimport. strips any extension from the file name and uses the result
to determine the name of the table into which to import the file's
contents.  For example, files named 'patient.txt', 'patient.text', and
'patient' all would be imported into a table named 'patient'.

*note 'mysqlimport': mysqlimport. supports the following options, which
can be specified on the command line or in the '[mysqlimport]' and
'[client]' groups of an option file.  For information about option files
used by MySQL programs, see *note option-files::.

*mysqlimport Options*

Option Name            Description                              Introduced
                                                                
-columns               This option takes a comma-separated      
                       list of column names as its value
                       
-compress              Compress all information sent between    
                       client and server
                       
-debug                 Write debugging log                      
                       
-debug-check           Print debugging information when         
                       program exits
                       
-debug-info            Print debugging information, memory,     
                       and CPU statistics when program exits
                       
-default-auth          Authentication plugin to use             5.5.10
                                                                
-default-character-set Specify default character set            
                       
-defaults-extra-file   Read named option file in addition to    
                       usual option files
                       
-defaults-file         Read only named option file              
                       
-defaults-group-suffix Option group suffix value                
                       
-delete                Empty the table before importing the     
                       text file
                       
-enable-cleartext-pluginEnable cleartext authentication plugin  5.5.47
                                                                
-fields-enclosed-by    This option has the same meaning as      
                       the corresponding clause for LOAD DATA
                       
-fields-escaped-by     This option has the same meaning as      
                       the corresponding clause for LOAD DATA
                       
-fields-optionally-enclosed-byThis option has the same meaning as
                       the corresponding clause for LOAD DATA
                       
-fields-terminated-by  This option has the same meaning as      
                       the corresponding clause for LOAD DATA
                       
-force                 Continue even if an SQL error occurs     
                       
-help                  Display help message and exit            
                       
-host                  Host on which MySQL server is located    
                       
-ignore                See the description for the -replace     
                       option
                       
-ignore-lines          Ignore the first N lines of the data     
                       file
                       
-lines-terminated-by   This option has the same meaning as      
                       the corresponding clause for LOAD DATA
                       
-local                 Read input files locally from the        
                       client host
                       
-lock-tables           Lock all tables for writing before       
                       processing any text files
                       
-low-priority          Use LOW_PRIORITY when loading the        
                       table
                       
-no-defaults           Read no option files                     
                       
-password              Password to use when connecting to       
                       server
                       
-pipe                  Connect to server using named pipe       
                       (Windows only)
                       
-plugin-dir            Directory where plugins are installed    5.5.10
                                                                
-port                  TCP/IP port number for connection        
                       
-print-defaults        Print default options                    
                       
-protocol              Connection protocol to use               
                       
-replace               The -replace and -ignore options         
                       control handling of input rows that
                       duplicate existing rows on unique key
                       values
                       
-shared-memory-base-nameName of shared memory to use for        
                       shared-memory connections
                       
-silent                Produce output only when errors occur    
                       
-socket                Unix socket file or Windows named pipe   
                       to use
                       
-ssl                   Enable connection encryption             
                       
-ssl-ca                File that contains list of trusted SSL   
                       Certificate Authorities
                       
-ssl-capath            Directory that contains trusted SSL      
                       Certificate Authority certificate
                       files
                       
-ssl-cert              File that contains X.509 certificate     
                       
-ssl-cipher            Permissible ciphers for connection       
                       encryption
                       
-ssl-key               File that contains X.509 key             
                       
-ssl-mode              Desired security state of connection     5.5.49
                       to server                                
                       
-ssl-verify-server-certVerify host name against server          
                       certificate Common Name identity
                       
-use-threads           Number of threads for parallel           
                       file-loading
                       
-user                  MySQL user name to use when connecting   
                       to server
                       
-verbose               Verbose mode                             
                       
-version               Display version information and exit
                       

   * 
     '--help', '-?'

     Display a help message and exit.

     The output generated by using '--events' contains *note 'CREATE
     EVENT': create-event. statements to create the events.  However,
     these statements do not include attributes such as the event
     creation and modification timestamps, so when the events are
     reloaded, they are created with timestamps equal to the reload
     time.

     If you require events to be created with their original timestamp
     attributes, do not use '--events'.  Instead, dump and reload the
     contents of the 'mysql.event' table directly, using a MySQL account
     that has appropriate privileges for the 'mysql' database.

   * 
     '--bind-address=IP_ADDRESS'

     On a computer having multiple network interfaces, use this option
     to select which interface to use for connecting to the MySQL
     server.

     This option is supported only in the version of *note
     'mysqlimport': mysqlimport. that is supplied with NDB Cluster.  It
     is not available in standard MySQL Server 5.5 releases.

   * 
     '--character-sets-dir=DIR_NAME'

     The directory where character sets are installed.  See *note
     charset-configuration::.

   * 
     '--columns=COLUMN_LIST', '-c COLUMN_LIST'

     This option takes a list of comma-separated column names as its
     value.  The order of the column names indicates how to match data
     file columns with table columns.

   * 
     '--compress', '-C'

     Compress all information sent between the client and the server if
     possible.  See *note connection-compression-control::.

   * 
     '--debug[=DEBUG_OPTIONS]', '-# [DEBUG_OPTIONS]'

     Write a debugging log.  A typical DEBUG_OPTIONS string is
     'd:t:o,FILE_NAME'.  The default is 'd:t:o'.

   * 
     '--debug-check'

     Print some debugging information when the program exits.

   * 
     '--debug-info'

     Print debugging information and memory and CPU usage statistics
     when the program exits.

   * 
     '--default-character-set=CHARSET_NAME'

     Use CHARSET_NAME as the default character set.  See *note
     charset-configuration::.

   * 
     '--default-auth=PLUGIN'

     A hint about which client-side authentication plugin to use.  See
     *note pluggable-authentication::.

     This option was added in MySQL 5.5.10.

   * 
     '--defaults-extra-file=FILE_NAME'

     Read this option file after the global option file but (on Unix)
     before the user option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--defaults-file=FILE_NAME'

     Use only the given option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name.

   * 
     '--defaults-group-suffix=STR'

     Read not only the usual option groups, but also groups with the
     usual names and a suffix of STR.  For example, *note 'mysqlimport':
     mysqlimport. normally reads the '[client]' and '[mysqlimport]'
     groups.  If the '--defaults-group-suffix=_other' option is given,
     *note 'mysqlimport': mysqlimport. also reads the '[client_other]'
     and '[mysqlimport_other]' groups.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--delete', '-D'

     Empty the table before importing the text file.

   * 
     '--enable-cleartext-plugin'

     Enable the 'mysql_clear_password' cleartext authentication plugin.
     (See *note cleartext-pluggable-authentication::.)

     This option was added in MySQL 5.5.47.

   * 
     '--fields-terminated-by=...',

     '--fields-enclosed-by=...',

     '--fields-optionally-enclosed-by=...',

     '--fields-escaped-by=...'

     These options have the same meaning as the corresponding clauses
     for *note 'LOAD DATA': load-data.  See *note load-data::.

   * 
     '--force', '-f'

     Ignore errors.  For example, if a table for a text file does not
     exist, continue processing any remaining files.  Without '--force',
     *note 'mysqlimport': mysqlimport. exits if a table does not exist.

   * 
     '--host=HOST_NAME', '-h HOST_NAME'

     Import data to the MySQL server on the given host.  The default
     host is 'localhost'.

   * 
     '--ignore', '-i'

     See the description for the '--replace' option.

   * 
     '--ignore-lines=N'

     Ignore the first N lines of the data file.

   * 
     '--lines-terminated-by=...'

     This option has the same meaning as the corresponding clause for
     *note 'LOAD DATA': load-data.  For example, to import Windows files
     that have lines terminated with carriage return/linefeed pairs, use
     '--lines-terminated-by="\r\n"'.  (You might have to double the
     backslashes, depending on the escaping conventions of your command
     interpreter.)  See *note load-data::.

   * 
     '--local', '-L'

     By default, files are read by the server on the server host.  With
     this option, *note 'mysqlimport': mysqlimport. reads input files
     locally on the client host.  Enabling local data loading also
     requires that the server permits it; see *note load-data-local::

   * 
     '--lock-tables', '-l'

     Lock _all_ tables for writing before processing any text files.
     This ensures that all tables are synchronized on the server.

   * 
     '--low-priority'

     Use 'LOW_PRIORITY' when loading the table.  This affects only
     storage engines that use only table-level locking (such as
     'MyISAM', 'MEMORY', and 'MERGE').

   * 
     '--no-defaults'

     Do not read any option files.  If program startup fails due to
     reading unknown options from an option file, '--no-defaults' can be
     used to prevent them from being read.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--password[=PASSWORD]', '-p[PASSWORD]'

     The password of the MySQL account used for connecting to the
     server.  The password value is optional.  If not given, *note
     'mysqlimport': mysqlimport. prompts for one.  If given, there must
     be _no space_ between '--password=' or '-p' and the password
     following it.  If no password option is specified, the default is
     to send no password.

     Specifying a password on the command line should be considered
     insecure.  To avoid giving the password on the command line, use an
     option file.  See *note password-security-user::.

     To explicitly specify that there is no password and that *note
     'mysqlimport': mysqlimport. should not prompt for one, use the
     '--skip-password' option.

   * 
     '--pipe', '-W'

     On Windows, connect to the server using a named pipe.  This option
     applies only if the server was started with the 'named_pipe' system
     variable enabled to support named-pipe connections.

   * 
     '--plugin-dir=DIR_NAME'

     The directory in which to look for plugins.  Specify this option if
     the '--default-auth' option is used to specify an authentication
     plugin but *note 'mysqlimport': mysqlimport. does not find it.  See
     *note pluggable-authentication::.

     This option was added in MySQL 5.5.10.

   * 
     '--port=PORT_NUM', '-P PORT_NUM'

     For TCP/IP connections, the port number to use.

   * 
     '--print-defaults'

     Print the program name and all options that it gets from option
     files.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--protocol={TCP|SOCKET|PIPE|MEMORY}'

     The connection protocol to use for connecting to the server.  It is
     useful when the other connection parameters normally result in use
     of a protocol other than the one you want.  For details on the
     permissible values, see *note connecting::.

   * 
     '--replace', '-r'

     The '--replace' and '--ignore' options control handling of input
     rows that duplicate existing rows on unique key values.  If you
     specify '--replace', new rows replace existing rows that have the
     same unique key value.  If you specify '--ignore', input rows that
     duplicate an existing row on a unique key value are skipped.  If
     you do not specify either option, an error occurs when a duplicate
     key value is found, and the rest of the text file is ignored.

   * 
     '--shared-memory-base-name=NAME'

     On Windows, the shared-memory name to use for connections made
     using shared memory to a local server.  The default value is
     'MYSQL'.  The shared-memory name is case-sensitive.

     This option applies only if the server was started with the
     'shared_memory' system variable enabled to support shared-memory
     connections.

   * 
     '--silent', '-s'

     Silent mode.  Produce output only when errors occur.

   * 
     '--socket=PATH', '-S PATH'

     For connections to 'localhost', the Unix socket file to use, or, on
     Windows, the name of the named pipe to use.

     On Windows, this option applies only if the server was started with
     the 'named_pipe' system variable enabled to support named-pipe
     connections.

   * 
     '--ssl*'

     Options that begin with '--ssl' specify whether to connect to the
     server using SSL and indicate where to find SSL keys and
     certificates.  See *note encrypted-connection-options::.

   * 
     '--user=USER_NAME', '-u USER_NAME'

     The user name of the MySQL account to use for connecting to the
     server.

   * 
     '--use-threads=N'

     Load files in parallel using N threads.

   * 
     '--verbose', '-v'

     Verbose mode.  Print more information about what the program does.

   * 
     '--version', '-V'

     Display version information and exit.

Here is a sample session that demonstrates use of *note 'mysqlimport':
mysqlimport.:

     shell> mysql -e 'CREATE TABLE imptest(id INT, n VARCHAR(30))' test
     shell> ed
     a
     100     Max Sydow
     101     Count Dracula
     .
     w imptest.txt
     32
     q
     shell> od -c imptest.txt
     0000000   1   0   0  \t   M   a   x       S   y   d   o   w  \n   1   0
     0000020   1  \t   C   o   u   n   t       D   r   a   c   u   l   a  \n
     0000040
     shell> mysqlimport --local test imptest.txt
     test.imptest: Records: 2  Deleted: 0  Skipped: 0  Warnings: 0
     shell> mysql -e 'SELECT * FROM imptest' test
     +------+---------------+
     | id   | n             |
     +------+---------------+
     |  100 | Max Sydow     |
     |  101 | Count Dracula |
     +------+---------------+


File: manual.info.tmp,  Node: mysqlshow,  Next: mysqlslap,  Prev: mysqlimport,  Up: programs-client

4.5.6 'mysqlshow' -- Display Database, Table, and Column Information
--------------------------------------------------------------------

The *note 'mysqlshow': mysqlshow. client can be used to quickly see
which databases exist, their tables, or a table's columns or indexes.

*note 'mysqlshow': mysqlshow. provides a command-line interface to
several SQL *note 'SHOW': show. statements.  See *note show::.  The same
information can be obtained by using those statements directly.  For
example, you can issue them from the *note 'mysql': mysql. client
program.

Invoke *note 'mysqlshow': mysqlshow. like this:

     shell> mysqlshow [OPTIONS] [DB_NAME [TBL_NAME [COL_NAME]]]

   * If no database is given, a list of database names is shown.

   * If no table is given, all matching tables in the database are
     shown.

   * If no column is given, all matching columns and column types in the
     table are shown.

The output displays only the names of those databases, tables, or
columns for which you have some privileges.

If the last argument contains shell or SQL wildcard characters ('*',
'?', '%', or '_'), only those names that are matched by the wildcard are
shown.  If a database name contains any underscores, those should be
escaped with a backslash (some Unix shells require two) to get a list of
the proper tables or columns.  '*' and '?' characters are converted into
SQL '%' and '_' wildcard characters.  This might cause some confusion
when you try to display the columns for a table with a '_' in the name,
because in this case, *note 'mysqlshow': mysqlshow. shows you only the
table names that match the pattern.  This is easily fixed by adding an
extra '%' last on the command line as a separate argument.

*note 'mysqlshow': mysqlshow. supports the following options, which can
be specified on the command line or in the '[mysqlshow]' and '[client]'
groups of an option file.  For information about option files used by
MySQL programs, see *note option-files::.

*mysqlshow Options*

Option Name            Description                              Introduced
                                                                
-bind-address          Use specified network interface to       5.5.8
                       connect to MySQL Server                  
                       
-compress              Compress all information sent between    
                       client and server
                       
-count                 Show the number of rows per table        
                       
-debug                 Write debugging log                      
                       
-debug-check           Print debugging information when         
                       program exits
                       
-debug-info            Print debugging information, memory,     
                       and CPU statistics when program exits
                       
-default-auth          Authentication plugin to use             5.5.10
                                                                
-default-character-set Specify default character set            
                       
-defaults-extra-file   Read named option file in addition to    
                       usual option files
                       
-defaults-file         Read only named option file              
                       
-defaults-group-suffix Option group suffix value                
                       
-enable-cleartext-pluginEnable cleartext authentication plugin  5.5.47
                                                                
-help                  Display help message and exit            
                       
-host                  Host on which MySQL server is located    
                       
-keys                  Show table indexes                       
                       
-no-defaults           Read no option files                     
                       
-password              Password to use when connecting to       
                       server
                       
-pipe                  Connect to server using named pipe       
                       (Windows only)
                       
-plugin-dir            Directory where plugins are installed    5.5.10
                                                                
-port                  TCP/IP port number for connection        
                       
-print-defaults        Print default options                    
                       
-protocol              Connection protocol to use               
                       
-shared-memory-base-nameName of shared memory to use for        
                       shared-memory connections
                       
-show-table-type       Show a column indicating the table       
                       type
                       
-socket                Unix socket file or Windows named pipe   
                       to use
                       
-ssl                   Enable connection encryption             
                       
-ssl-ca                File that contains list of trusted SSL   
                       Certificate Authorities
                       
-ssl-capath            Directory that contains trusted SSL      
                       Certificate Authority certificate
                       files
                       
-ssl-cert              File that contains X.509 certificate     
                       
-ssl-cipher            Permissible ciphers for connection       
                       encryption
                       
-ssl-key               File that contains X.509 key             
                       
-ssl-mode              Desired security state of connection     5.5.49
                       to server                                
                       
-ssl-verify-server-certVerify host name against server          
                       certificate Common Name identity
                       
-status                Display extra information about each     
                       table
                       
-user                  MySQL user name to use when connecting   
                       to server
                       
-verbose               Verbose mode                             
                       
-version               Display version information and exit
                       

   * 
     '--help', '-?'

     Display a help message and exit.

   * 
     '--bind-address=IP_ADDRESS'

     On a computer having multiple network interfaces, use this option
     to select which interface to use for connecting to the MySQL
     server.

     This option is supported only in the version of *note 'mysqlshow':
     mysqlshow. that is supplied with NDB Cluster.  It is not available
     in standard MySQL Server 5.5 releases.

   * 
     '--character-sets-dir=DIR_NAME'

     The directory where character sets are installed.  See *note
     charset-configuration::.

   * 
     '--compress', '-C'

     Compress all information sent between the client and the server if
     possible.  See *note connection-compression-control::.

   * 
     '--count'

     Show the number of rows per table.  This can be slow for
     non-'MyISAM' tables.

   * 
     '--debug[=DEBUG_OPTIONS]', '-# [DEBUG_OPTIONS]'

     Write a debugging log.  A typical DEBUG_OPTIONS string is
     'd:t:o,FILE_NAME'.  The default is 'd:t:o'.

   * 
     '--debug-check'

     Print some debugging information when the program exits.

   * 
     '--debug-info'

     Print debugging information and memory and CPU usage statistics
     when the program exits.

   * 
     '--default-character-set=CHARSET_NAME'

     Use CHARSET_NAME as the default character set.  See *note
     charset-configuration::.

   * 
     '--default-auth=PLUGIN'

     A hint about which client-side authentication plugin to use.  See
     *note pluggable-authentication::.

     This option was added in MySQL 5.5.10.

   * 
     '--defaults-extra-file=FILE_NAME'

     Read this option file after the global option file but (on Unix)
     before the user option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--defaults-file=FILE_NAME'

     Use only the given option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name.

   * 
     '--defaults-group-suffix=STR'

     Read not only the usual option groups, but also groups with the
     usual names and a suffix of STR.  For example, *note 'mysqlshow':
     mysqlshow. normally reads the '[client]' and '[mysqlshow]' groups.
     If the '--defaults-group-suffix=_other' option is given, *note
     'mysqlshow': mysqlshow. also reads the '[client_other]' and
     '[mysqlshow_other]' groups.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--enable-cleartext-plugin'

     Enable the 'mysql_clear_password' cleartext authentication plugin.
     (See *note cleartext-pluggable-authentication::.)

     This option was added in MySQL 5.5.47.

   * 
     '--host=HOST_NAME', '-h HOST_NAME'

     Connect to the MySQL server on the given host.

   * 
     '--keys', '-k'

     Show table indexes.

   * 
     '--no-defaults'

     Do not read any option files.  If program startup fails due to
     reading unknown options from an option file, '--no-defaults' can be
     used to prevent them from being read.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--password[=PASSWORD]', '-p[PASSWORD]'

     The password of the MySQL account used for connecting to the
     server.  The password value is optional.  If not given, *note
     'mysqlshow': mysqlshow. prompts for one.  If given, there must be
     _no space_ between '--password=' or '-p' and the password following
     it.  If no password option is specified, the default is to send no
     password.

     Specifying a password on the command line should be considered
     insecure.  To avoid giving the password on the command line, use an
     option file.  See *note password-security-user::.

     To explicitly specify that there is no password and that *note
     'mysqlshow': mysqlshow. should not prompt for one, use the
     '--skip-password' option.

   * 
     '--pipe', '-W'

     On Windows, connect to the server using a named pipe.  This option
     applies only if the server was started with the 'named_pipe' system
     variable enabled to support named-pipe connections.

   * 
     '--plugin-dir=DIR_NAME'

     The directory in which to look for plugins.  Specify this option if
     the '--default-auth' option is used to specify an authentication
     plugin but *note 'mysqlshow': mysqlshow. does not find it.  See
     *note pluggable-authentication::.

     This option was added in MySQL 5.5.10.

   * 
     '--port=PORT_NUM', '-P PORT_NUM'

     For TCP/IP connections, the port number to use.

   * 
     '--print-defaults'

     Print the program name and all options that it gets from option
     files.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--protocol={TCP|SOCKET|PIPE|MEMORY}'

     The connection protocol to use for connecting to the server.  It is
     useful when the other connection parameters normally result in use
     of a protocol other than the one you want.  For details on the
     permissible values, see *note connecting::.

   * 
     '--shared-memory-base-name=NAME'

     On Windows, the shared-memory name to use for connections made
     using shared memory to a local server.  The default value is
     'MYSQL'.  The shared-memory name is case-sensitive.

     This option applies only if the server was started with the
     'shared_memory' system variable enabled to support shared-memory
     connections.

   * 
     '--show-table-type', '-t'

     Show a column indicating the table type, as in *note 'SHOW FULL
     TABLES': show-tables.  The type is 'BASE TABLE' or 'VIEW'.

   * 
     '--socket=PATH', '-S PATH'

     For connections to 'localhost', the Unix socket file to use, or, on
     Windows, the name of the named pipe to use.

     On Windows, this option applies only if the server was started with
     the 'named_pipe' system variable enabled to support named-pipe
     connections.

   * 
     '--ssl*'

     Options that begin with '--ssl' specify whether to connect to the
     server using SSL and indicate where to find SSL keys and
     certificates.  See *note encrypted-connection-options::.

   * 
     '--status', '-i'

     Display extra information about each table.

   * 
     '--user=USER_NAME', '-u USER_NAME'

     The user name of the MySQL account to use for connecting to the
     server.

   * 
     '--verbose', '-v'

     Verbose mode.  Print more information about what the program does.
     This option can be used multiple times to increase the amount of
     information.

   * 
     '--version', '-V'

     Display version information and exit.


File: manual.info.tmp,  Node: mysqlslap,  Prev: mysqlshow,  Up: programs-client

4.5.7 'mysqlslap' -- Load Emulation Client
------------------------------------------

*note 'mysqlslap': mysqlslap. is a diagnostic program designed to
emulate client load for a MySQL server and to report the timing of each
stage.  It works as if multiple clients are accessing the server.

Invoke *note 'mysqlslap': mysqlslap. like this:

     shell> mysqlslap [OPTIONS]

Some options such as '--create' or '--query' enable you to specify a
string containing an SQL statement or a file containing statements.  If
you specify a file, by default it must contain one statement per line.
(That is, the implicit statement delimiter is the newline character.)
Use the '--delimiter' option to specify a different delimiter, which
enables you to specify statements that span multiple lines or place
multiple statements on a single line.  You cannot include comments in a
file; *note 'mysqlslap': mysqlslap. does not understand them.

*note 'mysqlslap': mysqlslap. runs in three stages:

  1. Create schema, table, and optionally any stored programs or data to
     use for the test.  This stage uses a single client connection.

  2. Run the load test.  This stage can use many client connections.

  3. Clean up (disconnect, drop table if specified).  This stage uses a
     single client connection.

Examples:

Supply your own create and query SQL statements, with 50 clients
querying and 200 selects for each (enter the command on a single line):

     mysqlslap --delimiter=";"
       --create="CREATE TABLE a (b int);INSERT INTO a VALUES (23)"
       --query="SELECT * FROM a" --concurrency=50 --iterations=200

Let *note 'mysqlslap': mysqlslap. build the query SQL statement with a
table of two *note 'INT': integer-types. columns and three *note
'VARCHAR': char. columns.  Use five clients querying 20 times each.  Do
not create the table or insert the data (that is, use the previous
test's schema and data):

     mysqlslap --concurrency=5 --iterations=20
       --number-int-cols=2 --number-char-cols=3
       --auto-generate-sql

Tell the program to load the create, insert, and query SQL statements
from the specified files, where the 'create.sql' file has multiple table
creation statements delimited by '';'' and multiple insert statements
delimited by '';''.  The '--query' file will have multiple queries
delimited by '';''.  Run all the load statements, then run all the
queries in the query file with five clients (five times each):

     mysqlslap --concurrency=5
       --iterations=5 --query=query.sql --create=create.sql
       --delimiter=";"

*note 'mysqlslap': mysqlslap. supports the following options, which can
be specified on the command line or in the '[mysqlslap]' and '[client]'
groups of an option file.  For information about option files used by
MySQL programs, see *note option-files::.

*mysqlslap Options*

Option Name            Description                              Introduced
                                                                
-auto-generate-sql     Generate SQL statements automatically    
                       when they are not supplied in files or
                       using command options
                       
-auto-generate-sql-add-autoincrementAdd AUTO_INCREMENT column to
                       automatically generated tables
                       
-auto-generate-sql-execute-numberSpecify how many queries to generate
                       automatically
                       
-auto-generate-sql-guid-primaryAdd a GUID-based primary key to  
                       automatically generated tables
                       
-auto-generate-sql-load-typeSpecify the test load type          
                       
-auto-generate-sql-secondary-indexesSpecify how many secondary indexes to
                       add to automatically generated tables
                       
-auto-generate-sql-unique-query-numberHow many different queries to generate
                       for automatic tests
                       
-auto-generate-sql-unique-write-numberHow many different queries to generate
                       for -auto-generate-sql-write-number
                       
-auto-generate-sql-write-numberHow many row inserts to perform on
                       each thread
                       
-commit                How many statements to execute before    
                       committing
                       
-compress              Compress all information sent between    
                       client and server
                       
-concurrency           Number of clients to simulate when       
                       issuing the SELECT statement
                       
-create                File or string containing the            
                       statement to use for creating the
                       table
                       
-create-schema         Schema in which to run the tests         
                       
-csv                   Generate output in comma-separated       
                       values format
                       
-debug                 Write debugging log                      
                       
-debug-check           Print debugging information when         
                       program exits
                       
-debug-info            Print debugging information, memory,     
                       and CPU statistics when program exits
                       
-default-auth          Authentication plugin to use             5.5.10
                                                                
-defaults-extra-file   Read named option file in addition to    
                       usual option files
                       
-defaults-file         Read only named option file              
                       
-defaults-group-suffix Option group suffix value                
                       
-delimiter             Delimiter to use in SQL statements       
                       
-detach                Detach (close and reopen) each           
                       connection after each N statements
                       
-enable-cleartext-pluginEnable cleartext authentication plugin  5.5.27
                                                                
-engine                Storage engine to use for creating the   
                       table
                       
-help                  Display help message and exit            
                       
-host                  Host on which MySQL server is located    
                       
-iterations            Number of times to run the tests         
                       
-no-defaults           Read no option files                     
                       
-no-drop               Do not drop any schema created during    5.5.12
                       the test run                             
                       
-number-char-cols      Number of VARCHAR columns to use if      
                       -auto-generate-sql is specified
                       
-number-int-cols       Number of INT columns to use if          
                       -auto-generate-sql is specified
                       
-number-of-queries     Limit each client to approximately       
                       this number of queries
                       
-only-print            Do not connect to databases.             
                       mysqlslap only prints what it would
                       have done
                       
-password              Password to use when connecting to       
                       server
                       
-pipe                  Connect to server using named pipe       
                       (Windows only)
                       
-plugin-dir            Directory where plugins are installed    5.5.10
                                                                
-port                  TCP/IP port number for connection        
                       
-post-query            File or string containing the            
                       statement to execute after the tests
                       have completed
                       
-post-system           String to execute using system() after   
                       the tests have completed
                       
-pre-query             File or string containing the            
                       statement to execute before running
                       the tests
                       
-pre-system            String to execute using system()         
                       before running the tests
                       
-print-defaults        Print default options                    
                       
-protocol              Connection protocol to use               
                       
-query                 File or string containing the SELECT     
                       statement to use for retrieving data
                       
-shared-memory-base-nameName of shared memory to use for        
                       shared-memory connections
                       
-silent                Silent mode                              
                       
-socket                Unix socket file or Windows named pipe   
                       to use
                       
-ssl                   Enable connection encryption             
                       
-ssl-ca                File that contains list of trusted SSL   
                       Certificate Authorities
                       
-ssl-capath            Directory that contains trusted SSL      
                       Certificate Authority certificate
                       files
                       
-ssl-cert              File that contains X.509 certificate     
                       
-ssl-cipher            Permissible ciphers for connection       
                       encryption
                       
-ssl-key               File that contains X.509 key             
                       
-ssl-mode              Desired security state of connection     5.5.49
                       to server                                
                       
-ssl-verify-server-certVerify host name against server          
                       certificate Common Name identity
                       
-user                  MySQL user name to use when connecting   
                       to server
                       
-verbose               Verbose mode                             
                       
-version               Display version information and exit
                       

   * 
     '--help', '-?'

     Display a help message and exit.

   * 
     '--auto-generate-sql', '-a'

     Generate SQL statements automatically when they are not supplied in
     files or using command options.

   * 
     '--auto-generate-sql-add-autoincrement'

     Add an 'AUTO_INCREMENT' column to automatically generated tables.

   * 
     '--auto-generate-sql-execute-number=N'

     Specify how many queries to generate automatically.

   * 
     '--auto-generate-sql-guid-primary'

     Add a GUID-based primary key to automatically generated tables.

   * 
     '--auto-generate-sql-load-type=TYPE'

     Specify the test load type.  The permissible values are 'read'
     (scan tables), 'write' (insert into tables), 'key' (read primary
     keys), 'update' (update primary keys), or 'mixed' (half inserts,
     half scanning selects).  The default is 'mixed'.

   * 
     '--auto-generate-sql-secondary-indexes=N'

     Specify how many secondary indexes to add to automatically
     generated tables.  By default, none are added.

   * 
     '--auto-generate-sql-unique-query-number=N'

     How many different queries to generate for automatic tests.  For
     example, if you run a 'key' test that performs 1000 selects, you
     can use this option with a value of 1000 to run 1000 unique
     queries, or with a value of 50 to perform 50 different selects.
     The default is 10.

   * 
     '--auto-generate-sql-unique-write-number=N'

     How many different queries to generate for
     '--auto-generate-sql-write-number'.  The default is 10.

   * 
     '--auto-generate-sql-write-number=N'

     How many row inserts to perform.  The default is 100.

   * 
     '--commit=N'

     How many statements to execute before committing.  The default is 0
     (no commits are done).

   * 
     '--compress', '-C'

     Compress all information sent between the client and the server if
     possible.  See *note connection-compression-control::.

   * 
     '--concurrency=N', '-c N'

     The number of parallel clients to simulate.

   * 
     '--create=VALUE'

     The file or string containing the statement to use for creating the
     table.

   * 
     '--create-schema=VALUE'

     The schema in which to run the tests.

     *Note*:

     If the '--auto-generate-sql' option is also given, *note
     'mysqlslap': mysqlslap. drops the schema at the end of the test
     run.  To avoid this, use the '--no-drop' option as well.

   * 
     '--csv[=FILE_NAME]'

     Generate output in comma-separated values format.  The output goes
     to the named file, or to the standard output if no file is given.

   * 
     '--debug[=DEBUG_OPTIONS]', '-# [DEBUG_OPTIONS]'

     Write a debugging log.  A typical DEBUG_OPTIONS string is
     'd:t:o,FILE_NAME'.  The default is 'd:t:o,/tmp/mysqlslap.trace'.

   * 
     '--debug-check'

     Print some debugging information when the program exits.

   * 
     '--debug-info', '-T'

     Print debugging information and memory and CPU usage statistics
     when the program exits.

   * 
     '--default-auth=PLUGIN'

     A hint about which client-side authentication plugin to use.  See
     *note pluggable-authentication::.

     This option was added in MySQL 5.5.10.

   * 
     '--defaults-extra-file=FILE_NAME'

     Read this option file after the global option file but (on Unix)
     before the user option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--defaults-file=FILE_NAME'

     Use only the given option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name.

   * 
     '--defaults-group-suffix=STR'

     Read not only the usual option groups, but also groups with the
     usual names and a suffix of STR.  For example, *note 'mysqlslap':
     mysqlslap. normally reads the '[client]' and '[mysqlslap]' groups.
     If the '--defaults-group-suffix=_other' option is given, *note
     'mysqlslap': mysqlslap. also reads the '[client_other]' and
     '[mysqlslap_other]' groups.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--delimiter=STR', '-F STR'

     The delimiter to use in SQL statements supplied in files or using
     command options.

   * 
     '--detach=N'

     Detach (close and reopen) each connection after each N statements.
     The default is 0 (connections are not detached).

   * 
     '--enable-cleartext-plugin'

     Enable the 'mysql_clear_password' cleartext authentication plugin.
     (See *note cleartext-pluggable-authentication::.)  This option was
     added in MySQL 5.5.27.

   * 
     '--engine=ENGINE_NAME', '-e ENGINE_NAME'

     The storage engine to use for creating tables.

   * 
     '--host=HOST_NAME', '-h HOST_NAME'

     Connect to the MySQL server on the given host.

   * 
     '--iterations=N', '-i N'

     The number of times to run the tests.

   * 
     '--no-drop'

     Prevent *note 'mysqlslap': mysqlslap. from dropping any schema it
     creates during the test run.  This option was added in MySQL
     5.5.12.

   * 
     '--no-defaults'

     Do not read any option files.  If program startup fails due to
     reading unknown options from an option file, '--no-defaults' can be
     used to prevent them from being read.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--number-char-cols=N', '-x N'

     The number of *note 'VARCHAR': char. columns to use if
     '--auto-generate-sql' is specified.

   * 
     '--number-int-cols=N', '-y N'

     The number of *note 'INT': integer-types. columns to use if
     '--auto-generate-sql' is specified.

   * 
     '--number-of-queries=N'

     Limit each client to approximately this many queries.  Query
     counting takes into account the statement delimiter.  For example,
     if you invoke *note 'mysqlslap': mysqlslap. as follows, the ';'
     delimiter is recognized so that each instance of the query string
     counts as two queries.  As a result, 5 rows (not 10) are inserted.

          shell> mysqlslap --delimiter=";" --number-of-queries=10
                   --query="use test;insert into t values(null)"

   * 
     '--only-print'

     Do not connect to databases.  *note 'mysqlslap': mysqlslap. only
     prints what it would have done.

   * 
     '--password[=PASSWORD]', '-p[PASSWORD]'

     The password of the MySQL account used for connecting to the
     server.  The password value is optional.  If not given, *note
     'mysqlslap': mysqlslap. prompts for one.  If given, there must be
     _no space_ between '--password=' or '-p' and the password following
     it.  If no password option is specified, the default is to send no
     password.

     Specifying a password on the command line should be considered
     insecure.  To avoid giving the password on the command line, use an
     option file.  See *note password-security-user::.

     To explicitly specify that there is no password and that *note
     'mysqlslap': mysqlslap. should not prompt for one, use the
     '--skip-password' option.

   * 
     '--pipe', '-W'

     On Windows, connect to the server using a named pipe.  This option
     applies only if the server was started with the 'named_pipe' system
     variable enabled to support named-pipe connections.

   * 
     '--plugin-dir=DIR_NAME'

     The directory in which to look for plugins.  Specify this option if
     the '--default-auth' option is used to specify an authentication
     plugin but *note 'mysqlslap': mysqlslap. does not find it.  See
     *note pluggable-authentication::.

     This option was added in MySQL 5.5.10.

   * 
     '--port=PORT_NUM', '-P PORT_NUM'

     For TCP/IP connections, the port number to use.

   * 
     '--post-query=VALUE'

     The file or string containing the statement to execute after the
     tests have completed.  This execution is not counted for timing
     purposes.

   * 
     '--post-system=STR'

     The string to execute using 'system()' after the tests have
     completed.  This execution is not counted for timing purposes.

   * 
     '--pre-query=VALUE'

     The file or string containing the statement to execute before
     running the tests.  This execution is not counted for timing
     purposes.

   * 
     '--pre-system=STR'

     The string to execute using 'system()' before running the tests.
     This execution is not counted for timing purposes.

   * 
     '--print-defaults'

     Print the program name and all options that it gets from option
     files.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--protocol={TCP|SOCKET|PIPE|MEMORY}'

     The connection protocol to use for connecting to the server.  It is
     useful when the other connection parameters normally result in use
     of a protocol other than the one you want.  For details on the
     permissible values, see *note connecting::.

   * 
     '--query=VALUE', '-q VALUE'

     The file or string containing the *note 'SELECT': select. statement
     to use for retrieving data.

   * 
     '--shared-memory-base-name=NAME'

     On Windows, the shared-memory name to use for connections made
     using shared memory to a local server.  The default value is
     'MYSQL'.  The shared-memory name is case-sensitive.

     This option applies only if the server was started with the
     'shared_memory' system variable enabled to support shared-memory
     connections.

   * 
     '--silent', '-s'

     Silent mode.  No output.

   * 
     '--socket=PATH', '-S PATH'

     For connections to 'localhost', the Unix socket file to use, or, on
     Windows, the name of the named pipe to use.

     On Windows, this option applies only if the server was started with
     the 'named_pipe' system variable enabled to support named-pipe
     connections.

   * 
     '--ssl*'

     Options that begin with '--ssl' specify whether to connect to the
     server using SSL and indicate where to find SSL keys and
     certificates.  See *note encrypted-connection-options::.

   * 
     '--user=USER_NAME', '-u USER_NAME'

     The user name of the MySQL account to use for connecting to the
     server.

   * 
     '--verbose', '-v'

     Verbose mode.  Print more information about what the program does.
     This option can be used multiple times to increase the amount of
     information.

   * 
     '--version', '-V'

     Display version information and exit.


File: manual.info.tmp,  Node: programs-admin-utils,  Next: programs-development,  Prev: programs-client,  Up: programs

4.6 Administrative and Utility Programs
=======================================

* Menu:

* innochecksum::                 'innochecksum' -- Offline InnoDB File Checksum Utility
* myisam-ftdump::                'myisam_ftdump' -- Display Full-Text Index information
* myisamchk::                    'myisamchk' -- MyISAM Table-Maintenance Utility
* myisamlog::                    'myisamlog' -- Display MyISAM Log File Contents
* myisampack::                   'myisampack' -- Generate Compressed, Read-Only MyISAM Tables
* mysqlaccess::                  'mysqlaccess' -- Client for Checking Access Privileges
* mysqlbinlog::                  'mysqlbinlog' -- Utility for Processing Binary Log Files
* mysqldumpslow::                'mysqldumpslow' -- Summarize Slow Query Log Files
* mysqlhotcopy::                 'mysqlhotcopy' -- A Database Backup Program
* mysql-convert-table-format::   'mysql_convert_table_format' -- Convert Tables to Use a Given Storage Engine
* mysql-find-rows::              'mysql_find_rows' -- Extract SQL Statements from Files
* mysql-fix-extensions::         'mysql_fix_extensions' -- Normalize Table File Name Extensions
* mysql-setpermission::          'mysql_setpermission' -- Interactively Set Permissions in Grant Tables
* mysql-waitpid::                'mysql_waitpid' -- Kill Process and Wait for Its Termination
* mysql-zap::                    'mysql_zap' -- Kill Processes That Match a Pattern

This section describes administrative programs and programs that perform
miscellaneous utility operations.


File: manual.info.tmp,  Node: innochecksum,  Next: myisam-ftdump,  Prev: programs-admin-utils,  Up: programs-admin-utils

4.6.1 'innochecksum' -- Offline InnoDB File Checksum Utility
------------------------------------------------------------

*note 'innochecksum': innochecksum. prints checksums for 'InnoDB' files.
This tool reads an 'InnoDB' tablespace file, calculates the checksum for
each page, compares the calculated checksum to the stored checksum, and
reports mismatches, which indicate damaged pages.  It was originally
developed to speed up verifying the integrity of tablespace files after
power outages but can also be used after file copies.  Because checksum
mismatches cause 'InnoDB' to deliberately shut down a running server, it
may be preferable to use this tool rather than waiting for an
in-production server to encounter the damaged pages.  *note
'innochecksum': innochecksum. supports files up to 2GB in size.

*note 'innochecksum': innochecksum. does not support tablespaces that
contain compressed pages.

*note 'innochecksum': innochecksum. cannot be used on tablespace files
that the server already has open.  For such files, you should use *note
'CHECK TABLE': check-table. to check tables within the tablespace.

If checksum mismatches are found, you would normally restore the
tablespace from backup or start the server and attempt to use *note
'mysqldump': mysqldump. to make a backup of the tables within the
tablespace.

Invoke *note 'innochecksum': innochecksum. like this:

     shell> innochecksum [OPTIONS] FILE_NAME

*note 'innochecksum': innochecksum. supports the following options.  For
options that refer to page numbers, the numbers are zero-based.

   * '-c'

     Print a count of the number of pages in the file.

   * '-d'

     Debug mode; prints checksums for each page.

   * '-e NUM'

     End at this page number.

   * '-p NUM'

     Check only this page number.

   * '-s NUM'

     Start at this page number.

   * '-v'

     Verbose mode; print a progress indicator every five seconds.


File: manual.info.tmp,  Node: myisam-ftdump,  Next: myisamchk,  Prev: innochecksum,  Up: programs-admin-utils

4.6.2 'myisam_ftdump' -- Display Full-Text Index information
------------------------------------------------------------

*note 'myisam_ftdump': myisam-ftdump. displays information about
'FULLTEXT' indexes in 'MyISAM' tables.  It reads the 'MyISAM' index file
directly, so it must be run on the server host where the table is
located.  Before using *note 'myisam_ftdump': myisam-ftdump, be sure to
issue a 'FLUSH TABLES' statement first if the server is running.

*note 'myisam_ftdump': myisam-ftdump. scans and dumps the entire index,
which is not particularly fast.  On the other hand, the distribution of
words changes infrequently, so it need not be run often.

Invoke *note 'myisam_ftdump': myisam-ftdump. like this:

     shell> myisam_ftdump [OPTIONS] TBL_NAME INDEX_NUM

The TBL_NAME argument should be the name of a 'MyISAM' table.  You can
also specify a table by naming its index file (the file with the '.MYI'
suffix).  If you do not invoke *note 'myisam_ftdump': myisam-ftdump. in
the directory where the table files are located, the table or index file
name must be preceded by the path name to the table's database
directory.  Index numbers begin with 0.

Example: Suppose that the 'test' database contains a table named
'mytexttable' that has the following definition:

     CREATE TABLE mytexttable
     (
       id   INT NOT NULL,
       txt  TEXT NOT NULL,
       PRIMARY KEY (id),
       FULLTEXT (txt)
     ) ENGINE=MyISAM;

The index on 'id' is index 0 and the 'FULLTEXT' index on 'txt' is index
1.  If your working directory is the 'test' database directory, invoke
*note 'myisam_ftdump': myisam-ftdump. as follows:

     shell> myisam_ftdump mytexttable 1

If the path name to the 'test' database directory is
'/usr/local/mysql/data/test', you can also specify the table name
argument using that path name.  This is useful if you do not invoke
*note 'myisam_ftdump': myisam-ftdump. in the database directory:

     shell> myisam_ftdump /usr/local/mysql/data/test/mytexttable 1

You can use *note 'myisam_ftdump': myisam-ftdump. to generate a list of
index entries in order of frequency of occurrence like this on Unix-like
systems:

     shell> myisam_ftdump -c mytexttable 1 | sort -r

On Windows, use:

     shell> myisam_ftdump -c mytexttable 1 | sort /R

*note 'myisam_ftdump': myisam-ftdump. supports the following options:

   * 
     '--help', '-h' '-?'

     Display a help message and exit.

   * 
     '--count', '-c'

     Calculate per-word statistics (counts and global weights).

   * 
     '--dump', '-d'

     Dump the index, including data offsets and word weights.

   * 
     '--length', '-l'

     Report the length distribution.

   * 
     '--stats', '-s'

     Report global index statistics.  This is the default operation if
     no other operation is specified.

   * 
     '--verbose', '-v'

     Verbose mode.  Print more output about what the program does.


File: manual.info.tmp,  Node: myisamchk,  Next: myisamlog,  Prev: myisam-ftdump,  Up: programs-admin-utils

4.6.3 'myisamchk' -- MyISAM Table-Maintenance Utility
-----------------------------------------------------

* Menu:

* myisamchk-general-options::    myisamchk General Options
* myisamchk-check-options::      myisamchk Check Options
* myisamchk-repair-options::     myisamchk Repair Options
* myisamchk-other-options::      Other myisamchk Options
* myisamchk-table-info::         Obtaining Table Information with myisamchk
* myisamchk-memory::             myisamchk Memory Usage

The *note 'myisamchk': myisamchk. utility gets information about your
database tables or checks, repairs, or optimizes them.  *note
'myisamchk': myisamchk. works with 'MyISAM' tables (tables that have
'.MYD' and '.MYI' files for storing data and indexes).

You can also use the *note 'CHECK TABLE': check-table. and *note 'REPAIR
TABLE': repair-table. statements to check and repair 'MyISAM' tables.
See *note check-table::, and *note repair-table::.

The use of *note 'myisamchk': myisamchk. with partitioned tables is not
supported.

*Caution*:

It is best to make a backup of a table before performing a table repair
operation; under some circumstances the operation might cause data loss.
Possible causes include but are not limited to file system errors.

Invoke *note 'myisamchk': myisamchk. like this:

     shell> myisamchk [OPTIONS] TBL_NAME ...

The OPTIONS specify what you want *note 'myisamchk': myisamchk. to do.
They are described in the following sections.  You can also get a list
of options by invoking *note 'myisamchk --help': myisamchk.

With no options, *note 'myisamchk': myisamchk. simply checks your table
as the default operation.  To get more information or to tell *note
'myisamchk': myisamchk. to take corrective action, specify options as
described in the following discussion.

TBL_NAME is the database table you want to check or repair.  If you run
*note 'myisamchk': myisamchk. somewhere other than in the database
directory, you must specify the path to the database directory, because
*note 'myisamchk': myisamchk. has no idea where the database is located.
In fact, *note 'myisamchk': myisamchk. does not actually care whether
the files you are working on are located in a database directory.  You
can copy the files that correspond to a database table into some other
location and perform recovery operations on them there.

You can name several tables on the *note 'myisamchk': myisamchk. command
line if you wish.  You can also specify a table by naming its index file
(the file with the '.MYI' suffix).  This enables you to specify all
tables in a directory by using the pattern '*.MYI'.  For example, if you
are in a database directory, you can check all the 'MyISAM' tables in
that directory like this:

     shell> myisamchk *.MYI

If you are not in the database directory, you can check all the tables
there by specifying the path to the directory:

     shell> myisamchk /PATH/TO/DATABASE_DIR/*.MYI

You can even check all tables in all databases by specifying a wildcard
with the path to the MySQL data directory:

     shell> myisamchk /PATH/TO/DATADIR/*/*.MYI

The recommended way to quickly check all 'MyISAM' tables is:

     shell> myisamchk --silent --fast /PATH/TO/DATADIR/*/*.MYI

If you want to check all 'MyISAM' tables and repair any that are
corrupted, you can use the following command:

     shell> myisamchk --silent --force --fast --update-state \
               --key_buffer_size=64M --myisam_sort_buffer_size=64M \
               --read_buffer_size=1M --write_buffer_size=1M \
               /PATH/TO/DATADIR/*/*.MYI

This command assumes that you have more than 64MB free.  For more
information about memory allocation with *note 'myisamchk': myisamchk,
see *note myisamchk-memory::.

For additional information about using *note 'myisamchk': myisamchk, see
*note myisam-table-maintenance::.

*Important*:

_You must ensure that no other program is using the tables while you are
running *note 'myisamchk': myisamchk._.  The most effective means of
doing so is to shut down the MySQL server while running *note
'myisamchk': myisamchk, or to lock all tables that *note 'myisamchk':
myisamchk. is being used on.

Otherwise, when you run *note 'myisamchk': myisamchk, it may display the
following error message:

     warning: clients are using or haven't closed the table properly

This means that you are trying to check a table that has been updated by
another program (such as the *note 'mysqld': mysqld. server) that hasn't
yet closed the file or that has died without closing the file properly,
which can sometimes lead to the corruption of one or more 'MyISAM'
tables.

If *note 'mysqld': mysqld. is running, you must force it to flush any
table modifications that are still buffered in memory by using 'FLUSH
TABLES'.  You should then ensure that no one is using the tables while
you are running *note 'myisamchk': myisamchk.

However, the easiest way to avoid this problem is to use *note 'CHECK
TABLE': check-table. instead of *note 'myisamchk': myisamchk. to check
tables.  See *note check-table::.

*note 'myisamchk': myisamchk. supports the following options, which can
be specified on the command line or in the '[myisamchk]' group of an
option file.  For information about option files used by MySQL programs,
see *note option-files::.

*myisamchk Options*

Option Name         Description                          IntroducedDeprecated
                                                                  
-analyze            Analyze the distribution of key               
                    values
                    
-backup             Make a backup of the .MYD file as             
                    file_name-time.BAK
                    
-block-search       Find the record that a block at               
                    the given offset belongs to
                    
-check              Check the table for errors                    
                    
-check-only-changed Check only tables that have                   
                    changed since the last check
                    
-correct-checksum   Correct the checksum information              
                    for the table
                    
-data-file-length   Maximum length of the data file               
                    (when re-creating data file when
                    it is full)
                    
-debug              Write debugging log                           
                    
-decode_bits        Decode_bits                                   
                    
-defaults-extra-fileRead named option file in addition            
                    to usual option files
                    
-defaults-file      Read only named option file                   
                    
-defaults-group-suffixOption group suffix value                   
                    
-description        Print some descriptive information            
                    about the table
                    
-extend-check       Do very thorough table check or               
                    repair that tries to recover every
                    possible row from the data file
                    
-fast               Check only tables that haven't                
                    been closed properly
                    
-force              Do a repair operation                         
                    automatically if myisamchk finds
                    any errors in the table
                    
-force              Overwrite old temporary files.                
                    For use with the -r or -o option
                    
-ft_max_word_len    Maximum word length for FULLTEXT              
                    indexes
                    
-ft_min_word_len    Minimum word length for FULLTEXT              
                    indexes
                    
-ft_stopword_file   Use stopwords from this file                  
                    instead of built-in list
                    
-HELP               Display help message and exit                 
                    
-help               Display help message and exit                 
                    
-information        Print informational statistics                
                    about the table that is checked
                    
-key_buffer_size    Size of buffer used for index                 
                    blocks for MyISAM tables
                    
-keys-used          A bit-value that indicates which              
                    indexes to update
                    
-max-record-length  Skip rows larger than the given               
                    length if myisamchk cannot
                    allocate memory to hold them
                    
-medium-check       Do a check that is faster than an             
                    -extend-check operation
                    
-myisam_block_size  Block size to be used for MyISAM              
                    index pages
                    
-myisam_sort_buffer_sizeThe buffer that is allocated when5.5.29   
                    sorting the index when doing a       
                    REPAIR or when creating indexes
                    with CREATE INDEX or ALTER TABLE
                    
-no-defaults        Read no option files                          
                    
-parallel-recover   Uses the same technique as -r and             
                    -n, but creates all the keys in
                    parallel, using different threads
                    (beta)
                    
-print-defaults     Print default options                         
                    
-quick              Achieve a faster repair by not                
                    modifying the data file
                    
-read_buffer_size   Each thread that does a sequential            
                    scan allocates a buffer of this
                    size for each table it scans
                    
-read-only          Do not mark the table as checked              
                    
-recover            Do a repair that can fix almost               
                    any problem except unique keys
                    that aren't unique
                    
-safe-recover       Do a repair using an old recovery             
                    method that reads through all rows
                    in order and updates all index
                    trees based on the rows found
                    
-set-auto-increment Force AUTO_INCREMENT numbering for            
                    new records to start at the given
                    value
                    
-set-collation      Specify the collation to use for              
                    sorting table indexes
                    
-silent             Silent mode                                   
                    
-sort_buffer_size   The buffer that is allocated when             5.5.29
                    sorting the index when doing a                
                    REPAIR or when creating indexes
                    with CREATE INDEX or ALTER TABLE
                    
-sort-index         Sort the index tree blocks in                 
                    high-low order
                    
-sort_key_blocks    sort_key_blocks                               
                    
-sort-records       Sort records according to a                   
                    particular index
                    
-sort-recover       Force myisamchk to use sorting to             
                    resolve the keys even if the
                    temporary files would be very
                    large
                    
-stats_method       Specifies how MyISAM index                    
                    statistics collection code should
                    treat NULLs
                    
-tmpdir             Directory to be used for storing              
                    temporary files
                    
-unpack             Unpack a table that was packed                
                    with myisampack
                    
-update-state       Store information in the .MYI file            
                    to indicate when the table was
                    checked and whether the table
                    crashed
                    
-verbose            Verbose mode                                  
                    
-version            Display version information and               
                    exit
                    
-write_buffer_size  Write buffer size                    
                    


File: manual.info.tmp,  Node: myisamchk-general-options,  Next: myisamchk-check-options,  Prev: myisamchk,  Up: myisamchk

4.6.3.1 myisamchk General Options
.................................

The options described in this section can be used for any type of table
maintenance operation performed by *note 'myisamchk': myisamchk.  The
sections following this one describe options that pertain only to
specific operations, such as table checking or repairing.

   * 
     '--help', '-?'

     Display a help message and exit.  Options are grouped by type of
     operation.

   * 
     '--HELP', '-H'

     Display a help message and exit.  Options are presented in a single
     list.

   * 
     '--debug=DEBUG_OPTIONS', '-# DEBUG_OPTIONS'

     Write a debugging log.  A typical DEBUG_OPTIONS string is
     'd:t:o,FILE_NAME'.  The default is 'd:t:o,/tmp/myisamchk.trace'.

   * 
     '--defaults-extra-file=FILE_NAME'

     Read this option file after the global option file but (on Unix)
     before the user option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--defaults-file=FILE_NAME'

     Use only the given option file.  If the file does not exist or is
     otherwise inaccessible, an error occurs.  FILE_NAME is interpreted
     relative to the current directory if given as a relative path name.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--defaults-group-suffix=STR'

     Read not only the usual option groups, but also groups with the
     usual names and a suffix of STR.  For example, *note 'myisamchk':
     myisamchk. normally reads the '[myisamchk]' group.  If the
     '--defaults-group-suffix=_other' option is given, *note
     'myisamchk': myisamchk. also reads the '[myisamchk_other]' group.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--no-defaults'

     Do not read any option files.  If program startup fails due to
     reading unknown options from an option file, '--no-defaults' can be
     used to prevent them from being read.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--print-defaults'

     Print the program name and all options that it gets from option
     files.

     For additional information about this and other option-file
     options, see *note option-file-options::.

   * 
     '--silent', '-s'

     Silent mode.  Write output only when errors occur.  You can use
     '-s' twice ('-ss') to make *note 'myisamchk': myisamchk. very
     silent.

   * 
     '--verbose', '-v'

     Verbose mode.  Print more information about what the program does.
     This can be used with '-d' and '-e'.  Use '-v' multiple times
     ('-vv', '-vvv') for even more output.

   * 
     '--version', '-V'

     Display version information and exit.

   * 
     '--wait', '-w'

     Instead of terminating with an error if the table is locked, wait
     until the table is unlocked before continuing.  If you are running
     *note 'mysqld': mysqld. with external locking disabled, the table
     can be locked only by another *note 'myisamchk': myisamchk.
     command.

You can also set the following variables by using '--VAR_NAME=VALUE'
syntax:

Variable                  Default Value
                          
'decode_bits'             9
                          
'ft_max_word_len'         version-dependent
                          
'ft_min_word_len'         4
                          
'ft_stopword_file'        built-in list
                          
'key_buffer_size'         523264
                          
'myisam_block_size'       1024
                          
'myisam_sort_key_blocks'  16
                          
'read_buffer_size'        262136
                          
'sort_buffer_size'        2097144
                          
'sort_key_blocks'         16
                          
'stats_method'            nulls_unequal
                          
'write_buffer_size'       262136

The possible *note 'myisamchk': myisamchk. variables and their default
values can be examined with *note 'myisamchk --help': myisamchk.:

'sort_buffer_size' is used when the keys are repaired by sorting keys,
which is the normal case when you use '--recover'.  As of MySQL 5.5.29,
'myisam_sort_buffer_size' is available as an alternative name to
'sort_buffer_size'.  'myisam_sort_buffer_size' is preferable to
'sort_buffer_size' because its name corresponds to the
'myisam_sort_buffer_size' server system variable that has a similar
meaning.  'sort_buffer_size' should be considered deprecated.

'key_buffer_size' is used when you are checking the table with
'--extend-check' or when the keys are repaired by inserting keys row by
row into the table (like when doing normal inserts).  Repairing through
the key buffer is used in the following cases:

   * You use '--safe-recover'.

   * The temporary files needed to sort the keys would be more than
     twice as big as when creating the key file directly.  This is often
     the case when you have large key values for *note 'CHAR': char,
     *note 'VARCHAR': char, or *note 'TEXT': blob. columns, because the
     sort operation needs to store the complete key values as it
     proceeds.  If you have lots of temporary space and you can force
     *note 'myisamchk': myisamchk. to repair by sorting, you can use the
     '--sort-recover' option.

Repairing through the key buffer takes much less disk space than using
sorting, but is also much slower.

If you want a faster repair, set the 'key_buffer_size' and
'myisam_sort_buffer_size' variables to about 25% of your available
memory.  You can set both variables to large values, because only one of
them is used at a time.

'myisam_block_size' is the size used for index blocks.

'stats_method' influences how 'NULL' values are treated for index
statistics collection when the '--analyze' option is given.  It acts
like the 'myisam_stats_method' system variable.  For more information,
see the description of 'myisam_stats_method' in *note
server-system-variables::, and *note index-statistics::.

'ft_min_word_len' and 'ft_max_word_len' indicate the minimum and maximum
word length for 'FULLTEXT' indexes.  'ft_stopword_file' names the
stopword file.  These need to be set under the following circumstances.

If you use *note 'myisamchk': myisamchk. to perform an operation that
modifies table indexes (such as repair or analyze), the 'FULLTEXT'
indexes are rebuilt using the default full-text parameter values for
minimum and maximum word length and the stopword file unless you specify
otherwise.  This can result in queries failing.

The problem occurs because these parameters are known only by the
server.  They are not stored in 'MyISAM' index files.  To avoid the
problem if you have modified the minimum or maximum word length or the
stopword file in the server, specify the same 'ft_min_word_len',
'ft_max_word_len', and 'ft_stopword_file' values to *note 'myisamchk':
myisamchk. that you use for *note 'mysqld': mysqld.  For example, if you
have set the minimum word length to 3, you can repair a table with *note
'myisamchk': myisamchk. like this:

     shell> myisamchk --recover --ft_min_word_len=3 TBL_NAME.MYI

To ensure that *note 'myisamchk': myisamchk. and the server use the same
values for full-text parameters, you can place each one in both the
'[mysqld]' and '[myisamchk]' sections of an option file:

     [mysqld]
     ft_min_word_len=3

     [myisamchk]
     ft_min_word_len=3

An alternative to using *note 'myisamchk': myisamchk. is to use the
*note 'REPAIR TABLE': repair-table, *note 'ANALYZE TABLE':
analyze-table, *note 'OPTIMIZE TABLE': optimize-table, or *note 'ALTER
TABLE': alter-table.  These statements are performed by the server,
which knows the proper full-text parameter values to use.


File: manual.info.tmp,  Node: myisamchk-check-options,  Next: myisamchk-repair-options,  Prev: myisamchk-general-options,  Up: myisamchk

4.6.3.2 myisamchk Check Options
...............................

*note 'myisamchk': myisamchk. supports the following options for table
checking operations:

   * 
     '--check', '-c'

     Check the table for errors.  This is the default operation if you
     specify no option that selects an operation type explicitly.

   * 
     '--check-only-changed', '-C'

     Check only tables that have changed since the last check.

   * 
     '--extend-check', '-e'

     Check the table very thoroughly.  This is quite slow if the table
     has many indexes.  This option should only be used in extreme
     cases.  Normally, *note 'myisamchk': myisamchk. or *note 'myisamchk
     --medium-check': myisamchk. should be able to determine whether
     there are any errors in the table.

     If you are using '--extend-check' and have plenty of memory,
     setting the 'key_buffer_size' variable to a large value helps the
     repair operation run faster.

     See also the description of this option under table repair options.

     For a description of the output format, see *note
     myisamchk-table-info::.

   * 
     '--fast', '-F'

     Check only tables that haven't been closed properly.

   * 
     '--force', '-f'

     Do a repair operation automatically if *note 'myisamchk':
     myisamchk. finds any errors in the table.  The repair type is the
     same as that specified with the '--recover' or '-r' option.

   * 
     '--information', '-i'

     Print informational statistics about the table that is checked.

   * 
     '--medium-check', '-m'

     Do a check that is faster than an '--extend-check' operation.  This
     finds only 99.99% of all errors, which should be good enough in
     most cases.

   * 
     '--read-only', '-T'

     Do not mark the table as checked.  This is useful if you use *note
     'myisamchk': myisamchk. to check a table that is in use by some
     other application that does not use locking, such as *note
     'mysqld': mysqld. when run with external locking disabled.

   * 
     '--update-state', '-U'

     Store information in the '.MYI' file to indicate when the table was
     checked and whether the table crashed.  This should be used to get
     full benefit of the '--check-only-changed' option, but you
     shouldn't use this option if the *note 'mysqld': mysqld. server is
     using the table and you are running it with external locking
     disabled.


File: manual.info.tmp,  Node: myisamchk-repair-options,  Next: myisamchk-other-options,  Prev: myisamchk-check-options,  Up: myisamchk

4.6.3.3 myisamchk Repair Options
................................

*note 'myisamchk': myisamchk. supports the following options for table
repair operations (operations performed when an option such as
'--recover' or '--safe-recover' is given):

   * 
     '--backup', '-B'

     Make a backup of the '.MYD' file as 'FILE_NAME-TIME.BAK'

   * 
     '--character-sets-dir=DIR_NAME'

     The directory where character sets are installed.  See *note
     charset-configuration::.

   * 
     '--correct-checksum'

     Correct the checksum information for the table.

   * 
     '--data-file-length=LEN', '-D LEN'

     The maximum length of the data file (when re-creating data file
     when it is 'full').

   * 
     '--extend-check', '-e'

     Do a repair that tries to recover every possible row from the data
     file.  Normally, this also finds a lot of garbage rows.  Do not use
     this option unless you are desperate.

     See also the description of this option under table checking
     options.

     For a description of the output format, see *note
     myisamchk-table-info::.

   * 
     '--force', '-f'

     Overwrite old intermediate files (files with names like
     'TBL_NAME.TMD') instead of aborting.

   * 
     '--keys-used=VAL', '-k VAL'

     For *note 'myisamchk': myisamchk, the option value is a bit value
     that indicates which indexes to update.  Each binary bit of the
     option value corresponds to a table index, where the first index is
     bit 0.  An option value of 0 disables updates to all indexes, which
     can be used to get faster inserts.  Deactivated indexes can be
     reactivated by using *note 'myisamchk -r': myisamchk.

   * 
     '--no-symlinks', '-l'

     Do not follow symbolic links.  Normally *note 'myisamchk':
     myisamchk. repairs the table that a symlink points to.  This option
     does not exist as of MySQL 4.0 because versions from 4.0 on do not
     remove symlinks during repair operations.

   * 
     '--max-record-length=LEN'

     Skip rows larger than the given length if *note 'myisamchk':
     myisamchk. cannot allocate memory to hold them.

   * 
     '--parallel-recover', '-p'

     Use the same technique as '-r' and '-n', but create all the keys in
     parallel, using different threads.  _This is beta-quality code.
     Use at your own risk!_

   * 
     '--quick', '-q'

     Achieve a faster repair by modifying only the index file, not the
     data file.  You can specify this option twice to force *note
     'myisamchk': myisamchk. to modify the original data file in case of
     duplicate keys.

   * 
     '--recover', '-r'

     Do a repair that can fix almost any problem except unique keys that
     are not unique (which is an extremely unlikely error with 'MyISAM'
     tables).  If you want to recover a table, this is the option to try
     first.  You should try '--safe-recover' only if *note 'myisamchk':
     myisamchk. reports that the table cannot be recovered using
     '--recover'.  (In the unlikely case that '--recover' fails, the
     data file remains intact.)

     If you have lots of memory, you should increase the value of
     'myisam_sort_buffer_size'.

   * 
     '--safe-recover', '-o'

     Do a repair using an old recovery method that reads through all
     rows in order and updates all index trees based on the rows found.
     This is an order of magnitude slower than '--recover', but can
     handle a couple of very unlikely cases that '--recover' cannot.
     This recovery method also uses much less disk space than
     '--recover'.  Normally, you should repair first using '--recover',
     and then with '--safe-recover' only if '--recover' fails.

     If you have lots of memory, you should increase the value of
     'key_buffer_size'.

   * 
     '--set-collation=NAME'

     Specify the collation to use for sorting table indexes.  The
     character set name is implied by the first part of the collation
     name.

   * 
     '--sort-recover', '-n'

     Force *note 'myisamchk': myisamchk. to use sorting to resolve the
     keys even if the temporary files would be very large.

   * 
     '--tmpdir=DIR_NAME', '-t DIR_NAME'

     The path of the directory to be used for storing temporary files.
     If this is not set, *note 'myisamchk': myisamchk. uses the value of
     the 'TMPDIR' environment variable.  '--tmpdir' can be set to a list
     of directory paths that are used successively in round-robin
     fashion for creating temporary files.  The separator character
     between directory names is the colon (':') on Unix and the
     semicolon (';') on Windows.

   * 
     '--unpack', '-u'

     Unpack a table that was packed with *note 'myisampack': myisampack.


File: manual.info.tmp,  Node: myisamchk-other-options,  Next: myisamchk-table-info,  Prev: myisamchk-repair-options,  Up: myisamchk

4.6.3.4 Other myisamchk Options
...............................

*note 'myisamchk': myisamchk. supports the following options for actions
other than table checks and repairs:

   * 
     '--analyze', '-a'

     Analyze the distribution of key values.  This improves join
     performance by enabling the join optimizer to better choose the
     order in which to join the tables and which indexes it should use.
     To obtain information about the key distribution, use a *note
     'myisamchk --description --verbose TBL_NAME': myisamchk. command or
     the 'SHOW INDEX FROM TBL_NAME' statement.

   * 
     '--block-search=OFFSET', '-b OFFSET'

     Find the record that a block at the given offset belongs to.

   * 
     '--description', '-d'

     Print some descriptive information about the table.  Specifying the
     '--verbose' option once or twice produces additional information.
     See *note myisamchk-table-info::.

   * 
     '--set-auto-increment[=VALUE]', '-A[VALUE]'

     Force 'AUTO_INCREMENT' numbering for new records to start at the
     given value (or higher, if there are existing records with
     'AUTO_INCREMENT' values this large).  If VALUE is not specified,
     'AUTO_INCREMENT' numbers for new records begin with the largest
     value currently in the table, plus one.

   * 
     '--sort-index', '-S'

     Sort the index tree blocks in high-low order.  This optimizes seeks
     and makes table scans that use indexes faster.

   * 
     '--sort-records=N', '-R N'

     Sort records according to a particular index.  This makes your data
     much more localized and may speed up range-based *note 'SELECT':
     select. and 'ORDER BY' operations that use this index.  (The first
     time you use this option to sort a table, it may be very slow.)  To
     determine a table's index numbers, use *note 'SHOW INDEX':
     show-index, which displays a table's indexes in the same order that
     *note 'myisamchk': myisamchk. sees them.  Indexes are numbered
     beginning with 1.

     If keys are not packed ('PACK_KEYS=0'), they have the same length,
     so when *note 'myisamchk': myisamchk. sorts and moves records, it
     just overwrites record offsets in the index.  If keys are packed
     ('PACK_KEYS=1'), *note 'myisamchk': myisamchk. must unpack key
     blocks first, then re-create indexes and pack the key blocks again.
     (In this case, re-creating indexes is faster than updating offsets
     for each index.)


File: manual.info.tmp,  Node: myisamchk-table-info,  Next: myisamchk-memory,  Prev: myisamchk-other-options,  Up: myisamchk

4.6.3.5 Obtaining Table Information with myisamchk
..................................................

To obtain a description of a 'MyISAM' table or statistics about it, use
the commands shown here.  The output from these commands is explained
later in this section.

   * *note 'myisamchk -d TBL_NAME': myisamchk.

     Runs *note 'myisamchk': myisamchk. in 'describe mode' to produce a
     description of your table.  If you start the MySQL server with
     external locking disabled, *note 'myisamchk': myisamchk. may report
     an error for a table that is updated while it runs.  However,
     because *note 'myisamchk': myisamchk. does not change the table in
     describe mode, there is no risk of destroying data.

   * *note 'myisamchk -dv TBL_NAME': myisamchk.

     Adding '-v' runs *note 'myisamchk': myisamchk. in verbose mode so
     that it produces more information about the table.  Adding '-v' a
     second time produces even more information.

   * *note 'myisamchk -eis TBL_NAME': myisamchk.

     Shows only the most important information from a table.  This
     operation is slow because it must read the entire table.

   * *note 'myisamchk -eiv TBL_NAME': myisamchk.

     This is like '-eis', but tells you what is being done.

The TBL_NAME argument can be either the name of a 'MyISAM' table or the
name of its index file, as described in *note myisamchk::.  Multiple
TBL_NAME arguments can be given.

Suppose that a table named 'person' has the following structure.  (The
'MAX_ROWS' table option is included so that in the example output from
*note 'myisamchk': myisamchk. shown later, some values are smaller and
fit the output format more easily.)

     CREATE TABLE person
     (
       id         INT NOT NULL AUTO_INCREMENT,
       last_name  VARCHAR(20) NOT NULL,
       first_name VARCHAR(20) NOT NULL,
       birth      DATE,
       death      DATE,
       PRIMARY KEY (id),
       INDEX (last_name, first_name),
       INDEX (birth)
     ) MAX_ROWS = 1000000 ENGINE=MYISAM;

Suppose also that the table has these data and index file sizes:

     -rw-rw----  1 mysql  mysql  9347072 Aug 19 11:47 person.MYD
     -rw-rw----  1 mysql  mysql  6066176 Aug 19 11:47 person.MYI

Example of *note 'myisamchk -dvv': myisamchk. output:

     MyISAM file:         person
     Record format:       Packed
     Character set:       latin1_swedish_ci (8)
     File-version:        1
     Creation time:       2009-08-19 16:47:41
     Recover time:        2009-08-19 16:47:56
     Status:              checked,analyzed,optimized keys
     Auto increment key:              1  Last value:                306688
     Data records:               306688  Deleted blocks:                 0
     Datafile parts:             306688  Deleted data:                   0
     Datafile pointer (bytes):        4  Keyfile pointer (bytes):        3
     Datafile length:           9347072  Keyfile length:           6066176
     Max datafile length:    4294967294  Max keyfile length:   17179868159
     Recordlength:                   54

     table description:
     Key Start Len Index   Type                 Rec/key         Root  Blocksize
     1   2     4   unique  long                       1        99328       1024
     2   6     20  multip. varchar prefix           512      3563520       1024
         27    20          varchar                  512
     3   48    3   multip. uint24 NULL           306688      6065152       1024

     Field Start Length Nullpos Nullbit Type
     1     1     1
     2     2     4                      no zeros
     3     6     21                     varchar
     4     27    21                     varchar
     5     48    3      1       1       no zeros
     6     51    3      1       2       no zeros

Explanations for the types of information *note 'myisamchk': myisamchk.
produces are given here.  'Keyfile' refers to the index file.  'Record'
and 'row' are synonymous, as are 'field' and 'column.'

The initial part of the table description contains these values:

   * 'MyISAM file'

     Name of the 'MyISAM' (index) file.

   * 'Record format'

     The format used to store table rows.  The preceding examples use
     'Fixed length'.  Other possible values are 'Compressed' and
     'Packed'.  ('Packed' corresponds to what 'SHOW TABLE STATUS'
     reports as 'Dynamic'.)

   * 'Chararacter set'

     The table default character set.

   * 'File-version'

     Version of 'MyISAM' format.  Always 1.

   * 'Creation time'

     When the data file was created.

   * 'Recover time'

     When the index/data file was last reconstructed.

   * 'Status'

     Table status flags.  Possible values are 'crashed', 'open',
     'changed', 'analyzed', 'optimized keys', and 'sorted index pages'.

   * 'Auto increment key', 'Last value'

     The key number associated the table's 'AUTO_INCREMENT' column, and
     the most recently generated value for this column.  These fields do
     not appear if there is no such column.

   * 'Data records'

     The number of rows in the table.

   * 'Deleted blocks'

     How many deleted blocks still have reserved space.  You can
     optimize your table to minimize this space.  See *note
     myisam-optimization::.

   * 'Datafile parts'

     For dynamic-row format, this indicates how many data blocks there
     are.  For an optimized table without fragmented rows, this is the
     same as 'Data records'.

   * 'Deleted data'

     How many bytes of unreclaimed deleted data there are.  You can
     optimize your table to minimize this space.  See *note
     myisam-optimization::.

   * 'Datafile pointer'

     The size of the data file pointer, in bytes.  It is usually 2, 3,
     4, or 5 bytes.  Most tables manage with 2 bytes, but this cannot be
     controlled from MySQL yet.  For fixed tables, this is a row
     address.  For dynamic tables, this is a byte address.

   * 'Keyfile pointer'

     The size of the index file pointer, in bytes.  It is usually 1, 2,
     or 3 bytes.  Most tables manage with 2 bytes, but this is
     calculated automatically by MySQL. It is always a block address.

   * 'Max datafile length'

     How long the table data file can become, in bytes.

   * 'Max keyfile length'

     How long the table index file can become, in bytes.

   * 'Recordlength'

     How much space each row takes, in bytes.

The 'table description' part of the output includes a list of all keys
in the table.  For each key, *note 'myisamchk': myisamchk. displays some
low-level information:

   * 'Key'

     This key's number.  This value is shown only for the first column
     of the key.  If this value is missing, the line corresponds to the
     second or later column of a multiple-column key.  For the table
     shown in the example, there are two 'table description' lines for
     the second index.  This indicates that it is a multiple-part index
     with two parts.

   * 'Start'

     Where in the row this portion of the index starts.

   * 'Len'

     How long this portion of the index is.  For packed numbers, this
     should always be the full length of the column.  For strings, it
     may be shorter than the full length of the indexed column, because
     you can index a prefix of a string column.  The total length of a
     multiple-part key is the sum of the 'Len' values for all key parts.

   * 'Index'

     Whether a key value can exist multiple times in the index.
     Possible values are 'unique' or 'multip.' (multiple).

   * 'Type'

     What data type this portion of the index has.  This is a 'MyISAM'
     data type with the possible values 'packed', 'stripped', or
     'empty'.

   * 'Root'

     Address of the root index block.

   * 'Blocksize'

     The size of each index block.  By default this is 1024, but the
     value may be changed at compile time when MySQL is built from
     source.

   * 'Rec/key'

     This is a statistical value used by the optimizer.  It tells how
     many rows there are per value for this index.  A unique index
     always has a value of 1.  This may be updated after a table is
     loaded (or greatly changed) with *note 'myisamchk -a': myisamchk.
     If this is not updated at all, a default value of 30 is given.

The last part of the output provides information about each column:

   * 'Field'

     The column number.

   * 'Start'

     The byte position of the column within table rows.

   * 'Length'

     The length of the column in bytes.

   * 'Nullpos', 'Nullbit'

     For columns that can be 'NULL', 'MyISAM' stores 'NULL' values as a
     flag in a byte.  Depending on how many nullable columns there are,
     there can be one or more bytes used for this purpose.  The
     'Nullpos' and 'Nullbit' values, if nonempty, indicate which byte
     and bit contains that flag indicating whether the column is 'NULL'.

     The position and number of bytes used to store 'NULL' flags is
     shown in the line for field 1.  This is why there are six 'Field'
     lines for the 'person' table even though it has only five columns.

   * 'Type'

     The data type.  The value may contain any of the following
     descriptors:

        * 'constant'

          All rows have the same value.

        * 'no endspace'

          Do not store endspace.

        * 'no endspace, not_always'

          Do not store endspace and do not do endspace compression for
          all values.

        * 'no endspace, no empty'

          Do not store endspace.  Do not store empty values.

        * 'table-lookup'

          The column was converted to an *note 'ENUM': enum.

        * 'zerofill(N)'

          The most significant N bytes in the value are always 0 and are
          not stored.

        * 'no zeros'

          Do not store zeros.

        * 'always zero'

          Zero values are stored using one bit.

   * 'Huff tree'

     The number of the Huffman tree associated with the column.

   * 'Bits'

     The number of bits used in the Huffman tree.

The 'Huff tree' and 'Bits' fields are displayed if the table has been
compressed with *note 'myisampack': myisampack.  See *note myisampack::,
for an example of this information.

Example of *note 'myisamchk -eiv': myisamchk. output:

     Checking MyISAM file: person
     Data records:  306688   Deleted blocks:       0
     - check file-size
     - check record delete-chain
     No recordlinks
     - check key delete-chain
     block_size 1024:
     - check index reference
     - check data record references index: 1
     Key:  1:  Keyblocks used:  98%  Packed:    0%  Max levels:  3
     - check data record references index: 2
     Key:  2:  Keyblocks used:  99%  Packed:   97%  Max levels:  3
     - check data record references index: 3
     Key:  3:  Keyblocks used:  98%  Packed:  -14%  Max levels:  3
     Total:    Keyblocks used:  98%  Packed:   89%

     - check records and index references*** LOTS OF ROW NUMBERS DELETED ***

     Records:            306688  M.recordlength:       25  Packed:            83%
     Recordspace used:       97% Empty space:           2% Blocks/Record:   1.00
     Record blocks:      306688  Delete blocks:         0
     Record data:       7934464  Deleted data:          0
     Lost space:         256512  Linkdata:        1156096

     User time 43.08, System time 1.68
     Maximum resident set size 0, Integral resident set size 0
     Non-physical pagefaults 0, Physical pagefaults 0, Swaps 0
     Blocks in 0 out 7, Messages in 0 out 0, Signals 0
     Voluntary context switches 0, Involuntary context switches 0
     Maximum memory usage: 1046926 bytes (1023k)

*note 'myisamchk -eiv': myisamchk. output includes the following
information:

   * 'Data records'

     The number of rows in the table.

   * 'Deleted blocks'

     How many deleted blocks still have reserved space.  You can
     optimize your table to minimize this space.  See *note
     myisam-optimization::.

   * 'Key'

     The key number.

   * 'Keyblocks used'

     What percentage of the keyblocks are used.  When a table has just
     been reorganized with *note 'myisamchk': myisamchk, the values are
     very high (very near theoretical maximum).

   * 'Packed'

     MySQL tries to pack key values that have a common suffix.  This can
     only be used for indexes on *note 'CHAR': char. and *note
     'VARCHAR': char. columns.  For long indexed strings that have
     similar leftmost parts, this can significantly reduce the space
     used.  In the preceding example, the second key is 40 bytes long
     and a 97% reduction in space is achieved.

   * 'Max levels'

     How deep the B-tree for this key is.  Large tables with long key
     values get high values.

   * 'Records'

     How many rows are in the table.

   * 'M.recordlength'

     The average row length.  This is the exact row length for tables
     with fixed-length rows, because all rows have the same length.

   * 'Packed'

     MySQL strips spaces from the end of strings.  The 'Packed' value
     indicates the percentage of savings achieved by doing this.

   * 'Recordspace used'

     What percentage of the data file is used.

   * 'Empty space'

     What percentage of the data file is unused.

   * 'Blocks/Record'

     Average number of blocks per row (that is, how many links a
     fragmented row is composed of).  This is always 1.0 for
     fixed-format tables.  This value should stay as close to 1.0 as
     possible.  If it gets too large, you can reorganize the table.  See
     *note myisam-optimization::.

   * 'Recordblocks'

     How many blocks (links) are used.  For fixed-format tables, this is
     the same as the number of rows.

   * 'Deleteblocks'

     How many blocks (links) are deleted.

   * 'Recorddata'

     How many bytes in the data file are used.

   * 'Deleted data'

     How many bytes in the data file are deleted (unused).

   * 'Lost space'

     If a row is updated to a shorter length, some space is lost.  This
     is the sum of all such losses, in bytes.

   * 'Linkdata'

     When the dynamic table format is used, row fragments are linked
     with pointers (4 to 7 bytes each).  'Linkdata' is the sum of the
     amount of storage used by all such pointers.


File: manual.info.tmp,  Node: myisamchk-memory,  Prev: myisamchk-table-info,  Up: myisamchk

4.6.3.6 myisamchk Memory Usage
..............................

Memory allocation is important when you run *note 'myisamchk':
myisamchk.  *note 'myisamchk': myisamchk. uses no more memory than its
memory-related variables are set to.  If you are going to use *note
'myisamchk': myisamchk. on very large tables, you should first decide
how much memory you want it to use.  The default is to use only about
3MB to perform repairs.  By using larger values, you can get *note
'myisamchk': myisamchk. to operate faster.  For example, if you have
more than 512MB RAM available, you could use options such as these (in
addition to any other options you might specify):

     shell> myisamchk --myisam_sort_buffer_size=256M \
                --key_buffer_size=512M \
                --read_buffer_size=64M \
                --write_buffer_size=64M ...

Using '--myisam_sort_buffer_size=16M' is probably enough for most cases.

Be aware that *note 'myisamchk': myisamchk. uses temporary files in
'TMPDIR'.  If 'TMPDIR' points to a memory file system, out of memory
errors can easily occur.  If this happens, run *note 'myisamchk':
myisamchk. with the '--tmpdir=DIR_NAME' option to specify a directory
located on a file system that has more space.

When performing repair operations, *note 'myisamchk': myisamchk. also
needs a lot of disk space:

   * Twice the size of the data file (the original file and a copy).
     This space is not needed if you do a repair with '--quick'; in this
     case, only the index file is re-created.  _This space must be
     available on the same file system as the original data file_, as
     the copy is created in the same directory as the original.

   * Space for the new index file that replaces the old one.  The old
     index file is truncated at the start of the repair operation, so
     you usually ignore this space.  This space must be available on the
     same file system as the original data file.

   * When using '--recover' or '--sort-recover' (but not when using
     '--safe-recover'), you need space on disk for sorting.  This space
     is allocated in the temporary directory (specified by 'TMPDIR' or
     '--tmpdir=DIR_NAME').  The following formula yields the amount of
     space required:

          (LARGEST_KEY + ROW_POINTER_LENGTH) * NUMBER_OF_ROWS * 2

     You can check the length of the keys and the ROW_POINTER_LENGTH
     with *note 'myisamchk -dv TBL_NAME': myisamchk. (see *note
     myisamchk-table-info::).  The ROW_POINTER_LENGTH and NUMBER_OF_ROWS
     values are the 'Datafile pointer' and 'Data records' values in the
     table description.  To determine the LARGEST_KEY value, check the
     'Key' lines in the table description.  The 'Len' column indicates
     the number of bytes for each key part.  For a multiple-column
     index, the key size is the sum of the 'Len' values for all key
     parts.

If you have a problem with disk space during repair, you can try
'--safe-recover' instead of '--recover'.


File: manual.info.tmp,  Node: myisamlog,  Next: myisampack,  Prev: myisamchk,  Up: programs-admin-utils

4.6.4 'myisamlog' -- Display MyISAM Log File Contents
-----------------------------------------------------

*note 'myisamlog': myisamlog. processes the contents of a 'MyISAM' log
file.  To create such a file, start the server with a
'--log-isam=log_file' option.

Invoke *note 'myisamlog': myisamlog. like this:

     shell> myisamlog [OPTIONS] [FILE_NAME [TBL_NAME] ...]

The default operation is update ('-u').  If a recovery is done ('-r'),
all writes and possibly updates and deletes are done and errors are only
counted.  The default log file name is 'myisam.log' if no LOG_FILE
argument is given.  If tables are named on the command line, only those
tables are updated.

*note 'myisamlog': myisamlog. supports the following options:

   * '-?', '-I'

     Display a help message and exit.

   * '-c N'

     Execute only N commands.

   * '-f N'

     Specify the maximum number of open files.

   * '-F FILEPATH/'

     Specify the file path with a trailing slash.

   * '-i'

     Display extra information before exiting.

   * '-o OFFSET'

     Specify the starting offset.

   * '-p N'

     Remove N components from path.

   * '-r'

     Perform a recovery operation.

   * '-R RECORD_POS_FILE RECORD_POS'

     Specify record position file and record position.

   * '-u'

     Perform an update operation.

   * '-v'

     Verbose mode.  Print more output about what the program does.  This
     option can be given multiple times to produce more and more output.

   * '-w WRITE_FILE'

     Specify the write file.

   * '-V'

     Display version information.


File: manual.info.tmp,  Node: myisampack,  Next: mysqlaccess,  Prev: myisamlog,  Up: programs-admin-utils

4.6.5 'myisampack' -- Generate Compressed, Read-Only MyISAM Tables
------------------------------------------------------------------

The *note 'myisampack': myisampack. utility compresses 'MyISAM' tables.
*note 'myisampack': myisampack. works by compressing each column in the
table separately.  Usually, *note 'myisampack': myisampack. packs the
data file 40% to 70%.

When the table is used later, the server reads into memory the
information needed to decompress columns.  This results in much better
performance when accessing individual rows, because you only have to
uncompress exactly one row.

MySQL uses 'mmap()' when possible to perform memory mapping on
compressed tables.  If 'mmap()' does not work, MySQL falls back to
normal read/write file operations.

Please note the following:

   * If the *note 'mysqld': mysqld. server was invoked with external
     locking disabled, it is not a good idea to invoke *note
     'myisampack': myisampack. if the table might be updated by the
     server during the packing process.  It is safest to compress tables
     with the server stopped.

   * After packing a table, it becomes read only.  This is generally
     intended (such as when accessing packed tables on a CD).

   * *note 'myisampack': myisampack. does not support partitioned
     tables.

Invoke *note 'myisampack': myisampack. like this:

     shell> myisampack [OPTIONS] FILE_NAME ...

Each file name argument should be the name of an index ('.MYI') file.
If you are not in the database directory, you should specify the path
name to the file.  It is permissible to omit the '.MYI' extension.

After you compress a table with *note 'myisampack': myisampack, use
*note 'myisamchk -rq': myisamchk. to rebuild its indexes.  *note
myisamchk::.

*note 'myisampack': myisampack. supports the following options.  It also
reads option files and supports the options for processing them
described at *note option-file-options::.

   * 
     '--help', '-?'

     Display a help message and exit.

   * 
     '--backup', '-b'

     Make a backup of each table's data file using the name
     'TBL_NAME.OLD'.

   * 
     '--character-sets-dir=DIR_NAME'

     The directory where character sets are installed.  See *note
     charset-configuration::.

   * 
     '--debug[=DEBUG_OPTIONS]', '-# [DEBUG_OPTIONS]'

     Write a debugging log.  A typical DEBUG_OPTIONS string is
     'd:t:o,FILE_NAME'.  The default is 'd:t:o'.

   * 
     '--force', '-f'

     Produce a packed table even if it becomes larger than the original
     or if the intermediate file from an earlier invocation of *note
     'myisampack': myisampack. exists.  (*note 'myisampack': myisampack.
     creates an intermediate file named 'TBL_NAME.TMD' in the database
     directory while it compresses the table.  If you kill *note
     'myisampack': myisampack, the '.TMD' file might not be deleted.)
     Normally, *note 'myisampack': myisampack. exits with an error if it
     finds that 'TBL_NAME.TMD' exists.  With '--force', *note
     'myisampack': myisampack. packs the table anyway.

   * 
     '--join=BIG_TBL_NAME', '-j BIG_TBL_NAME'

     Join all tables named on the command line into a single packed
     table BIG_TBL_NAME.  All tables that are to be combined _must_ have
     identical structure (same column names and types, same indexes, and
     so forth).

     BIG_TBL_NAME must not exist prior to the join operation.  All
     source tables named on the command line to be merged into
     BIG_TBL_NAME must exist.  The source tables are read for the join
     operation but not modified.

   * 
     '--silent', '-s'

     Silent mode.  Write output only when errors occur.

   * 
     '--test', '-t'

     Do not actually pack the table, just test packing it.

   * 
     '--tmpdir=DIR_NAME', '-T DIR_NAME'

     Use the named directory as the location where *note 'myisampack':
     myisampack. creates temporary files.

   * 
     '--verbose', '-v'

     Verbose mode.  Write information about the progress of the packing
     operation and its result.

   * 
     '--version', '-V'

     Display version information and exit.

   * 
     '--wait', '-w'

     Wait and retry if the table is in use.  If the *note 'mysqld':
     mysqld. server was invoked with external locking disabled, it is
     not a good idea to invoke *note 'myisampack': myisampack. if the
     table might be updated by the server during the packing process.

The following sequence of commands illustrates a typical table
compression session:

     shell> ls -l station.*
     -rw-rw-r--   1 jones    my         994128 Apr 17 19:00 station.MYD
     -rw-rw-r--   1 jones    my          53248 Apr 17 19:00 station.MYI
     -rw-rw-r--   1 jones    my           5767 Apr 17 19:00 station.frm

     shell> myisamchk -dvv station

     MyISAM file:     station
     Isam-version:  2
     Creation time: 1996-03-13 10:08:58
     Recover time:  1997-02-02  3:06:43
     Data records:              1192  Deleted blocks:              0
     Datafile parts:            1192  Deleted data:                0
     Datafile pointer (bytes):     2  Keyfile pointer (bytes):     2
     Max datafile length:   54657023  Max keyfile length:   33554431
     Recordlength:               834
     Record format: Fixed length

     table description:
     Key Start Len Index   Type                 Root  Blocksize    Rec/key
     1   2     4   unique  unsigned long        1024       1024          1
     2   32    30  multip. text                10240       1024          1

     Field Start Length Type
     1     1     1
     2     2     4
     3     6     4
     4     10    1
     5     11    20
     6     31    1
     7     32    30
     8     62    35
     9     97    35
     10    132   35
     11    167   4
     12    171   16
     13    187   35
     14    222   4
     15    226   16
     16    242   20
     17    262   20
     18    282   20
     19    302   30
     20    332   4
     21    336   4
     22    340   1
     23    341   8
     24    349   8
     25    357   8
     26    365   2
     27    367   2
     28    369   4
     29    373   4
     30    377   1
     31    378   2
     32    380   8
     33    388   4
     34    392   4
     35    396   4
     36    400   4
     37    404   1
     38    405   4
     39    409   4
     40    413   4
     41    417   4
     42    421   4
     43    425   4
     44    429   20
     45    449   30
     46    479   1
     47    480   1
     48    481   79
     49    560   79
     50    639   79
     51    718   79
     52    797   8
     53    805   1
     54    806   1
     55    807   20
     56    827   4
     57    831   4

     shell> myisampack station.MYI
     Compressing station.MYI: (1192 records)
     - Calculating statistics

     normal:     20  empty-space:   16  empty-zero:     12  empty-fill:  11
     pre-space:   0  end-space:     12  table-lookups:   5  zero:         7
     Original trees:  57  After join: 17
     - Compressing file
     87.14%
     Remember to run myisamchk -rq on compressed tables

     shell> myisamchk -rq station
     - check record delete-chain
     - recovering (with sort) MyISAM-table 'station'
     Data records: 1192
     - Fixing index 1
     - Fixing index 2

     shell> mysqladmin -uroot flush-tables

     shell> ls -l station.*
     -rw-rw-r--   1 jones    my         127874 Apr 17 19:00 station.MYD
     -rw-rw-r--   1 jones    my          55296 Apr 17 19:04 station.MYI
     -rw-rw-r--   1 jones    my           5767 Apr 17 19:00 station.frm

     shell> myisamchk -dvv station

     MyISAM file:     station
     Isam-version:  2
     Creation time: 1996-03-13 10:08:58
     Recover time:  1997-04-17 19:04:26
     Data records:               1192  Deleted blocks:              0
     Datafile parts:             1192  Deleted data:                0
     Datafile pointer (bytes):      3  Keyfile pointer (bytes):     1
     Max datafile length:    16777215  Max keyfile length:     131071
     Recordlength:                834
     Record format: Compressed

     table description:
     Key Start Len Index   Type                 Root  Blocksize    Rec/key
     1   2     4   unique  unsigned long       10240       1024          1
     2   32    30  multip. text                54272       1024          1

     Field Start Length Type                         Huff tree  Bits
     1     1     1      constant                             1     0
     2     2     4      zerofill(1)                          2     9
     3     6     4      no zeros, zerofill(1)                2     9
     4     10    1                                           3     9
     5     11    20     table-lookup                         4     0
     6     31    1                                           3     9
     7     32    30     no endspace, not_always              5     9
     8     62    35     no endspace, not_always, no empty    6     9
     9     97    35     no empty                             7     9
     10    132   35     no endspace, not_always, no empty    6     9
     11    167   4      zerofill(1)                          2     9
     12    171   16     no endspace, not_always, no empty    5     9
     13    187   35     no endspace, not_always, no empty    6     9
     14    222   4      zerofill(1)                          2     9
     15    226   16     no endspace, not_always, no empty    5     9
     16    242   20     no endspace, not_always              8     9
     17    262   20     no endspace, no empty                8     9
     18    282   20     no endspace, no empty                5     9
     19    302   30     no endspace, no empty                6     9
     20    332   4      always zero                          2     9
     21    336   4      always zero                          2     9
     22    340   1                                           3     9
     23    341   8      table-lookup                         9     0
     24    349   8      table-lookup                        10     0
     25    357   8      always zero                          2     9
     26    365   2                                           2     9
     27    367   2      no zeros, zerofill(1)                2     9
     28    369   4      no zeros, zerofill(1)                2     9
     29    373   4      table-lookup                        11     0
     30    377   1                                           3     9
     31    378   2      no zeros, zerofill(1)                2     9
     32    380   8      no zeros                             2     9
     33    388   4      always zero                          2     9
     34    392   4      table-lookup                        12     0
     35    396   4      no zeros, zerofill(1)               13     9
     36    400   4      no zeros, zerofill(1)                2     9
     37    404   1                                           2     9
     38    405   4      no zeros                             2     9
     39    409   4      always zero                          2     9
     40    413   4      no zeros                             2     9
     41    417   4      always zero                          2     9
     42    421   4      no zeros                             2     9
     43    425   4      always zero                          2     9
     44    429   20     no empty                             3     9
     45    449   30     no empty                             3     9
     46    479   1                                          14     4
     47    480   1                                          14     4
     48    481   79     no endspace, no empty               15     9
     49    560   79     no empty                             2     9
     50    639   79     no empty                             2     9
     51    718   79     no endspace                         16     9
     52    797   8      no empty                             2     9
     53    805   1                                          17     1
     54    806   1                                           3     9
     55    807   20     no empty                             3     9
     56    827   4      no zeros, zerofill(2)                2     9
     57    831   4      no zeros, zerofill(1)                2     9

*note 'myisampack': myisampack. displays the following kinds of
information:

   * 'normal'

     The number of columns for which no extra packing is used.

   * 'empty-space'

     The number of columns containing values that are only spaces.
     These occupy one bit.

   * 'empty-zero'

     The number of columns containing values that are only binary zeros.
     These occupy one bit.

   * 'empty-fill'

     The number of integer columns that do not occupy the full byte
     range of their type.  These are changed to a smaller type.  For
     example, a *note 'BIGINT': integer-types. column (eight bytes) can
     be stored as a *note 'TINYINT': integer-types. column (one byte) if
     all its values are in the range from '-128' to '127'.

   * 'pre-space'

     The number of decimal columns that are stored with leading spaces.
     In this case, each value contains a count for the number of leading
     spaces.

   * 'end-space'

     The number of columns that have a lot of trailing spaces.  In this
     case, each value contains a count for the number of trailing
     spaces.

   * 'table-lookup'

     The column had only a small number of different values, which were
     converted to an *note 'ENUM': enum. before Huffman compression.

   * 'zero'

     The number of columns for which all values are zero.

   * 'Original trees'

     The initial number of Huffman trees.

   * 'After join'

     The number of distinct Huffman trees left after joining trees to
     save some header space.

After a table has been compressed, the 'Field' lines displayed by *note
'myisamchk -dvv': myisamchk. include additional information about each
column:

   * 'Type'

     The data type.  The value may contain any of the following
     descriptors:

        * 'constant'

          All rows have the same value.

        * 'no endspace'

          Do not store endspace.

        * 'no endspace, not_always'

          Do not store endspace and do not do endspace compression for
          all values.

        * 'no endspace, no empty'

          Do not store endspace.  Do not store empty values.

        * 'table-lookup'

          The column was converted to an *note 'ENUM': enum.

        * 'zerofill(N)'

          The most significant N bytes in the value are always 0 and are
          not stored.

        * 'no zeros'

          Do not store zeros.

        * 'always zero'

          Zero values are stored using one bit.

   * 'Huff tree'

     The number of the Huffman tree associated with the column.

   * 'Bits'

     The number of bits used in the Huffman tree.

After you run *note 'myisampack': myisampack, use *note 'myisamchk':
myisamchk. to re-create any indexes.  At this time, you can also sort
the index blocks and create statistics needed for the MySQL optimizer to
work more efficiently:

     shell> myisamchk -rq --sort-index --analyze TBL_NAME.MYI

After you have installed the packed table into the MySQL database
directory, you should execute *note 'mysqladmin flush-tables':
mysqladmin. to force *note 'mysqld': mysqld. to start using the new
table.

To unpack a packed table, use the '--unpack' option to *note
'myisamchk': myisamchk.


File: manual.info.tmp,  Node: mysqlaccess,  Next: mysqlbinlog,  Prev: myisampack,  Up: programs-admin-utils

4.6.6 'mysqlaccess' -- Client for Checking Access Privileges
------------------------------------------------------------

*note 'mysqlaccess': mysqlaccess. is a diagnostic tool that Yves Carlier
has provided for the MySQL distribution.  It checks the access
privileges for a host name, user name, and database combination.  *note
'mysqlaccess': mysqlaccess. checks access using only the 'user', 'db',
and 'host' tables.  It does not check table, column, or routine
privileges specified in the 'tables_priv', 'columns_priv', or
'procs_priv' tables.

Invoke *note 'mysqlaccess': mysqlaccess. like this:

     shell> mysqlaccess [HOST_NAME [USER_NAME [DB_NAME]]] [OPTIONS]

When *note 'mysqlaccess': mysqlaccess. runs, it loads and executes the
contents of its configuration file, 'mysqlaccess.conf'.  *note
'mysqlaccess': mysqlaccess. looks for the configuration file in these
locations, in order:

   * The directory named by the 'SYSCONFDIR' option to 'CMake' when
     MySQL was built.  By default, this is the 'etc' directory located
     under the compiled-in installation directory.

   * The '/etc' directory.

*note 'mysqlaccess': mysqlaccess. supports the options shown in the
following table.

*mysqlaccess Options*

Option Name               Description
                          
-brief                    Generate reports in single-line tabular
                          format
                          
-commit                   Copy the new access privileges from the
                          temporary tables to the original grant
                          tables
                          
-copy                     Reload the temporary grant tables from
                          original ones
                          
-db                       Specify the database name
                          
-debug                    Specify the debug level
                          
-help                     Display help message and exit
                          
-host                     Host on which MySQL server is located
                          
-howto                    Display some examples that show how to use
                          mysqlaccess
                          
-old_server               Assume that the server is an old MySQL
                          server (prior to MySQL 3.21)
                          
-password                 Password to use when connecting to server
                          
-plan                     Display suggestions and ideas for future
                          releases
                          
-preview                  Show the privilege differences after making
                          changes to the temporary grant tables
                          
-relnotes                 Display release notes
                          
-rhost                    Host on which MySQL server is located
                          
-rollback                 Undo the most recent changes to the
                          temporary grant tables
                          
-spassword                Password to use when connecting to server as
                          the superuser
                          
-superuser                Specify the user name for connecting as the
                          superuser
                          
-table                    Generate reports in table format
                          
-user                     MySQL user name to use when connecting to
                          server
                          
-version                  Display version information and exit

   * 
     '--help', '-?'

     Display a help message and exit.

   * 
     '--brief', '-b'

     Generate reports in single-line tabular format.

   * 
     '--commit'

     Copy the new access privileges from the temporary tables to the
     original grant tables.  The grant tables must be flushed for the
     new privileges to take effect.  (For example, execute a *note
     'mysqladmin reload': mysqladmin. command.)

   * 
     '--copy'

     Reload the temporary grant tables from original ones.

   * 
     '--db=DB_NAME', '-d DB_NAME'

     Specify the database name.

   * 
     '--debug=N'

     Specify the debug level.  N can be an integer from 0 to 3.

   * 
     '--host=HOST_NAME', '-h HOST_NAME'

     The host name to use in the access privileges.

   * 
     '--howto'

     Display some examples that show how to use *note 'mysqlaccess':
     mysqlaccess.

   * 
     '--old_server'

     Assume that the server is an old MySQL server (before MySQL 3.21)
     that does not yet know how to handle full 'WHERE' clauses.

   * 
     '--password[=PASSWORD]', '-p[PASSWORD]'

     The password to use when connecting to the server.  If you omit the
     PASSWORD value following the '--password' or '-p' option on the
     command line, *note 'mysqlaccess': mysqlaccess. prompts for one.

     Specifying a password on the command line should be considered
     insecure.  See *note password-security-user::.

   * 
     '--plan'

     Display suggestions and ideas for future releases.

   * 
     '--preview'

     Show the privilege differences after making changes to the
     temporary grant tables.

   * 
     '--relnotes'

     Display the release notes.

   * 
     '--rhost=HOST_NAME', '-H HOST_NAME'

     Connect to the MySQL server on the given host.

   * 
     '--rollback'

     Undo the most recent changes to the temporary grant tables.

   * 
     '--spassword[=PASSWORD]', '-P[PASSWORD]'

     The password to use when connecting to the server as the superuser.
     If you omit the PASSWORD value following the '--spassword' or '-p'
     option on the command line, *note 'mysqlaccess': mysqlaccess.
     prompts for one.

     Specifying a password on the command line should be considered
     insecure.  See *note password-security-user::.

   * 
     '--superuser=USER_NAME', '-U USER_NAME'

     Specify the user name for connecting as the superuser.

   * 
     '--table', '-t'

     Generate reports in table format.

   * 
     '--user=USER_NAME', '-u USER_NAME'

     The user name to use in the access privileges.

   * 
     '--version', '-v'

     Display version information and exit.

If your MySQL distribution is installed in some nonstandard location,
you must change the location where *note 'mysqlaccess': mysqlaccess.
expects to find the *note 'mysql': mysql. client.  Edit the
'mysqlaccess' script at approximately line 18.  Search for a line that
looks like this:

     $MYSQL     = '/usr/local/bin/mysql';    # path to mysql executable

Change the path to reflect the location where *note 'mysql': mysql.
actually is stored on your system.  If you do not do this, a 'Broken
pipe' error will occur when you run *note 'mysqlaccess': mysqlaccess.


File: manual.info.tmp,  Node: mysqlbinlog,  Next: mysqldumpslow,  Prev: mysqlaccess,  Up: programs-admin-utils

4.6.7 'mysqlbinlog' -- Utility for Processing Binary Log Files
--------------------------------------------------------------

* Menu:

* mysqlbinlog-hexdump::          mysqlbinlog Hex Dump Format
* mysqlbinlog-row-events::       mysqlbinlog Row Event Display

The server's binary log consists of files containing 'events' that
describe modifications to database contents.  The server writes these
files in binary format.  To display their contents in text format, use
the *note 'mysqlbinlog': mysqlbinlog. utility.  You can also use *note
'mysqlbinlog': mysqlbinlog. to display the contents of relay log files
written by a slave server in a replication setup because relay logs have
the same format as binary logs.  The binary log and relay log are
discussed further in *note binary-log::, and *note slave-logs::.

Invoke *note 'mysqlbinlog': mysqlbinlog. like this:

     shell> mysqlbinlog [OPTIONS] LOG_FILE ...

For example, to display the contents of the binary log file named
'binlog.000003', use this command:

     shell> mysqlbinlog binlog.0000003

The output includes events contained in 'binlog.000003'.  For
statement-based logging, event information includes the SQL statement,
the ID of the server on which it was executed, the timestamp when the
statement was executed, how much time it took, and so forth.  For
row-based logging, the event indicates a row change rather than an SQL
statement.  See *note replication-formats::, for information about
logging modes.

Events are preceded by header comments that provide additional
information.  For example:

     # at 141
     #100309  9:28:36 server id 123  end_log_pos 245
       Query thread_id=3350  exec_time=11  error_code=0

In the first line, the number following 'at' indicates the file offset,
or starting position, of the event in the binary log file.

The second line starts with a date and time indicating when the
statement started on the server where the event originated.  For
replication, this timestamp is propagated to slave servers.  'server id'
is the 'server_id' value of the server where the event originated.
'end_log_pos' indicates where the next event starts (that is, it is the
end position of the current event + 1).  'thread_id' indicates which
thread executed the event.  'exec_time' is the time spent executing the
event, on a master server.  On a slave, it is the difference of the end
execution time on the slave minus the beginning execution time on the
master.  The difference serves as an indicator of how much replication
lags behind the master.  'error_code' indicates the result from
executing the event.  Zero means that no error occurred.

*Note*:

When using event groups, the file offsets of events may be grouped
together and the comments of events may be grouped together.  Do not
mistake these grouped events for blank file offsets.

The output from *note 'mysqlbinlog': mysqlbinlog. can be re-executed
(for example, by using it as input to *note 'mysql': mysql.) to redo the
statements in the log.  This is useful for recovery operations after a
server crash.  For other usage examples, see the discussion later in
this section and in *note point-in-time-recovery::.

Normally, you use *note 'mysqlbinlog': mysqlbinlog. to read binary log
files directly and apply them to the local MySQL server.  It is also
possible to read binary logs from a remote server by using the
'--read-from-remote-server' option.  To read remote binary logs, the
connection parameter options can be given to indicate how to connect to
the server.  These options are '--host', '--password', '--port',
'--protocol', '--socket', and '--user'; they are ignored except when you
also use the '--read-from-remote-server' option.

When running *note 'mysqlbinlog': mysqlbinlog. against a large binary
log, be careful that the filesystem has enough space for the resulting
files.  To configure the directory that *note 'mysqlbinlog':
mysqlbinlog. uses for temporary files, use the 'TMPDIR' environment
variable.

*note 'mysqlbinlog': mysqlbinlog. supports the following options, which
can be specified on the command line or in the '[mysqlbinlog]' and
'[client]' groups of an option file.  For information about option files
used by MySQL programs, see *note option-files::.

*mysqlbinlog Options*

Option Name         Description                          IntroducedRemoved
                                                                  
-base64-output      Print binary log entries using                
                    base-64 encoding
                    
-character-sets-dir Directory where character sets are            
                    installed
                    
-database           List entries for just this                    
                    database
                    
-debug              Write debugging log                           
                    
-debug-check        Print debugging information when              
                    program exits
                    
-debug-info         Print debugging information,                  
                    memory, and CPU statistics when
                    program exits
                    
-default-auth       Authentication plugin to use         5.5.10   
                                                         
-defaults-extra-fileRead named option file in addition            
                    to usual option files
                    
-defaults-file      Read only named option file                   
                    
-defaults-group-suffixOption group suffix value                   
                    
-disable-log-bin    Disable binary logging                        
                    
-force-if-open      Read binary log files even if open            
                    or not closed properly
                    
-force-read         If mysqlbinlog reads a binary log             
                    event that it does not recognize,
                    it prints a warning
                    
-help               Display help message and exit                 
                    
-hexdump            Display a hex dump of the log in              
                    comments
                    
-host               Host on which MySQL server is                 
                    located
                    
-local-load         Prepare local temporary files for             
                    LOAD DATA in the specified
                    directory
                    
-no-defaults        Read no option files                          
                    
-offset             Skip the first N entries in the               
                    log
                    
open_files_limit    Specify the number of open file               
                    descriptors to reserve
                    
-password           Password to use when connecting to            
                    server
                    
-plugin-dir         Directory where plugins are          5.5.10   
                    installed                            
                    
-port               TCP/IP port number for connection             
                    
-position           Deprecated.  Use -start-position              5.5.3
                                                                  
-print-defaults     Print default options                         
                    
-protocol           Connection protocol to use                    
                    
-read-from-remote-serverRead binary log from MySQL server         
                    rather than local log file
                    
-result-file        Direct output to named file                   
                    
-server-id          Extract only those events created             
                    by the server having the given
                    server ID
                    
-server-id-bits     Tell mysqlbinlog how to interpret             
                    server IDs in binary log when log
                    was written by a mysqld having its
                    server-id-bits set to less than
                    the maximum; supported only by
                    MySQL Cluster version of
                    mysqlbinlog
                    
-set-charset        Add a SET NAMES charset_name                  
                    statement to the output
                    
-shared-memory-base-nameName of shared memory to use for          
                    shared-memory connections
                    
-short-form         Display only the statements                   
                    contained in the log
                    
-socket             Unix socket file or Windows named             
                    pipe to use
                    
-ssl-mode           Desired security state of            5.5.49   
                    connection to server                 
                    
-start-datetime     Read binary log from first event              
                    with timestamp equal to or later
                    than datetime argument
                    
-start-position     Read binary log from first event              
                    with position equal to or greater
                    than argument
                    
-stop-datetime      Stop reading binary log at first              
                    event with timestamp equal to or
                    greater than datetime argument
                    
-stop-position      Stop reading binary log at first              
                    event with position equal to or
                    greater than argument
                    
-to-last-log        Do not stop at the end of                     
                    requested binary log from a MySQL
                    server, but rather continue
                    printing to end of last binary log
                    
-user               MySQL user name to use when                   
                    connecting to server
                    
-verbose            Reconstruct row events as SQL                 
                    statements
                    
-version            Display version information and      
                    exit
                    

   * 
     '--help', '-?'

     Display a help message and exit.

   * 
     '--base64-output[=VALUE]'

     This option determines when events should be displayed encoded as
     base-64 strings using *note 'BINLOG': binlog. statements.  The
     option has these permissible values (not case-sensitive):

        * 'AUTO' ("automatic") or 'UNSPEC' ("unspecified") displays
          *note 'BINLOG': binlog. statements automatically when
          necessary (that is, for format description events and row
          events).  If no '--base64-output' option is given, the effect
          is the same as '--base64-output=AUTO'.

          *Note*:

          Automatic *note 'BINLOG': binlog. display is the only safe
          behavior if you intend to use the output of *note
          'mysqlbinlog': mysqlbinlog. to re-execute binary log file
          contents.  The other option values are intended only for
          debugging or testing purposes because they may produce output
          that does not include all events in executable form.

        * 'ALWAYS' displays *note 'BINLOG': binlog. statements whenever
          possible.  If the '--base64-output' option is given without a
          value, the effect is the same as '--base64-output=ALWAYS'.

          *Note*:

          Changes to replication in MySQL 5.6 make output generated by
          this option unusable, so 'ALWAYS' is deprecated in MySQL 5.5
          and will be an invalid value in MySQL 5.6

        * 'NEVER' causes *note 'BINLOG': binlog. statements not to be
          displayed.  *note 'mysqlbinlog': mysqlbinlog. exits with an
          error if a row event is found that mus
